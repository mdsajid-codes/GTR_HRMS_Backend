function _mergeNamespaces(e,t){for(var n=0;n<t.length;n++){const o=t[n];if(typeof o!="string"&&!Array.isArray(o)){for(const l in o)if(l!=="default"&&!(l in e)){const u=Object.getOwnPropertyDescriptor(o,l);u&&Object.defineProperty(e,l,u.get?u:{enumerable:!0,get:()=>o[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const m of u.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(o,l,u){var m=null;if(u!==void 0&&(m=""+u),l.key!==void 0&&(m=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:e,type:o,key:m,ref:l!==void 0?l:null,props:u}}return reactJsxRuntime_production.Fragment=t,reactJsxRuntime_production.jsx=n,reactJsxRuntime_production.jsxs=n,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.iterator;function R(H){return H===null||typeof H!="object"?null:(H=b&&H[b]||H["@@iterator"],typeof H=="function"?H:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,S={};function $(H,te,Y){this.props=H,this.context=te,this.refs=S,this.updater=Y||v}$.prototype.isReactComponent={},$.prototype.setState=function(H,te){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,te,"setState")},$.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function C(){}C.prototype=$.prototype;function A(H,te,Y){this.props=H,this.context=te,this.refs=S,this.updater=Y||v}var T=A.prototype=new C;T.constructor=A,N(T,$.prototype),T.isPureReactComponent=!0;var D=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function _(H,te,Y,le,je,ae){return Y=ae.ref,{$$typeof:e,type:H,key:te,ref:Y!==void 0?Y:null,props:ae}}function M(H,te){return _(H.type,te,void 0,void 0,void 0,H.props)}function F(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function B(H){var te={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(Y){return te[Y]})}var q=/\/+/g;function z(H,te){return typeof H=="object"&&H!==null&&H.key!=null?B(""+H.key):te.toString(36)}function V(){}function Q(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(V,V):(H.status="pending",H.then(function(te){H.status==="pending"&&(H.status="fulfilled",H.value=te)},function(te){H.status==="pending"&&(H.status="rejected",H.reason=te)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function ee(H,te,Y,le,je){var ae=typeof H;(ae==="undefined"||ae==="boolean")&&(H=null);var Z=!1;if(H===null)Z=!0;else switch(ae){case"bigint":case"string":case"number":Z=!0;break;case"object":switch(H.$$typeof){case e:case t:Z=!0;break;case g:return Z=H._init,ee(Z(H._payload),te,Y,le,je)}}if(Z)return je=je(H),Z=le===""?"."+z(H,0):le,D(je)?(Y="",Z!=null&&(Y=Z.replace(q,"$&/")+"/"),ee(je,te,Y,"",function(me){return me})):je!=null&&(F(je)&&(je=M(je,Y+(je.key==null||H&&H.key===je.key?"":(""+je.key).replace(q,"$&/")+"/")+Z)),te.push(je)),1;Z=0;var ce=le===""?".":le+":";if(D(H))for(var oe=0;oe<H.length;oe++)le=H[oe],ae=ce+z(le,oe),Z+=ee(le,te,Y,ae,je);else if(oe=R(H),typeof oe=="function")for(H=oe.call(H),oe=0;!(le=H.next()).done;)le=le.value,ae=ce+z(le,oe++),Z+=ee(le,te,Y,ae,je);else if(ae==="object"){if(typeof H.then=="function")return ee(Q(H),te,Y,le,je);throw te=String(H),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Z}function G(H,te,Y){if(H==null)return H;var le=[],je=0;return ee(H,le,"","",function(ae){return te.call(Y,ae,je++)}),le}function K(H){if(H._status===-1){var te=H._result;te=te(),te.then(function(Y){(H._status===0||H._status===-1)&&(H._status=1,H._result=Y)},function(Y){(H._status===0||H._status===-1)&&(H._status=2,H._result=Y)}),H._status===-1&&(H._status=0,H._result=te)}if(H._status===1)return H._result.default;throw H._result}var J=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function ne(){}return react_production.Children={map:G,forEach:function(H,te,Y){G(H,function(){te.apply(this,arguments)},Y)},count:function(H){var te=0;return G(H,function(){te++}),te},toArray:function(H){return G(H,function(te){return te})||[]},only:function(H){if(!F(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},react_production.Component=$,react_production.Fragment=n,react_production.Profiler=l,react_production.PureComponent=A,react_production.StrictMode=o,react_production.Suspense=j,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(H){return I.H.useMemoCache(H)}},react_production.cache=function(H){return function(){return H.apply(null,arguments)}},react_production.cloneElement=function(H,te,Y){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var le=N({},H.props),je=H.key,ae=void 0;if(te!=null)for(Z in te.ref!==void 0&&(ae=void 0),te.key!==void 0&&(je=""+te.key),te)!L.call(te,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&te.ref===void 0||(le[Z]=te[Z]);var Z=arguments.length-2;if(Z===1)le.children=Y;else if(1<Z){for(var ce=Array(Z),oe=0;oe<Z;oe++)ce[oe]=arguments[oe+2];le.children=ce}return _(H.type,je,void 0,void 0,ae,le)},react_production.createContext=function(H){return H={$$typeof:m,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:u,_context:H},H},react_production.createElement=function(H,te,Y){var le,je={},ae=null;if(te!=null)for(le in te.key!==void 0&&(ae=""+te.key),te)L.call(te,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(je[le]=te[le]);var Z=arguments.length-2;if(Z===1)je.children=Y;else if(1<Z){for(var ce=Array(Z),oe=0;oe<Z;oe++)ce[oe]=arguments[oe+2];je.children=ce}if(H&&H.defaultProps)for(le in Z=H.defaultProps,Z)je[le]===void 0&&(je[le]=Z[le]);return _(H,ae,void 0,void 0,null,je)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(H){return{$$typeof:p,render:H}},react_production.isValidElement=F,react_production.lazy=function(H){return{$$typeof:g,_payload:{_status:-1,_result:H},_init:K}},react_production.memo=function(H,te){return{$$typeof:f,type:H,compare:te===void 0?null:te}},react_production.startTransition=function(H){var te=I.T,Y={};I.T=Y;try{var le=H(),je=I.S;je!==null&&je(Y,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(ne,J)}catch(ae){J(ae)}finally{I.T=te}},react_production.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},react_production.use=function(H){return I.H.use(H)},react_production.useActionState=function(H,te,Y){return I.H.useActionState(H,te,Y)},react_production.useCallback=function(H,te){return I.H.useCallback(H,te)},react_production.useContext=function(H){return I.H.useContext(H)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(H,te){return I.H.useDeferredValue(H,te)},react_production.useEffect=function(H,te,Y){var le=I.H;if(typeof Y=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(H,te)},react_production.useId=function(){return I.H.useId()},react_production.useImperativeHandle=function(H,te,Y){return I.H.useImperativeHandle(H,te,Y)},react_production.useInsertionEffect=function(H,te){return I.H.useInsertionEffect(H,te)},react_production.useLayoutEffect=function(H,te){return I.H.useLayoutEffect(H,te)},react_production.useMemo=function(H,te){return I.H.useMemo(H,te)},react_production.useOptimistic=function(H,te){return I.H.useOptimistic(H,te)},react_production.useReducer=function(H,te,Y){return I.H.useReducer(H,te,Y)},react_production.useRef=function(H){return I.H.useRef(H)},react_production.useState=function(H){return I.H.useState(H)},react_production.useSyncExternalStore=function(H,te,Y){return I.H.useSyncExternalStore(H,te,Y)},react_production.useTransition=function(){return I.H.useTransition()},react_production.version="19.1.1",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(e){function t(G,K){var J=G.length;G.push(K);e:for(;0<J;){var ne=J-1>>>1,H=G[ne];if(0<l(H,K))G[ne]=K,G[J]=H,J=ne;else break e}}function n(G){return G.length===0?null:G[0]}function o(G){if(G.length===0)return null;var K=G[0],J=G.pop();if(J!==K){G[0]=J;e:for(var ne=0,H=G.length,te=H>>>1;ne<te;){var Y=2*(ne+1)-1,le=G[Y],je=Y+1,ae=G[je];if(0>l(le,J))je<H&&0>l(ae,le)?(G[ne]=ae,G[je]=J,ne=je):(G[ne]=le,G[Y]=J,ne=Y);else if(je<H&&0>l(ae,J))G[ne]=ae,G[je]=J,ne=je;else break e}}return K}function l(G,K){var J=G.sortIndex-K.sortIndex;return J!==0?J:G.id-K.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var m=Date,p=m.now();e.unstable_now=function(){return m.now()-p}}var j=[],f=[],g=1,b=null,R=3,v=!1,N=!1,S=!1,$=!1,C=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function D(G){for(var K=n(f);K!==null;){if(K.callback===null)o(f);else if(K.startTime<=G)o(f),K.sortIndex=K.expirationTime,t(j,K);else break;K=n(f)}}function I(G){if(S=!1,D(G),!N)if(n(j)!==null)N=!0,L||(L=!0,z());else{var K=n(f);K!==null&&ee(I,K.startTime-G)}}var L=!1,_=-1,M=5,F=-1;function B(){return $?!0:!(e.unstable_now()-F<M)}function q(){if($=!1,L){var G=e.unstable_now();F=G;var K=!0;try{e:{N=!1,S&&(S=!1,A(_),_=-1),v=!0;var J=R;try{t:{for(D(G),b=n(j);b!==null&&!(b.expirationTime>G&&B());){var ne=b.callback;if(typeof ne=="function"){b.callback=null,R=b.priorityLevel;var H=ne(b.expirationTime<=G);if(G=e.unstable_now(),typeof H=="function"){b.callback=H,D(G),K=!0;break t}b===n(j)&&o(j),D(G)}else o(j);b=n(j)}if(b!==null)K=!0;else{var te=n(f);te!==null&&ee(I,te.startTime-G),K=!1}}break e}finally{b=null,R=J,v=!1}K=void 0}}finally{K?z():L=!1}}}var z;if(typeof T=="function")z=function(){T(q)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Q=V.port2;V.port1.onmessage=q,z=function(){Q.postMessage(null)}}else z=function(){C(q,0)};function ee(G,K){_=C(function(){G(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return R},e.unstable_next=function(G){switch(R){case 1:case 2:case 3:var K=3;break;default:K=R}var J=R;R=K;try{return G()}finally{R=J}},e.unstable_requestPaint=function(){$=!0},e.unstable_runWithPriority=function(G,K){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var J=R;R=G;try{return K()}finally{R=J}},e.unstable_scheduleCallback=function(G,K,J){var ne=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ne+J:ne):J=ne,G){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=J+H,G={id:g++,callback:K,priorityLevel:G,startTime:J,expirationTime:H,sortIndex:-1},J>ne?(G.sortIndex=J,t(f,G),n(j)===null&&G===n(f)&&(S?(A(_),_=-1):S=!0,ee(I,J-ne))):(G.sortIndex=H,t(j,G),N||v||(N=!0,L||(L=!0,z()))),G},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(G){var K=R;return function(){var J=R;R=K;try{return G.apply(this,arguments)}finally{R=J}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var e=requireReact();function t(j){var f="https://react.dev/errors/"+j;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+j+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var o={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(j,f,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:j,containerInfo:f,implementation:g}}var m=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(j,f){if(j==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,reactDom_production.createPortal=function(j,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return u(j,f,null,g)},reactDom_production.flushSync=function(j){var f=m.T,g=o.p;try{if(m.T=null,o.p=2,j)return j()}finally{m.T=f,o.p=g,o.d.f()}},reactDom_production.preconnect=function(j,f){typeof j=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,o.d.C(j,f))},reactDom_production.prefetchDNS=function(j){typeof j=="string"&&o.d.D(j)},reactDom_production.preinit=function(j,f){if(typeof j=="string"&&f&&typeof f.as=="string"){var g=f.as,b=p(g,f.crossOrigin),R=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?o.d.S(j,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:b,integrity:R,fetchPriority:v}):g==="script"&&o.d.X(j,{crossOrigin:b,integrity:R,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},reactDom_production.preinitModule=function(j,f){if(typeof j=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=p(f.as,f.crossOrigin);o.d.M(j,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&o.d.M(j)},reactDom_production.preload=function(j,f){if(typeof j=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,b=p(g,f.crossOrigin);o.d.L(j,g,{crossOrigin:b,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},reactDom_production.preloadModule=function(j,f){if(typeof j=="string")if(f){var g=p(f.as,f.crossOrigin);o.d.m(j,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else o.d.m(j)},reactDom_production.requestFormReset=function(j){o.d.r(j)},reactDom_production.unstable_batchedUpdates=function(j,f){return j(f)},reactDom_production.useFormState=function(j,f,g){return m.H.useFormState(j,f,g)},reactDom_production.useFormStatus=function(){return m.H.useHostTransitionStatus()},reactDom_production.version="19.1.1",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),reactDom.exports=requireReactDom_production(),reactDom.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var e=requireScheduler(),t=requireReact(),n=requireReactDom();function o(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)h+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function u(d){var h=d,E=d;if(d.alternate)for(;h.return;)h=h.return;else{d=h;do h=d,(h.flags&4098)!==0&&(E=h.return),d=h.return;while(d)}return h.tag===3?E:null}function m(d){if(d.tag===13){var h=d.memoizedState;if(h===null&&(d=d.alternate,d!==null&&(h=d.memoizedState)),h!==null)return h.dehydrated}return null}function p(d){if(u(d)!==d)throw Error(o(188))}function j(d){var h=d.alternate;if(!h){if(h=u(d),h===null)throw Error(o(188));return h!==d?null:d}for(var E=d,w=h;;){var O=E.return;if(O===null)break;var U=O.alternate;if(U===null){if(w=O.return,w!==null){E=w;continue}break}if(O.child===U.child){for(U=O.child;U;){if(U===E)return p(O),d;if(U===w)return p(O),h;U=U.sibling}throw Error(o(188))}if(E.return!==w.return)E=O,w=U;else{for(var W=!1,se=O.child;se;){if(se===E){W=!0,E=O,w=U;break}if(se===w){W=!0,w=O,E=U;break}se=se.sibling}if(!W){for(se=U.child;se;){if(se===E){W=!0,E=U,w=O;break}if(se===w){W=!0,w=U,E=O;break}se=se.sibling}if(!W)throw Error(o(189))}}if(E.alternate!==w)throw Error(o(190))}if(E.tag!==3)throw Error(o(188));return E.stateNode.current===E?d:h}function f(d){var h=d.tag;if(h===5||h===26||h===27||h===6)return d;for(d=d.child;d!==null;){if(h=f(d),h!==null)return h;d=d.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),T=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function z(d){return d===null||typeof d!="object"?null:(d=q&&d[q]||d["@@iterator"],typeof d=="function"?d:null)}var V=Symbol.for("react.client.reference");function Q(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===V?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case N:return"Fragment";case $:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case L:return"SuspenseList";case F:return"Activity"}if(typeof d=="object")switch(d.$$typeof){case v:return"Portal";case T:return(d.displayName||"Context")+".Provider";case A:return(d._context.displayName||"Context")+".Consumer";case D:var h=d.render;return d=d.displayName,d||(d=h.displayName||h.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case _:return h=d.displayName||null,h!==null?h:Q(d.type)||"Memo";case M:h=d._payload,d=d._init;try{return Q(d(h))}catch{}}return null}var ee=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},ne=[],H=-1;function te(d){return{current:d}}function Y(d){0>H||(d.current=ne[H],ne[H]=null,H--)}function le(d,h){H++,ne[H]=d.current,d.current=h}var je=te(null),ae=te(null),Z=te(null),ce=te(null);function oe(d,h){switch(le(Z,h),le(ae,d),le(je,null),h.nodeType){case 9:case 11:d=(d=h.documentElement)&&(d=d.namespaceURI)?_x(d):0;break;default:if(d=h.tagName,h=h.namespaceURI)h=_x(h),d=Ox(h,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}Y(je),le(je,d)}function me(){Y(je),Y(ae),Y(Z)}function fe(d){d.memoizedState!==null&&le(ce,d);var h=je.current,E=Ox(h,d.type);h!==E&&(le(ae,d),le(je,E))}function xe(d){ae.current===d&&(Y(je),Y(ae)),ce.current===d&&(Y(ce),La._currentValue=J)}var ge=Object.prototype.hasOwnProperty,Ce=e.unstable_scheduleCallback,Ae=e.unstable_cancelCallback,Le=e.unstable_shouldYield,De=e.unstable_requestPaint,Ye=e.unstable_now,Lt=e.unstable_getCurrentPriorityLevel,ct=e.unstable_ImmediatePriority,dt=e.unstable_UserBlockingPriority,sr=e.unstable_NormalPriority,ro=e.unstable_LowPriority,$e=e.unstable_IdlePriority,we=e.log,Me=e.unstable_setDisableYieldValue,ke=null,Ue=null;function He(d){if(typeof we=="function"&&Me(d),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(ke,d)}catch{}}var Ge=Math.clz32?Math.clz32:dd,ud=Math.log,xd=Math.LN2;function dd(d){return d>>>=0,d===0?32:31-(ud(d)/xd|0)|0}var Ua=256,za=4194304;function Ms(d){var h=d&42;if(h!==0)return h;switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return d&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return d}}function qa(d,h,E){var w=d.pendingLanes;if(w===0)return 0;var O=0,U=d.suspendedLanes,W=d.pingedLanes;d=d.warmLanes;var se=w&134217727;return se!==0?(w=se&~U,w!==0?O=Ms(w):(W&=se,W!==0?O=Ms(W):E||(E=se&~d,E!==0&&(O=Ms(E))))):(se=w&~U,se!==0?O=Ms(se):W!==0?O=Ms(W):E||(E=w&~d,E!==0&&(O=Ms(E)))),O===0?0:h!==0&&h!==O&&(h&U)===0&&(U=O&-O,E=h&-h,U>=E||U===32&&(E&4194048)!==0)?h:O}function qr(d,h){return(d.pendingLanes&~(d.suspendedLanes&~d.pingedLanes)&h)===0}function md(d,h){switch(d){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fl(){var d=Ua;return Ua<<=1,(Ua&4194048)===0&&(Ua=256),d}function gl(){var d=za;return za<<=1,(za&62914560)===0&&(za=4194304),d}function ao(d){for(var h=[],E=0;31>E;E++)h.push(d);return h}function Vr(d,h){d.pendingLanes|=h,h!==268435456&&(d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0)}function pd(d,h,E,w,O,U){var W=d.pendingLanes;d.pendingLanes=E,d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0,d.expiredLanes&=E,d.entangledLanes&=E,d.errorRecoveryDisabledLanes&=E,d.shellSuspendCounter=0;var se=d.entanglements,ie=d.expirationTimes,he=d.hiddenUpdates;for(E=W&~E;0<E;){var ye=31-Ge(E),ve=1<<ye;se[ye]=0,ie[ye]=-1;var be=he[ye];if(be!==null)for(he[ye]=null,ye=0;ye<be.length;ye++){var Ee=be[ye];Ee!==null&&(Ee.lane&=-536870913)}E&=~ve}w!==0&&bl(d,w,0),U!==0&&O===0&&d.tag!==0&&(d.suspendedLanes|=U&~(W&~h))}function bl(d,h,E){d.pendingLanes|=h,d.suspendedLanes&=~h;var w=31-Ge(h);d.entangledLanes|=h,d.entanglements[w]=d.entanglements[w]|1073741824|E&4194090}function El(d,h){var E=d.entangledLanes|=h;for(d=d.entanglements;E;){var w=31-Ge(E),O=1<<w;O&h|d[w]&h&&(d[w]|=h),E&=~O}}function no(d){switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=128;break;case 268435456:d=134217728;break;default:d=0}return d}function oo(d){return d&=-d,2<d?8<d?(d&134217727)!==0?32:268435456:8:2}function yl(){var d=K.p;return d!==0?d:(d=window.event,d===void 0?32:sd(d.type))}function hd(d,h){var E=K.p;try{return K.p=d,h()}finally{K.p=E}}var hs=Math.random().toString(36).slice(2),Et="__reactFiber$"+hs,vt="__reactProps$"+hs,rr="__reactContainer$"+hs,io="__reactEvents$"+hs,jd="__reactListeners$"+hs,fd="__reactHandles$"+hs,Rl="__reactResources$"+hs,Hr="__reactMarker$"+hs;function lo(d){delete d[Et],delete d[vt],delete d[io],delete d[jd],delete d[fd]}function ar(d){var h=d[Et];if(h)return h;for(var E=d.parentNode;E;){if(h=E[rr]||E[Et]){if(E=h.alternate,h.child!==null||E!==null&&E.child!==null)for(d=Ux(d);d!==null;){if(E=d[Et])return E;d=Ux(d)}return h}d=E,E=d.parentNode}return null}function nr(d){if(d=d[Et]||d[rr]){var h=d.tag;if(h===5||h===6||h===13||h===26||h===27||h===3)return d}return null}function Gr(d){var h=d.tag;if(h===5||h===26||h===27||h===6)return d.stateNode;throw Error(o(33))}function or(d){var h=d[Rl];return h||(h=d[Rl]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function mt(d){d[Hr]=!0}var vl=new Set,Nl={};function Fs(d,h){ir(d,h),ir(d+"Capture",h)}function ir(d,h){for(Nl[d]=h,d=0;d<h.length;d++)vl.add(h[d])}var gd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wl={},Sl={};function bd(d){return ge.call(Sl,d)?!0:ge.call(wl,d)?!1:gd.test(d)?Sl[d]=!0:(wl[d]=!0,!1)}function Va(d,h,E){if(bd(h))if(E===null)d.removeAttribute(h);else{switch(typeof E){case"undefined":case"function":case"symbol":d.removeAttribute(h);return;case"boolean":var w=h.toLowerCase().slice(0,5);if(w!=="data-"&&w!=="aria-"){d.removeAttribute(h);return}}d.setAttribute(h,""+E)}}function Ha(d,h,E){if(E===null)d.removeAttribute(h);else{switch(typeof E){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(h);return}d.setAttribute(h,""+E)}}function Jt(d,h,E,w){if(w===null)d.removeAttribute(E);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(E);return}d.setAttributeNS(h,E,""+w)}}var co,Cl;function lr(d){if(co===void 0)try{throw Error()}catch(E){var h=E.stack.trim().match(/\n( *(at )?)/);co=h&&h[1]||"",Cl=-1<E.stack.indexOf(`
    at`)?" (<anonymous>)":-1<E.stack.indexOf("@")?"@unknown:0:0":""}return`
`+co+d+Cl}var uo=!1;function xo(d,h){if(!d||uo)return"";uo=!0;var E=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(h){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(Ee){var be=Ee}Reflect.construct(d,[],ve)}else{try{ve.call()}catch(Ee){be=Ee}d.call(ve.prototype)}}else{try{throw Error()}catch(Ee){be=Ee}(ve=d())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(Ee){if(Ee&&be&&typeof Ee.stack=="string")return[Ee.stack,be.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var U=w.DetermineComponentFrameRoot(),W=U[0],se=U[1];if(W&&se){var ie=W.split(`
`),he=se.split(`
`);for(O=w=0;w<ie.length&&!ie[w].includes("DetermineComponentFrameRoot");)w++;for(;O<he.length&&!he[O].includes("DetermineComponentFrameRoot");)O++;if(w===ie.length||O===he.length)for(w=ie.length-1,O=he.length-1;1<=w&&0<=O&&ie[w]!==he[O];)O--;for(;1<=w&&0<=O;w--,O--)if(ie[w]!==he[O]){if(w!==1||O!==1)do if(w--,O--,0>O||ie[w]!==he[O]){var ye=`
`+ie[w].replace(" at new "," at ");return d.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",d.displayName)),ye}while(1<=w&&0<=O);break}}}finally{uo=!1,Error.prepareStackTrace=E}return(E=d?d.displayName||d.name:"")?lr(E):""}function Ed(d){switch(d.tag){case 26:case 27:case 5:return lr(d.type);case 16:return lr("Lazy");case 13:return lr("Suspense");case 19:return lr("SuspenseList");case 0:case 15:return xo(d.type,!1);case 11:return xo(d.type.render,!1);case 1:return xo(d.type,!0);case 31:return lr("Activity");default:return""}}function Al(d){try{var h="";do h+=Ed(d),d=d.return;while(d);return h}catch(E){return`
Error generating stack: `+E.message+`
`+E.stack}}function _t(d){switch(typeof d){case"bigint":case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function kl(d){var h=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function yd(d){var h=kl(d)?"checked":"value",E=Object.getOwnPropertyDescriptor(d.constructor.prototype,h),w=""+d[h];if(!d.hasOwnProperty(h)&&typeof E<"u"&&typeof E.get=="function"&&typeof E.set=="function"){var O=E.get,U=E.set;return Object.defineProperty(d,h,{configurable:!0,get:function(){return O.call(this)},set:function(W){w=""+W,U.call(this,W)}}),Object.defineProperty(d,h,{enumerable:E.enumerable}),{getValue:function(){return w},setValue:function(W){w=""+W},stopTracking:function(){d._valueTracker=null,delete d[h]}}}}function Ga(d){d._valueTracker||(d._valueTracker=yd(d))}function Pl(d){if(!d)return!1;var h=d._valueTracker;if(!h)return!0;var E=h.getValue(),w="";return d&&(w=kl(d)?d.checked?"true":"false":d.value),d=w,d!==E?(h.setValue(d),!0):!1}function Wa(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}var Rd=/[\n"\\]/g;function Ot(d){return d.replace(Rd,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function mo(d,h,E,w,O,U,W,se){d.name="",W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?d.type=W:d.removeAttribute("type"),h!=null?W==="number"?(h===0&&d.value===""||d.value!=h)&&(d.value=""+_t(h)):d.value!==""+_t(h)&&(d.value=""+_t(h)):W!=="submit"&&W!=="reset"||d.removeAttribute("value"),h!=null?po(d,W,_t(h)):E!=null?po(d,W,_t(E)):w!=null&&d.removeAttribute("value"),O==null&&U!=null&&(d.defaultChecked=!!U),O!=null&&(d.checked=O&&typeof O!="function"&&typeof O!="symbol"),se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"?d.name=""+_t(se):d.removeAttribute("name")}function $l(d,h,E,w,O,U,W,se){if(U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(d.type=U),h!=null||E!=null){if(!(U!=="submit"&&U!=="reset"||h!=null))return;E=E!=null?""+_t(E):"",h=h!=null?""+_t(h):E,se||h===d.value||(d.value=h),d.defaultValue=h}w=w??O,w=typeof w!="function"&&typeof w!="symbol"&&!!w,d.checked=se?d.checked:!!w,d.defaultChecked=!!w,W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"&&(d.name=W)}function po(d,h,E){h==="number"&&Wa(d.ownerDocument)===d||d.defaultValue===""+E||(d.defaultValue=""+E)}function cr(d,h,E,w){if(d=d.options,h){h={};for(var O=0;O<E.length;O++)h["$"+E[O]]=!0;for(E=0;E<d.length;E++)O=h.hasOwnProperty("$"+d[E].value),d[E].selected!==O&&(d[E].selected=O),O&&w&&(d[E].defaultSelected=!0)}else{for(E=""+_t(E),h=null,O=0;O<d.length;O++){if(d[O].value===E){d[O].selected=!0,w&&(d[O].defaultSelected=!0);return}h!==null||d[O].disabled||(h=d[O])}h!==null&&(h.selected=!0)}}function Tl(d,h,E){if(h!=null&&(h=""+_t(h),h!==d.value&&(d.value=h),E==null)){d.defaultValue!==h&&(d.defaultValue=h);return}d.defaultValue=E!=null?""+_t(E):""}function Dl(d,h,E,w){if(h==null){if(w!=null){if(E!=null)throw Error(o(92));if(ee(w)){if(1<w.length)throw Error(o(93));w=w[0]}E=w}E==null&&(E=""),h=E}E=_t(h),d.defaultValue=E,w=d.textContent,w===E&&w!==""&&w!==null&&(d.value=w)}function ur(d,h){if(h){var E=d.firstChild;if(E&&E===d.lastChild&&E.nodeType===3){E.nodeValue=h;return}}d.textContent=h}var vd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Il(d,h,E){var w=h.indexOf("--")===0;E==null||typeof E=="boolean"||E===""?w?d.setProperty(h,""):h==="float"?d.cssFloat="":d[h]="":w?d.setProperty(h,E):typeof E!="number"||E===0||vd.has(h)?h==="float"?d.cssFloat=E:d[h]=(""+E).trim():d[h]=E+"px"}function Ll(d,h,E){if(h!=null&&typeof h!="object")throw Error(o(62));if(d=d.style,E!=null){for(var w in E)!E.hasOwnProperty(w)||h!=null&&h.hasOwnProperty(w)||(w.indexOf("--")===0?d.setProperty(w,""):w==="float"?d.cssFloat="":d[w]="");for(var O in h)w=h[O],h.hasOwnProperty(O)&&E[O]!==w&&Il(d,O,w)}else for(var U in h)h.hasOwnProperty(U)&&Il(d,U,h[U])}function ho(d){if(d.indexOf("-")===-1)return!1;switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ka(d){return wd.test(""+d)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":d}var jo=null;function fo(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var xr=null,dr=null;function _l(d){var h=nr(d);if(h&&(d=h.stateNode)){var E=d[vt]||null;e:switch(d=h.stateNode,h.type){case"input":if(mo(d,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name),h=E.name,E.type==="radio"&&h!=null){for(E=d;E.parentNode;)E=E.parentNode;for(E=E.querySelectorAll('input[name="'+Ot(""+h)+'"][type="radio"]'),h=0;h<E.length;h++){var w=E[h];if(w!==d&&w.form===d.form){var O=w[vt]||null;if(!O)throw Error(o(90));mo(w,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(h=0;h<E.length;h++)w=E[h],w.form===d.form&&Pl(w)}break e;case"textarea":Tl(d,E.value,E.defaultValue);break e;case"select":h=E.value,h!=null&&cr(d,!!E.multiple,h,!1)}}}var go=!1;function Ol(d,h,E){if(go)return d(h,E);go=!0;try{var w=d(h);return w}finally{if(go=!1,(xr!==null||dr!==null)&&(Ln(),xr&&(h=xr,d=dr,dr=xr=null,_l(h),d)))for(h=0;h<d.length;h++)_l(d[h])}}function Wr(d,h){var E=d.stateNode;if(E===null)return null;var w=E[vt]||null;if(w===null)return null;E=w[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(d=d.type,w=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!w;break e;default:d=!1}if(d)return null;if(E&&typeof E!="function")throw Error(o(231,h,typeof E));return E}var es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bo=!1;if(es)try{var Kr={};Object.defineProperty(Kr,"passive",{get:function(){bo=!0}}),window.addEventListener("test",Kr,Kr),window.removeEventListener("test",Kr,Kr)}catch{bo=!1}var js=null,Eo=null,Ya=null;function Ml(){if(Ya)return Ya;var d,h=Eo,E=h.length,w,O="value"in js?js.value:js.textContent,U=O.length;for(d=0;d<E&&h[d]===O[d];d++);var W=E-d;for(w=1;w<=W&&h[E-w]===O[U-w];w++);return Ya=O.slice(d,1<w?1-w:void 0)}function Xa(d){var h=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&h===13&&(d=13)):d=h,d===10&&(d=13),32<=d||d===13?d:0}function Qa(){return!0}function Fl(){return!1}function Nt(d){function h(E,w,O,U,W){this._reactName=E,this._targetInst=O,this.type=w,this.nativeEvent=U,this.target=W,this.currentTarget=null;for(var se in d)d.hasOwnProperty(se)&&(E=d[se],this[se]=E?E(U):U[se]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?Qa:Fl,this.isPropagationStopped=Fl,this}return g(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var E=this.nativeEvent;E&&(E.preventDefault?E.preventDefault():typeof E.returnValue!="unknown"&&(E.returnValue=!1),this.isDefaultPrevented=Qa)},stopPropagation:function(){var E=this.nativeEvent;E&&(E.stopPropagation?E.stopPropagation():typeof E.cancelBubble!="unknown"&&(E.cancelBubble=!0),this.isPropagationStopped=Qa)},persist:function(){},isPersistent:Qa}),h}var Bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Za=Nt(Bs),Yr=g({},Bs,{view:0,detail:0}),Sd=Nt(Yr),yo,Ro,Xr,Ja=g({},Yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:No,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Xr&&(Xr&&d.type==="mousemove"?(yo=d.screenX-Xr.screenX,Ro=d.screenY-Xr.screenY):Ro=yo=0,Xr=d),yo)},movementY:function(d){return"movementY"in d?d.movementY:Ro}}),Bl=Nt(Ja),Cd=g({},Ja,{dataTransfer:0}),Ad=Nt(Cd),kd=g({},Yr,{relatedTarget:0}),vo=Nt(kd),Pd=g({},Bs,{animationName:0,elapsedTime:0,pseudoElement:0}),$d=Nt(Pd),Td=g({},Bs,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),Dd=Nt(Td),Id=g({},Bs,{data:0}),Ul=Nt(Id),Ld={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_d={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Md(d){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(d):(d=Od[d])?!!h[d]:!1}function No(){return Md}var Fd=g({},Yr,{key:function(d){if(d.key){var h=Ld[d.key]||d.key;if(h!=="Unidentified")return h}return d.type==="keypress"?(d=Xa(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?_d[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:No,charCode:function(d){return d.type==="keypress"?Xa(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Xa(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),Bd=Nt(Fd),Ud=g({},Ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zl=Nt(Ud),zd=g({},Yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:No}),qd=Nt(zd),Vd=g({},Bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hd=Nt(Vd),Gd=g({},Ja,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),Wd=Nt(Gd),Kd=g({},Bs,{newState:0,oldState:0}),Yd=Nt(Kd),Xd=[9,13,27,32],wo=es&&"CompositionEvent"in window,Qr=null;es&&"documentMode"in document&&(Qr=document.documentMode);var Qd=es&&"TextEvent"in window&&!Qr,ql=es&&(!wo||Qr&&8<Qr&&11>=Qr),Vl=" ",Hl=!1;function Gl(d,h){switch(d){case"keyup":return Xd.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wl(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var mr=!1;function Zd(d,h){switch(d){case"compositionend":return Wl(h);case"keypress":return h.which!==32?null:(Hl=!0,Vl);case"textInput":return d=h.data,d===Vl&&Hl?null:d;default:return null}}function Jd(d,h){if(mr)return d==="compositionend"||!wo&&Gl(d,h)?(d=Ml(),Ya=Eo=js=null,mr=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return ql&&h.locale!=="ko"?null:h.data;default:return null}}var em={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kl(d){var h=d&&d.nodeName&&d.nodeName.toLowerCase();return h==="input"?!!em[d.type]:h==="textarea"}function Yl(d,h,E,w){xr?dr?dr.push(w):dr=[w]:xr=w,h=Un(h,"onChange"),0<h.length&&(E=new Za("onChange","change",null,E,w),d.push({event:E,listeners:h}))}var Zr=null,Jr=null;function tm(d){$x(d,0)}function en(d){var h=Gr(d);if(Pl(h))return d}function Xl(d,h){if(d==="change")return h}var Ql=!1;if(es){var So;if(es){var Co="oninput"in document;if(!Co){var Zl=document.createElement("div");Zl.setAttribute("oninput","return;"),Co=typeof Zl.oninput=="function"}So=Co}else So=!1;Ql=So&&(!document.documentMode||9<document.documentMode)}function Jl(){Zr&&(Zr.detachEvent("onpropertychange",ec),Jr=Zr=null)}function ec(d){if(d.propertyName==="value"&&en(Jr)){var h=[];Yl(h,Jr,d,fo(d)),Ol(tm,h)}}function sm(d,h,E){d==="focusin"?(Jl(),Zr=h,Jr=E,Zr.attachEvent("onpropertychange",ec)):d==="focusout"&&Jl()}function rm(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return en(Jr)}function am(d,h){if(d==="click")return en(h)}function nm(d,h){if(d==="input"||d==="change")return en(h)}function om(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var At=typeof Object.is=="function"?Object.is:om;function ea(d,h){if(At(d,h))return!0;if(typeof d!="object"||d===null||typeof h!="object"||h===null)return!1;var E=Object.keys(d),w=Object.keys(h);if(E.length!==w.length)return!1;for(w=0;w<E.length;w++){var O=E[w];if(!ge.call(h,O)||!At(d[O],h[O]))return!1}return!0}function tc(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function sc(d,h){var E=tc(d);d=0;for(var w;E;){if(E.nodeType===3){if(w=d+E.textContent.length,d<=h&&w>=h)return{node:E,offset:h-d};d=w}e:{for(;E;){if(E.nextSibling){E=E.nextSibling;break e}E=E.parentNode}E=void 0}E=tc(E)}}function rc(d,h){return d&&h?d===h?!0:d&&d.nodeType===3?!1:h&&h.nodeType===3?rc(d,h.parentNode):"contains"in d?d.contains(h):d.compareDocumentPosition?!!(d.compareDocumentPosition(h)&16):!1:!1}function ac(d){d=d!=null&&d.ownerDocument!=null&&d.ownerDocument.defaultView!=null?d.ownerDocument.defaultView:window;for(var h=Wa(d.document);h instanceof d.HTMLIFrameElement;){try{var E=typeof h.contentWindow.location.href=="string"}catch{E=!1}if(E)d=h.contentWindow;else break;h=Wa(d.document)}return h}function Ao(d){var h=d&&d.nodeName&&d.nodeName.toLowerCase();return h&&(h==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||h==="textarea"||d.contentEditable==="true")}var im=es&&"documentMode"in document&&11>=document.documentMode,pr=null,ko=null,ta=null,Po=!1;function nc(d,h,E){var w=E.window===E?E.document:E.nodeType===9?E:E.ownerDocument;Po||pr==null||pr!==Wa(w)||(w=pr,"selectionStart"in w&&Ao(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),ta&&ea(ta,w)||(ta=w,w=Un(ko,"onSelect"),0<w.length&&(h=new Za("onSelect","select",null,h,E),d.push({event:h,listeners:w}),h.target=pr)))}function Us(d,h){var E={};return E[d.toLowerCase()]=h.toLowerCase(),E["Webkit"+d]="webkit"+h,E["Moz"+d]="moz"+h,E}var hr={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionrun:Us("Transition","TransitionRun"),transitionstart:Us("Transition","TransitionStart"),transitioncancel:Us("Transition","TransitionCancel"),transitionend:Us("Transition","TransitionEnd")},$o={},oc={};es&&(oc=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);function zs(d){if($o[d])return $o[d];if(!hr[d])return d;var h=hr[d],E;for(E in h)if(h.hasOwnProperty(E)&&E in oc)return $o[d]=h[E];return d}var ic=zs("animationend"),lc=zs("animationiteration"),cc=zs("animationstart"),lm=zs("transitionrun"),cm=zs("transitionstart"),um=zs("transitioncancel"),uc=zs("transitionend"),xc=new Map,To="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");To.push("scrollEnd");function Ht(d,h){xc.set(d,h),Fs(h,[d])}var dc=new WeakMap;function Mt(d,h){if(typeof d=="object"&&d!==null){var E=dc.get(d);return E!==void 0?E:(h={value:d,source:h,stack:Al(h)},dc.set(d,h),h)}return{value:d,source:h,stack:Al(h)}}var Ft=[],jr=0,Do=0;function tn(){for(var d=jr,h=Do=jr=0;h<d;){var E=Ft[h];Ft[h++]=null;var w=Ft[h];Ft[h++]=null;var O=Ft[h];Ft[h++]=null;var U=Ft[h];if(Ft[h++]=null,w!==null&&O!==null){var W=w.pending;W===null?O.next=O:(O.next=W.next,W.next=O),w.pending=O}U!==0&&mc(E,O,U)}}function sn(d,h,E,w){Ft[jr++]=d,Ft[jr++]=h,Ft[jr++]=E,Ft[jr++]=w,Do|=w,d.lanes|=w,d=d.alternate,d!==null&&(d.lanes|=w)}function Io(d,h,E,w){return sn(d,h,E,w),rn(d)}function fr(d,h){return sn(d,null,null,h),rn(d)}function mc(d,h,E){d.lanes|=E;var w=d.alternate;w!==null&&(w.lanes|=E);for(var O=!1,U=d.return;U!==null;)U.childLanes|=E,w=U.alternate,w!==null&&(w.childLanes|=E),U.tag===22&&(d=U.stateNode,d===null||d._visibility&1||(O=!0)),d=U,U=U.return;return d.tag===3?(U=d.stateNode,O&&h!==null&&(O=31-Ge(E),d=U.hiddenUpdates,w=d[O],w===null?d[O]=[h]:w.push(h),h.lane=E|536870912),U):null}function rn(d){if(50<Sa)throw Sa=0,Ui=null,Error(o(185));for(var h=d.return;h!==null;)d=h,h=d.return;return d.tag===3?d.stateNode:null}var gr={};function xm(d,h,E,w){this.tag=d,this.key=E,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(d,h,E,w){return new xm(d,h,E,w)}function Lo(d){return d=d.prototype,!(!d||!d.isReactComponent)}function ts(d,h){var E=d.alternate;return E===null?(E=kt(d.tag,h,d.key,d.mode),E.elementType=d.elementType,E.type=d.type,E.stateNode=d.stateNode,E.alternate=d,d.alternate=E):(E.pendingProps=h,E.type=d.type,E.flags=0,E.subtreeFlags=0,E.deletions=null),E.flags=d.flags&65011712,E.childLanes=d.childLanes,E.lanes=d.lanes,E.child=d.child,E.memoizedProps=d.memoizedProps,E.memoizedState=d.memoizedState,E.updateQueue=d.updateQueue,h=d.dependencies,E.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},E.sibling=d.sibling,E.index=d.index,E.ref=d.ref,E.refCleanup=d.refCleanup,E}function pc(d,h){d.flags&=65011714;var E=d.alternate;return E===null?(d.childLanes=0,d.lanes=h,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=E.childLanes,d.lanes=E.lanes,d.child=E.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=E.memoizedProps,d.memoizedState=E.memoizedState,d.updateQueue=E.updateQueue,d.type=E.type,h=E.dependencies,d.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),d}function an(d,h,E,w,O,U){var W=0;if(w=d,typeof d=="function")Lo(d)&&(W=1);else if(typeof d=="string")W=mp(d,E,je.current)?26:d==="html"||d==="head"||d==="body"?27:5;else e:switch(d){case F:return d=kt(31,E,h,O),d.elementType=F,d.lanes=U,d;case N:return qs(E.children,O,U,h);case S:W=8,O|=24;break;case $:return d=kt(12,E,h,O|2),d.elementType=$,d.lanes=U,d;case I:return d=kt(13,E,h,O),d.elementType=I,d.lanes=U,d;case L:return d=kt(19,E,h,O),d.elementType=L,d.lanes=U,d;default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case C:case T:W=10;break e;case A:W=9;break e;case D:W=11;break e;case _:W=14;break e;case M:W=16,w=null;break e}W=29,E=Error(o(130,d===null?"null":typeof d,"")),w=null}return h=kt(W,E,h,O),h.elementType=d,h.type=w,h.lanes=U,h}function qs(d,h,E,w){return d=kt(7,d,w,h),d.lanes=E,d}function _o(d,h,E){return d=kt(6,d,null,h),d.lanes=E,d}function Oo(d,h,E){return h=kt(4,d.children!==null?d.children:[],d.key,h),h.lanes=E,h.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},h}var br=[],Er=0,nn=null,on=0,Bt=[],Ut=0,Vs=null,ss=1,rs="";function Hs(d,h){br[Er++]=on,br[Er++]=nn,nn=d,on=h}function hc(d,h,E){Bt[Ut++]=ss,Bt[Ut++]=rs,Bt[Ut++]=Vs,Vs=d;var w=ss;d=rs;var O=32-Ge(w)-1;w&=~(1<<O),E+=1;var U=32-Ge(h)+O;if(30<U){var W=O-O%5;U=(w&(1<<W)-1).toString(32),w>>=W,O-=W,ss=1<<32-Ge(h)+O|E<<O|w,rs=U+d}else ss=1<<U|E<<O|w,rs=d}function Mo(d){d.return!==null&&(Hs(d,1),hc(d,1,0))}function Fo(d){for(;d===nn;)nn=br[--Er],br[Er]=null,on=br[--Er],br[Er]=null;for(;d===Vs;)Vs=Bt[--Ut],Bt[Ut]=null,rs=Bt[--Ut],Bt[Ut]=null,ss=Bt[--Ut],Bt[Ut]=null}var Rt=null,rt=null,Ve=!1,Gs=null,Kt=!1,Bo=Error(o(519));function Ws(d){var h=Error(o(418,""));throw aa(Mt(h,d)),Bo}function jc(d){var h=d.stateNode,E=d.type,w=d.memoizedProps;switch(h[Et]=d,h[vt]=w,E){case"dialog":Be("cancel",h),Be("close",h);break;case"iframe":case"object":case"embed":Be("load",h);break;case"video":case"audio":for(E=0;E<Aa.length;E++)Be(Aa[E],h);break;case"source":Be("error",h);break;case"img":case"image":case"link":Be("error",h),Be("load",h);break;case"details":Be("toggle",h);break;case"input":Be("invalid",h),$l(h,w.value,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name,!0),Ga(h);break;case"select":Be("invalid",h);break;case"textarea":Be("invalid",h),Dl(h,w.value,w.defaultValue,w.children),Ga(h)}E=w.children,typeof E!="string"&&typeof E!="number"&&typeof E!="bigint"||h.textContent===""+E||w.suppressHydrationWarning===!0||Lx(h.textContent,E)?(w.popover!=null&&(Be("beforetoggle",h),Be("toggle",h)),w.onScroll!=null&&Be("scroll",h),w.onScrollEnd!=null&&Be("scrollend",h),w.onClick!=null&&(h.onclick=zn),h=!0):h=!1,h||Ws(d)}function fc(d){for(Rt=d.return;Rt;)switch(Rt.tag){case 5:case 13:Kt=!1;return;case 27:case 3:Kt=!0;return;default:Rt=Rt.return}}function sa(d){if(d!==Rt)return!1;if(!Ve)return fc(d),Ve=!0,!1;var h=d.tag,E;if((E=h!==3&&h!==27)&&((E=h===5)&&(E=d.type,E=!(E!=="form"&&E!=="button")||rl(d.type,d.memoizedProps)),E=!E),E&&rt&&Ws(d),fc(d),h===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));e:{for(d=d.nextSibling,h=0;d;){if(d.nodeType===8)if(E=d.data,E==="/$"){if(h===0){rt=Wt(d.nextSibling);break e}h--}else E!=="$"&&E!=="$!"&&E!=="$?"||h++;d=d.nextSibling}rt=null}}else h===27?(h=rt,Ts(d.type)?(d=il,il=null,rt=d):rt=h):rt=Rt?Wt(d.stateNode.nextSibling):null;return!0}function ra(){rt=Rt=null,Ve=!1}function gc(){var d=Gs;return d!==null&&(Ct===null?Ct=d:Ct.push.apply(Ct,d),Gs=null),d}function aa(d){Gs===null?Gs=[d]:Gs.push(d)}var Uo=te(null),Ks=null,as=null;function fs(d,h,E){le(Uo,h._currentValue),h._currentValue=E}function ns(d){d._currentValue=Uo.current,Y(Uo)}function zo(d,h,E){for(;d!==null;){var w=d.alternate;if((d.childLanes&h)!==h?(d.childLanes|=h,w!==null&&(w.childLanes|=h)):w!==null&&(w.childLanes&h)!==h&&(w.childLanes|=h),d===E)break;d=d.return}}function qo(d,h,E,w){var O=d.child;for(O!==null&&(O.return=d);O!==null;){var U=O.dependencies;if(U!==null){var W=O.child;U=U.firstContext;e:for(;U!==null;){var se=U;U=O;for(var ie=0;ie<h.length;ie++)if(se.context===h[ie]){U.lanes|=E,se=U.alternate,se!==null&&(se.lanes|=E),zo(U.return,E,d),w||(W=null);break e}U=se.next}}else if(O.tag===18){if(W=O.return,W===null)throw Error(o(341));W.lanes|=E,U=W.alternate,U!==null&&(U.lanes|=E),zo(W,E,d),W=null}else W=O.child;if(W!==null)W.return=O;else for(W=O;W!==null;){if(W===d){W=null;break}if(O=W.sibling,O!==null){O.return=W.return,W=O;break}W=W.return}O=W}}function na(d,h,E,w){d=null;for(var O=h,U=!1;O!==null;){if(!U){if((O.flags&524288)!==0)U=!0;else if((O.flags&262144)!==0)break}if(O.tag===10){var W=O.alternate;if(W===null)throw Error(o(387));if(W=W.memoizedProps,W!==null){var se=O.type;At(O.pendingProps.value,W.value)||(d!==null?d.push(se):d=[se])}}else if(O===ce.current){if(W=O.alternate,W===null)throw Error(o(387));W.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(d!==null?d.push(La):d=[La])}O=O.return}d!==null&&qo(h,d,E,w),h.flags|=262144}function cn(d){for(d=d.firstContext;d!==null;){if(!At(d.context._currentValue,d.memoizedValue))return!0;d=d.next}return!1}function Ys(d){Ks=d,as=null,d=d.dependencies,d!==null&&(d.firstContext=null)}function yt(d){return bc(Ks,d)}function un(d,h){return Ks===null&&Ys(d),bc(d,h)}function bc(d,h){var E=h._currentValue;if(h={context:h,memoizedValue:E,next:null},as===null){if(d===null)throw Error(o(308));as=h,d.dependencies={lanes:0,firstContext:h},d.flags|=524288}else as=as.next=h;return E}var dm=typeof AbortController<"u"?AbortController:function(){var d=[],h=this.signal={aborted:!1,addEventListener:function(E,w){d.push(w)}};this.abort=function(){h.aborted=!0,d.forEach(function(E){return E()})}},mm=e.unstable_scheduleCallback,pm=e.unstable_NormalPriority,ut={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vo(){return{controller:new dm,data:new Map,refCount:0}}function oa(d){d.refCount--,d.refCount===0&&mm(pm,function(){d.controller.abort()})}var ia=null,Ho=0,yr=0,Rr=null;function hm(d,h){if(ia===null){var E=ia=[];Ho=0,yr=Ki(),Rr={status:"pending",value:void 0,then:function(w){E.push(w)}}}return Ho++,h.then(Ec,Ec),h}function Ec(){if(--Ho===0&&ia!==null){Rr!==null&&(Rr.status="fulfilled");var d=ia;ia=null,yr=0,Rr=null;for(var h=0;h<d.length;h++)(0,d[h])()}}function jm(d,h){var E=[],w={status:"pending",value:null,reason:null,then:function(O){E.push(O)}};return d.then(function(){w.status="fulfilled",w.value=h;for(var O=0;O<E.length;O++)(0,E[O])(h)},function(O){for(w.status="rejected",w.reason=O,O=0;O<E.length;O++)(0,E[O])(void 0)}),w}var yc=G.S;G.S=function(d,h){typeof h=="object"&&h!==null&&typeof h.then=="function"&&hm(d,h),yc!==null&&yc(d,h)};var Xs=te(null);function Go(){var d=Xs.current;return d!==null?d:et.pooledCache}function xn(d,h){h===null?le(Xs,Xs.current):le(Xs,h.pool)}function Rc(){var d=Go();return d===null?null:{parent:ut._currentValue,pool:d}}var la=Error(o(460)),vc=Error(o(474)),dn=Error(o(542)),Wo={then:function(){}};function Nc(d){return d=d.status,d==="fulfilled"||d==="rejected"}function mn(){}function wc(d,h,E){switch(E=d[E],E===void 0?d.push(h):E!==h&&(h.then(mn,mn),h=E),h.status){case"fulfilled":return h.value;case"rejected":throw d=h.reason,Cc(d),d;default:if(typeof h.status=="string")h.then(mn,mn);else{if(d=et,d!==null&&100<d.shellSuspendCounter)throw Error(o(482));d=h,d.status="pending",d.then(function(w){if(h.status==="pending"){var O=h;O.status="fulfilled",O.value=w}},function(w){if(h.status==="pending"){var O=h;O.status="rejected",O.reason=w}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw d=h.reason,Cc(d),d}throw ca=h,la}}var ca=null;function Sc(){if(ca===null)throw Error(o(459));var d=ca;return ca=null,d}function Cc(d){if(d===la||d===dn)throw Error(o(483))}var gs=!1;function Ko(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yo(d,h){d=d.updateQueue,h.updateQueue===d&&(h.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,callbacks:null})}function bs(d){return{lane:d,tag:0,payload:null,callback:null,next:null}}function Es(d,h,E){var w=d.updateQueue;if(w===null)return null;if(w=w.shared,(We&2)!==0){var O=w.pending;return O===null?h.next=h:(h.next=O.next,O.next=h),w.pending=h,h=rn(d),mc(d,null,E),h}return sn(d,w,h,E),rn(d)}function ua(d,h,E){if(h=h.updateQueue,h!==null&&(h=h.shared,(E&4194048)!==0)){var w=h.lanes;w&=d.pendingLanes,E|=w,h.lanes=E,El(d,E)}}function Xo(d,h){var E=d.updateQueue,w=d.alternate;if(w!==null&&(w=w.updateQueue,E===w)){var O=null,U=null;if(E=E.firstBaseUpdate,E!==null){do{var W={lane:E.lane,tag:E.tag,payload:E.payload,callback:null,next:null};U===null?O=U=W:U=U.next=W,E=E.next}while(E!==null);U===null?O=U=h:U=U.next=h}else O=U=h;E={baseState:w.baseState,firstBaseUpdate:O,lastBaseUpdate:U,shared:w.shared,callbacks:w.callbacks},d.updateQueue=E;return}d=E.lastBaseUpdate,d===null?E.firstBaseUpdate=h:d.next=h,E.lastBaseUpdate=h}var Qo=!1;function xa(){if(Qo){var d=Rr;if(d!==null)throw d}}function da(d,h,E,w){Qo=!1;var O=d.updateQueue;gs=!1;var U=O.firstBaseUpdate,W=O.lastBaseUpdate,se=O.shared.pending;if(se!==null){O.shared.pending=null;var ie=se,he=ie.next;ie.next=null,W===null?U=he:W.next=he,W=ie;var ye=d.alternate;ye!==null&&(ye=ye.updateQueue,se=ye.lastBaseUpdate,se!==W&&(se===null?ye.firstBaseUpdate=he:se.next=he,ye.lastBaseUpdate=ie))}if(U!==null){var ve=O.baseState;W=0,ye=he=ie=null,se=U;do{var be=se.lane&-536870913,Ee=be!==se.lane;if(Ee?(ze&be)===be:(w&be)===be){be!==0&&be===yr&&(Qo=!0),ye!==null&&(ye=ye.next={lane:0,tag:se.tag,payload:se.payload,callback:null,next:null});e:{var Ie=d,Pe=se;be=h;var Ze=E;switch(Pe.tag){case 1:if(Ie=Pe.payload,typeof Ie=="function"){ve=Ie.call(Ze,ve,be);break e}ve=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Pe.payload,be=typeof Ie=="function"?Ie.call(Ze,ve,be):Ie,be==null)break e;ve=g({},ve,be);break e;case 2:gs=!0}}be=se.callback,be!==null&&(d.flags|=64,Ee&&(d.flags|=8192),Ee=O.callbacks,Ee===null?O.callbacks=[be]:Ee.push(be))}else Ee={lane:be,tag:se.tag,payload:se.payload,callback:se.callback,next:null},ye===null?(he=ye=Ee,ie=ve):ye=ye.next=Ee,W|=be;if(se=se.next,se===null){if(se=O.shared.pending,se===null)break;Ee=se,se=Ee.next,Ee.next=null,O.lastBaseUpdate=Ee,O.shared.pending=null}}while(!0);ye===null&&(ie=ve),O.baseState=ie,O.firstBaseUpdate=he,O.lastBaseUpdate=ye,U===null&&(O.shared.lanes=0),As|=W,d.lanes=W,d.memoizedState=ve}}function Ac(d,h){if(typeof d!="function")throw Error(o(191,d));d.call(h)}function kc(d,h){var E=d.callbacks;if(E!==null)for(d.callbacks=null,d=0;d<E.length;d++)Ac(E[d],h)}var vr=te(null),pn=te(0);function Pc(d,h){d=ms,le(pn,d),le(vr,h),ms=d|h.baseLanes}function Zo(){le(pn,ms),le(vr,vr.current)}function Jo(){ms=pn.current,Y(vr),Y(pn)}var ys=0,_e=null,Xe=null,it=null,hn=!1,Nr=!1,Qs=!1,jn=0,ma=0,wr=null,fm=0;function nt(){throw Error(o(321))}function ei(d,h){if(h===null)return!1;for(var E=0;E<h.length&&E<d.length;E++)if(!At(d[E],h[E]))return!1;return!0}function ti(d,h,E,w,O,U){return ys=U,_e=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,G.H=d===null||d.memoizedState===null?mu:pu,Qs=!1,U=E(w,O),Qs=!1,Nr&&(U=Tc(h,E,w,O)),$c(d),U}function $c(d){G.H=Rn;var h=Xe!==null&&Xe.next!==null;if(ys=0,it=Xe=_e=null,hn=!1,ma=0,wr=null,h)throw Error(o(300));d===null||pt||(d=d.dependencies,d!==null&&cn(d)&&(pt=!0))}function Tc(d,h,E,w){_e=d;var O=0;do{if(Nr&&(wr=null),ma=0,Nr=!1,25<=O)throw Error(o(301));if(O+=1,it=Xe=null,d.updateQueue!=null){var U=d.updateQueue;U.lastEffect=null,U.events=null,U.stores=null,U.memoCache!=null&&(U.memoCache.index=0)}G.H=Nm,U=h(E,w)}while(Nr);return U}function gm(){var d=G.H,h=d.useState()[0];return h=typeof h.then=="function"?pa(h):h,d=d.useState()[0],(Xe!==null?Xe.memoizedState:null)!==d&&(_e.flags|=1024),h}function si(){var d=jn!==0;return jn=0,d}function ri(d,h,E){h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~E}function ai(d){if(hn){for(d=d.memoizedState;d!==null;){var h=d.queue;h!==null&&(h.pending=null),d=d.next}hn=!1}ys=0,it=Xe=_e=null,Nr=!1,ma=jn=0,wr=null}function wt(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?_e.memoizedState=it=d:it=it.next=d,it}function lt(){if(Xe===null){var d=_e.alternate;d=d!==null?d.memoizedState:null}else d=Xe.next;var h=it===null?_e.memoizedState:it.next;if(h!==null)it=h,Xe=d;else{if(d===null)throw _e.alternate===null?Error(o(467)):Error(o(310));Xe=d,d={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},it===null?_e.memoizedState=it=d:it=it.next=d}return it}function ni(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pa(d){var h=ma;return ma+=1,wr===null&&(wr=[]),d=wc(wr,d,h),h=_e,(it===null?h.memoizedState:it.next)===null&&(h=h.alternate,G.H=h===null||h.memoizedState===null?mu:pu),d}function fn(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return pa(d);if(d.$$typeof===T)return yt(d)}throw Error(o(438,String(d)))}function oi(d){var h=null,E=_e.updateQueue;if(E!==null&&(h=E.memoCache),h==null){var w=_e.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(h={data:w.data.map(function(O){return O.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),E===null&&(E=ni(),_e.updateQueue=E),E.memoCache=h,E=h.data[h.index],E===void 0)for(E=h.data[h.index]=Array(d),w=0;w<d;w++)E[w]=B;return h.index++,E}function os(d,h){return typeof h=="function"?h(d):h}function gn(d){var h=lt();return ii(h,Xe,d)}function ii(d,h,E){var w=d.queue;if(w===null)throw Error(o(311));w.lastRenderedReducer=E;var O=d.baseQueue,U=w.pending;if(U!==null){if(O!==null){var W=O.next;O.next=U.next,U.next=W}h.baseQueue=O=U,w.pending=null}if(U=d.baseState,O===null)d.memoizedState=U;else{h=O.next;var se=W=null,ie=null,he=h,ye=!1;do{var ve=he.lane&-536870913;if(ve!==he.lane?(ze&ve)===ve:(ys&ve)===ve){var be=he.revertLane;if(be===0)ie!==null&&(ie=ie.next={lane:0,revertLane:0,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),ve===yr&&(ye=!0);else if((ys&be)===be){he=he.next,be===yr&&(ye=!0);continue}else ve={lane:0,revertLane:he.revertLane,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},ie===null?(se=ie=ve,W=U):ie=ie.next=ve,_e.lanes|=be,As|=be;ve=he.action,Qs&&E(U,ve),U=he.hasEagerState?he.eagerState:E(U,ve)}else be={lane:ve,revertLane:he.revertLane,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},ie===null?(se=ie=be,W=U):ie=ie.next=be,_e.lanes|=ve,As|=ve;he=he.next}while(he!==null&&he!==h);if(ie===null?W=U:ie.next=se,!At(U,d.memoizedState)&&(pt=!0,ye&&(E=Rr,E!==null)))throw E;d.memoizedState=U,d.baseState=W,d.baseQueue=ie,w.lastRenderedState=U}return O===null&&(w.lanes=0),[d.memoizedState,w.dispatch]}function li(d){var h=lt(),E=h.queue;if(E===null)throw Error(o(311));E.lastRenderedReducer=d;var w=E.dispatch,O=E.pending,U=h.memoizedState;if(O!==null){E.pending=null;var W=O=O.next;do U=d(U,W.action),W=W.next;while(W!==O);At(U,h.memoizedState)||(pt=!0),h.memoizedState=U,h.baseQueue===null&&(h.baseState=U),E.lastRenderedState=U}return[U,w]}function Dc(d,h,E){var w=_e,O=lt(),U=Ve;if(U){if(E===void 0)throw Error(o(407));E=E()}else E=h();var W=!At((Xe||O).memoizedState,E);W&&(O.memoizedState=E,pt=!0),O=O.queue;var se=_c.bind(null,w,O,d);if(ha(2048,8,se,[d]),O.getSnapshot!==h||W||it!==null&&it.memoizedState.tag&1){if(w.flags|=2048,Sr(9,bn(),Lc.bind(null,w,O,E,h),null),et===null)throw Error(o(349));U||(ys&124)!==0||Ic(w,h,E)}return E}function Ic(d,h,E){d.flags|=16384,d={getSnapshot:h,value:E},h=_e.updateQueue,h===null?(h=ni(),_e.updateQueue=h,h.stores=[d]):(E=h.stores,E===null?h.stores=[d]:E.push(d))}function Lc(d,h,E,w){h.value=E,h.getSnapshot=w,Oc(h)&&Mc(d)}function _c(d,h,E){return E(function(){Oc(h)&&Mc(d)})}function Oc(d){var h=d.getSnapshot;d=d.value;try{var E=h();return!At(d,E)}catch{return!0}}function Mc(d){var h=fr(d,2);h!==null&&It(h,d,2)}function ci(d){var h=wt();if(typeof d=="function"){var E=d;if(d=E(),Qs){He(!0);try{E()}finally{He(!1)}}}return h.memoizedState=h.baseState=d,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:d},h}function Fc(d,h,E,w){return d.baseState=E,ii(d,Xe,typeof w=="function"?w:os)}function bm(d,h,E,w,O){if(yn(d))throw Error(o(485));if(d=h.action,d!==null){var U={payload:O,action:d,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(W){U.listeners.push(W)}};G.T!==null?E(!0):U.isTransition=!1,w(U),E=h.pending,E===null?(U.next=h.pending=U,Bc(h,U)):(U.next=E.next,h.pending=E.next=U)}}function Bc(d,h){var E=h.action,w=h.payload,O=d.state;if(h.isTransition){var U=G.T,W={};G.T=W;try{var se=E(O,w),ie=G.S;ie!==null&&ie(W,se),Uc(d,h,se)}catch(he){ui(d,h,he)}finally{G.T=U}}else try{U=E(O,w),Uc(d,h,U)}catch(he){ui(d,h,he)}}function Uc(d,h,E){E!==null&&typeof E=="object"&&typeof E.then=="function"?E.then(function(w){zc(d,h,w)},function(w){return ui(d,h,w)}):zc(d,h,E)}function zc(d,h,E){h.status="fulfilled",h.value=E,qc(h),d.state=E,h=d.pending,h!==null&&(E=h.next,E===h?d.pending=null:(E=E.next,h.next=E,Bc(d,E)))}function ui(d,h,E){var w=d.pending;if(d.pending=null,w!==null){w=w.next;do h.status="rejected",h.reason=E,qc(h),h=h.next;while(h!==w)}d.action=null}function qc(d){d=d.listeners;for(var h=0;h<d.length;h++)(0,d[h])()}function Vc(d,h){return h}function Hc(d,h){if(Ve){var E=et.formState;if(E!==null){e:{var w=_e;if(Ve){if(rt){t:{for(var O=rt,U=Kt;O.nodeType!==8;){if(!U){O=null;break t}if(O=Wt(O.nextSibling),O===null){O=null;break t}}U=O.data,O=U==="F!"||U==="F"?O:null}if(O){rt=Wt(O.nextSibling),w=O.data==="F!";break e}}Ws(w)}w=!1}w&&(h=E[0])}}return E=wt(),E.memoizedState=E.baseState=h,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vc,lastRenderedState:h},E.queue=w,E=uu.bind(null,_e,w),w.dispatch=E,w=ci(!1),U=ji.bind(null,_e,!1,w.queue),w=wt(),O={state:h,dispatch:null,action:d,pending:null},w.queue=O,E=bm.bind(null,_e,O,U,E),O.dispatch=E,w.memoizedState=d,[h,E,!1]}function Gc(d){var h=lt();return Wc(h,Xe,d)}function Wc(d,h,E){if(h=ii(d,h,Vc)[0],d=gn(os)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var w=pa(h)}catch(W){throw W===la?dn:W}else w=h;h=lt();var O=h.queue,U=O.dispatch;return E!==h.memoizedState&&(_e.flags|=2048,Sr(9,bn(),Em.bind(null,O,E),null)),[w,U,d]}function Em(d,h){d.action=h}function Kc(d){var h=lt(),E=Xe;if(E!==null)return Wc(h,E,d);lt(),h=h.memoizedState,E=lt();var w=E.queue.dispatch;return E.memoizedState=d,[h,w,!1]}function Sr(d,h,E,w){return d={tag:d,create:E,deps:w,inst:h,next:null},h=_e.updateQueue,h===null&&(h=ni(),_e.updateQueue=h),E=h.lastEffect,E===null?h.lastEffect=d.next=d:(w=E.next,E.next=d,d.next=w,h.lastEffect=d),d}function bn(){return{destroy:void 0,resource:void 0}}function Yc(){return lt().memoizedState}function En(d,h,E,w){var O=wt();w=w===void 0?null:w,_e.flags|=d,O.memoizedState=Sr(1|h,bn(),E,w)}function ha(d,h,E,w){var O=lt();w=w===void 0?null:w;var U=O.memoizedState.inst;Xe!==null&&w!==null&&ei(w,Xe.memoizedState.deps)?O.memoizedState=Sr(h,U,E,w):(_e.flags|=d,O.memoizedState=Sr(1|h,U,E,w))}function Xc(d,h){En(8390656,8,d,h)}function Qc(d,h){ha(2048,8,d,h)}function Zc(d,h){return ha(4,2,d,h)}function Jc(d,h){return ha(4,4,d,h)}function eu(d,h){if(typeof h=="function"){d=d();var E=h(d);return function(){typeof E=="function"?E():h(null)}}if(h!=null)return d=d(),h.current=d,function(){h.current=null}}function tu(d,h,E){E=E!=null?E.concat([d]):null,ha(4,4,eu.bind(null,h,d),E)}function xi(){}function su(d,h){var E=lt();h=h===void 0?null:h;var w=E.memoizedState;return h!==null&&ei(h,w[1])?w[0]:(E.memoizedState=[d,h],d)}function ru(d,h){var E=lt();h=h===void 0?null:h;var w=E.memoizedState;if(h!==null&&ei(h,w[1]))return w[0];if(w=d(),Qs){He(!0);try{d()}finally{He(!1)}}return E.memoizedState=[w,h],w}function di(d,h,E){return E===void 0||(ys&1073741824)!==0?d.memoizedState=h:(d.memoizedState=E,d=ox(),_e.lanes|=d,As|=d,E)}function au(d,h,E,w){return At(E,h)?E:vr.current!==null?(d=di(d,E,w),At(d,h)||(pt=!0),d):(ys&42)===0?(pt=!0,d.memoizedState=E):(d=ox(),_e.lanes|=d,As|=d,h)}function nu(d,h,E,w,O){var U=K.p;K.p=U!==0&&8>U?U:8;var W=G.T,se={};G.T=se,ji(d,!1,h,E);try{var ie=O(),he=G.S;if(he!==null&&he(se,ie),ie!==null&&typeof ie=="object"&&typeof ie.then=="function"){var ye=jm(ie,w);ja(d,h,ye,Dt(d))}else ja(d,h,w,Dt(d))}catch(ve){ja(d,h,{then:function(){},status:"rejected",reason:ve},Dt())}finally{K.p=U,G.T=W}}function ym(){}function mi(d,h,E,w){if(d.tag!==5)throw Error(o(476));var O=ou(d).queue;nu(d,O,h,J,E===null?ym:function(){return iu(d),E(w)})}function ou(d){var h=d.memoizedState;if(h!==null)return h;h={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:J},next:null};var E={};return h.next={memoizedState:E,baseState:E,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:E},next:null},d.memoizedState=h,d=d.alternate,d!==null&&(d.memoizedState=h),h}function iu(d){var h=ou(d).next.queue;ja(d,h,{},Dt())}function hi(){return yt(La)}function lu(){return lt().memoizedState}function cu(){return lt().memoizedState}function Rm(d){for(var h=d.return;h!==null;){switch(h.tag){case 24:case 3:var E=Dt();d=bs(E);var w=Es(h,d,E);w!==null&&(It(w,h,E),ua(w,h,E)),h={cache:Vo()},d.payload=h;return}h=h.return}}function vm(d,h,E){var w=Dt();E={lane:w,revertLane:0,action:E,hasEagerState:!1,eagerState:null,next:null},yn(d)?xu(h,E):(E=Io(d,h,E,w),E!==null&&(It(E,d,w),du(E,h,w)))}function uu(d,h,E){var w=Dt();ja(d,h,E,w)}function ja(d,h,E,w){var O={lane:w,revertLane:0,action:E,hasEagerState:!1,eagerState:null,next:null};if(yn(d))xu(h,O);else{var U=d.alternate;if(d.lanes===0&&(U===null||U.lanes===0)&&(U=h.lastRenderedReducer,U!==null))try{var W=h.lastRenderedState,se=U(W,E);if(O.hasEagerState=!0,O.eagerState=se,At(se,W))return sn(d,h,O,0),et===null&&tn(),!1}catch{}finally{}if(E=Io(d,h,O,w),E!==null)return It(E,d,w),du(E,h,w),!0}return!1}function ji(d,h,E,w){if(w={lane:2,revertLane:Ki(),action:w,hasEagerState:!1,eagerState:null,next:null},yn(d)){if(h)throw Error(o(479))}else h=Io(d,E,w,2),h!==null&&It(h,d,2)}function yn(d){var h=d.alternate;return d===_e||h!==null&&h===_e}function xu(d,h){Nr=hn=!0;var E=d.pending;E===null?h.next=h:(h.next=E.next,E.next=h),d.pending=h}function du(d,h,E){if((E&4194048)!==0){var w=h.lanes;w&=d.pendingLanes,E|=w,h.lanes=E,El(d,E)}}var Rn={readContext:yt,use:fn,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useLayoutEffect:nt,useInsertionEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useSyncExternalStore:nt,useId:nt,useHostTransitionStatus:nt,useFormState:nt,useActionState:nt,useOptimistic:nt,useMemoCache:nt,useCacheRefresh:nt},mu={readContext:yt,use:fn,useCallback:function(d,h){return wt().memoizedState=[d,h===void 0?null:h],d},useContext:yt,useEffect:Xc,useImperativeHandle:function(d,h,E){E=E!=null?E.concat([d]):null,En(4194308,4,eu.bind(null,h,d),E)},useLayoutEffect:function(d,h){return En(4194308,4,d,h)},useInsertionEffect:function(d,h){En(4,2,d,h)},useMemo:function(d,h){var E=wt();h=h===void 0?null:h;var w=d();if(Qs){He(!0);try{d()}finally{He(!1)}}return E.memoizedState=[w,h],w},useReducer:function(d,h,E){var w=wt();if(E!==void 0){var O=E(h);if(Qs){He(!0);try{E(h)}finally{He(!1)}}}else O=h;return w.memoizedState=w.baseState=O,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:O},w.queue=d,d=d.dispatch=vm.bind(null,_e,d),[w.memoizedState,d]},useRef:function(d){var h=wt();return d={current:d},h.memoizedState=d},useState:function(d){d=ci(d);var h=d.queue,E=uu.bind(null,_e,h);return h.dispatch=E,[d.memoizedState,E]},useDebugValue:xi,useDeferredValue:function(d,h){var E=wt();return di(E,d,h)},useTransition:function(){var d=ci(!1);return d=nu.bind(null,_e,d.queue,!0,!1),wt().memoizedState=d,[!1,d]},useSyncExternalStore:function(d,h,E){var w=_e,O=wt();if(Ve){if(E===void 0)throw Error(o(407));E=E()}else{if(E=h(),et===null)throw Error(o(349));(ze&124)!==0||Ic(w,h,E)}O.memoizedState=E;var U={value:E,getSnapshot:h};return O.queue=U,Xc(_c.bind(null,w,U,d),[d]),w.flags|=2048,Sr(9,bn(),Lc.bind(null,w,U,E,h),null),E},useId:function(){var d=wt(),h=et.identifierPrefix;if(Ve){var E=rs,w=ss;E=(w&~(1<<32-Ge(w)-1)).toString(32)+E,h=""+h+"R"+E,E=jn++,0<E&&(h+="H"+E.toString(32)),h+=""}else E=fm++,h=""+h+"r"+E.toString(32)+"";return d.memoizedState=h},useHostTransitionStatus:hi,useFormState:Hc,useActionState:Hc,useOptimistic:function(d){var h=wt();h.memoizedState=h.baseState=d;var E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=E,h=ji.bind(null,_e,!0,E),E.dispatch=h,[d,h]},useMemoCache:oi,useCacheRefresh:function(){return wt().memoizedState=Rm.bind(null,_e)}},pu={readContext:yt,use:fn,useCallback:su,useContext:yt,useEffect:Qc,useImperativeHandle:tu,useInsertionEffect:Zc,useLayoutEffect:Jc,useMemo:ru,useReducer:gn,useRef:Yc,useState:function(){return gn(os)},useDebugValue:xi,useDeferredValue:function(d,h){var E=lt();return au(E,Xe.memoizedState,d,h)},useTransition:function(){var d=gn(os)[0],h=lt().memoizedState;return[typeof d=="boolean"?d:pa(d),h]},useSyncExternalStore:Dc,useId:lu,useHostTransitionStatus:hi,useFormState:Gc,useActionState:Gc,useOptimistic:function(d,h){var E=lt();return Fc(E,Xe,d,h)},useMemoCache:oi,useCacheRefresh:cu},Nm={readContext:yt,use:fn,useCallback:su,useContext:yt,useEffect:Qc,useImperativeHandle:tu,useInsertionEffect:Zc,useLayoutEffect:Jc,useMemo:ru,useReducer:li,useRef:Yc,useState:function(){return li(os)},useDebugValue:xi,useDeferredValue:function(d,h){var E=lt();return Xe===null?di(E,d,h):au(E,Xe.memoizedState,d,h)},useTransition:function(){var d=li(os)[0],h=lt().memoizedState;return[typeof d=="boolean"?d:pa(d),h]},useSyncExternalStore:Dc,useId:lu,useHostTransitionStatus:hi,useFormState:Kc,useActionState:Kc,useOptimistic:function(d,h){var E=lt();return Xe!==null?Fc(E,Xe,d,h):(E.baseState=d,[d,E.queue.dispatch])},useMemoCache:oi,useCacheRefresh:cu},Cr=null,fa=0;function vn(d){var h=fa;return fa+=1,Cr===null&&(Cr=[]),wc(Cr,d,h)}function ga(d,h){h=h.props.ref,d.ref=h!==void 0?h:null}function Nn(d,h){throw h.$$typeof===b?Error(o(525)):(d=Object.prototype.toString.call(h),Error(o(31,d==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":d)))}function hu(d){var h=d._init;return h(d._payload)}function ju(d){function h(de,ue){if(d){var pe=de.deletions;pe===null?(de.deletions=[ue],de.flags|=16):pe.push(ue)}}function E(de,ue){if(!d)return null;for(;ue!==null;)h(de,ue),ue=ue.sibling;return null}function w(de){for(var ue=new Map;de!==null;)de.key!==null?ue.set(de.key,de):ue.set(de.index,de),de=de.sibling;return ue}function O(de,ue){return de=ts(de,ue),de.index=0,de.sibling=null,de}function U(de,ue,pe){return de.index=pe,d?(pe=de.alternate,pe!==null?(pe=pe.index,pe<ue?(de.flags|=67108866,ue):pe):(de.flags|=67108866,ue)):(de.flags|=1048576,ue)}function W(de){return d&&de.alternate===null&&(de.flags|=67108866),de}function se(de,ue,pe,Re){return ue===null||ue.tag!==6?(ue=_o(pe,de.mode,Re),ue.return=de,ue):(ue=O(ue,pe),ue.return=de,ue)}function ie(de,ue,pe,Re){var Ne=pe.type;return Ne===N?ye(de,ue,pe.props.children,Re,pe.key):ue!==null&&(ue.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===M&&hu(Ne)===ue.type)?(ue=O(ue,pe.props),ga(ue,pe),ue.return=de,ue):(ue=an(pe.type,pe.key,pe.props,null,de.mode,Re),ga(ue,pe),ue.return=de,ue)}function he(de,ue,pe,Re){return ue===null||ue.tag!==4||ue.stateNode.containerInfo!==pe.containerInfo||ue.stateNode.implementation!==pe.implementation?(ue=Oo(pe,de.mode,Re),ue.return=de,ue):(ue=O(ue,pe.children||[]),ue.return=de,ue)}function ye(de,ue,pe,Re,Ne){return ue===null||ue.tag!==7?(ue=qs(pe,de.mode,Re,Ne),ue.return=de,ue):(ue=O(ue,pe),ue.return=de,ue)}function ve(de,ue,pe){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return ue=_o(""+ue,de.mode,pe),ue.return=de,ue;if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case R:return pe=an(ue.type,ue.key,ue.props,null,de.mode,pe),ga(pe,ue),pe.return=de,pe;case v:return ue=Oo(ue,de.mode,pe),ue.return=de,ue;case M:var Re=ue._init;return ue=Re(ue._payload),ve(de,ue,pe)}if(ee(ue)||z(ue))return ue=qs(ue,de.mode,pe,null),ue.return=de,ue;if(typeof ue.then=="function")return ve(de,vn(ue),pe);if(ue.$$typeof===T)return ve(de,un(de,ue),pe);Nn(de,ue)}return null}function be(de,ue,pe,Re){var Ne=ue!==null?ue.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return Ne!==null?null:se(de,ue,""+pe,Re);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case R:return pe.key===Ne?ie(de,ue,pe,Re):null;case v:return pe.key===Ne?he(de,ue,pe,Re):null;case M:return Ne=pe._init,pe=Ne(pe._payload),be(de,ue,pe,Re)}if(ee(pe)||z(pe))return Ne!==null?null:ye(de,ue,pe,Re,null);if(typeof pe.then=="function")return be(de,ue,vn(pe),Re);if(pe.$$typeof===T)return be(de,ue,un(de,pe),Re);Nn(de,pe)}return null}function Ee(de,ue,pe,Re,Ne){if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return de=de.get(pe)||null,se(ue,de,""+Re,Ne);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case R:return de=de.get(Re.key===null?pe:Re.key)||null,ie(ue,de,Re,Ne);case v:return de=de.get(Re.key===null?pe:Re.key)||null,he(ue,de,Re,Ne);case M:var Oe=Re._init;return Re=Oe(Re._payload),Ee(de,ue,pe,Re,Ne)}if(ee(Re)||z(Re))return de=de.get(pe)||null,ye(ue,de,Re,Ne,null);if(typeof Re.then=="function")return Ee(de,ue,pe,vn(Re),Ne);if(Re.$$typeof===T)return Ee(de,ue,pe,un(ue,Re),Ne);Nn(ue,Re)}return null}function Ie(de,ue,pe,Re){for(var Ne=null,Oe=null,Se=ue,Te=ue=0,jt=null;Se!==null&&Te<pe.length;Te++){Se.index>Te?(jt=Se,Se=null):jt=Se.sibling;var qe=be(de,Se,pe[Te],Re);if(qe===null){Se===null&&(Se=jt);break}d&&Se&&qe.alternate===null&&h(de,Se),ue=U(qe,ue,Te),Oe===null?Ne=qe:Oe.sibling=qe,Oe=qe,Se=jt}if(Te===pe.length)return E(de,Se),Ve&&Hs(de,Te),Ne;if(Se===null){for(;Te<pe.length;Te++)Se=ve(de,pe[Te],Re),Se!==null&&(ue=U(Se,ue,Te),Oe===null?Ne=Se:Oe.sibling=Se,Oe=Se);return Ve&&Hs(de,Te),Ne}for(Se=w(Se);Te<pe.length;Te++)jt=Ee(Se,de,Te,pe[Te],Re),jt!==null&&(d&&jt.alternate!==null&&Se.delete(jt.key===null?Te:jt.key),ue=U(jt,ue,Te),Oe===null?Ne=jt:Oe.sibling=jt,Oe=jt);return d&&Se.forEach(function(Os){return h(de,Os)}),Ve&&Hs(de,Te),Ne}function Pe(de,ue,pe,Re){if(pe==null)throw Error(o(151));for(var Ne=null,Oe=null,Se=ue,Te=ue=0,jt=null,qe=pe.next();Se!==null&&!qe.done;Te++,qe=pe.next()){Se.index>Te?(jt=Se,Se=null):jt=Se.sibling;var Os=be(de,Se,qe.value,Re);if(Os===null){Se===null&&(Se=jt);break}d&&Se&&Os.alternate===null&&h(de,Se),ue=U(Os,ue,Te),Oe===null?Ne=Os:Oe.sibling=Os,Oe=Os,Se=jt}if(qe.done)return E(de,Se),Ve&&Hs(de,Te),Ne;if(Se===null){for(;!qe.done;Te++,qe=pe.next())qe=ve(de,qe.value,Re),qe!==null&&(ue=U(qe,ue,Te),Oe===null?Ne=qe:Oe.sibling=qe,Oe=qe);return Ve&&Hs(de,Te),Ne}for(Se=w(Se);!qe.done;Te++,qe=pe.next())qe=Ee(Se,de,Te,qe.value,Re),qe!==null&&(d&&qe.alternate!==null&&Se.delete(qe.key===null?Te:qe.key),ue=U(qe,ue,Te),Oe===null?Ne=qe:Oe.sibling=qe,Oe=qe);return d&&Se.forEach(function(wp){return h(de,wp)}),Ve&&Hs(de,Te),Ne}function Ze(de,ue,pe,Re){if(typeof pe=="object"&&pe!==null&&pe.type===N&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case R:e:{for(var Ne=pe.key;ue!==null;){if(ue.key===Ne){if(Ne=pe.type,Ne===N){if(ue.tag===7){E(de,ue.sibling),Re=O(ue,pe.props.children),Re.return=de,de=Re;break e}}else if(ue.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===M&&hu(Ne)===ue.type){E(de,ue.sibling),Re=O(ue,pe.props),ga(Re,pe),Re.return=de,de=Re;break e}E(de,ue);break}else h(de,ue);ue=ue.sibling}pe.type===N?(Re=qs(pe.props.children,de.mode,Re,pe.key),Re.return=de,de=Re):(Re=an(pe.type,pe.key,pe.props,null,de.mode,Re),ga(Re,pe),Re.return=de,de=Re)}return W(de);case v:e:{for(Ne=pe.key;ue!==null;){if(ue.key===Ne)if(ue.tag===4&&ue.stateNode.containerInfo===pe.containerInfo&&ue.stateNode.implementation===pe.implementation){E(de,ue.sibling),Re=O(ue,pe.children||[]),Re.return=de,de=Re;break e}else{E(de,ue);break}else h(de,ue);ue=ue.sibling}Re=Oo(pe,de.mode,Re),Re.return=de,de=Re}return W(de);case M:return Ne=pe._init,pe=Ne(pe._payload),Ze(de,ue,pe,Re)}if(ee(pe))return Ie(de,ue,pe,Re);if(z(pe)){if(Ne=z(pe),typeof Ne!="function")throw Error(o(150));return pe=Ne.call(pe),Pe(de,ue,pe,Re)}if(typeof pe.then=="function")return Ze(de,ue,vn(pe),Re);if(pe.$$typeof===T)return Ze(de,ue,un(de,pe),Re);Nn(de,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint"?(pe=""+pe,ue!==null&&ue.tag===6?(E(de,ue.sibling),Re=O(ue,pe),Re.return=de,de=Re):(E(de,ue),Re=_o(pe,de.mode,Re),Re.return=de,de=Re),W(de)):E(de,ue)}return function(de,ue,pe,Re){try{fa=0;var Ne=Ze(de,ue,pe,Re);return Cr=null,Ne}catch(Se){if(Se===la||Se===dn)throw Se;var Oe=kt(29,Se,null,de.mode);return Oe.lanes=Re,Oe.return=de,Oe}finally{}}}var Ar=ju(!0),fu=ju(!1),zt=te(null),Yt=null;function Rs(d){var h=d.alternate;le(xt,xt.current&1),le(zt,d),Yt===null&&(h===null||vr.current!==null||h.memoizedState!==null)&&(Yt=d)}function gu(d){if(d.tag===22){if(le(xt,xt.current),le(zt,d),Yt===null){var h=d.alternate;h!==null&&h.memoizedState!==null&&(Yt=d)}}else vs()}function vs(){le(xt,xt.current),le(zt,zt.current)}function ls(d){Y(zt),Yt===d&&(Yt=null),Y(xt)}var xt=te(0);function wn(d){for(var h=d;h!==null;){if(h.tag===13){var E=h.memoizedState;if(E!==null&&(E=E.dehydrated,E===null||E.data==="$?"||ol(E)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}function fi(d,h,E,w){h=d.memoizedState,E=E(w,h),E=E==null?h:g({},h,E),d.memoizedState=E,d.lanes===0&&(d.updateQueue.baseState=E)}var gi={enqueueSetState:function(d,h,E){d=d._reactInternals;var w=Dt(),O=bs(w);O.payload=h,E!=null&&(O.callback=E),h=Es(d,O,w),h!==null&&(It(h,d,w),ua(h,d,w))},enqueueReplaceState:function(d,h,E){d=d._reactInternals;var w=Dt(),O=bs(w);O.tag=1,O.payload=h,E!=null&&(O.callback=E),h=Es(d,O,w),h!==null&&(It(h,d,w),ua(h,d,w))},enqueueForceUpdate:function(d,h){d=d._reactInternals;var E=Dt(),w=bs(E);w.tag=2,h!=null&&(w.callback=h),h=Es(d,w,E),h!==null&&(It(h,d,E),ua(h,d,E))}};function bu(d,h,E,w,O,U,W){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(w,U,W):h.prototype&&h.prototype.isPureReactComponent?!ea(E,w)||!ea(O,U):!0}function Eu(d,h,E,w){d=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(E,w),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(E,w),h.state!==d&&gi.enqueueReplaceState(h,h.state,null)}function Zs(d,h){var E=h;if("ref"in h){E={};for(var w in h)w!=="ref"&&(E[w]=h[w])}if(d=d.defaultProps){E===h&&(E=g({},E));for(var O in d)E[O]===void 0&&(E[O]=d[O])}return E}var Sn=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)};function yu(d){Sn(d)}function Ru(d){console.error(d)}function vu(d){Sn(d)}function Cn(d,h){try{var E=d.onUncaughtError;E(h.value,{componentStack:h.stack})}catch(w){setTimeout(function(){throw w})}}function Nu(d,h,E){try{var w=d.onCaughtError;w(E.value,{componentStack:E.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function bi(d,h,E){return E=bs(E),E.tag=3,E.payload={element:null},E.callback=function(){Cn(d,h)},E}function wu(d){return d=bs(d),d.tag=3,d}function Su(d,h,E,w){var O=E.type.getDerivedStateFromError;if(typeof O=="function"){var U=w.value;d.payload=function(){return O(U)},d.callback=function(){Nu(h,E,w)}}var W=E.stateNode;W!==null&&typeof W.componentDidCatch=="function"&&(d.callback=function(){Nu(h,E,w),typeof O!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var se=w.stack;this.componentDidCatch(w.value,{componentStack:se!==null?se:""})})}function wm(d,h,E,w,O){if(E.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(h=E.alternate,h!==null&&na(h,E,O,!0),E=zt.current,E!==null){switch(E.tag){case 13:return Yt===null?qi():E.alternate===null&&at===0&&(at=3),E.flags&=-257,E.flags|=65536,E.lanes=O,w===Wo?E.flags|=16384:(h=E.updateQueue,h===null?E.updateQueue=new Set([w]):h.add(w),Hi(d,w,O)),!1;case 22:return E.flags|=65536,w===Wo?E.flags|=16384:(h=E.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([w])},E.updateQueue=h):(E=h.retryQueue,E===null?h.retryQueue=new Set([w]):E.add(w)),Hi(d,w,O)),!1}throw Error(o(435,E.tag))}return Hi(d,w,O),qi(),!1}if(Ve)return h=zt.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=O,w!==Bo&&(d=Error(o(422),{cause:w}),aa(Mt(d,E)))):(w!==Bo&&(h=Error(o(423),{cause:w}),aa(Mt(h,E))),d=d.current.alternate,d.flags|=65536,O&=-O,d.lanes|=O,w=Mt(w,E),O=bi(d.stateNode,w,O),Xo(d,O),at!==4&&(at=2)),!1;var U=Error(o(520),{cause:w});if(U=Mt(U,E),wa===null?wa=[U]:wa.push(U),at!==4&&(at=2),h===null)return!0;w=Mt(w,E),E=h;do{switch(E.tag){case 3:return E.flags|=65536,d=O&-O,E.lanes|=d,d=bi(E.stateNode,w,d),Xo(E,d),!1;case 1:if(h=E.type,U=E.stateNode,(E.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(ks===null||!ks.has(U))))return E.flags|=65536,O&=-O,E.lanes|=O,O=wu(O),Su(O,d,E,w),Xo(E,O),!1}E=E.return}while(E!==null);return!1}var Cu=Error(o(461)),pt=!1;function ft(d,h,E,w){h.child=d===null?fu(h,null,E,w):Ar(h,d.child,E,w)}function Au(d,h,E,w,O){E=E.render;var U=h.ref;if("ref"in w){var W={};for(var se in w)se!=="ref"&&(W[se]=w[se])}else W=w;return Ys(h),w=ti(d,h,E,W,U,O),se=si(),d!==null&&!pt?(ri(d,h,O),cs(d,h,O)):(Ve&&se&&Mo(h),h.flags|=1,ft(d,h,w,O),h.child)}function ku(d,h,E,w,O){if(d===null){var U=E.type;return typeof U=="function"&&!Lo(U)&&U.defaultProps===void 0&&E.compare===null?(h.tag=15,h.type=U,Pu(d,h,U,w,O)):(d=an(E.type,null,w,h,h.mode,O),d.ref=h.ref,d.return=h,h.child=d)}if(U=d.child,!Ci(d,O)){var W=U.memoizedProps;if(E=E.compare,E=E!==null?E:ea,E(W,w)&&d.ref===h.ref)return cs(d,h,O)}return h.flags|=1,d=ts(U,w),d.ref=h.ref,d.return=h,h.child=d}function Pu(d,h,E,w,O){if(d!==null){var U=d.memoizedProps;if(ea(U,w)&&d.ref===h.ref)if(pt=!1,h.pendingProps=w=U,Ci(d,O))(d.flags&131072)!==0&&(pt=!0);else return h.lanes=d.lanes,cs(d,h,O)}return Ei(d,h,E,w,O)}function $u(d,h,E){var w=h.pendingProps,O=w.children,U=d!==null?d.memoizedState:null;if(w.mode==="hidden"){if((h.flags&128)!==0){if(w=U!==null?U.baseLanes|E:E,d!==null){for(O=h.child=d.child,U=0;O!==null;)U=U|O.lanes|O.childLanes,O=O.sibling;h.childLanes=U&~w}else h.childLanes=0,h.child=null;return Tu(d,h,w,E)}if((E&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},d!==null&&xn(h,U!==null?U.cachePool:null),U!==null?Pc(h,U):Zo(),gu(h);else return h.lanes=h.childLanes=536870912,Tu(d,h,U!==null?U.baseLanes|E:E,E)}else U!==null?(xn(h,U.cachePool),Pc(h,U),vs(),h.memoizedState=null):(d!==null&&xn(h,null),Zo(),vs());return ft(d,h,O,E),h.child}function Tu(d,h,E,w){var O=Go();return O=O===null?null:{parent:ut._currentValue,pool:O},h.memoizedState={baseLanes:E,cachePool:O},d!==null&&xn(h,null),Zo(),gu(h),d!==null&&na(d,h,w,!0),null}function An(d,h){var E=h.ref;if(E===null)d!==null&&d.ref!==null&&(h.flags|=4194816);else{if(typeof E!="function"&&typeof E!="object")throw Error(o(284));(d===null||d.ref!==E)&&(h.flags|=4194816)}}function Ei(d,h,E,w,O){return Ys(h),E=ti(d,h,E,w,void 0,O),w=si(),d!==null&&!pt?(ri(d,h,O),cs(d,h,O)):(Ve&&w&&Mo(h),h.flags|=1,ft(d,h,E,O),h.child)}function Du(d,h,E,w,O,U){return Ys(h),h.updateQueue=null,E=Tc(h,w,E,O),$c(d),w=si(),d!==null&&!pt?(ri(d,h,U),cs(d,h,U)):(Ve&&w&&Mo(h),h.flags|=1,ft(d,h,E,U),h.child)}function Iu(d,h,E,w,O){if(Ys(h),h.stateNode===null){var U=gr,W=E.contextType;typeof W=="object"&&W!==null&&(U=yt(W)),U=new E(w,U),h.memoizedState=U.state!==null&&U.state!==void 0?U.state:null,U.updater=gi,h.stateNode=U,U._reactInternals=h,U=h.stateNode,U.props=w,U.state=h.memoizedState,U.refs={},Ko(h),W=E.contextType,U.context=typeof W=="object"&&W!==null?yt(W):gr,U.state=h.memoizedState,W=E.getDerivedStateFromProps,typeof W=="function"&&(fi(h,E,W,w),U.state=h.memoizedState),typeof E.getDerivedStateFromProps=="function"||typeof U.getSnapshotBeforeUpdate=="function"||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(W=U.state,typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount(),W!==U.state&&gi.enqueueReplaceState(U,U.state,null),da(h,w,U,O),xa(),U.state=h.memoizedState),typeof U.componentDidMount=="function"&&(h.flags|=4194308),w=!0}else if(d===null){U=h.stateNode;var se=h.memoizedProps,ie=Zs(E,se);U.props=ie;var he=U.context,ye=E.contextType;W=gr,typeof ye=="object"&&ye!==null&&(W=yt(ye));var ve=E.getDerivedStateFromProps;ye=typeof ve=="function"||typeof U.getSnapshotBeforeUpdate=="function",se=h.pendingProps!==se,ye||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(se||he!==W)&&Eu(h,U,w,W),gs=!1;var be=h.memoizedState;U.state=be,da(h,w,U,O),xa(),he=h.memoizedState,se||be!==he||gs?(typeof ve=="function"&&(fi(h,E,ve,w),he=h.memoizedState),(ie=gs||bu(h,E,ie,w,be,he,W))?(ye||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(h.flags|=4194308)):(typeof U.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=w,h.memoizedState=he),U.props=w,U.state=he,U.context=W,w=ie):(typeof U.componentDidMount=="function"&&(h.flags|=4194308),w=!1)}else{U=h.stateNode,Yo(d,h),W=h.memoizedProps,ye=Zs(E,W),U.props=ye,ve=h.pendingProps,be=U.context,he=E.contextType,ie=gr,typeof he=="object"&&he!==null&&(ie=yt(he)),se=E.getDerivedStateFromProps,(he=typeof se=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(W!==ve||be!==ie)&&Eu(h,U,w,ie),gs=!1,be=h.memoizedState,U.state=be,da(h,w,U,O),xa();var Ee=h.memoizedState;W!==ve||be!==Ee||gs||d!==null&&d.dependencies!==null&&cn(d.dependencies)?(typeof se=="function"&&(fi(h,E,se,w),Ee=h.memoizedState),(ye=gs||bu(h,E,ye,w,be,Ee,ie)||d!==null&&d.dependencies!==null&&cn(d.dependencies))?(he||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(w,Ee,ie),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(w,Ee,ie)),typeof U.componentDidUpdate=="function"&&(h.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof U.componentDidUpdate!="function"||W===d.memoizedProps&&be===d.memoizedState||(h.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||W===d.memoizedProps&&be===d.memoizedState||(h.flags|=1024),h.memoizedProps=w,h.memoizedState=Ee),U.props=w,U.state=Ee,U.context=ie,w=ye):(typeof U.componentDidUpdate!="function"||W===d.memoizedProps&&be===d.memoizedState||(h.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||W===d.memoizedProps&&be===d.memoizedState||(h.flags|=1024),w=!1)}return U=w,An(d,h),w=(h.flags&128)!==0,U||w?(U=h.stateNode,E=w&&typeof E.getDerivedStateFromError!="function"?null:U.render(),h.flags|=1,d!==null&&w?(h.child=Ar(h,d.child,null,O),h.child=Ar(h,null,E,O)):ft(d,h,E,O),h.memoizedState=U.state,d=h.child):d=cs(d,h,O),d}function Lu(d,h,E,w){return ra(),h.flags|=256,ft(d,h,E,w),h.child}var yi={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ri(d){return{baseLanes:d,cachePool:Rc()}}function vi(d,h,E){return d=d!==null?d.childLanes&~E:0,h&&(d|=qt),d}function _u(d,h,E){var w=h.pendingProps,O=!1,U=(h.flags&128)!==0,W;if((W=U)||(W=d!==null&&d.memoizedState===null?!1:(xt.current&2)!==0),W&&(O=!0,h.flags&=-129),W=(h.flags&32)!==0,h.flags&=-33,d===null){if(Ve){if(O?Rs(h):vs(),Ve){var se=rt,ie;if(ie=se){e:{for(ie=se,se=Kt;ie.nodeType!==8;){if(!se){se=null;break e}if(ie=Wt(ie.nextSibling),ie===null){se=null;break e}}se=ie}se!==null?(h.memoizedState={dehydrated:se,treeContext:Vs!==null?{id:ss,overflow:rs}:null,retryLane:536870912,hydrationErrors:null},ie=kt(18,null,null,0),ie.stateNode=se,ie.return=h,h.child=ie,Rt=h,rt=null,ie=!0):ie=!1}ie||Ws(h)}if(se=h.memoizedState,se!==null&&(se=se.dehydrated,se!==null))return ol(se)?h.lanes=32:h.lanes=536870912,null;ls(h)}return se=w.children,w=w.fallback,O?(vs(),O=h.mode,se=kn({mode:"hidden",children:se},O),w=qs(w,O,E,null),se.return=h,w.return=h,se.sibling=w,h.child=se,O=h.child,O.memoizedState=Ri(E),O.childLanes=vi(d,W,E),h.memoizedState=yi,w):(Rs(h),Ni(h,se))}if(ie=d.memoizedState,ie!==null&&(se=ie.dehydrated,se!==null)){if(U)h.flags&256?(Rs(h),h.flags&=-257,h=wi(d,h,E)):h.memoizedState!==null?(vs(),h.child=d.child,h.flags|=128,h=null):(vs(),O=w.fallback,se=h.mode,w=kn({mode:"visible",children:w.children},se),O=qs(O,se,E,null),O.flags|=2,w.return=h,O.return=h,w.sibling=O,h.child=w,Ar(h,d.child,null,E),w=h.child,w.memoizedState=Ri(E),w.childLanes=vi(d,W,E),h.memoizedState=yi,h=O);else if(Rs(h),ol(se)){if(W=se.nextSibling&&se.nextSibling.dataset,W)var he=W.dgst;W=he,w=Error(o(419)),w.stack="",w.digest=W,aa({value:w,source:null,stack:null}),h=wi(d,h,E)}else if(pt||na(d,h,E,!1),W=(E&d.childLanes)!==0,pt||W){if(W=et,W!==null&&(w=E&-E,w=(w&42)!==0?1:no(w),w=(w&(W.suspendedLanes|E))!==0?0:w,w!==0&&w!==ie.retryLane))throw ie.retryLane=w,fr(d,w),It(W,d,w),Cu;se.data==="$?"||qi(),h=wi(d,h,E)}else se.data==="$?"?(h.flags|=192,h.child=d.child,h=null):(d=ie.treeContext,rt=Wt(se.nextSibling),Rt=h,Ve=!0,Gs=null,Kt=!1,d!==null&&(Bt[Ut++]=ss,Bt[Ut++]=rs,Bt[Ut++]=Vs,ss=d.id,rs=d.overflow,Vs=h),h=Ni(h,w.children),h.flags|=4096);return h}return O?(vs(),O=w.fallback,se=h.mode,ie=d.child,he=ie.sibling,w=ts(ie,{mode:"hidden",children:w.children}),w.subtreeFlags=ie.subtreeFlags&65011712,he!==null?O=ts(he,O):(O=qs(O,se,E,null),O.flags|=2),O.return=h,w.return=h,w.sibling=O,h.child=w,w=O,O=h.child,se=d.child.memoizedState,se===null?se=Ri(E):(ie=se.cachePool,ie!==null?(he=ut._currentValue,ie=ie.parent!==he?{parent:he,pool:he}:ie):ie=Rc(),se={baseLanes:se.baseLanes|E,cachePool:ie}),O.memoizedState=se,O.childLanes=vi(d,W,E),h.memoizedState=yi,w):(Rs(h),E=d.child,d=E.sibling,E=ts(E,{mode:"visible",children:w.children}),E.return=h,E.sibling=null,d!==null&&(W=h.deletions,W===null?(h.deletions=[d],h.flags|=16):W.push(d)),h.child=E,h.memoizedState=null,E)}function Ni(d,h){return h=kn({mode:"visible",children:h},d.mode),h.return=d,d.child=h}function kn(d,h){return d=kt(22,d,null,h),d.lanes=0,d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},d}function wi(d,h,E){return Ar(h,d.child,null,E),d=Ni(h,h.pendingProps.children),d.flags|=2,h.memoizedState=null,d}function Ou(d,h,E){d.lanes|=h;var w=d.alternate;w!==null&&(w.lanes|=h),zo(d.return,h,E)}function Si(d,h,E,w,O){var U=d.memoizedState;U===null?d.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:w,tail:E,tailMode:O}:(U.isBackwards=h,U.rendering=null,U.renderingStartTime=0,U.last=w,U.tail=E,U.tailMode=O)}function Mu(d,h,E){var w=h.pendingProps,O=w.revealOrder,U=w.tail;if(ft(d,h,w.children,E),w=xt.current,(w&2)!==0)w=w&1|2,h.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=h.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&Ou(d,E,h);else if(d.tag===19)Ou(d,E,h);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}w&=1}switch(le(xt,w),O){case"forwards":for(E=h.child,O=null;E!==null;)d=E.alternate,d!==null&&wn(d)===null&&(O=E),E=E.sibling;E=O,E===null?(O=h.child,h.child=null):(O=E.sibling,E.sibling=null),Si(h,!1,O,E,U);break;case"backwards":for(E=null,O=h.child,h.child=null;O!==null;){if(d=O.alternate,d!==null&&wn(d)===null){h.child=O;break}d=O.sibling,O.sibling=E,E=O,O=d}Si(h,!0,E,null,U);break;case"together":Si(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function cs(d,h,E){if(d!==null&&(h.dependencies=d.dependencies),As|=h.lanes,(E&h.childLanes)===0)if(d!==null){if(na(d,h,E,!1),(E&h.childLanes)===0)return null}else return null;if(d!==null&&h.child!==d.child)throw Error(o(153));if(h.child!==null){for(d=h.child,E=ts(d,d.pendingProps),h.child=E,E.return=h;d.sibling!==null;)d=d.sibling,E=E.sibling=ts(d,d.pendingProps),E.return=h;E.sibling=null}return h.child}function Ci(d,h){return(d.lanes&h)!==0?!0:(d=d.dependencies,!!(d!==null&&cn(d)))}function Sm(d,h,E){switch(h.tag){case 3:oe(h,h.stateNode.containerInfo),fs(h,ut,d.memoizedState.cache),ra();break;case 27:case 5:fe(h);break;case 4:oe(h,h.stateNode.containerInfo);break;case 10:fs(h,h.type,h.memoizedProps.value);break;case 13:var w=h.memoizedState;if(w!==null)return w.dehydrated!==null?(Rs(h),h.flags|=128,null):(E&h.child.childLanes)!==0?_u(d,h,E):(Rs(h),d=cs(d,h,E),d!==null?d.sibling:null);Rs(h);break;case 19:var O=(d.flags&128)!==0;if(w=(E&h.childLanes)!==0,w||(na(d,h,E,!1),w=(E&h.childLanes)!==0),O){if(w)return Mu(d,h,E);h.flags|=128}if(O=h.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),le(xt,xt.current),w)break;return null;case 22:case 23:return h.lanes=0,$u(d,h,E);case 24:fs(h,ut,d.memoizedState.cache)}return cs(d,h,E)}function Fu(d,h,E){if(d!==null)if(d.memoizedProps!==h.pendingProps)pt=!0;else{if(!Ci(d,E)&&(h.flags&128)===0)return pt=!1,Sm(d,h,E);pt=(d.flags&131072)!==0}else pt=!1,Ve&&(h.flags&1048576)!==0&&hc(h,on,h.index);switch(h.lanes=0,h.tag){case 16:e:{d=h.pendingProps;var w=h.elementType,O=w._init;if(w=O(w._payload),h.type=w,typeof w=="function")Lo(w)?(d=Zs(w,d),h.tag=1,h=Iu(null,h,w,d,E)):(h.tag=0,h=Ei(null,h,w,d,E));else{if(w!=null){if(O=w.$$typeof,O===D){h.tag=11,h=Au(null,h,w,d,E);break e}else if(O===_){h.tag=14,h=ku(null,h,w,d,E);break e}}throw h=Q(w)||w,Error(o(306,h,""))}}return h;case 0:return Ei(d,h,h.type,h.pendingProps,E);case 1:return w=h.type,O=Zs(w,h.pendingProps),Iu(d,h,w,O,E);case 3:e:{if(oe(h,h.stateNode.containerInfo),d===null)throw Error(o(387));w=h.pendingProps;var U=h.memoizedState;O=U.element,Yo(d,h),da(h,w,null,E);var W=h.memoizedState;if(w=W.cache,fs(h,ut,w),w!==U.cache&&qo(h,[ut],E,!0),xa(),w=W.element,U.isDehydrated)if(U={element:w,isDehydrated:!1,cache:W.cache},h.updateQueue.baseState=U,h.memoizedState=U,h.flags&256){h=Lu(d,h,w,E);break e}else if(w!==O){O=Mt(Error(o(424)),h),aa(O),h=Lu(d,h,w,E);break e}else{switch(d=h.stateNode.containerInfo,d.nodeType){case 9:d=d.body;break;default:d=d.nodeName==="HTML"?d.ownerDocument.body:d}for(rt=Wt(d.firstChild),Rt=h,Ve=!0,Gs=null,Kt=!0,E=fu(h,null,w,E),h.child=E;E;)E.flags=E.flags&-3|4096,E=E.sibling}else{if(ra(),w===O){h=cs(d,h,E);break e}ft(d,h,w,E)}h=h.child}return h;case 26:return An(d,h),d===null?(E=Hx(h.type,null,h.pendingProps,null))?h.memoizedState=E:Ve||(E=h.type,d=h.pendingProps,w=qn(Z.current).createElement(E),w[Et]=h,w[vt]=d,bt(w,E,d),mt(w),h.stateNode=w):h.memoizedState=Hx(h.type,d.memoizedProps,h.pendingProps,d.memoizedState),null;case 27:return fe(h),d===null&&Ve&&(w=h.stateNode=zx(h.type,h.pendingProps,Z.current),Rt=h,Kt=!0,O=rt,Ts(h.type)?(il=O,rt=Wt(w.firstChild)):rt=O),ft(d,h,h.pendingProps.children,E),An(d,h),d===null&&(h.flags|=4194304),h.child;case 5:return d===null&&Ve&&((O=w=rt)&&(w=ep(w,h.type,h.pendingProps,Kt),w!==null?(h.stateNode=w,Rt=h,rt=Wt(w.firstChild),Kt=!1,O=!0):O=!1),O||Ws(h)),fe(h),O=h.type,U=h.pendingProps,W=d!==null?d.memoizedProps:null,w=U.children,rl(O,U)?w=null:W!==null&&rl(O,W)&&(h.flags|=32),h.memoizedState!==null&&(O=ti(d,h,gm,null,null,E),La._currentValue=O),An(d,h),ft(d,h,w,E),h.child;case 6:return d===null&&Ve&&((d=E=rt)&&(E=tp(E,h.pendingProps,Kt),E!==null?(h.stateNode=E,Rt=h,rt=null,d=!0):d=!1),d||Ws(h)),null;case 13:return _u(d,h,E);case 4:return oe(h,h.stateNode.containerInfo),w=h.pendingProps,d===null?h.child=Ar(h,null,w,E):ft(d,h,w,E),h.child;case 11:return Au(d,h,h.type,h.pendingProps,E);case 7:return ft(d,h,h.pendingProps,E),h.child;case 8:return ft(d,h,h.pendingProps.children,E),h.child;case 12:return ft(d,h,h.pendingProps.children,E),h.child;case 10:return w=h.pendingProps,fs(h,h.type,w.value),ft(d,h,w.children,E),h.child;case 9:return O=h.type._context,w=h.pendingProps.children,Ys(h),O=yt(O),w=w(O),h.flags|=1,ft(d,h,w,E),h.child;case 14:return ku(d,h,h.type,h.pendingProps,E);case 15:return Pu(d,h,h.type,h.pendingProps,E);case 19:return Mu(d,h,E);case 31:return w=h.pendingProps,E=h.mode,w={mode:w.mode,children:w.children},d===null?(E=kn(w,E),E.ref=h.ref,h.child=E,E.return=h,h=E):(E=ts(d.child,w),E.ref=h.ref,h.child=E,E.return=h,h=E),h;case 22:return $u(d,h,E);case 24:return Ys(h),w=yt(ut),d===null?(O=Go(),O===null&&(O=et,U=Vo(),O.pooledCache=U,U.refCount++,U!==null&&(O.pooledCacheLanes|=E),O=U),h.memoizedState={parent:w,cache:O},Ko(h),fs(h,ut,O)):((d.lanes&E)!==0&&(Yo(d,h),da(h,null,null,E),xa()),O=d.memoizedState,U=h.memoizedState,O.parent!==w?(O={parent:w,cache:w},h.memoizedState=O,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=O),fs(h,ut,w)):(w=U.cache,fs(h,ut,w),w!==O.cache&&qo(h,[ut],E,!0))),ft(d,h,h.pendingProps.children,E),h.child;case 29:throw h.pendingProps}throw Error(o(156,h.tag))}function us(d){d.flags|=4}function Bu(d,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)d.flags&=-16777217;else if(d.flags|=16777216,!Xx(h)){if(h=zt.current,h!==null&&((ze&4194048)===ze?Yt!==null:(ze&62914560)!==ze&&(ze&536870912)===0||h!==Yt))throw ca=Wo,vc;d.flags|=8192}}function Pn(d,h){h!==null&&(d.flags|=4),d.flags&16384&&(h=d.tag!==22?gl():536870912,d.lanes|=h,Dr|=h)}function ba(d,h){if(!Ve)switch(d.tailMode){case"hidden":h=d.tail;for(var E=null;h!==null;)h.alternate!==null&&(E=h),h=h.sibling;E===null?d.tail=null:E.sibling=null;break;case"collapsed":E=d.tail;for(var w=null;E!==null;)E.alternate!==null&&(w=E),E=E.sibling;w===null?h||d.tail===null?d.tail=null:d.tail.sibling=null:w.sibling=null}}function st(d){var h=d.alternate!==null&&d.alternate.child===d.child,E=0,w=0;if(h)for(var O=d.child;O!==null;)E|=O.lanes|O.childLanes,w|=O.subtreeFlags&65011712,w|=O.flags&65011712,O.return=d,O=O.sibling;else for(O=d.child;O!==null;)E|=O.lanes|O.childLanes,w|=O.subtreeFlags,w|=O.flags,O.return=d,O=O.sibling;return d.subtreeFlags|=w,d.childLanes=E,h}function Cm(d,h,E){var w=h.pendingProps;switch(Fo(h),h.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(h),null;case 1:return st(h),null;case 3:return E=h.stateNode,w=null,d!==null&&(w=d.memoizedState.cache),h.memoizedState.cache!==w&&(h.flags|=2048),ns(ut),me(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(d===null||d.child===null)&&(sa(h)?us(h):d===null||d.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,gc())),st(h),null;case 26:return E=h.memoizedState,d===null?(us(h),E!==null?(st(h),Bu(h,E)):(st(h),h.flags&=-16777217)):E?E!==d.memoizedState?(us(h),st(h),Bu(h,E)):(st(h),h.flags&=-16777217):(d.memoizedProps!==w&&us(h),st(h),h.flags&=-16777217),null;case 27:xe(h),E=Z.current;var O=h.type;if(d!==null&&h.stateNode!=null)d.memoizedProps!==w&&us(h);else{if(!w){if(h.stateNode===null)throw Error(o(166));return st(h),null}d=je.current,sa(h)?jc(h):(d=zx(O,w,E),h.stateNode=d,us(h))}return st(h),null;case 5:if(xe(h),E=h.type,d!==null&&h.stateNode!=null)d.memoizedProps!==w&&us(h);else{if(!w){if(h.stateNode===null)throw Error(o(166));return st(h),null}if(d=je.current,sa(h))jc(h);else{switch(O=qn(Z.current),d){case 1:d=O.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:d=O.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":d=O.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":d=O.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":d=O.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof w.is=="string"?O.createElement("select",{is:w.is}):O.createElement("select"),w.multiple?d.multiple=!0:w.size&&(d.size=w.size);break;default:d=typeof w.is=="string"?O.createElement(E,{is:w.is}):O.createElement(E)}}d[Et]=h,d[vt]=w;e:for(O=h.child;O!==null;){if(O.tag===5||O.tag===6)d.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===h)break e;for(;O.sibling===null;){if(O.return===null||O.return===h)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}h.stateNode=d;e:switch(bt(d,E,w),E){case"button":case"input":case"select":case"textarea":d=!!w.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&us(h)}}return st(h),h.flags&=-16777217,null;case 6:if(d&&h.stateNode!=null)d.memoizedProps!==w&&us(h);else{if(typeof w!="string"&&h.stateNode===null)throw Error(o(166));if(d=Z.current,sa(h)){if(d=h.stateNode,E=h.memoizedProps,w=null,O=Rt,O!==null)switch(O.tag){case 27:case 5:w=O.memoizedProps}d[Et]=h,d=!!(d.nodeValue===E||w!==null&&w.suppressHydrationWarning===!0||Lx(d.nodeValue,E)),d||Ws(h)}else d=qn(d).createTextNode(w),d[Et]=h,h.stateNode=d}return st(h),null;case 13:if(w=h.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(O=sa(h),w!==null&&w.dehydrated!==null){if(d===null){if(!O)throw Error(o(318));if(O=h.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(o(317));O[Et]=h}else ra(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;st(h),O=!1}else O=gc(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=O),O=!0;if(!O)return h.flags&256?(ls(h),h):(ls(h),null)}if(ls(h),(h.flags&128)!==0)return h.lanes=E,h;if(E=w!==null,d=d!==null&&d.memoizedState!==null,E){w=h.child,O=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(O=w.alternate.memoizedState.cachePool.pool);var U=null;w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(U=w.memoizedState.cachePool.pool),U!==O&&(w.flags|=2048)}return E!==d&&E&&(h.child.flags|=8192),Pn(h,h.updateQueue),st(h),null;case 4:return me(),d===null&&Zi(h.stateNode.containerInfo),st(h),null;case 10:return ns(h.type),st(h),null;case 19:if(Y(xt),O=h.memoizedState,O===null)return st(h),null;if(w=(h.flags&128)!==0,U=O.rendering,U===null)if(w)ba(O,!1);else{if(at!==0||d!==null&&(d.flags&128)!==0)for(d=h.child;d!==null;){if(U=wn(d),U!==null){for(h.flags|=128,ba(O,!1),d=U.updateQueue,h.updateQueue=d,Pn(h,d),h.subtreeFlags=0,d=E,E=h.child;E!==null;)pc(E,d),E=E.sibling;return le(xt,xt.current&1|2),h.child}d=d.sibling}O.tail!==null&&Ye()>Dn&&(h.flags|=128,w=!0,ba(O,!1),h.lanes=4194304)}else{if(!w)if(d=wn(U),d!==null){if(h.flags|=128,w=!0,d=d.updateQueue,h.updateQueue=d,Pn(h,d),ba(O,!0),O.tail===null&&O.tailMode==="hidden"&&!U.alternate&&!Ve)return st(h),null}else 2*Ye()-O.renderingStartTime>Dn&&E!==536870912&&(h.flags|=128,w=!0,ba(O,!1),h.lanes=4194304);O.isBackwards?(U.sibling=h.child,h.child=U):(d=O.last,d!==null?d.sibling=U:h.child=U,O.last=U)}return O.tail!==null?(h=O.tail,O.rendering=h,O.tail=h.sibling,O.renderingStartTime=Ye(),h.sibling=null,d=xt.current,le(xt,w?d&1|2:d&1),h):(st(h),null);case 22:case 23:return ls(h),Jo(),w=h.memoizedState!==null,d!==null?d.memoizedState!==null!==w&&(h.flags|=8192):w&&(h.flags|=8192),w?(E&536870912)!==0&&(h.flags&128)===0&&(st(h),h.subtreeFlags&6&&(h.flags|=8192)):st(h),E=h.updateQueue,E!==null&&Pn(h,E.retryQueue),E=null,d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(E=d.memoizedState.cachePool.pool),w=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==E&&(h.flags|=2048),d!==null&&Y(Xs),null;case 24:return E=null,d!==null&&(E=d.memoizedState.cache),h.memoizedState.cache!==E&&(h.flags|=2048),ns(ut),st(h),null;case 25:return null;case 30:return null}throw Error(o(156,h.tag))}function Am(d,h){switch(Fo(h),h.tag){case 1:return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 3:return ns(ut),me(),d=h.flags,(d&65536)!==0&&(d&128)===0?(h.flags=d&-65537|128,h):null;case 26:case 27:case 5:return xe(h),null;case 13:if(ls(h),d=h.memoizedState,d!==null&&d.dehydrated!==null){if(h.alternate===null)throw Error(o(340));ra()}return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 19:return Y(xt),null;case 4:return me(),null;case 10:return ns(h.type),null;case 22:case 23:return ls(h),Jo(),d!==null&&Y(Xs),d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 24:return ns(ut),null;case 25:return null;default:return null}}function Uu(d,h){switch(Fo(h),h.tag){case 3:ns(ut),me();break;case 26:case 27:case 5:xe(h);break;case 4:me();break;case 13:ls(h);break;case 19:Y(xt);break;case 10:ns(h.type);break;case 22:case 23:ls(h),Jo(),d!==null&&Y(Xs);break;case 24:ns(ut)}}function Ea(d,h){try{var E=h.updateQueue,w=E!==null?E.lastEffect:null;if(w!==null){var O=w.next;E=O;do{if((E.tag&d)===d){w=void 0;var U=E.create,W=E.inst;w=U(),W.destroy=w}E=E.next}while(E!==O)}}catch(se){Je(h,h.return,se)}}function Ns(d,h,E){try{var w=h.updateQueue,O=w!==null?w.lastEffect:null;if(O!==null){var U=O.next;w=U;do{if((w.tag&d)===d){var W=w.inst,se=W.destroy;if(se!==void 0){W.destroy=void 0,O=h;var ie=E,he=se;try{he()}catch(ye){Je(O,ie,ye)}}}w=w.next}while(w!==U)}}catch(ye){Je(h,h.return,ye)}}function zu(d){var h=d.updateQueue;if(h!==null){var E=d.stateNode;try{kc(h,E)}catch(w){Je(d,d.return,w)}}}function qu(d,h,E){E.props=Zs(d.type,d.memoizedProps),E.state=d.memoizedState;try{E.componentWillUnmount()}catch(w){Je(d,h,w)}}function ya(d,h){try{var E=d.ref;if(E!==null){switch(d.tag){case 26:case 27:case 5:var w=d.stateNode;break;case 30:w=d.stateNode;break;default:w=d.stateNode}typeof E=="function"?d.refCleanup=E(w):E.current=w}}catch(O){Je(d,h,O)}}function Xt(d,h){var E=d.ref,w=d.refCleanup;if(E!==null)if(typeof w=="function")try{w()}catch(O){Je(d,h,O)}finally{d.refCleanup=null,d=d.alternate,d!=null&&(d.refCleanup=null)}else if(typeof E=="function")try{E(null)}catch(O){Je(d,h,O)}else E.current=null}function Vu(d){var h=d.type,E=d.memoizedProps,w=d.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":E.autoFocus&&w.focus();break e;case"img":E.src?w.src=E.src:E.srcSet&&(w.srcset=E.srcSet)}}catch(O){Je(d,d.return,O)}}function Ai(d,h,E){try{var w=d.stateNode;Ym(w,d.type,E,h),w[vt]=h}catch(O){Je(d,d.return,O)}}function Hu(d){return d.tag===5||d.tag===3||d.tag===26||d.tag===27&&Ts(d.type)||d.tag===4}function ki(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||Hu(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.tag===27&&Ts(d.type)||d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function Pi(d,h,E){var w=d.tag;if(w===5||w===6)d=d.stateNode,h?(E.nodeType===9?E.body:E.nodeName==="HTML"?E.ownerDocument.body:E).insertBefore(d,h):(h=E.nodeType===9?E.body:E.nodeName==="HTML"?E.ownerDocument.body:E,h.appendChild(d),E=E._reactRootContainer,E!=null||h.onclick!==null||(h.onclick=zn));else if(w!==4&&(w===27&&Ts(d.type)&&(E=d.stateNode,h=null),d=d.child,d!==null))for(Pi(d,h,E),d=d.sibling;d!==null;)Pi(d,h,E),d=d.sibling}function $n(d,h,E){var w=d.tag;if(w===5||w===6)d=d.stateNode,h?E.insertBefore(d,h):E.appendChild(d);else if(w!==4&&(w===27&&Ts(d.type)&&(E=d.stateNode),d=d.child,d!==null))for($n(d,h,E),d=d.sibling;d!==null;)$n(d,h,E),d=d.sibling}function Gu(d){var h=d.stateNode,E=d.memoizedProps;try{for(var w=d.type,O=h.attributes;O.length;)h.removeAttributeNode(O[0]);bt(h,w,E),h[Et]=d,h[vt]=E}catch(U){Je(d,d.return,U)}}var xs=!1,ot=!1,$i=!1,Wu=typeof WeakSet=="function"?WeakSet:Set,ht=null;function km(d,h){if(d=d.containerInfo,tl=Yn,d=ac(d),Ao(d)){if("selectionStart"in d)var E={start:d.selectionStart,end:d.selectionEnd};else e:{E=(E=d.ownerDocument)&&E.defaultView||window;var w=E.getSelection&&E.getSelection();if(w&&w.rangeCount!==0){E=w.anchorNode;var O=w.anchorOffset,U=w.focusNode;w=w.focusOffset;try{E.nodeType,U.nodeType}catch{E=null;break e}var W=0,se=-1,ie=-1,he=0,ye=0,ve=d,be=null;t:for(;;){for(var Ee;ve!==E||O!==0&&ve.nodeType!==3||(se=W+O),ve!==U||w!==0&&ve.nodeType!==3||(ie=W+w),ve.nodeType===3&&(W+=ve.nodeValue.length),(Ee=ve.firstChild)!==null;)be=ve,ve=Ee;for(;;){if(ve===d)break t;if(be===E&&++he===O&&(se=W),be===U&&++ye===w&&(ie=W),(Ee=ve.nextSibling)!==null)break;ve=be,be=ve.parentNode}ve=Ee}E=se===-1||ie===-1?null:{start:se,end:ie}}else E=null}E=E||{start:0,end:0}}else E=null;for(sl={focusedElem:d,selectionRange:E},Yn=!1,ht=h;ht!==null;)if(h=ht,d=h.child,(h.subtreeFlags&1024)!==0&&d!==null)d.return=h,ht=d;else for(;ht!==null;){switch(h=ht,U=h.alternate,d=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((d&1024)!==0&&U!==null){d=void 0,E=h,O=U.memoizedProps,U=U.memoizedState,w=E.stateNode;try{var Ie=Zs(E.type,O,E.elementType===E.type);d=w.getSnapshotBeforeUpdate(Ie,U),w.__reactInternalSnapshotBeforeUpdate=d}catch(Pe){Je(E,E.return,Pe)}}break;case 3:if((d&1024)!==0){if(d=h.stateNode.containerInfo,E=d.nodeType,E===9)nl(d);else if(E===1)switch(d.nodeName){case"HEAD":case"HTML":case"BODY":nl(d);break;default:d.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(o(163))}if(d=h.sibling,d!==null){d.return=h.return,ht=d;break}ht=h.return}}function Ku(d,h,E){var w=E.flags;switch(E.tag){case 0:case 11:case 15:ws(d,E),w&4&&Ea(5,E);break;case 1:if(ws(d,E),w&4)if(d=E.stateNode,h===null)try{d.componentDidMount()}catch(W){Je(E,E.return,W)}else{var O=Zs(E.type,h.memoizedProps);h=h.memoizedState;try{d.componentDidUpdate(O,h,d.__reactInternalSnapshotBeforeUpdate)}catch(W){Je(E,E.return,W)}}w&64&&zu(E),w&512&&ya(E,E.return);break;case 3:if(ws(d,E),w&64&&(d=E.updateQueue,d!==null)){if(h=null,E.child!==null)switch(E.child.tag){case 27:case 5:h=E.child.stateNode;break;case 1:h=E.child.stateNode}try{kc(d,h)}catch(W){Je(E,E.return,W)}}break;case 27:h===null&&w&4&&Gu(E);case 26:case 5:ws(d,E),h===null&&w&4&&Vu(E),w&512&&ya(E,E.return);break;case 12:ws(d,E);break;case 13:ws(d,E),w&4&&Qu(d,E),w&64&&(d=E.memoizedState,d!==null&&(d=d.dehydrated,d!==null&&(E=Mm.bind(null,E),sp(d,E))));break;case 22:if(w=E.memoizedState!==null||xs,!w){h=h!==null&&h.memoizedState!==null||ot,O=xs;var U=ot;xs=w,(ot=h)&&!U?Ss(d,E,(E.subtreeFlags&8772)!==0):ws(d,E),xs=O,ot=U}break;case 30:break;default:ws(d,E)}}function Yu(d){var h=d.alternate;h!==null&&(d.alternate=null,Yu(h)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(h=d.stateNode,h!==null&&lo(h)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}var tt=null,St=!1;function ds(d,h,E){for(E=E.child;E!==null;)Xu(d,h,E),E=E.sibling}function Xu(d,h,E){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(ke,E)}catch{}switch(E.tag){case 26:ot||Xt(E,h),ds(d,h,E),E.memoizedState?E.memoizedState.count--:E.stateNode&&(E=E.stateNode,E.parentNode.removeChild(E));break;case 27:ot||Xt(E,h);var w=tt,O=St;Ts(E.type)&&(tt=E.stateNode,St=!1),ds(d,h,E),$a(E.stateNode),tt=w,St=O;break;case 5:ot||Xt(E,h);case 6:if(w=tt,O=St,tt=null,ds(d,h,E),tt=w,St=O,tt!==null)if(St)try{(tt.nodeType===9?tt.body:tt.nodeName==="HTML"?tt.ownerDocument.body:tt).removeChild(E.stateNode)}catch(U){Je(E,h,U)}else try{tt.removeChild(E.stateNode)}catch(U){Je(E,h,U)}break;case 18:tt!==null&&(St?(d=tt,Bx(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,E.stateNode),Fa(d)):Bx(tt,E.stateNode));break;case 4:w=tt,O=St,tt=E.stateNode.containerInfo,St=!0,ds(d,h,E),tt=w,St=O;break;case 0:case 11:case 14:case 15:ot||Ns(2,E,h),ot||Ns(4,E,h),ds(d,h,E);break;case 1:ot||(Xt(E,h),w=E.stateNode,typeof w.componentWillUnmount=="function"&&qu(E,h,w)),ds(d,h,E);break;case 21:ds(d,h,E);break;case 22:ot=(w=ot)||E.memoizedState!==null,ds(d,h,E),ot=w;break;default:ds(d,h,E)}}function Qu(d,h){if(h.memoizedState===null&&(d=h.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null))))try{Fa(d)}catch(E){Je(h,h.return,E)}}function Pm(d){switch(d.tag){case 13:case 19:var h=d.stateNode;return h===null&&(h=d.stateNode=new Wu),h;case 22:return d=d.stateNode,h=d._retryCache,h===null&&(h=d._retryCache=new Wu),h;default:throw Error(o(435,d.tag))}}function Ti(d,h){var E=Pm(d);h.forEach(function(w){var O=Fm.bind(null,d,w);E.has(w)||(E.add(w),w.then(O,O))})}function Pt(d,h){var E=h.deletions;if(E!==null)for(var w=0;w<E.length;w++){var O=E[w],U=d,W=h,se=W;e:for(;se!==null;){switch(se.tag){case 27:if(Ts(se.type)){tt=se.stateNode,St=!1;break e}break;case 5:tt=se.stateNode,St=!1;break e;case 3:case 4:tt=se.stateNode.containerInfo,St=!0;break e}se=se.return}if(tt===null)throw Error(o(160));Xu(U,W,O),tt=null,St=!1,U=O.alternate,U!==null&&(U.return=null),O.return=null}if(h.subtreeFlags&13878)for(h=h.child;h!==null;)Zu(h,d),h=h.sibling}var Gt=null;function Zu(d,h){var E=d.alternate,w=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:Pt(h,d),$t(d),w&4&&(Ns(3,d,d.return),Ea(3,d),Ns(5,d,d.return));break;case 1:Pt(h,d),$t(d),w&512&&(ot||E===null||Xt(E,E.return)),w&64&&xs&&(d=d.updateQueue,d!==null&&(w=d.callbacks,w!==null&&(E=d.shared.hiddenCallbacks,d.shared.hiddenCallbacks=E===null?w:E.concat(w))));break;case 26:var O=Gt;if(Pt(h,d),$t(d),w&512&&(ot||E===null||Xt(E,E.return)),w&4){var U=E!==null?E.memoizedState:null;if(w=d.memoizedState,E===null)if(w===null)if(d.stateNode===null){e:{w=d.type,E=d.memoizedProps,O=O.ownerDocument||O;t:switch(w){case"title":U=O.getElementsByTagName("title")[0],(!U||U[Hr]||U[Et]||U.namespaceURI==="http://www.w3.org/2000/svg"||U.hasAttribute("itemprop"))&&(U=O.createElement(w),O.head.insertBefore(U,O.querySelector("head > title"))),bt(U,w,E),U[Et]=d,mt(U),w=U;break e;case"link":var W=Kx("link","href",O).get(w+(E.href||""));if(W){for(var se=0;se<W.length;se++)if(U=W[se],U.getAttribute("href")===(E.href==null||E.href===""?null:E.href)&&U.getAttribute("rel")===(E.rel==null?null:E.rel)&&U.getAttribute("title")===(E.title==null?null:E.title)&&U.getAttribute("crossorigin")===(E.crossOrigin==null?null:E.crossOrigin)){W.splice(se,1);break t}}U=O.createElement(w),bt(U,w,E),O.head.appendChild(U);break;case"meta":if(W=Kx("meta","content",O).get(w+(E.content||""))){for(se=0;se<W.length;se++)if(U=W[se],U.getAttribute("content")===(E.content==null?null:""+E.content)&&U.getAttribute("name")===(E.name==null?null:E.name)&&U.getAttribute("property")===(E.property==null?null:E.property)&&U.getAttribute("http-equiv")===(E.httpEquiv==null?null:E.httpEquiv)&&U.getAttribute("charset")===(E.charSet==null?null:E.charSet)){W.splice(se,1);break t}}U=O.createElement(w),bt(U,w,E),O.head.appendChild(U);break;default:throw Error(o(468,w))}U[Et]=d,mt(U),w=U}d.stateNode=w}else Yx(O,d.type,d.stateNode);else d.stateNode=Wx(O,w,d.memoizedProps);else U!==w?(U===null?E.stateNode!==null&&(E=E.stateNode,E.parentNode.removeChild(E)):U.count--,w===null?Yx(O,d.type,d.stateNode):Wx(O,w,d.memoizedProps)):w===null&&d.stateNode!==null&&Ai(d,d.memoizedProps,E.memoizedProps)}break;case 27:Pt(h,d),$t(d),w&512&&(ot||E===null||Xt(E,E.return)),E!==null&&w&4&&Ai(d,d.memoizedProps,E.memoizedProps);break;case 5:if(Pt(h,d),$t(d),w&512&&(ot||E===null||Xt(E,E.return)),d.flags&32){O=d.stateNode;try{ur(O,"")}catch(Ee){Je(d,d.return,Ee)}}w&4&&d.stateNode!=null&&(O=d.memoizedProps,Ai(d,O,E!==null?E.memoizedProps:O)),w&1024&&($i=!0);break;case 6:if(Pt(h,d),$t(d),w&4){if(d.stateNode===null)throw Error(o(162));w=d.memoizedProps,E=d.stateNode;try{E.nodeValue=w}catch(Ee){Je(d,d.return,Ee)}}break;case 3:if(Gn=null,O=Gt,Gt=Vn(h.containerInfo),Pt(h,d),Gt=O,$t(d),w&4&&E!==null&&E.memoizedState.isDehydrated)try{Fa(h.containerInfo)}catch(Ee){Je(d,d.return,Ee)}$i&&($i=!1,Ju(d));break;case 4:w=Gt,Gt=Vn(d.stateNode.containerInfo),Pt(h,d),$t(d),Gt=w;break;case 12:Pt(h,d),$t(d);break;case 13:Pt(h,d),$t(d),d.child.flags&8192&&d.memoizedState!==null!=(E!==null&&E.memoizedState!==null)&&(Mi=Ye()),w&4&&(w=d.updateQueue,w!==null&&(d.updateQueue=null,Ti(d,w)));break;case 22:O=d.memoizedState!==null;var ie=E!==null&&E.memoizedState!==null,he=xs,ye=ot;if(xs=he||O,ot=ye||ie,Pt(h,d),ot=ye,xs=he,$t(d),w&8192)e:for(h=d.stateNode,h._visibility=O?h._visibility&-2:h._visibility|1,O&&(E===null||ie||xs||ot||Js(d)),E=null,h=d;;){if(h.tag===5||h.tag===26){if(E===null){ie=E=h;try{if(U=ie.stateNode,O)W=U.style,typeof W.setProperty=="function"?W.setProperty("display","none","important"):W.display="none";else{se=ie.stateNode;var ve=ie.memoizedProps.style,be=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;se.style.display=be==null||typeof be=="boolean"?"":(""+be).trim()}}catch(Ee){Je(ie,ie.return,Ee)}}}else if(h.tag===6){if(E===null){ie=h;try{ie.stateNode.nodeValue=O?"":ie.memoizedProps}catch(Ee){Je(ie,ie.return,Ee)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===d)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break e;for(;h.sibling===null;){if(h.return===null||h.return===d)break e;E===h&&(E=null),h=h.return}E===h&&(E=null),h.sibling.return=h.return,h=h.sibling}w&4&&(w=d.updateQueue,w!==null&&(E=w.retryQueue,E!==null&&(w.retryQueue=null,Ti(d,E))));break;case 19:Pt(h,d),$t(d),w&4&&(w=d.updateQueue,w!==null&&(d.updateQueue=null,Ti(d,w)));break;case 30:break;case 21:break;default:Pt(h,d),$t(d)}}function $t(d){var h=d.flags;if(h&2){try{for(var E,w=d.return;w!==null;){if(Hu(w)){E=w;break}w=w.return}if(E==null)throw Error(o(160));switch(E.tag){case 27:var O=E.stateNode,U=ki(d);$n(d,U,O);break;case 5:var W=E.stateNode;E.flags&32&&(ur(W,""),E.flags&=-33);var se=ki(d);$n(d,se,W);break;case 3:case 4:var ie=E.stateNode.containerInfo,he=ki(d);Pi(d,he,ie);break;default:throw Error(o(161))}}catch(ye){Je(d,d.return,ye)}d.flags&=-3}h&4096&&(d.flags&=-4097)}function Ju(d){if(d.subtreeFlags&1024)for(d=d.child;d!==null;){var h=d;Ju(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),d=d.sibling}}function ws(d,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)Ku(d,h.alternate,h),h=h.sibling}function Js(d){for(d=d.child;d!==null;){var h=d;switch(h.tag){case 0:case 11:case 14:case 15:Ns(4,h,h.return),Js(h);break;case 1:Xt(h,h.return);var E=h.stateNode;typeof E.componentWillUnmount=="function"&&qu(h,h.return,E),Js(h);break;case 27:$a(h.stateNode);case 26:case 5:Xt(h,h.return),Js(h);break;case 22:h.memoizedState===null&&Js(h);break;case 30:Js(h);break;default:Js(h)}d=d.sibling}}function Ss(d,h,E){for(E=E&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var w=h.alternate,O=d,U=h,W=U.flags;switch(U.tag){case 0:case 11:case 15:Ss(O,U,E),Ea(4,U);break;case 1:if(Ss(O,U,E),w=U,O=w.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(he){Je(w,w.return,he)}if(w=U,O=w.updateQueue,O!==null){var se=w.stateNode;try{var ie=O.shared.hiddenCallbacks;if(ie!==null)for(O.shared.hiddenCallbacks=null,O=0;O<ie.length;O++)Ac(ie[O],se)}catch(he){Je(w,w.return,he)}}E&&W&64&&zu(U),ya(U,U.return);break;case 27:Gu(U);case 26:case 5:Ss(O,U,E),E&&w===null&&W&4&&Vu(U),ya(U,U.return);break;case 12:Ss(O,U,E);break;case 13:Ss(O,U,E),E&&W&4&&Qu(O,U);break;case 22:U.memoizedState===null&&Ss(O,U,E),ya(U,U.return);break;case 30:break;default:Ss(O,U,E)}h=h.sibling}}function Di(d,h){var E=null;d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(E=d.memoizedState.cachePool.pool),d=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(d=h.memoizedState.cachePool.pool),d!==E&&(d!=null&&d.refCount++,E!=null&&oa(E))}function Ii(d,h){d=null,h.alternate!==null&&(d=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==d&&(h.refCount++,d!=null&&oa(d))}function Qt(d,h,E,w){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)ex(d,h,E,w),h=h.sibling}function ex(d,h,E,w){var O=h.flags;switch(h.tag){case 0:case 11:case 15:Qt(d,h,E,w),O&2048&&Ea(9,h);break;case 1:Qt(d,h,E,w);break;case 3:Qt(d,h,E,w),O&2048&&(d=null,h.alternate!==null&&(d=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==d&&(h.refCount++,d!=null&&oa(d)));break;case 12:if(O&2048){Qt(d,h,E,w),d=h.stateNode;try{var U=h.memoizedProps,W=U.id,se=U.onPostCommit;typeof se=="function"&&se(W,h.alternate===null?"mount":"update",d.passiveEffectDuration,-0)}catch(ie){Je(h,h.return,ie)}}else Qt(d,h,E,w);break;case 13:Qt(d,h,E,w);break;case 23:break;case 22:U=h.stateNode,W=h.alternate,h.memoizedState!==null?U._visibility&2?Qt(d,h,E,w):Ra(d,h):U._visibility&2?Qt(d,h,E,w):(U._visibility|=2,Pr(d,h,E,w,(h.subtreeFlags&10256)!==0)),O&2048&&Di(W,h);break;case 24:Qt(d,h,E,w),O&2048&&Ii(h.alternate,h);break;default:Qt(d,h,E,w)}}function Pr(d,h,E,w,O){for(O=O&&(h.subtreeFlags&10256)!==0,h=h.child;h!==null;){var U=d,W=h,se=E,ie=w,he=W.flags;switch(W.tag){case 0:case 11:case 15:Pr(U,W,se,ie,O),Ea(8,W);break;case 23:break;case 22:var ye=W.stateNode;W.memoizedState!==null?ye._visibility&2?Pr(U,W,se,ie,O):Ra(U,W):(ye._visibility|=2,Pr(U,W,se,ie,O)),O&&he&2048&&Di(W.alternate,W);break;case 24:Pr(U,W,se,ie,O),O&&he&2048&&Ii(W.alternate,W);break;default:Pr(U,W,se,ie,O)}h=h.sibling}}function Ra(d,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var E=d,w=h,O=w.flags;switch(w.tag){case 22:Ra(E,w),O&2048&&Di(w.alternate,w);break;case 24:Ra(E,w),O&2048&&Ii(w.alternate,w);break;default:Ra(E,w)}h=h.sibling}}var va=8192;function $r(d){if(d.subtreeFlags&va)for(d=d.child;d!==null;)tx(d),d=d.sibling}function tx(d){switch(d.tag){case 26:$r(d),d.flags&va&&d.memoizedState!==null&&hp(Gt,d.memoizedState,d.memoizedProps);break;case 5:$r(d);break;case 3:case 4:var h=Gt;Gt=Vn(d.stateNode.containerInfo),$r(d),Gt=h;break;case 22:d.memoizedState===null&&(h=d.alternate,h!==null&&h.memoizedState!==null?(h=va,va=16777216,$r(d),va=h):$r(d));break;default:$r(d)}}function sx(d){var h=d.alternate;if(h!==null&&(d=h.child,d!==null)){h.child=null;do h=d.sibling,d.sibling=null,d=h;while(d!==null)}}function Na(d){var h=d.deletions;if((d.flags&16)!==0){if(h!==null)for(var E=0;E<h.length;E++){var w=h[E];ht=w,ax(w,d)}sx(d)}if(d.subtreeFlags&10256)for(d=d.child;d!==null;)rx(d),d=d.sibling}function rx(d){switch(d.tag){case 0:case 11:case 15:Na(d),d.flags&2048&&Ns(9,d,d.return);break;case 3:Na(d);break;case 12:Na(d);break;case 22:var h=d.stateNode;d.memoizedState!==null&&h._visibility&2&&(d.return===null||d.return.tag!==13)?(h._visibility&=-3,Tn(d)):Na(d);break;default:Na(d)}}function Tn(d){var h=d.deletions;if((d.flags&16)!==0){if(h!==null)for(var E=0;E<h.length;E++){var w=h[E];ht=w,ax(w,d)}sx(d)}for(d=d.child;d!==null;){switch(h=d,h.tag){case 0:case 11:case 15:Ns(8,h,h.return),Tn(h);break;case 22:E=h.stateNode,E._visibility&2&&(E._visibility&=-3,Tn(h));break;default:Tn(h)}d=d.sibling}}function ax(d,h){for(;ht!==null;){var E=ht;switch(E.tag){case 0:case 11:case 15:Ns(8,E,h);break;case 23:case 22:if(E.memoizedState!==null&&E.memoizedState.cachePool!==null){var w=E.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:oa(E.memoizedState.cache)}if(w=E.child,w!==null)w.return=E,ht=w;else e:for(E=d;ht!==null;){w=ht;var O=w.sibling,U=w.return;if(Yu(w),w===E){ht=null;break e}if(O!==null){O.return=U,ht=O;break e}ht=U}}}var $m={getCacheForType:function(d){var h=yt(ut),E=h.data.get(d);return E===void 0&&(E=d(),h.data.set(d,E)),E}},Tm=typeof WeakMap=="function"?WeakMap:Map,We=0,et=null,Fe=null,ze=0,Ke=0,Tt=null,Cs=!1,Tr=!1,Li=!1,ms=0,at=0,As=0,er=0,_i=0,qt=0,Dr=0,wa=null,Ct=null,Oi=!1,Mi=0,Dn=1/0,In=null,ks=null,gt=0,Ps=null,Ir=null,Lr=0,Fi=0,Bi=null,nx=null,Sa=0,Ui=null;function Dt(){if((We&2)!==0&&ze!==0)return ze&-ze;if(G.T!==null){var d=yr;return d!==0?d:Ki()}return yl()}function ox(){qt===0&&(qt=(ze&536870912)===0||Ve?fl():536870912);var d=zt.current;return d!==null&&(d.flags|=32),qt}function It(d,h,E){(d===et&&(Ke===2||Ke===9)||d.cancelPendingCommit!==null)&&(_r(d,0),$s(d,ze,qt,!1)),Vr(d,E),((We&2)===0||d!==et)&&(d===et&&((We&2)===0&&(er|=E),at===4&&$s(d,ze,qt,!1)),Zt(d))}function ix(d,h,E){if((We&6)!==0)throw Error(o(327));var w=!E&&(h&124)===0&&(h&d.expiredLanes)===0||qr(d,h),O=w?Lm(d,h):Vi(d,h,!0),U=w;do{if(O===0){Tr&&!w&&$s(d,h,0,!1);break}else{if(E=d.current.alternate,U&&!Dm(E)){O=Vi(d,h,!1),U=!1;continue}if(O===2){if(U=h,d.errorRecoveryDisabledLanes&U)var W=0;else W=d.pendingLanes&-536870913,W=W!==0?W:W&536870912?536870912:0;if(W!==0){h=W;e:{var se=d;O=wa;var ie=se.current.memoizedState.isDehydrated;if(ie&&(_r(se,W).flags|=256),W=Vi(se,W,!1),W!==2){if(Li&&!ie){se.errorRecoveryDisabledLanes|=U,er|=U,O=4;break e}U=Ct,Ct=O,U!==null&&(Ct===null?Ct=U:Ct.push.apply(Ct,U))}O=W}if(U=!1,O!==2)continue}}if(O===1){_r(d,0),$s(d,h,0,!0);break}e:{switch(w=d,U=O,U){case 0:case 1:throw Error(o(345));case 4:if((h&4194048)!==h)break;case 6:$s(w,h,qt,!Cs);break e;case 2:Ct=null;break;case 3:case 5:break;default:throw Error(o(329))}if((h&62914560)===h&&(O=Mi+300-Ye(),10<O)){if($s(w,h,qt,!Cs),qa(w,0,!0)!==0)break e;w.timeoutHandle=Mx(lx.bind(null,w,E,Ct,In,Oi,h,qt,er,Dr,Cs,U,2,-0,0),O);break e}lx(w,E,Ct,In,Oi,h,qt,er,Dr,Cs,U,0,-0,0)}}break}while(!0);Zt(d)}function lx(d,h,E,w,O,U,W,se,ie,he,ye,ve,be,Ee){if(d.timeoutHandle=-1,ve=h.subtreeFlags,(ve&8192||(ve&16785408)===16785408)&&(Ia={stylesheets:null,count:0,unsuspend:pp},tx(h),ve=jp(),ve!==null)){d.cancelPendingCommit=ve(jx.bind(null,d,h,U,E,w,O,W,se,ie,ye,1,be,Ee)),$s(d,U,W,!he);return}jx(d,h,U,E,w,O,W,se,ie)}function Dm(d){for(var h=d;;){var E=h.tag;if((E===0||E===11||E===15)&&h.flags&16384&&(E=h.updateQueue,E!==null&&(E=E.stores,E!==null)))for(var w=0;w<E.length;w++){var O=E[w],U=O.getSnapshot;O=O.value;try{if(!At(U(),O))return!1}catch{return!1}}if(E=h.child,h.subtreeFlags&16384&&E!==null)E.return=h,h=E;else{if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function $s(d,h,E,w){h&=~_i,h&=~er,d.suspendedLanes|=h,d.pingedLanes&=~h,w&&(d.warmLanes|=h),w=d.expirationTimes;for(var O=h;0<O;){var U=31-Ge(O),W=1<<U;w[U]=-1,O&=~W}E!==0&&bl(d,E,h)}function Ln(){return(We&6)===0?(Ca(0),!1):!0}function zi(){if(Fe!==null){if(Ke===0)var d=Fe.return;else d=Fe,as=Ks=null,ai(d),Cr=null,fa=0,d=Fe;for(;d!==null;)Uu(d.alternate,d),d=d.return;Fe=null}}function _r(d,h){var E=d.timeoutHandle;E!==-1&&(d.timeoutHandle=-1,Qm(E)),E=d.cancelPendingCommit,E!==null&&(d.cancelPendingCommit=null,E()),zi(),et=d,Fe=E=ts(d.current,null),ze=h,Ke=0,Tt=null,Cs=!1,Tr=qr(d,h),Li=!1,Dr=qt=_i=er=As=at=0,Ct=wa=null,Oi=!1,(h&8)!==0&&(h|=h&32);var w=d.entangledLanes;if(w!==0)for(d=d.entanglements,w&=h;0<w;){var O=31-Ge(w),U=1<<O;h|=d[O],w&=~U}return ms=h,tn(),E}function cx(d,h){_e=null,G.H=Rn,h===la||h===dn?(h=Sc(),Ke=3):h===vc?(h=Sc(),Ke=4):Ke=h===Cu?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,Tt=h,Fe===null&&(at=1,Cn(d,Mt(h,d.current)))}function ux(){var d=G.H;return G.H=Rn,d===null?Rn:d}function xx(){var d=G.A;return G.A=$m,d}function qi(){at=4,Cs||(ze&4194048)!==ze&&zt.current!==null||(Tr=!0),(As&134217727)===0&&(er&134217727)===0||et===null||$s(et,ze,qt,!1)}function Vi(d,h,E){var w=We;We|=2;var O=ux(),U=xx();(et!==d||ze!==h)&&(In=null,_r(d,h)),h=!1;var W=at;e:do try{if(Ke!==0&&Fe!==null){var se=Fe,ie=Tt;switch(Ke){case 8:zi(),W=6;break e;case 3:case 2:case 9:case 6:zt.current===null&&(h=!0);var he=Ke;if(Ke=0,Tt=null,Or(d,se,ie,he),E&&Tr){W=0;break e}break;default:he=Ke,Ke=0,Tt=null,Or(d,se,ie,he)}}Im(),W=at;break}catch(ye){cx(d,ye)}while(!0);return h&&d.shellSuspendCounter++,as=Ks=null,We=w,G.H=O,G.A=U,Fe===null&&(et=null,ze=0,tn()),W}function Im(){for(;Fe!==null;)dx(Fe)}function Lm(d,h){var E=We;We|=2;var w=ux(),O=xx();et!==d||ze!==h?(In=null,Dn=Ye()+500,_r(d,h)):Tr=qr(d,h);e:do try{if(Ke!==0&&Fe!==null){h=Fe;var U=Tt;t:switch(Ke){case 1:Ke=0,Tt=null,Or(d,h,U,1);break;case 2:case 9:if(Nc(U)){Ke=0,Tt=null,mx(h);break}h=function(){Ke!==2&&Ke!==9||et!==d||(Ke=7),Zt(d)},U.then(h,h);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Nc(U)?(Ke=0,Tt=null,mx(h)):(Ke=0,Tt=null,Or(d,h,U,7));break;case 5:var W=null;switch(Fe.tag){case 26:W=Fe.memoizedState;case 5:case 27:var se=Fe;if(!W||Xx(W)){Ke=0,Tt=null;var ie=se.sibling;if(ie!==null)Fe=ie;else{var he=se.return;he!==null?(Fe=he,_n(he)):Fe=null}break t}}Ke=0,Tt=null,Or(d,h,U,5);break;case 6:Ke=0,Tt=null,Or(d,h,U,6);break;case 8:zi(),at=6;break e;default:throw Error(o(462))}}_m();break}catch(ye){cx(d,ye)}while(!0);return as=Ks=null,G.H=w,G.A=O,We=E,Fe!==null?0:(et=null,ze=0,tn(),at)}function _m(){for(;Fe!==null&&!Le();)dx(Fe)}function dx(d){var h=Fu(d.alternate,d,ms);d.memoizedProps=d.pendingProps,h===null?_n(d):Fe=h}function mx(d){var h=d,E=h.alternate;switch(h.tag){case 15:case 0:h=Du(E,h,h.pendingProps,h.type,void 0,ze);break;case 11:h=Du(E,h,h.pendingProps,h.type.render,h.ref,ze);break;case 5:ai(h);default:Uu(E,h),h=Fe=pc(h,ms),h=Fu(E,h,ms)}d.memoizedProps=d.pendingProps,h===null?_n(d):Fe=h}function Or(d,h,E,w){as=Ks=null,ai(h),Cr=null,fa=0;var O=h.return;try{if(wm(d,O,h,E,ze)){at=1,Cn(d,Mt(E,d.current)),Fe=null;return}}catch(U){if(O!==null)throw Fe=O,U;at=1,Cn(d,Mt(E,d.current)),Fe=null;return}h.flags&32768?(Ve||w===1?d=!0:Tr||(ze&536870912)!==0?d=!1:(Cs=d=!0,(w===2||w===9||w===3||w===6)&&(w=zt.current,w!==null&&w.tag===13&&(w.flags|=16384))),hx(h,d)):_n(h)}function _n(d){var h=d;do{if((h.flags&32768)!==0){hx(h,Cs);return}d=h.return;var E=Cm(h.alternate,h,ms);if(E!==null){Fe=E;return}if(h=h.sibling,h!==null){Fe=h;return}Fe=h=d}while(h!==null);at===0&&(at=5)}function hx(d,h){do{var E=Am(d.alternate,d);if(E!==null){E.flags&=32767,Fe=E;return}if(E=d.return,E!==null&&(E.flags|=32768,E.subtreeFlags=0,E.deletions=null),!h&&(d=d.sibling,d!==null)){Fe=d;return}Fe=d=E}while(d!==null);at=6,Fe=null}function jx(d,h,E,w,O,U,W,se,ie){d.cancelPendingCommit=null;do On();while(gt!==0);if((We&6)!==0)throw Error(o(327));if(h!==null){if(h===d.current)throw Error(o(177));if(U=h.lanes|h.childLanes,U|=Do,pd(d,E,U,W,se,ie),d===et&&(Fe=et=null,ze=0),Ir=h,Ps=d,Lr=E,Fi=U,Bi=O,nx=w,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(d.callbackNode=null,d.callbackPriority=0,Bm(sr,function(){return yx(),null})):(d.callbackNode=null,d.callbackPriority=0),w=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||w){w=G.T,G.T=null,O=K.p,K.p=2,W=We,We|=4;try{km(d,h,E)}finally{We=W,K.p=O,G.T=w}}gt=1,fx(),gx(),bx()}}function fx(){if(gt===1){gt=0;var d=Ps,h=Ir,E=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||E){E=G.T,G.T=null;var w=K.p;K.p=2;var O=We;We|=4;try{Zu(h,d);var U=sl,W=ac(d.containerInfo),se=U.focusedElem,ie=U.selectionRange;if(W!==se&&se&&se.ownerDocument&&rc(se.ownerDocument.documentElement,se)){if(ie!==null&&Ao(se)){var he=ie.start,ye=ie.end;if(ye===void 0&&(ye=he),"selectionStart"in se)se.selectionStart=he,se.selectionEnd=Math.min(ye,se.value.length);else{var ve=se.ownerDocument||document,be=ve&&ve.defaultView||window;if(be.getSelection){var Ee=be.getSelection(),Ie=se.textContent.length,Pe=Math.min(ie.start,Ie),Ze=ie.end===void 0?Pe:Math.min(ie.end,Ie);!Ee.extend&&Pe>Ze&&(W=Ze,Ze=Pe,Pe=W);var de=sc(se,Pe),ue=sc(se,Ze);if(de&&ue&&(Ee.rangeCount!==1||Ee.anchorNode!==de.node||Ee.anchorOffset!==de.offset||Ee.focusNode!==ue.node||Ee.focusOffset!==ue.offset)){var pe=ve.createRange();pe.setStart(de.node,de.offset),Ee.removeAllRanges(),Pe>Ze?(Ee.addRange(pe),Ee.extend(ue.node,ue.offset)):(pe.setEnd(ue.node,ue.offset),Ee.addRange(pe))}}}}for(ve=[],Ee=se;Ee=Ee.parentNode;)Ee.nodeType===1&&ve.push({element:Ee,left:Ee.scrollLeft,top:Ee.scrollTop});for(typeof se.focus=="function"&&se.focus(),se=0;se<ve.length;se++){var Re=ve[se];Re.element.scrollLeft=Re.left,Re.element.scrollTop=Re.top}}Yn=!!tl,sl=tl=null}finally{We=O,K.p=w,G.T=E}}d.current=h,gt=2}}function gx(){if(gt===2){gt=0;var d=Ps,h=Ir,E=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||E){E=G.T,G.T=null;var w=K.p;K.p=2;var O=We;We|=4;try{Ku(d,h.alternate,h)}finally{We=O,K.p=w,G.T=E}}gt=3}}function bx(){if(gt===4||gt===3){gt=0,De();var d=Ps,h=Ir,E=Lr,w=nx;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?gt=5:(gt=0,Ir=Ps=null,Ex(d,d.pendingLanes));var O=d.pendingLanes;if(O===0&&(ks=null),oo(E),h=h.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(ke,h,void 0,(h.current.flags&128)===128)}catch{}if(w!==null){h=G.T,O=K.p,K.p=2,G.T=null;try{for(var U=d.onRecoverableError,W=0;W<w.length;W++){var se=w[W];U(se.value,{componentStack:se.stack})}}finally{G.T=h,K.p=O}}(Lr&3)!==0&&On(),Zt(d),O=d.pendingLanes,(E&4194090)!==0&&(O&42)!==0?d===Ui?Sa++:(Sa=0,Ui=d):Sa=0,Ca(0)}}function Ex(d,h){(d.pooledCacheLanes&=h)===0&&(h=d.pooledCache,h!=null&&(d.pooledCache=null,oa(h)))}function On(d){return fx(),gx(),bx(),yx()}function yx(){if(gt!==5)return!1;var d=Ps,h=Fi;Fi=0;var E=oo(Lr),w=G.T,O=K.p;try{K.p=32>E?32:E,G.T=null,E=Bi,Bi=null;var U=Ps,W=Lr;if(gt=0,Ir=Ps=null,Lr=0,(We&6)!==0)throw Error(o(331));var se=We;if(We|=4,rx(U.current),ex(U,U.current,W,E),We=se,Ca(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(ke,U)}catch{}return!0}finally{K.p=O,G.T=w,Ex(d,h)}}function Rx(d,h,E){h=Mt(E,h),h=bi(d.stateNode,h,2),d=Es(d,h,2),d!==null&&(Vr(d,2),Zt(d))}function Je(d,h,E){if(d.tag===3)Rx(d,d,E);else for(;h!==null;){if(h.tag===3){Rx(h,d,E);break}else if(h.tag===1){var w=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(ks===null||!ks.has(w))){d=Mt(E,d),E=wu(2),w=Es(h,E,2),w!==null&&(Su(E,w,h,d),Vr(w,2),Zt(w));break}}h=h.return}}function Hi(d,h,E){var w=d.pingCache;if(w===null){w=d.pingCache=new Tm;var O=new Set;w.set(h,O)}else O=w.get(h),O===void 0&&(O=new Set,w.set(h,O));O.has(E)||(Li=!0,O.add(E),d=Om.bind(null,d,h,E),h.then(d,d))}function Om(d,h,E){var w=d.pingCache;w!==null&&w.delete(h),d.pingedLanes|=d.suspendedLanes&E,d.warmLanes&=~E,et===d&&(ze&E)===E&&(at===4||at===3&&(ze&62914560)===ze&&300>Ye()-Mi?(We&2)===0&&_r(d,0):_i|=E,Dr===ze&&(Dr=0)),Zt(d)}function vx(d,h){h===0&&(h=gl()),d=fr(d,h),d!==null&&(Vr(d,h),Zt(d))}function Mm(d){var h=d.memoizedState,E=0;h!==null&&(E=h.retryLane),vx(d,E)}function Fm(d,h){var E=0;switch(d.tag){case 13:var w=d.stateNode,O=d.memoizedState;O!==null&&(E=O.retryLane);break;case 19:w=d.stateNode;break;case 22:w=d.stateNode._retryCache;break;default:throw Error(o(314))}w!==null&&w.delete(h),vx(d,E)}function Bm(d,h){return Ce(d,h)}var Mn=null,Mr=null,Gi=!1,Fn=!1,Wi=!1,tr=0;function Zt(d){d!==Mr&&d.next===null&&(Mr===null?Mn=Mr=d:Mr=Mr.next=d),Fn=!0,Gi||(Gi=!0,zm())}function Ca(d,h){if(!Wi&&Fn){Wi=!0;do for(var E=!1,w=Mn;w!==null;){if(d!==0){var O=w.pendingLanes;if(O===0)var U=0;else{var W=w.suspendedLanes,se=w.pingedLanes;U=(1<<31-Ge(42|d)+1)-1,U&=O&~(W&~se),U=U&201326741?U&201326741|1:U?U|2:0}U!==0&&(E=!0,Cx(w,U))}else U=ze,U=qa(w,w===et?U:0,w.cancelPendingCommit!==null||w.timeoutHandle!==-1),(U&3)===0||qr(w,U)||(E=!0,Cx(w,U));w=w.next}while(E);Wi=!1}}function Um(){Nx()}function Nx(){Fn=Gi=!1;var d=0;tr!==0&&(Xm()&&(d=tr),tr=0);for(var h=Ye(),E=null,w=Mn;w!==null;){var O=w.next,U=wx(w,h);U===0?(w.next=null,E===null?Mn=O:E.next=O,O===null&&(Mr=E)):(E=w,(d!==0||(U&3)!==0)&&(Fn=!0)),w=O}Ca(d)}function wx(d,h){for(var E=d.suspendedLanes,w=d.pingedLanes,O=d.expirationTimes,U=d.pendingLanes&-62914561;0<U;){var W=31-Ge(U),se=1<<W,ie=O[W];ie===-1?((se&E)===0||(se&w)!==0)&&(O[W]=md(se,h)):ie<=h&&(d.expiredLanes|=se),U&=~se}if(h=et,E=ze,E=qa(d,d===h?E:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),w=d.callbackNode,E===0||d===h&&(Ke===2||Ke===9)||d.cancelPendingCommit!==null)return w!==null&&w!==null&&Ae(w),d.callbackNode=null,d.callbackPriority=0;if((E&3)===0||qr(d,E)){if(h=E&-E,h===d.callbackPriority)return h;switch(w!==null&&Ae(w),oo(E)){case 2:case 8:E=dt;break;case 32:E=sr;break;case 268435456:E=$e;break;default:E=sr}return w=Sx.bind(null,d),E=Ce(E,w),d.callbackPriority=h,d.callbackNode=E,h}return w!==null&&w!==null&&Ae(w),d.callbackPriority=2,d.callbackNode=null,2}function Sx(d,h){if(gt!==0&&gt!==5)return d.callbackNode=null,d.callbackPriority=0,null;var E=d.callbackNode;if(On()&&d.callbackNode!==E)return null;var w=ze;return w=qa(d,d===et?w:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),w===0?null:(ix(d,w,h),wx(d,Ye()),d.callbackNode!=null&&d.callbackNode===E?Sx.bind(null,d):null)}function Cx(d,h){if(On())return null;ix(d,h,!0)}function zm(){Zm(function(){(We&6)!==0?Ce(ct,Um):Nx()})}function Ki(){return tr===0&&(tr=fl()),tr}function Ax(d){return d==null||typeof d=="symbol"||typeof d=="boolean"?null:typeof d=="function"?d:Ka(""+d)}function Px(d,h){var E=h.ownerDocument.createElement("input");return E.name=h.name,E.value=h.value,d.id&&E.setAttribute("form",d.id),h.parentNode.insertBefore(E,h),d=new FormData(d),E.parentNode.removeChild(E),d}function qm(d,h,E,w,O){if(h==="submit"&&E&&E.stateNode===O){var U=Ax((O[vt]||null).action),W=w.submitter;W&&(h=(h=W[vt]||null)?Ax(h.formAction):W.getAttribute("formAction"),h!==null&&(U=h,W=null));var se=new Za("action","action",null,w,O);d.push({event:se,listeners:[{instance:null,listener:function(){if(w.defaultPrevented){if(tr!==0){var ie=W?Px(O,W):new FormData(O);mi(E,{pending:!0,data:ie,method:O.method,action:U},null,ie)}}else typeof U=="function"&&(se.preventDefault(),ie=W?Px(O,W):new FormData(O),mi(E,{pending:!0,data:ie,method:O.method,action:U},U,ie))},currentTarget:O}]})}}for(var Yi=0;Yi<To.length;Yi++){var Xi=To[Yi],Vm=Xi.toLowerCase(),Hm=Xi[0].toUpperCase()+Xi.slice(1);Ht(Vm,"on"+Hm)}Ht(ic,"onAnimationEnd"),Ht(lc,"onAnimationIteration"),Ht(cc,"onAnimationStart"),Ht("dblclick","onDoubleClick"),Ht("focusin","onFocus"),Ht("focusout","onBlur"),Ht(lm,"onTransitionRun"),Ht(cm,"onTransitionStart"),Ht(um,"onTransitionCancel"),Ht(uc,"onTransitionEnd"),ir("onMouseEnter",["mouseout","mouseover"]),ir("onMouseLeave",["mouseout","mouseover"]),ir("onPointerEnter",["pointerout","pointerover"]),ir("onPointerLeave",["pointerout","pointerover"]),Fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gm=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Aa));function $x(d,h){h=(h&4)!==0;for(var E=0;E<d.length;E++){var w=d[E],O=w.event;w=w.listeners;e:{var U=void 0;if(h)for(var W=w.length-1;0<=W;W--){var se=w[W],ie=se.instance,he=se.currentTarget;if(se=se.listener,ie!==U&&O.isPropagationStopped())break e;U=se,O.currentTarget=he;try{U(O)}catch(ye){Sn(ye)}O.currentTarget=null,U=ie}else for(W=0;W<w.length;W++){if(se=w[W],ie=se.instance,he=se.currentTarget,se=se.listener,ie!==U&&O.isPropagationStopped())break e;U=se,O.currentTarget=he;try{U(O)}catch(ye){Sn(ye)}O.currentTarget=null,U=ie}}}}function Be(d,h){var E=h[io];E===void 0&&(E=h[io]=new Set);var w=d+"__bubble";E.has(w)||(Tx(h,d,2,!1),E.add(w))}function Qi(d,h,E){var w=0;h&&(w|=4),Tx(E,d,w,h)}var Bn="_reactListening"+Math.random().toString(36).slice(2);function Zi(d){if(!d[Bn]){d[Bn]=!0,vl.forEach(function(E){E!=="selectionchange"&&(Gm.has(E)||Qi(E,!1,d),Qi(E,!0,d))});var h=d.nodeType===9?d:d.ownerDocument;h===null||h[Bn]||(h[Bn]=!0,Qi("selectionchange",!1,h))}}function Tx(d,h,E,w){switch(sd(h)){case 2:var O=bp;break;case 8:O=Ep;break;default:O=dl}E=O.bind(null,h,E,d),O=void 0,!bo||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(O=!0),w?O!==void 0?d.addEventListener(h,E,{capture:!0,passive:O}):d.addEventListener(h,E,!0):O!==void 0?d.addEventListener(h,E,{passive:O}):d.addEventListener(h,E,!1)}function Ji(d,h,E,w,O){var U=w;if((h&1)===0&&(h&2)===0&&w!==null)e:for(;;){if(w===null)return;var W=w.tag;if(W===3||W===4){var se=w.stateNode.containerInfo;if(se===O)break;if(W===4)for(W=w.return;W!==null;){var ie=W.tag;if((ie===3||ie===4)&&W.stateNode.containerInfo===O)return;W=W.return}for(;se!==null;){if(W=ar(se),W===null)return;if(ie=W.tag,ie===5||ie===6||ie===26||ie===27){w=U=W;continue e}se=se.parentNode}}w=w.return}Ol(function(){var he=U,ye=fo(E),ve=[];e:{var be=xc.get(d);if(be!==void 0){var Ee=Za,Ie=d;switch(d){case"keypress":if(Xa(E)===0)break e;case"keydown":case"keyup":Ee=Bd;break;case"focusin":Ie="focus",Ee=vo;break;case"focusout":Ie="blur",Ee=vo;break;case"beforeblur":case"afterblur":Ee=vo;break;case"click":if(E.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=Bl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=Ad;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=qd;break;case ic:case lc:case cc:Ee=$d;break;case uc:Ee=Hd;break;case"scroll":case"scrollend":Ee=Sd;break;case"wheel":Ee=Wd;break;case"copy":case"cut":case"paste":Ee=Dd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=zl;break;case"toggle":case"beforetoggle":Ee=Yd}var Pe=(h&4)!==0,Ze=!Pe&&(d==="scroll"||d==="scrollend"),de=Pe?be!==null?be+"Capture":null:be;Pe=[];for(var ue=he,pe;ue!==null;){var Re=ue;if(pe=Re.stateNode,Re=Re.tag,Re!==5&&Re!==26&&Re!==27||pe===null||de===null||(Re=Wr(ue,de),Re!=null&&Pe.push(Pa(ue,Re,pe))),Ze)break;ue=ue.return}0<Pe.length&&(be=new Ee(be,Ie,null,E,ye),ve.push({event:be,listeners:Pe}))}}if((h&7)===0){e:{if(be=d==="mouseover"||d==="pointerover",Ee=d==="mouseout"||d==="pointerout",be&&E!==jo&&(Ie=E.relatedTarget||E.fromElement)&&(ar(Ie)||Ie[rr]))break e;if((Ee||be)&&(be=ye.window===ye?ye:(be=ye.ownerDocument)?be.defaultView||be.parentWindow:window,Ee?(Ie=E.relatedTarget||E.toElement,Ee=he,Ie=Ie?ar(Ie):null,Ie!==null&&(Ze=u(Ie),Pe=Ie.tag,Ie!==Ze||Pe!==5&&Pe!==27&&Pe!==6)&&(Ie=null)):(Ee=null,Ie=he),Ee!==Ie)){if(Pe=Bl,Re="onMouseLeave",de="onMouseEnter",ue="mouse",(d==="pointerout"||d==="pointerover")&&(Pe=zl,Re="onPointerLeave",de="onPointerEnter",ue="pointer"),Ze=Ee==null?be:Gr(Ee),pe=Ie==null?be:Gr(Ie),be=new Pe(Re,ue+"leave",Ee,E,ye),be.target=Ze,be.relatedTarget=pe,Re=null,ar(ye)===he&&(Pe=new Pe(de,ue+"enter",Ie,E,ye),Pe.target=pe,Pe.relatedTarget=Ze,Re=Pe),Ze=Re,Ee&&Ie)t:{for(Pe=Ee,de=Ie,ue=0,pe=Pe;pe;pe=Fr(pe))ue++;for(pe=0,Re=de;Re;Re=Fr(Re))pe++;for(;0<ue-pe;)Pe=Fr(Pe),ue--;for(;0<pe-ue;)de=Fr(de),pe--;for(;ue--;){if(Pe===de||de!==null&&Pe===de.alternate)break t;Pe=Fr(Pe),de=Fr(de)}Pe=null}else Pe=null;Ee!==null&&Dx(ve,be,Ee,Pe,!1),Ie!==null&&Ze!==null&&Dx(ve,Ze,Ie,Pe,!0)}}e:{if(be=he?Gr(he):window,Ee=be.nodeName&&be.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&be.type==="file")var Ne=Xl;else if(Kl(be))if(Ql)Ne=nm;else{Ne=rm;var Oe=sm}else Ee=be.nodeName,!Ee||Ee.toLowerCase()!=="input"||be.type!=="checkbox"&&be.type!=="radio"?he&&ho(he.elementType)&&(Ne=Xl):Ne=am;if(Ne&&(Ne=Ne(d,he))){Yl(ve,Ne,E,ye);break e}Oe&&Oe(d,be,he),d==="focusout"&&he&&be.type==="number"&&he.memoizedProps.value!=null&&po(be,"number",be.value)}switch(Oe=he?Gr(he):window,d){case"focusin":(Kl(Oe)||Oe.contentEditable==="true")&&(pr=Oe,ko=he,ta=null);break;case"focusout":ta=ko=pr=null;break;case"mousedown":Po=!0;break;case"contextmenu":case"mouseup":case"dragend":Po=!1,nc(ve,E,ye);break;case"selectionchange":if(im)break;case"keydown":case"keyup":nc(ve,E,ye)}var Se;if(wo)e:{switch(d){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else mr?Gl(d,E)&&(Te="onCompositionEnd"):d==="keydown"&&E.keyCode===229&&(Te="onCompositionStart");Te&&(ql&&E.locale!=="ko"&&(mr||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&mr&&(Se=Ml()):(js=ye,Eo="value"in js?js.value:js.textContent,mr=!0)),Oe=Un(he,Te),0<Oe.length&&(Te=new Ul(Te,d,null,E,ye),ve.push({event:Te,listeners:Oe}),Se?Te.data=Se:(Se=Wl(E),Se!==null&&(Te.data=Se)))),(Se=Qd?Zd(d,E):Jd(d,E))&&(Te=Un(he,"onBeforeInput"),0<Te.length&&(Oe=new Ul("onBeforeInput","beforeinput",null,E,ye),ve.push({event:Oe,listeners:Te}),Oe.data=Se)),qm(ve,d,he,E,ye)}$x(ve,h)})}function Pa(d,h,E){return{instance:d,listener:h,currentTarget:E}}function Un(d,h){for(var E=h+"Capture",w=[];d!==null;){var O=d,U=O.stateNode;if(O=O.tag,O!==5&&O!==26&&O!==27||U===null||(O=Wr(d,E),O!=null&&w.unshift(Pa(d,O,U)),O=Wr(d,h),O!=null&&w.push(Pa(d,O,U))),d.tag===3)return w;d=d.return}return[]}function Fr(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5&&d.tag!==27);return d||null}function Dx(d,h,E,w,O){for(var U=h._reactName,W=[];E!==null&&E!==w;){var se=E,ie=se.alternate,he=se.stateNode;if(se=se.tag,ie!==null&&ie===w)break;se!==5&&se!==26&&se!==27||he===null||(ie=he,O?(he=Wr(E,U),he!=null&&W.unshift(Pa(E,he,ie))):O||(he=Wr(E,U),he!=null&&W.push(Pa(E,he,ie)))),E=E.return}W.length!==0&&d.push({event:h,listeners:W})}var Wm=/\r\n?/g,Km=/\u0000|\uFFFD/g;function Ix(d){return(typeof d=="string"?d:""+d).replace(Wm,`
`).replace(Km,"")}function Lx(d,h){return h=Ix(h),Ix(d)===h}function zn(){}function Qe(d,h,E,w,O,U){switch(E){case"children":typeof w=="string"?h==="body"||h==="textarea"&&w===""||ur(d,w):(typeof w=="number"||typeof w=="bigint")&&h!=="body"&&ur(d,""+w);break;case"className":Ha(d,"class",w);break;case"tabIndex":Ha(d,"tabindex",w);break;case"dir":case"role":case"viewBox":case"width":case"height":Ha(d,E,w);break;case"style":Ll(d,w,U);break;case"data":if(h!=="object"){Ha(d,"data",w);break}case"src":case"href":if(w===""&&(h!=="a"||E!=="href")){d.removeAttribute(E);break}if(w==null||typeof w=="function"||typeof w=="symbol"||typeof w=="boolean"){d.removeAttribute(E);break}w=Ka(""+w),d.setAttribute(E,w);break;case"action":case"formAction":if(typeof w=="function"){d.setAttribute(E,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof U=="function"&&(E==="formAction"?(h!=="input"&&Qe(d,h,"name",O.name,O,null),Qe(d,h,"formEncType",O.formEncType,O,null),Qe(d,h,"formMethod",O.formMethod,O,null),Qe(d,h,"formTarget",O.formTarget,O,null)):(Qe(d,h,"encType",O.encType,O,null),Qe(d,h,"method",O.method,O,null),Qe(d,h,"target",O.target,O,null)));if(w==null||typeof w=="symbol"||typeof w=="boolean"){d.removeAttribute(E);break}w=Ka(""+w),d.setAttribute(E,w);break;case"onClick":w!=null&&(d.onclick=zn);break;case"onScroll":w!=null&&Be("scroll",d);break;case"onScrollEnd":w!=null&&Be("scrollend",d);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(o(61));if(E=w.__html,E!=null){if(O.children!=null)throw Error(o(60));d.innerHTML=E}}break;case"multiple":d.multiple=w&&typeof w!="function"&&typeof w!="symbol";break;case"muted":d.muted=w&&typeof w!="function"&&typeof w!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(w==null||typeof w=="function"||typeof w=="boolean"||typeof w=="symbol"){d.removeAttribute("xlink:href");break}E=Ka(""+w),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",E);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":w!=null&&typeof w!="function"&&typeof w!="symbol"?d.setAttribute(E,""+w):d.removeAttribute(E);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":w&&typeof w!="function"&&typeof w!="symbol"?d.setAttribute(E,""):d.removeAttribute(E);break;case"capture":case"download":w===!0?d.setAttribute(E,""):w!==!1&&w!=null&&typeof w!="function"&&typeof w!="symbol"?d.setAttribute(E,w):d.removeAttribute(E);break;case"cols":case"rows":case"size":case"span":w!=null&&typeof w!="function"&&typeof w!="symbol"&&!isNaN(w)&&1<=w?d.setAttribute(E,w):d.removeAttribute(E);break;case"rowSpan":case"start":w==null||typeof w=="function"||typeof w=="symbol"||isNaN(w)?d.removeAttribute(E):d.setAttribute(E,w);break;case"popover":Be("beforetoggle",d),Be("toggle",d),Va(d,"popover",w);break;case"xlinkActuate":Jt(d,"http://www.w3.org/1999/xlink","xlink:actuate",w);break;case"xlinkArcrole":Jt(d,"http://www.w3.org/1999/xlink","xlink:arcrole",w);break;case"xlinkRole":Jt(d,"http://www.w3.org/1999/xlink","xlink:role",w);break;case"xlinkShow":Jt(d,"http://www.w3.org/1999/xlink","xlink:show",w);break;case"xlinkTitle":Jt(d,"http://www.w3.org/1999/xlink","xlink:title",w);break;case"xlinkType":Jt(d,"http://www.w3.org/1999/xlink","xlink:type",w);break;case"xmlBase":Jt(d,"http://www.w3.org/XML/1998/namespace","xml:base",w);break;case"xmlLang":Jt(d,"http://www.w3.org/XML/1998/namespace","xml:lang",w);break;case"xmlSpace":Jt(d,"http://www.w3.org/XML/1998/namespace","xml:space",w);break;case"is":Va(d,"is",w);break;case"innerText":case"textContent":break;default:(!(2<E.length)||E[0]!=="o"&&E[0]!=="O"||E[1]!=="n"&&E[1]!=="N")&&(E=Nd.get(E)||E,Va(d,E,w))}}function el(d,h,E,w,O,U){switch(E){case"style":Ll(d,w,U);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(o(61));if(E=w.__html,E!=null){if(O.children!=null)throw Error(o(60));d.innerHTML=E}}break;case"children":typeof w=="string"?ur(d,w):(typeof w=="number"||typeof w=="bigint")&&ur(d,""+w);break;case"onScroll":w!=null&&Be("scroll",d);break;case"onScrollEnd":w!=null&&Be("scrollend",d);break;case"onClick":w!=null&&(d.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nl.hasOwnProperty(E))e:{if(E[0]==="o"&&E[1]==="n"&&(O=E.endsWith("Capture"),h=E.slice(2,O?E.length-7:void 0),U=d[vt]||null,U=U!=null?U[E]:null,typeof U=="function"&&d.removeEventListener(h,U,O),typeof w=="function")){typeof U!="function"&&U!==null&&(E in d?d[E]=null:d.hasAttribute(E)&&d.removeAttribute(E)),d.addEventListener(h,w,O);break e}E in d?d[E]=w:w===!0?d.setAttribute(E,""):Va(d,E,w)}}}function bt(d,h,E){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",d),Be("load",d);var w=!1,O=!1,U;for(U in E)if(E.hasOwnProperty(U)){var W=E[U];if(W!=null)switch(U){case"src":w=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,h));default:Qe(d,h,U,W,E,null)}}O&&Qe(d,h,"srcSet",E.srcSet,E,null),w&&Qe(d,h,"src",E.src,E,null);return;case"input":Be("invalid",d);var se=U=W=O=null,ie=null,he=null;for(w in E)if(E.hasOwnProperty(w)){var ye=E[w];if(ye!=null)switch(w){case"name":O=ye;break;case"type":W=ye;break;case"checked":ie=ye;break;case"defaultChecked":he=ye;break;case"value":U=ye;break;case"defaultValue":se=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(o(137,h));break;default:Qe(d,h,w,ye,E,null)}}$l(d,U,se,ie,he,W,O,!1),Ga(d);return;case"select":Be("invalid",d),w=W=U=null;for(O in E)if(E.hasOwnProperty(O)&&(se=E[O],se!=null))switch(O){case"value":U=se;break;case"defaultValue":W=se;break;case"multiple":w=se;default:Qe(d,h,O,se,E,null)}h=U,E=W,d.multiple=!!w,h!=null?cr(d,!!w,h,!1):E!=null&&cr(d,!!w,E,!0);return;case"textarea":Be("invalid",d),U=O=w=null;for(W in E)if(E.hasOwnProperty(W)&&(se=E[W],se!=null))switch(W){case"value":w=se;break;case"defaultValue":O=se;break;case"children":U=se;break;case"dangerouslySetInnerHTML":if(se!=null)throw Error(o(91));break;default:Qe(d,h,W,se,E,null)}Dl(d,w,O,U),Ga(d);return;case"option":for(ie in E)if(E.hasOwnProperty(ie)&&(w=E[ie],w!=null))switch(ie){case"selected":d.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:Qe(d,h,ie,w,E,null)}return;case"dialog":Be("beforetoggle",d),Be("toggle",d),Be("cancel",d),Be("close",d);break;case"iframe":case"object":Be("load",d);break;case"video":case"audio":for(w=0;w<Aa.length;w++)Be(Aa[w],d);break;case"image":Be("error",d),Be("load",d);break;case"details":Be("toggle",d);break;case"embed":case"source":case"link":Be("error",d),Be("load",d);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(he in E)if(E.hasOwnProperty(he)&&(w=E[he],w!=null))switch(he){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,h));default:Qe(d,h,he,w,E,null)}return;default:if(ho(h)){for(ye in E)E.hasOwnProperty(ye)&&(w=E[ye],w!==void 0&&el(d,h,ye,w,E,void 0));return}}for(se in E)E.hasOwnProperty(se)&&(w=E[se],w!=null&&Qe(d,h,se,w,E,null))}function Ym(d,h,E,w){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,U=null,W=null,se=null,ie=null,he=null,ye=null;for(Ee in E){var ve=E[Ee];if(E.hasOwnProperty(Ee)&&ve!=null)switch(Ee){case"checked":break;case"value":break;case"defaultValue":ie=ve;default:w.hasOwnProperty(Ee)||Qe(d,h,Ee,null,w,ve)}}for(var be in w){var Ee=w[be];if(ve=E[be],w.hasOwnProperty(be)&&(Ee!=null||ve!=null))switch(be){case"type":U=Ee;break;case"name":O=Ee;break;case"checked":he=Ee;break;case"defaultChecked":ye=Ee;break;case"value":W=Ee;break;case"defaultValue":se=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(o(137,h));break;default:Ee!==ve&&Qe(d,h,be,Ee,w,ve)}}mo(d,W,se,ie,he,ye,U,O);return;case"select":Ee=W=se=be=null;for(U in E)if(ie=E[U],E.hasOwnProperty(U)&&ie!=null)switch(U){case"value":break;case"multiple":Ee=ie;default:w.hasOwnProperty(U)||Qe(d,h,U,null,w,ie)}for(O in w)if(U=w[O],ie=E[O],w.hasOwnProperty(O)&&(U!=null||ie!=null))switch(O){case"value":be=U;break;case"defaultValue":se=U;break;case"multiple":W=U;default:U!==ie&&Qe(d,h,O,U,w,ie)}h=se,E=W,w=Ee,be!=null?cr(d,!!E,be,!1):!!w!=!!E&&(h!=null?cr(d,!!E,h,!0):cr(d,!!E,E?[]:"",!1));return;case"textarea":Ee=be=null;for(se in E)if(O=E[se],E.hasOwnProperty(se)&&O!=null&&!w.hasOwnProperty(se))switch(se){case"value":break;case"children":break;default:Qe(d,h,se,null,w,O)}for(W in w)if(O=w[W],U=E[W],w.hasOwnProperty(W)&&(O!=null||U!=null))switch(W){case"value":be=O;break;case"defaultValue":Ee=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(o(91));break;default:O!==U&&Qe(d,h,W,O,w,U)}Tl(d,be,Ee);return;case"option":for(var Ie in E)if(be=E[Ie],E.hasOwnProperty(Ie)&&be!=null&&!w.hasOwnProperty(Ie))switch(Ie){case"selected":d.selected=!1;break;default:Qe(d,h,Ie,null,w,be)}for(ie in w)if(be=w[ie],Ee=E[ie],w.hasOwnProperty(ie)&&be!==Ee&&(be!=null||Ee!=null))switch(ie){case"selected":d.selected=be&&typeof be!="function"&&typeof be!="symbol";break;default:Qe(d,h,ie,be,w,Ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in E)be=E[Pe],E.hasOwnProperty(Pe)&&be!=null&&!w.hasOwnProperty(Pe)&&Qe(d,h,Pe,null,w,be);for(he in w)if(be=w[he],Ee=E[he],w.hasOwnProperty(he)&&be!==Ee&&(be!=null||Ee!=null))switch(he){case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(o(137,h));break;default:Qe(d,h,he,be,w,Ee)}return;default:if(ho(h)){for(var Ze in E)be=E[Ze],E.hasOwnProperty(Ze)&&be!==void 0&&!w.hasOwnProperty(Ze)&&el(d,h,Ze,void 0,w,be);for(ye in w)be=w[ye],Ee=E[ye],!w.hasOwnProperty(ye)||be===Ee||be===void 0&&Ee===void 0||el(d,h,ye,be,w,Ee);return}}for(var de in E)be=E[de],E.hasOwnProperty(de)&&be!=null&&!w.hasOwnProperty(de)&&Qe(d,h,de,null,w,be);for(ve in w)be=w[ve],Ee=E[ve],!w.hasOwnProperty(ve)||be===Ee||be==null&&Ee==null||Qe(d,h,ve,be,w,Ee)}var tl=null,sl=null;function qn(d){return d.nodeType===9?d:d.ownerDocument}function _x(d){switch(d){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ox(d,h){if(d===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return d===1&&h==="foreignObject"?0:d}function rl(d,h){return d==="textarea"||d==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var al=null;function Xm(){var d=window.event;return d&&d.type==="popstate"?d===al?!1:(al=d,!0):(al=null,!1)}var Mx=typeof setTimeout=="function"?setTimeout:void 0,Qm=typeof clearTimeout=="function"?clearTimeout:void 0,Fx=typeof Promise=="function"?Promise:void 0,Zm=typeof queueMicrotask=="function"?queueMicrotask:typeof Fx<"u"?function(d){return Fx.resolve(null).then(d).catch(Jm)}:Mx;function Jm(d){setTimeout(function(){throw d})}function Ts(d){return d==="head"}function Bx(d,h){var E=h,w=0,O=0;do{var U=E.nextSibling;if(d.removeChild(E),U&&U.nodeType===8)if(E=U.data,E==="/$"){if(0<w&&8>w){E=w;var W=d.ownerDocument;if(E&1&&$a(W.documentElement),E&2&&$a(W.body),E&4)for(E=W.head,$a(E),W=E.firstChild;W;){var se=W.nextSibling,ie=W.nodeName;W[Hr]||ie==="SCRIPT"||ie==="STYLE"||ie==="LINK"&&W.rel.toLowerCase()==="stylesheet"||E.removeChild(W),W=se}}if(O===0){d.removeChild(U),Fa(h);return}O--}else E==="$"||E==="$?"||E==="$!"?O++:w=E.charCodeAt(0)-48;else w=0;E=U}while(E);Fa(h)}function nl(d){var h=d.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var E=h;switch(h=h.nextSibling,E.nodeName){case"HTML":case"HEAD":case"BODY":nl(E),lo(E);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(E.rel.toLowerCase()==="stylesheet")continue}d.removeChild(E)}}function ep(d,h,E,w){for(;d.nodeType===1;){var O=E;if(d.nodeName.toLowerCase()!==h.toLowerCase()){if(!w&&(d.nodeName!=="INPUT"||d.type!=="hidden"))break}else if(w){if(!d[Hr])switch(h){case"meta":if(!d.hasAttribute("itemprop"))break;return d;case"link":if(U=d.getAttribute("rel"),U==="stylesheet"&&d.hasAttribute("data-precedence"))break;if(U!==O.rel||d.getAttribute("href")!==(O.href==null||O.href===""?null:O.href)||d.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||d.getAttribute("title")!==(O.title==null?null:O.title))break;return d;case"style":if(d.hasAttribute("data-precedence"))break;return d;case"script":if(U=d.getAttribute("src"),(U!==(O.src==null?null:O.src)||d.getAttribute("type")!==(O.type==null?null:O.type)||d.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&U&&d.hasAttribute("async")&&!d.hasAttribute("itemprop"))break;return d;default:return d}}else if(h==="input"&&d.type==="hidden"){var U=O.name==null?null:""+O.name;if(O.type==="hidden"&&d.getAttribute("name")===U)return d}else return d;if(d=Wt(d.nextSibling),d===null)break}return null}function tp(d,h,E){if(h==="")return null;for(;d.nodeType!==3;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!E||(d=Wt(d.nextSibling),d===null))return null;return d}function ol(d){return d.data==="$!"||d.data==="$?"&&d.ownerDocument.readyState==="complete"}function sp(d,h){var E=d.ownerDocument;if(d.data!=="$?"||E.readyState==="complete")h();else{var w=function(){h(),E.removeEventListener("DOMContentLoaded",w)};E.addEventListener("DOMContentLoaded",w),d._reactRetry=w}}function Wt(d){for(;d!=null;d=d.nextSibling){var h=d.nodeType;if(h===1||h===3)break;if(h===8){if(h=d.data,h==="$"||h==="$!"||h==="$?"||h==="F!"||h==="F")break;if(h==="/$")return null}}return d}var il=null;function Ux(d){d=d.previousSibling;for(var h=0;d;){if(d.nodeType===8){var E=d.data;if(E==="$"||E==="$!"||E==="$?"){if(h===0)return d;h--}else E==="/$"&&h++}d=d.previousSibling}return null}function zx(d,h,E){switch(h=qn(E),d){case"html":if(d=h.documentElement,!d)throw Error(o(452));return d;case"head":if(d=h.head,!d)throw Error(o(453));return d;case"body":if(d=h.body,!d)throw Error(o(454));return d;default:throw Error(o(451))}}function $a(d){for(var h=d.attributes;h.length;)d.removeAttributeNode(h[0]);lo(d)}var Vt=new Map,qx=new Set;function Vn(d){return typeof d.getRootNode=="function"?d.getRootNode():d.nodeType===9?d:d.ownerDocument}var ps=K.d;K.d={f:rp,r:ap,D:np,C:op,L:ip,m:lp,X:up,S:cp,M:xp};function rp(){var d=ps.f(),h=Ln();return d||h}function ap(d){var h=nr(d);h!==null&&h.tag===5&&h.type==="form"?iu(h):ps.r(d)}var Br=typeof document>"u"?null:document;function Vx(d,h,E){var w=Br;if(w&&typeof h=="string"&&h){var O=Ot(h);O='link[rel="'+d+'"][href="'+O+'"]',typeof E=="string"&&(O+='[crossorigin="'+E+'"]'),qx.has(O)||(qx.add(O),d={rel:d,crossOrigin:E,href:h},w.querySelector(O)===null&&(h=w.createElement("link"),bt(h,"link",d),mt(h),w.head.appendChild(h)))}}function np(d){ps.D(d),Vx("dns-prefetch",d,null)}function op(d,h){ps.C(d,h),Vx("preconnect",d,h)}function ip(d,h,E){ps.L(d,h,E);var w=Br;if(w&&d&&h){var O='link[rel="preload"][as="'+Ot(h)+'"]';h==="image"&&E&&E.imageSrcSet?(O+='[imagesrcset="'+Ot(E.imageSrcSet)+'"]',typeof E.imageSizes=="string"&&(O+='[imagesizes="'+Ot(E.imageSizes)+'"]')):O+='[href="'+Ot(d)+'"]';var U=O;switch(h){case"style":U=Ur(d);break;case"script":U=zr(d)}Vt.has(U)||(d=g({rel:"preload",href:h==="image"&&E&&E.imageSrcSet?void 0:d,as:h},E),Vt.set(U,d),w.querySelector(O)!==null||h==="style"&&w.querySelector(Ta(U))||h==="script"&&w.querySelector(Da(U))||(h=w.createElement("link"),bt(h,"link",d),mt(h),w.head.appendChild(h)))}}function lp(d,h){ps.m(d,h);var E=Br;if(E&&d){var w=h&&typeof h.as=="string"?h.as:"script",O='link[rel="modulepreload"][as="'+Ot(w)+'"][href="'+Ot(d)+'"]',U=O;switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":U=zr(d)}if(!Vt.has(U)&&(d=g({rel:"modulepreload",href:d},h),Vt.set(U,d),E.querySelector(O)===null)){switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(E.querySelector(Da(U)))return}w=E.createElement("link"),bt(w,"link",d),mt(w),E.head.appendChild(w)}}}function cp(d,h,E){ps.S(d,h,E);var w=Br;if(w&&d){var O=or(w).hoistableStyles,U=Ur(d);h=h||"default";var W=O.get(U);if(!W){var se={loading:0,preload:null};if(W=w.querySelector(Ta(U)))se.loading=5;else{d=g({rel:"stylesheet",href:d,"data-precedence":h},E),(E=Vt.get(U))&&ll(d,E);var ie=W=w.createElement("link");mt(ie),bt(ie,"link",d),ie._p=new Promise(function(he,ye){ie.onload=he,ie.onerror=ye}),ie.addEventListener("load",function(){se.loading|=1}),ie.addEventListener("error",function(){se.loading|=2}),se.loading|=4,Hn(W,h,w)}W={type:"stylesheet",instance:W,count:1,state:se},O.set(U,W)}}}function up(d,h){ps.X(d,h);var E=Br;if(E&&d){var w=or(E).hoistableScripts,O=zr(d),U=w.get(O);U||(U=E.querySelector(Da(O)),U||(d=g({src:d,async:!0},h),(h=Vt.get(O))&&cl(d,h),U=E.createElement("script"),mt(U),bt(U,"link",d),E.head.appendChild(U)),U={type:"script",instance:U,count:1,state:null},w.set(O,U))}}function xp(d,h){ps.M(d,h);var E=Br;if(E&&d){var w=or(E).hoistableScripts,O=zr(d),U=w.get(O);U||(U=E.querySelector(Da(O)),U||(d=g({src:d,async:!0,type:"module"},h),(h=Vt.get(O))&&cl(d,h),U=E.createElement("script"),mt(U),bt(U,"link",d),E.head.appendChild(U)),U={type:"script",instance:U,count:1,state:null},w.set(O,U))}}function Hx(d,h,E,w){var O=(O=Z.current)?Vn(O):null;if(!O)throw Error(o(446));switch(d){case"meta":case"title":return null;case"style":return typeof E.precedence=="string"&&typeof E.href=="string"?(h=Ur(E.href),E=or(O).hoistableStyles,w=E.get(h),w||(w={type:"style",instance:null,count:0,state:null},E.set(h,w)),w):{type:"void",instance:null,count:0,state:null};case"link":if(E.rel==="stylesheet"&&typeof E.href=="string"&&typeof E.precedence=="string"){d=Ur(E.href);var U=or(O).hoistableStyles,W=U.get(d);if(W||(O=O.ownerDocument||O,W={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},U.set(d,W),(U=O.querySelector(Ta(d)))&&!U._p&&(W.instance=U,W.state.loading=5),Vt.has(d)||(E={rel:"preload",as:"style",href:E.href,crossOrigin:E.crossOrigin,integrity:E.integrity,media:E.media,hrefLang:E.hrefLang,referrerPolicy:E.referrerPolicy},Vt.set(d,E),U||dp(O,d,E,W.state))),h&&w===null)throw Error(o(528,""));return W}if(h&&w!==null)throw Error(o(529,""));return null;case"script":return h=E.async,E=E.src,typeof E=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=zr(E),E=or(O).hoistableScripts,w=E.get(h),w||(w={type:"script",instance:null,count:0,state:null},E.set(h,w)),w):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,d))}}function Ur(d){return'href="'+Ot(d)+'"'}function Ta(d){return'link[rel="stylesheet"]['+d+"]"}function Gx(d){return g({},d,{"data-precedence":d.precedence,precedence:null})}function dp(d,h,E,w){d.querySelector('link[rel="preload"][as="style"]['+h+"]")?w.loading=1:(h=d.createElement("link"),w.preload=h,h.addEventListener("load",function(){return w.loading|=1}),h.addEventListener("error",function(){return w.loading|=2}),bt(h,"link",E),mt(h),d.head.appendChild(h))}function zr(d){return'[src="'+Ot(d)+'"]'}function Da(d){return"script[async]"+d}function Wx(d,h,E){if(h.count++,h.instance===null)switch(h.type){case"style":var w=d.querySelector('style[data-href~="'+Ot(E.href)+'"]');if(w)return h.instance=w,mt(w),w;var O=g({},E,{"data-href":E.href,"data-precedence":E.precedence,href:null,precedence:null});return w=(d.ownerDocument||d).createElement("style"),mt(w),bt(w,"style",O),Hn(w,E.precedence,d),h.instance=w;case"stylesheet":O=Ur(E.href);var U=d.querySelector(Ta(O));if(U)return h.state.loading|=4,h.instance=U,mt(U),U;w=Gx(E),(O=Vt.get(O))&&ll(w,O),U=(d.ownerDocument||d).createElement("link"),mt(U);var W=U;return W._p=new Promise(function(se,ie){W.onload=se,W.onerror=ie}),bt(U,"link",w),h.state.loading|=4,Hn(U,E.precedence,d),h.instance=U;case"script":return U=zr(E.src),(O=d.querySelector(Da(U)))?(h.instance=O,mt(O),O):(w=E,(O=Vt.get(U))&&(w=g({},E),cl(w,O)),d=d.ownerDocument||d,O=d.createElement("script"),mt(O),bt(O,"link",w),d.head.appendChild(O),h.instance=O);case"void":return null;default:throw Error(o(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(w=h.instance,h.state.loading|=4,Hn(w,E.precedence,d));return h.instance}function Hn(d,h,E){for(var w=E.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=w.length?w[w.length-1]:null,U=O,W=0;W<w.length;W++){var se=w[W];if(se.dataset.precedence===h)U=se;else if(U!==O)break}U?U.parentNode.insertBefore(d,U.nextSibling):(h=E.nodeType===9?E.head:E,h.insertBefore(d,h.firstChild))}function ll(d,h){d.crossOrigin==null&&(d.crossOrigin=h.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=h.referrerPolicy),d.title==null&&(d.title=h.title)}function cl(d,h){d.crossOrigin==null&&(d.crossOrigin=h.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=h.referrerPolicy),d.integrity==null&&(d.integrity=h.integrity)}var Gn=null;function Kx(d,h,E){if(Gn===null){var w=new Map,O=Gn=new Map;O.set(E,w)}else O=Gn,w=O.get(E),w||(w=new Map,O.set(E,w));if(w.has(d))return w;for(w.set(d,null),E=E.getElementsByTagName(d),O=0;O<E.length;O++){var U=E[O];if(!(U[Hr]||U[Et]||d==="link"&&U.getAttribute("rel")==="stylesheet")&&U.namespaceURI!=="http://www.w3.org/2000/svg"){var W=U.getAttribute(h)||"";W=d+W;var se=w.get(W);se?se.push(U):w.set(W,[U])}}return w}function Yx(d,h,E){d=d.ownerDocument||d,d.head.insertBefore(E,h==="title"?d.querySelector("head > title"):null)}function mp(d,h,E){if(E===1||h.itemProp!=null)return!1;switch(d){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return d=h.disabled,typeof h.precedence=="string"&&d==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function Xx(d){return!(d.type==="stylesheet"&&(d.state.loading&3)===0)}var Ia=null;function pp(){}function hp(d,h,E){if(Ia===null)throw Error(o(475));var w=Ia;if(h.type==="stylesheet"&&(typeof E.media!="string"||matchMedia(E.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var O=Ur(E.href),U=d.querySelector(Ta(O));if(U){d=U._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(w.count++,w=Wn.bind(w),d.then(w,w)),h.state.loading|=4,h.instance=U,mt(U);return}U=d.ownerDocument||d,E=Gx(E),(O=Vt.get(O))&&ll(E,O),U=U.createElement("link"),mt(U);var W=U;W._p=new Promise(function(se,ie){W.onload=se,W.onerror=ie}),bt(U,"link",E),h.instance=U}w.stylesheets===null&&(w.stylesheets=new Map),w.stylesheets.set(h,d),(d=h.state.preload)&&(h.state.loading&3)===0&&(w.count++,h=Wn.bind(w),d.addEventListener("load",h),d.addEventListener("error",h))}}function jp(){if(Ia===null)throw Error(o(475));var d=Ia;return d.stylesheets&&d.count===0&&ul(d,d.stylesheets),0<d.count?function(h){var E=setTimeout(function(){if(d.stylesheets&&ul(d,d.stylesheets),d.unsuspend){var w=d.unsuspend;d.unsuspend=null,w()}},6e4);return d.unsuspend=h,function(){d.unsuspend=null,clearTimeout(E)}}:null}function Wn(){if(this.count--,this.count===0){if(this.stylesheets)ul(this,this.stylesheets);else if(this.unsuspend){var d=this.unsuspend;this.unsuspend=null,d()}}}var Kn=null;function ul(d,h){d.stylesheets=null,d.unsuspend!==null&&(d.count++,Kn=new Map,h.forEach(fp,d),Kn=null,Wn.call(d))}function fp(d,h){if(!(h.state.loading&4)){var E=Kn.get(d);if(E)var w=E.get(null);else{E=new Map,Kn.set(d,E);for(var O=d.querySelectorAll("link[data-precedence],style[data-precedence]"),U=0;U<O.length;U++){var W=O[U];(W.nodeName==="LINK"||W.getAttribute("media")!=="not all")&&(E.set(W.dataset.precedence,W),w=W)}w&&E.set(null,w)}O=h.instance,W=O.getAttribute("data-precedence"),U=E.get(W)||w,U===w&&E.set(null,O),E.set(W,O),this.count++,w=Wn.bind(this),O.addEventListener("load",w),O.addEventListener("error",w),U?U.parentNode.insertBefore(O,U.nextSibling):(d=d.nodeType===9?d.head:d,d.insertBefore(O,d.firstChild)),h.state.loading|=4}}var La={$$typeof:T,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function gp(d,h,E,w,O,U,W,se){this.tag=1,this.containerInfo=d,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ao(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ao(0),this.hiddenUpdates=ao(null),this.identifierPrefix=w,this.onUncaughtError=O,this.onCaughtError=U,this.onRecoverableError=W,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=se,this.incompleteTransitions=new Map}function Qx(d,h,E,w,O,U,W,se,ie,he,ye,ve){return d=new gp(d,h,E,W,se,ie,he,ve),h=1,U===!0&&(h|=24),U=kt(3,null,null,h),d.current=U,U.stateNode=d,h=Vo(),h.refCount++,d.pooledCache=h,h.refCount++,U.memoizedState={element:w,isDehydrated:E,cache:h},Ko(U),d}function Zx(d){return d?(d=gr,d):gr}function Jx(d,h,E,w,O,U){O=Zx(O),w.context===null?w.context=O:w.pendingContext=O,w=bs(h),w.payload={element:E},U=U===void 0?null:U,U!==null&&(w.callback=U),E=Es(d,w,h),E!==null&&(It(E,d,h),ua(E,d,h))}function ed(d,h){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var E=d.retryLane;d.retryLane=E!==0&&E<h?E:h}}function xl(d,h){ed(d,h),(d=d.alternate)&&ed(d,h)}function td(d){if(d.tag===13){var h=fr(d,67108864);h!==null&&It(h,d,67108864),xl(d,67108864)}}var Yn=!0;function bp(d,h,E,w){var O=G.T;G.T=null;var U=K.p;try{K.p=2,dl(d,h,E,w)}finally{K.p=U,G.T=O}}function Ep(d,h,E,w){var O=G.T;G.T=null;var U=K.p;try{K.p=8,dl(d,h,E,w)}finally{K.p=U,G.T=O}}function dl(d,h,E,w){if(Yn){var O=ml(w);if(O===null)Ji(d,h,w,Xn,E),rd(d,w);else if(Rp(O,d,h,E,w))w.stopPropagation();else if(rd(d,w),h&4&&-1<yp.indexOf(d)){for(;O!==null;){var U=nr(O);if(U!==null)switch(U.tag){case 3:if(U=U.stateNode,U.current.memoizedState.isDehydrated){var W=Ms(U.pendingLanes);if(W!==0){var se=U;for(se.pendingLanes|=2,se.entangledLanes|=2;W;){var ie=1<<31-Ge(W);se.entanglements[1]|=ie,W&=~ie}Zt(U),(We&6)===0&&(Dn=Ye()+500,Ca(0))}}break;case 13:se=fr(U,2),se!==null&&It(se,U,2),Ln(),xl(U,2)}if(U=ml(w),U===null&&Ji(d,h,w,Xn,E),U===O)break;O=U}O!==null&&w.stopPropagation()}else Ji(d,h,w,null,E)}}function ml(d){return d=fo(d),pl(d)}var Xn=null;function pl(d){if(Xn=null,d=ar(d),d!==null){var h=u(d);if(h===null)d=null;else{var E=h.tag;if(E===13){if(d=m(h),d!==null)return d;d=null}else if(E===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;d=null}else h!==d&&(d=null)}}return Xn=d,null}function sd(d){switch(d){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Lt()){case ct:return 2;case dt:return 8;case sr:case ro:return 32;case $e:return 268435456;default:return 32}default:return 32}}var hl=!1,Ds=null,Is=null,Ls=null,_a=new Map,Oa=new Map,_s=[],yp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rd(d,h){switch(d){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":Is=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":_a.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oa.delete(h.pointerId)}}function Ma(d,h,E,w,O,U){return d===null||d.nativeEvent!==U?(d={blockedOn:h,domEventName:E,eventSystemFlags:w,nativeEvent:U,targetContainers:[O]},h!==null&&(h=nr(h),h!==null&&td(h)),d):(d.eventSystemFlags|=w,h=d.targetContainers,O!==null&&h.indexOf(O)===-1&&h.push(O),d)}function Rp(d,h,E,w,O){switch(h){case"focusin":return Ds=Ma(Ds,d,h,E,w,O),!0;case"dragenter":return Is=Ma(Is,d,h,E,w,O),!0;case"mouseover":return Ls=Ma(Ls,d,h,E,w,O),!0;case"pointerover":var U=O.pointerId;return _a.set(U,Ma(_a.get(U)||null,d,h,E,w,O)),!0;case"gotpointercapture":return U=O.pointerId,Oa.set(U,Ma(Oa.get(U)||null,d,h,E,w,O)),!0}return!1}function ad(d){var h=ar(d.target);if(h!==null){var E=u(h);if(E!==null){if(h=E.tag,h===13){if(h=m(E),h!==null){d.blockedOn=h,hd(d.priority,function(){if(E.tag===13){var w=Dt();w=no(w);var O=fr(E,w);O!==null&&It(O,E,w),xl(E,w)}});return}}else if(h===3&&E.stateNode.current.memoizedState.isDehydrated){d.blockedOn=E.tag===3?E.stateNode.containerInfo:null;return}}}d.blockedOn=null}function Qn(d){if(d.blockedOn!==null)return!1;for(var h=d.targetContainers;0<h.length;){var E=ml(d.nativeEvent);if(E===null){E=d.nativeEvent;var w=new E.constructor(E.type,E);jo=w,E.target.dispatchEvent(w),jo=null}else return h=nr(E),h!==null&&td(h),d.blockedOn=E,!1;h.shift()}return!0}function nd(d,h,E){Qn(d)&&E.delete(h)}function vp(){hl=!1,Ds!==null&&Qn(Ds)&&(Ds=null),Is!==null&&Qn(Is)&&(Is=null),Ls!==null&&Qn(Ls)&&(Ls=null),_a.forEach(nd),Oa.forEach(nd)}function Zn(d,h){d.blockedOn===h&&(d.blockedOn=null,hl||(hl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,vp)))}var Jn=null;function od(d){Jn!==d&&(Jn=d,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Jn===d&&(Jn=null);for(var h=0;h<d.length;h+=3){var E=d[h],w=d[h+1],O=d[h+2];if(typeof w!="function"){if(pl(w||E)===null)continue;break}var U=nr(E);U!==null&&(d.splice(h,3),h-=3,mi(U,{pending:!0,data:O,method:E.method,action:w},w,O))}}))}function Fa(d){function h(ie){return Zn(ie,d)}Ds!==null&&Zn(Ds,d),Is!==null&&Zn(Is,d),Ls!==null&&Zn(Ls,d),_a.forEach(h),Oa.forEach(h);for(var E=0;E<_s.length;E++){var w=_s[E];w.blockedOn===d&&(w.blockedOn=null)}for(;0<_s.length&&(E=_s[0],E.blockedOn===null);)ad(E),E.blockedOn===null&&_s.shift();if(E=(d.ownerDocument||d).$$reactFormReplay,E!=null)for(w=0;w<E.length;w+=3){var O=E[w],U=E[w+1],W=O[vt]||null;if(typeof U=="function")W||od(E);else if(W){var se=null;if(U&&U.hasAttribute("formAction")){if(O=U,W=U[vt]||null)se=W.formAction;else if(pl(O)!==null)continue}else se=W.action;typeof se=="function"?E[w+1]=se:(E.splice(w,3),w-=3),od(E)}}}function jl(d){this._internalRoot=d}eo.prototype.render=jl.prototype.render=function(d){var h=this._internalRoot;if(h===null)throw Error(o(409));var E=h.current,w=Dt();Jx(E,w,d,h,null,null)},eo.prototype.unmount=jl.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var h=d.containerInfo;Jx(d.current,2,null,d,null,null),Ln(),h[rr]=null}};function eo(d){this._internalRoot=d}eo.prototype.unstable_scheduleHydration=function(d){if(d){var h=yl();d={blockedOn:null,target:d,priority:h};for(var E=0;E<_s.length&&h!==0&&h<_s[E].priority;E++);_s.splice(E,0,d),E===0&&ad(d)}};var ld=t.version;if(ld!=="19.1.1")throw Error(o(527,ld,"19.1.1"));K.findDOMNode=function(d){var h=d._reactInternals;if(h===void 0)throw typeof d.render=="function"?Error(o(188)):(d=Object.keys(d).join(","),Error(o(268,d)));return d=j(h),d=d!==null?f(d):null,d=d===null?null:d.stateNode,d};var Np={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var so=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!so.isDisabled&&so.supportsFiber)try{ke=so.inject(Np),Ue=so}catch{}}return reactDomClient_production.createRoot=function(d,h){if(!l(d))throw Error(o(299));var E=!1,w="",O=yu,U=Ru,W=vu,se=null;return h!=null&&(h.unstable_strictMode===!0&&(E=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onUncaughtError!==void 0&&(O=h.onUncaughtError),h.onCaughtError!==void 0&&(U=h.onCaughtError),h.onRecoverableError!==void 0&&(W=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(se=h.unstable_transitionCallbacks)),h=Qx(d,1,!1,null,null,E,w,O,U,W,se,null),d[rr]=h.current,Zi(d),new jl(h)},reactDomClient_production.hydrateRoot=function(d,h,E){if(!l(d))throw Error(o(299));var w=!1,O="",U=yu,W=Ru,se=vu,ie=null,he=null;return E!=null&&(E.unstable_strictMode===!0&&(w=!0),E.identifierPrefix!==void 0&&(O=E.identifierPrefix),E.onUncaughtError!==void 0&&(U=E.onUncaughtError),E.onCaughtError!==void 0&&(W=E.onCaughtError),E.onRecoverableError!==void 0&&(se=E.onRecoverableError),E.unstable_transitionCallbacks!==void 0&&(ie=E.unstable_transitionCallbacks),E.formState!==void 0&&(he=E.formState)),h=Qx(d,1,!0,h,E??null,w,O,U,W,se,ie,he),h.context=Zx(null),E=h.current,w=Dt(),w=no(w),O=bs(w),O.callback=null,Es(E,O,w),E=w,h.current.lanes=E,Vr(h,E),Zt(h),d[rr]=h.current,Zi(d),new eo(h)},reactDomClient_production.version="19.1.1",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PopStateEventType="popstate";function createBrowserHistory(e={}){function t(o,l){let{pathname:u,search:m,hash:p}=o.location;return createLocation("",{pathname:u,search:m,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){return typeof l=="string"?l:createPath(l)}return getUrlBasedHistory(t,n,null,e)}function invariant$2(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function warning(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(e,t){return{usr:e.state,key:e.key,idx:t}}function createLocation(e,t,n=null,o){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?parsePath(t):t,state:n,key:t&&t.key||o||createKey()}}function createPath({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function parsePath(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let o=e.indexOf("?");o>=0&&(t.search=e.substring(o),e=e.substring(0,o)),e&&(t.pathname=e)}return t}function getUrlBasedHistory(e,t,n,o={}){let{window:l=document.defaultView,v5Compat:u=!1}=o,m=l.history,p="POP",j=null,f=g();f==null&&(f=0,m.replaceState({...m.state,idx:f},""));function g(){return(m.state||{idx:null}).idx}function b(){p="POP";let $=g(),C=$==null?null:$-f;f=$,j&&j({action:p,location:S.location,delta:C})}function R($,C){p="PUSH";let A=createLocation(S.location,$,C);f=g()+1;let T=getHistoryState(A,f),D=S.createHref(A);try{m.pushState(T,"",D)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;l.location.assign(D)}u&&j&&j({action:p,location:S.location,delta:1})}function v($,C){p="REPLACE";let A=createLocation(S.location,$,C);f=g();let T=getHistoryState(A,f),D=S.createHref(A);m.replaceState(T,"",D),u&&j&&j({action:p,location:S.location,delta:0})}function N($){return createBrowserURLImpl($)}let S={get action(){return p},get location(){return e(l,m)},listen($){if(j)throw new Error("A history only accepts one active listener");return l.addEventListener(PopStateEventType,b),j=$,()=>{l.removeEventListener(PopStateEventType,b),j=null}},createHref($){return t(l,$)},createURL:N,encodeLocation($){let C=N($);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:R,replace:v,go($){return m.go($)}};return S}function createBrowserURLImpl(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),invariant$2(n,"No window.location.(origin|href) available to create URL");let o=typeof e=="string"?e:createPath(e);return o=o.replace(/ $/,"%20"),!t&&o.startsWith("//")&&(o=n+o),new URL(o,n)}function matchRoutes(e,t,n="/"){return matchRoutesImpl(e,t,n,!1)}function matchRoutesImpl(e,t,n,o){let l=typeof t=="string"?parsePath(t):t,u=stripBasename(l.pathname||"/",n);if(u==null)return null;let m=flattenRoutes(e);rankRouteBranches(m);let p=null;for(let j=0;p==null&&j<m.length;++j){let f=decodePath(u);p=matchRouteBranch(m[j],f,o)}return p}function flattenRoutes(e,t=[],n=[],o="",l=!1){let u=(m,p,j=l,f)=>{let g={relativePath:f===void 0?m.path||"":f,caseSensitive:m.caseSensitive===!0,childrenIndex:p,route:m};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(o)&&j)return;invariant$2(g.relativePath.startsWith(o),`Absolute route path "${g.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(o.length)}let b=joinPaths([o,g.relativePath]),R=n.concat(g);m.children&&m.children.length>0&&(invariant$2(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),flattenRoutes(m.children,t,R,b,j)),!(m.path==null&&!m.index)&&t.push({path:b,score:computeScore(b,m.index),routesMeta:R})};return e.forEach((m,p)=>{if(m.path===""||!m.path?.includes("?"))u(m,p);else for(let j of explodeOptionalSegments(m.path))u(m,p,!0,j)}),t}function explodeOptionalSegments(e){let t=e.split("/");if(t.length===0)return[];let[n,...o]=t,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(o.length===0)return l?[u,""]:[u];let m=explodeOptionalSegments(o.join("/")),p=[];return p.push(...m.map(j=>j===""?u:[u,j].join("/"))),l&&p.push(...m),p.map(j=>e.startsWith("/")&&j===""?"/":j)}function rankRouteBranches(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:compareIndexes(t.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=e=>e==="*";function computeScore(e,t){let n=e.split("/"),o=n.length;return n.some(isSplat)&&(o+=splatPenalty),t&&(o+=indexRouteValue),n.filter(l=>!isSplat(l)).reduce((l,u)=>l+(paramRe.test(u)?dynamicSegmentValue:u===""?emptySegmentValue:staticSegmentValue),o)}function compareIndexes(e,t){return e.length===t.length&&e.slice(0,-1).every((o,l)=>o===t[l])?e[e.length-1]-t[t.length-1]:0}function matchRouteBranch(e,t,n=!1){let{routesMeta:o}=e,l={},u="/",m=[];for(let p=0;p<o.length;++p){let j=o[p],f=p===o.length-1,g=u==="/"?t:t.slice(u.length)||"/",b=matchPath({path:j.relativePath,caseSensitive:j.caseSensitive,end:f},g),R=j.route;if(!b&&f&&n&&!o[o.length-1].route.index&&(b=matchPath({path:j.relativePath,caseSensitive:j.caseSensitive,end:!1},g)),!b)return null;Object.assign(l,b.params),m.push({params:l,pathname:joinPaths([u,b.pathname]),pathnameBase:normalizePathname(joinPaths([u,b.pathnameBase])),route:R}),b.pathnameBase!=="/"&&(u=joinPaths([u,b.pathnameBase]))}return m}function matchPath(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,o]=compilePath(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let u=l[0],m=u.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:o.reduce((f,{paramName:g,isOptional:b},R)=>{if(g==="*"){let N=p[R]||"";m=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const v=p[R];return b&&!v?f[g]=void 0:f[g]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:u,pathnameBase:m,pattern:e}}function compilePath(e,t=!1,n=!0){warning(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let o=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,p,j)=>(o.push({paramName:p,isOptional:j!=null}),j?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(o.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),o]}function decodePath(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return warning(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function stripBasename(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,o=e.charAt(n);return o&&o!=="/"?null:e.slice(n)||"/"}function resolvePath(e,t="/"){let{pathname:n,search:o="",hash:l=""}=typeof e=="string"?parsePath(e):e;return{pathname:n?n.startsWith("/")?n:resolvePathname(n,t):t,search:normalizeSearch(o),hash:normalizeHash(l)}}function resolvePathname(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function getInvalidPathError(e,t,n,o){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function getResolveToMatches(e){let t=getPathContributingMatches(e);return t.map((n,o)=>o===t.length-1?n.pathname:n.pathnameBase)}function resolveTo(e,t,n,o=!1){let l;typeof e=="string"?l=parsePath(e):(l={...e},invariant$2(!l.pathname||!l.pathname.includes("?"),getInvalidPathError("?","pathname","search",l)),invariant$2(!l.pathname||!l.pathname.includes("#"),getInvalidPathError("#","pathname","hash",l)),invariant$2(!l.search||!l.search.includes("#"),getInvalidPathError("#","search","hash",l)));let u=e===""||l.pathname==="",m=u?"/":l.pathname,p;if(m==null)p=n;else{let b=t.length-1;if(!o&&m.startsWith("..")){let R=m.split("/");for(;R[0]==="..";)R.shift(),b-=1;l.pathname=R.join("/")}p=b>=0?t[b]:"/"}let j=resolvePath(l,p),f=m&&m!=="/"&&m.endsWith("/"),g=(u||m===".")&&n.endsWith("/");return!j.pathname.endsWith("/")&&(f||g)&&(j.pathname+="/"),j}var joinPaths=e=>e.join("/").replace(/\/\/+/g,"/"),normalizePathname=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,normalizeHash=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function isRouteErrorResponse(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";reactExports.createContext(!1);var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(e,{relative:t}={}){invariant$2(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:o}=reactExports.useContext(NavigationContext),{hash:l,pathname:u,search:m}=useResolvedPath(e,{relative:t}),p=u;return n!=="/"&&(p=u==="/"?n:joinPaths([n,u])),o.createHref({pathname:p,search:m,hash:l})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant$2(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect$2(e){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(e)}function useNavigate(){let{isDataRoute:e}=reactExports.useContext(RouteContext);return e?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant$2(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let e=reactExports.useContext(DataRouterContext),{basename:t,navigator:n}=reactExports.useContext(NavigationContext),{matches:o}=reactExports.useContext(RouteContext),{pathname:l}=useLocation(),u=JSON.stringify(getResolveToMatches(o)),m=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{m.current=!0}),reactExports.useCallback((j,f={})=>{if(warning(m.current,navigateEffectWarning),!m.current)return;if(typeof j=="number"){n.go(j);return}let g=resolveTo(j,JSON.parse(u),l,f.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:joinPaths([t,g.pathname])),(f.replace?n.replace:n.push)(g,f.state,f)},[t,n,u,l,e])}var OutletContext=reactExports.createContext(null);function useOutlet(e){let t=reactExports.useContext(RouteContext).outlet;return t&&reactExports.createElement(OutletContext.Provider,{value:e},t)}function useParams(){let{matches:e}=reactExports.useContext(RouteContext),t=e[e.length-1];return t?t.params:{}}function useResolvedPath(e,{relative:t}={}){let{matches:n}=reactExports.useContext(RouteContext),{pathname:o}=useLocation(),l=JSON.stringify(getResolveToMatches(n));return reactExports.useMemo(()=>resolveTo(e,JSON.parse(l),o,t==="path"),[e,l,o,t])}function useRoutes(e,t){return useRoutesImpl(e,t)}function useRoutesImpl(e,t,n,o,l){invariant$2(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=reactExports.useContext(NavigationContext),{matches:m}=reactExports.useContext(RouteContext),p=m[m.length-1],j=p?p.params:{},f=p?p.pathname:"/",g=p?p.pathnameBase:"/",b=p&&p.route;{let A=b&&b.path||"";warningOnce(f,!b||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let R=useLocation(),v;if(t){let A=typeof t=="string"?parsePath(t):t;invariant$2(g==="/"||A.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${A.pathname}" was given in the \`location\` prop.`),v=A}else v=R;let N=v.pathname||"/",S=N;if(g!=="/"){let A=g.replace(/^\//,"").split("/");S="/"+N.replace(/^\//,"").split("/").slice(A.length).join("/")}let $=matchRoutes(e,{pathname:S});warning(b||$!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),warning($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=_renderMatches($&&$.map(A=>Object.assign({},A,{params:Object.assign({},j,A.params),pathname:joinPaths([g,u.encodeLocation?u.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?g:joinPaths([g,u.encodeLocation?u.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),m,n,o,l);return t&&C?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},C):C}function DefaultErrorComponent(){let e=useRouteError(),t=isRouteErrorResponse(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:o},u={padding:"2px 4px",backgroundColor:o},m=null;return console.error("Error handled by React Router default ErrorBoundary:",e),m=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null," Hey developer "),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:u},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:u},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},t),n?reactExports.createElement("pre",{style:l},n):null,m)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:e,match:t,children:n}){let o=reactExports.useContext(DataRouterContext);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),reactExports.createElement(RouteContext.Provider,{value:e},n)}function _renderMatches(e,t=[],n=null,o=null,l=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let u=e,m=n?.errors;if(m!=null){let f=u.findIndex(g=>g.route.id&&m?.[g.route.id]!==void 0);invariant$2(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),u=u.slice(0,Math.min(u.length,f+1))}let p=!1,j=-1;if(n)for(let f=0;f<u.length;f++){let g=u[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(j=f),g.route.id){let{loaderData:b,errors:R}=n,v=g.route.loader&&!b.hasOwnProperty(g.route.id)&&(!R||R[g.route.id]===void 0);if(g.route.lazy||v){p=!0,j>=0?u=u.slice(0,j+1):u=[u[0]];break}}}return u.reduceRight((f,g,b)=>{let R,v=!1,N=null,S=null;n&&(R=m&&g.route.id?m[g.route.id]:void 0,N=g.route.errorElement||defaultErrorElement,p&&(j<0&&b===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,S=null):j===b&&(v=!0,S=g.route.hydrateFallbackElement||null)));let $=t.concat(u.slice(0,b+1)),C=()=>{let A;return R?A=N:v?A=S:g.route.Component?A=reactExports.createElement(g.route.Component,null):g.route.element?A=g.route.element:A=f,reactExports.createElement(RenderedRoute,{match:g,routeContext:{outlet:f,matches:$,isDataRoute:n!=null},children:A})};return n&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?reactExports.createElement(RenderErrorBoundary,{location:n.location,revalidation:n.revalidation,component:N,error:R,children:C(),routeContext:{outlet:null,matches:$,isDataRoute:!0},unstable_onError:o}):C()},null)}function getDataRouterConsoleError(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(e){let t=reactExports.useContext(DataRouterContext);return invariant$2(t,getDataRouterConsoleError(e)),t}function useDataRouterState(e){let t=reactExports.useContext(DataRouterStateContext);return invariant$2(t,getDataRouterConsoleError(e)),t}function useRouteContext(e){let t=reactExports.useContext(RouteContext);return invariant$2(t,getDataRouterConsoleError(e)),t}function useCurrentRouteId(e){let t=useRouteContext(e),n=t.matches[t.matches.length-1];return invariant$2(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){let e=reactExports.useContext(RouteErrorContext),t=useDataRouterState("useRouteError"),n=useCurrentRouteId("useRouteError");return e!==void 0?e:t.errors?.[n]}function useNavigateStable(){let{router:e}=useDataRouterContext("useNavigate"),t=useCurrentRouteId("useNavigate"),n=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{n.current=!0}),reactExports.useCallback(async(l,u={})=>{warning(n.current,navigateEffectWarning),n.current&&(typeof l=="number"?e.navigate(l):await e.navigate(l,{fromRouteId:t,...u}))},[e,t])}var alreadyWarned={};function warningOnce(e,t,n){!t&&!alreadyWarned[e]&&(alreadyWarned[e]=!0,warning(!1,n))}reactExports.memo(DataRoutes);function DataRoutes({routes:e,future:t,state:n,unstable_onError:o}){return useRoutesImpl(e,void 0,n,o,t)}function Outlet(e){return useOutlet(e.context)}function Route(e){invariant$2(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:e="/",children:t=null,location:n,navigationType:o="POP",navigator:l,static:u=!1}){invariant$2(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=e.replace(/^\/*/,"/"),p=reactExports.useMemo(()=>({basename:m,navigator:l,static:u,future:{}}),[m,l,u]);typeof n=="string"&&(n=parsePath(n));let{pathname:j="/",search:f="",hash:g="",state:b=null,key:R="default"}=n,v=reactExports.useMemo(()=>{let N=stripBasename(j,m);return N==null?null:{location:{pathname:N,search:f,hash:g,state:b,key:R},navigationType:o}},[m,j,f,g,b,R,o]);return warning(v!=null,`<Router basename="${m}"> is not able to match the URL "${j}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:reactExports.createElement(NavigationContext.Provider,{value:p},reactExports.createElement(LocationContext.Provider,{children:t,value:v}))}function Routes({children:e,location:t}){return useRoutes(createRoutesFromChildren(e),t)}function createRoutesFromChildren(e,t=[]){let n=[];return reactExports.Children.forEach(e,(o,l)=>{if(!reactExports.isValidElement(o))return;let u=[...t,l];if(o.type===reactExports.Fragment){n.push.apply(n,createRoutesFromChildren(o.props.children,u));return}invariant$2(o.type===Route,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant$2(!o.props.index||!o.props.children,"An index route cannot have child routes.");let m={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(m.children=createRoutesFromChildren(o.props.children,u)),n.push(m)}),n}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(e){return e!=null&&typeof e.tagName=="string"}function isButtonElement(e){return isHtmlElement(e)&&e.tagName.toLowerCase()==="button"}function isFormElement(e){return isHtmlElement(e)&&e.tagName.toLowerCase()==="form"}function isInputElement(e){return isHtmlElement(e)&&e.tagName.toLowerCase()==="input"}function isModifiedEvent(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function shouldProcessLinkClick(e,t){return e.button===0&&(!t||t==="_self")&&!isModifiedEvent(e)}function createSearchParams(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let o=e[n];return t.concat(Array.isArray(o)?o.map(l=>[n,l]):[[n,o]])},[]))}function getSearchParamsForLocation(e,t){let n=createSearchParams(e);return t&&t.forEach((o,l)=>{n.has(l)||t.getAll(l).forEach(u=>{n.append(l,u)})}),n}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(e){return e!=null&&!supportedFormEncTypes.has(e)?(warning(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):e}function getFormSubmissionInfo(e,t){let n,o,l,u,m;if(isFormElement(e)){let p=e.getAttribute("action");o=p?stripBasename(p,t):null,n=e.getAttribute("method")||defaultMethod,l=getFormEncType(e.getAttribute("enctype"))||defaultEncType,u=new FormData(e)}else if(isButtonElement(e)||isInputElement(e)&&(e.type==="submit"||e.type==="image")){let p=e.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let j=e.getAttribute("formaction")||p.getAttribute("action");if(o=j?stripBasename(j,t):null,n=e.getAttribute("formmethod")||p.getAttribute("method")||defaultMethod,l=getFormEncType(e.getAttribute("formenctype"))||getFormEncType(p.getAttribute("enctype"))||defaultEncType,u=new FormData(p,e),!isFormDataSubmitterSupported()){let{name:f,type:g,value:b}=e;if(g==="image"){let R=f?`${f}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else f&&u.append(f,b)}}else{if(isHtmlElement(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=defaultMethod,o=null,l=defaultEncType,m=e}return u&&l==="text/plain"&&(m=u,u=void 0),{action:o,method:n.toLowerCase(),encType:l,formData:u,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function invariant2(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function singleFetchUrl(e,t,n){let o=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return o.pathname==="/"?o.pathname=`_root.${n}`:t&&stripBasename(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${n}`,o}async function loadRouteModule(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function getKeyedPrefetchLinks(e,t,n){let o=await Promise.all(e.map(async l=>{let u=t.routes[l.route.id];if(u){let m=await loadRouteModule(u,n);return m.links?m.links():[]}return[]}));return dedupeLinkDescriptors(o.flat(1).filter(isHtmlLinkDescriptor).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function getNewMatchesForLinks(e,t,n,o,l,u){let m=(j,f)=>n[f]?j.route.id!==n[f].route.id:!0,p=(j,f)=>n[f].pathname!==j.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==j.params["*"];return u==="assets"?t.filter((j,f)=>m(j,f)||p(j,f)):u==="data"?t.filter((j,f)=>{let g=o.routes[j.route.id];if(!g||!g.hasLoader)return!1;if(m(j,f)||p(j,f))return!0;if(j.route.shouldRevalidate){let b=j.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:j.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function getModuleLinkHrefs(e,t,{includeHydrateFallback:n}={}){return dedupeHrefs(e.map(o=>{let l=t.routes[o.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function dedupeHrefs(e){return[...new Set(e)]}function sortKeys(e){let t={},n=Object.keys(e).sort();for(let o of n)t[o]=e[o];return t}function dedupeLinkDescriptors(e,t){let n=new Set;return new Set(t),e.reduce((o,l)=>{let u=JSON.stringify(sortKeys(l));return n.has(u)||(n.add(u),o.push({key:u,link:l})),o},[])}function useDataRouterContext2(){let e=reactExports.useContext(DataRouterContext);return invariant2(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function useDataRouterStateContext(){let e=reactExports.useContext(DataRouterStateContext);return invariant2(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let e=reactExports.useContext(FrameworkContext);return invariant2(e,"You must render this element inside a <HydratedRouter> element"),e}function usePrefetchBehavior(e,t){let n=reactExports.useContext(FrameworkContext),[o,l]=reactExports.useState(!1),[u,m]=reactExports.useState(!1),{onFocus:p,onBlur:j,onMouseEnter:f,onMouseLeave:g,onTouchStart:b}=t,R=reactExports.useRef(null);reactExports.useEffect(()=>{if(e==="render"&&m(!0),e==="viewport"){let S=C=>{C.forEach(A=>{m(A.isIntersecting)})},$=new IntersectionObserver(S,{threshold:.5});return R.current&&$.observe(R.current),()=>{$.disconnect()}}},[e]),reactExports.useEffect(()=>{if(o){let S=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(S)}}},[o]);let v=()=>{l(!0)},N=()=>{l(!1),m(!1)};return n?e!=="intent"?[u,R,{}]:[u,R,{onFocus:composeEventHandlers(p,v),onBlur:composeEventHandlers(j,N),onMouseEnter:composeEventHandlers(f,v),onMouseLeave:composeEventHandlers(g,N),onTouchStart:composeEventHandlers(b,v)}]:[!1,R,{}]}function composeEventHandlers(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function PrefetchPageLinks({page:e,...t}){let{router:n}=useDataRouterContext2(),o=reactExports.useMemo(()=>matchRoutes(n.routes,e,n.basename),[n.routes,e,n.basename]);return o?reactExports.createElement(PrefetchPageLinksImpl,{page:e,matches:o,...t}):null}function useKeyedPrefetchLinks(e){let{manifest:t,routeModules:n}=useFrameworkContext(),[o,l]=reactExports.useState([]);return reactExports.useEffect(()=>{let u=!1;return getKeyedPrefetchLinks(e,t,n).then(m=>{u||l(m)}),()=>{u=!0}},[e,t,n]),o}function PrefetchPageLinksImpl({page:e,matches:t,...n}){let o=useLocation(),{manifest:l,routeModules:u}=useFrameworkContext(),{basename:m}=useDataRouterContext2(),{loaderData:p,matches:j}=useDataRouterStateContext(),f=reactExports.useMemo(()=>getNewMatchesForLinks(e,t,j,l,o,"data"),[e,t,j,l,o]),g=reactExports.useMemo(()=>getNewMatchesForLinks(e,t,j,l,o,"assets"),[e,t,j,l,o]),b=reactExports.useMemo(()=>{if(e===o.pathname+o.search+o.hash)return[];let N=new Set,S=!1;if(t.forEach(C=>{let A=l.routes[C.route.id];!A||!A.hasLoader||(!f.some(T=>T.route.id===C.route.id)&&C.route.id in p&&u[C.route.id]?.shouldRevalidate||A.hasClientLoader?S=!0:N.add(C.route.id))}),N.size===0)return[];let $=singleFetchUrl(e,m,"data");return S&&N.size>0&&$.searchParams.set("_routes",t.filter(C=>N.has(C.route.id)).map(C=>C.route.id).join(",")),[$.pathname+$.search]},[m,p,o,l,f,t,e,u]),R=reactExports.useMemo(()=>getModuleLinkHrefs(g,l),[g,l]),v=useKeyedPrefetchLinks(g);return reactExports.createElement(reactExports.Fragment,null,b.map(N=>reactExports.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),R.map(N=>reactExports.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),v.map(({key:N,link:S})=>reactExports.createElement("link",{key:N,nonce:n.nonce,...S})))}function mergeRefs(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser$1&&(window.__reactRouterVersion="7.8.2")}catch{}function BrowserRouter({basename:e,children:t,window:n}){let o=reactExports.useRef();o.current==null&&(o.current=createBrowserHistory({window:n,v5Compat:!0}));let l=o.current,[u,m]=reactExports.useState({action:l.action,location:l.location}),p=reactExports.useCallback(j=>{reactExports.startTransition(()=>m(j))},[m]);return reactExports.useLayoutEffect(()=>l.listen(p),[l,p]),reactExports.createElement(Router,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:l})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link$1=reactExports.forwardRef(function({onClick:t,discover:n="render",prefetch:o="none",relative:l,reloadDocument:u,replace:m,state:p,target:j,to:f,preventScrollReset:g,viewTransition:b,...R},v){let{basename:N}=reactExports.useContext(NavigationContext),S=typeof f=="string"&&ABSOLUTE_URL_REGEX2.test(f),$,C=!1;if(typeof f=="string"&&S&&($=f,isBrowser$1))try{let F=new URL(window.location.href),B=f.startsWith("//")?new URL(F.protocol+f):new URL(f),q=stripBasename(B.pathname,N);B.origin===F.origin&&q!=null?f=q+B.search+B.hash:C=!0}catch{warning(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=useHref(f,{relative:l}),[T,D,I]=usePrefetchBehavior(o,R),L=useLinkClickHandler(f,{replace:m,state:p,target:j,preventScrollReset:g,relative:l,viewTransition:b});function _(F){t&&t(F),F.defaultPrevented||L(F)}let M=reactExports.createElement("a",{...R,...I,href:$||A,onClick:C||u?t:_,ref:mergeRefs(v,D),target:j,"data-discover":!S&&n==="render"?"true":void 0});return T&&!S?reactExports.createElement(reactExports.Fragment,null,M,reactExports.createElement(PrefetchPageLinks,{page:A})):M});Link$1.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:o="",end:l=!1,style:u,to:m,viewTransition:p,children:j,...f},g){let b=useResolvedPath(m,{relative:f.relative}),R=useLocation(),v=reactExports.useContext(DataRouterStateContext),{navigator:N,basename:S}=reactExports.useContext(NavigationContext),$=v!=null&&useViewTransitionState(b)&&p===!0,C=N.encodeLocation?N.encodeLocation(b).pathname:b.pathname,A=R.pathname,T=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(A=A.toLowerCase(),T=T?T.toLowerCase():null,C=C.toLowerCase()),T&&S&&(T=stripBasename(T,S)||T);const D=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let I=A===C||!l&&A.startsWith(C)&&A.charAt(D)==="/",L=T!=null&&(T===C||!l&&T.startsWith(C)&&T.charAt(C.length)==="/"),_={isActive:I,isPending:L,isTransitioning:$},M=I?t:void 0,F;typeof o=="function"?F=o(_):F=[o,I?"active":null,L?"pending":null,$?"transitioning":null].filter(Boolean).join(" ");let B=typeof u=="function"?u(_):u;return reactExports.createElement(Link$1,{...f,"aria-current":M,className:F,ref:g,style:B,to:m,viewTransition:p},typeof j=="function"?j(_):j)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:o,replace:l,state:u,method:m=defaultMethod,action:p,onSubmit:j,relative:f,preventScrollReset:g,viewTransition:b,...R},v)=>{let N=useSubmit(),S=useFormAction(p,{relative:f}),$=m.toLowerCase()==="get"?"get":"post",C=typeof p=="string"&&ABSOLUTE_URL_REGEX2.test(p),A=T=>{if(j&&j(T),T.defaultPrevented)return;T.preventDefault();let D=T.nativeEvent.submitter,I=D?.getAttribute("formmethod")||m;N(D||T.currentTarget,{fetcherKey:t,method:I,navigate:n,replace:l,state:u,relative:f,preventScrollReset:g,viewTransition:b})};return reactExports.createElement("form",{ref:v,method:$,action:S,onSubmit:o?j:A,...R,"data-discover":!C&&e==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(e){let t=reactExports.useContext(DataRouterContext);return invariant$2(t,getDataRouterConsoleError2(e)),t}function useLinkClickHandler(e,{target:t,replace:n,state:o,preventScrollReset:l,relative:u,viewTransition:m}={}){let p=useNavigate(),j=useLocation(),f=useResolvedPath(e,{relative:u});return reactExports.useCallback(g=>{if(shouldProcessLinkClick(g,t)){g.preventDefault();let b=n!==void 0?n:createPath(j)===createPath(f);p(e,{replace:b,state:o,preventScrollReset:l,relative:u,viewTransition:m})}},[j,p,f,n,o,t,e,l,u,m])}function useSearchParams(e){warning(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=reactExports.useRef(createSearchParams(e)),n=reactExports.useRef(!1),o=useLocation(),l=reactExports.useMemo(()=>getSearchParamsForLocation(o.search,n.current?null:t.current),[o.search]),u=useNavigate(),m=reactExports.useCallback((p,j)=>{const f=createSearchParams(typeof p=="function"?p(new URLSearchParams(l)):p);n.current=!0,u("?"+f,j)},[u,l]);return[l,m]}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:e}=useDataRouterContext3("useSubmit"),{basename:t}=reactExports.useContext(NavigationContext),n=useRouteId();return reactExports.useCallback(async(o,l={})=>{let{action:u,method:m,encType:p,formData:j,body:f}=getFormSubmissionInfo(o,t);if(l.navigate===!1){let g=l.fetcherKey||getUniqueFetcherId();await e.fetch(g,n,l.action||u,{preventScrollReset:l.preventScrollReset,formData:j,body:f,formMethod:l.method||m,formEncType:l.encType||p,flushSync:l.flushSync})}else await e.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:j,body:f,formMethod:l.method||m,formEncType:l.encType||p,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[e,t,n])}function useFormAction(e,{relative:t}={}){let{basename:n}=reactExports.useContext(NavigationContext),o=reactExports.useContext(RouteContext);invariant$2(o,"useFormAction must be used inside a RouteContext");let[l]=o.matches.slice(-1),u={...useResolvedPath(e||".",{relative:t})},m=useLocation();if(e==null){u.search=m.search;let p=new URLSearchParams(u.search),j=p.getAll("index");if(j.some(g=>g==="")){p.delete("index"),j.filter(b=>b).forEach(b=>p.append("index",b));let g=p.toString();u.search=g?`?${g}`:""}}return(!e||e===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:joinPaths([n,u.pathname])),createPath(u)}function useViewTransitionState(e,{relative:t}={}){let n=reactExports.useContext(ViewTransitionContext);invariant$2(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=useDataRouterContext3("useViewTransitionState"),l=useResolvedPath(e,{relative:t});if(!n.isTransitioning)return!1;let u=stripBasename(n.currentLocation.pathname,o)||n.currentLocation.pathname,m=stripBasename(n.nextLocation.pathname,o)||n.nextLocation.pathname;return matchPath(l.pathname,m)!=null||matchPath(l.pathname,u)!=null}var reactDomExports=requireReactDom();const TenantContext=reactExports.createContext(null),TenantProvider=({children:e})=>{const t=reactExports.useMemo(()=>{try{const l=localStorage.getItem("modules");return l?l.split(","):[]}catch(l){return console.error("Failed to parse tenant plan from localStorage",l),[]}},[]),o={subscribedModules:t,hasModule:l=>t.includes(l)};return jsxRuntimeExports.jsx(TenantContext.Provider,{value:o,children:e})},useTenant=()=>{const e=reactExports.useContext(TenantContext);if(!e)throw new Error("useTenant must be used within a TenantProvider");return e},LayoutGroupContext=reactExports.createContext({});function useConstant(e){const t=reactExports.useRef(null);return t.current===null&&(t.current=e()),t.current}const isBrowser=typeof window<"u",useIsomorphicLayoutEffect$1=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,PresenceContext=reactExports.createContext(null);function addUniqueItem(e,t){e.indexOf(t)===-1&&e.push(t)}function removeItem(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const clamp=(e,t,n)=>n>t?t:n<e?e:n;let invariant$1=()=>{};const MotionGlobalConfig={},isNumericalString=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function isObject$2(e){return typeof e=="object"&&e!==null}const isZeroValueString=e=>/^0[^.\s]+$/u.test(e);function memo(e){let t;return()=>(t===void 0&&(t=e()),t)}const noop$7=e=>e,combineFunctions=(e,t)=>n=>t(e(n)),pipe=(...e)=>e.reduce(combineFunctions),progress=(e,t,n)=>{const o=t-e;return o===0?1:(n-e)/o};class SubscriptionManager{constructor(){this.subscriptions=[]}add(t){return addUniqueItem(this.subscriptions,t),()=>removeItem(this.subscriptions,t)}notify(t,n,o){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](t,n,o);else for(let u=0;u<l;u++){const m=this.subscriptions[u];m&&m(t,n,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const secondsToMilliseconds=e=>e*1e3,millisecondsToSeconds=e=>e/1e3;function velocityPerSecond(e,t){return t?e*(1e3/t):0}const calcBezier=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(e,t,n,o,l){let u,m,p=0;do m=t+(n-t)/2,u=calcBezier(m,o,l)-e,u>0?n=m:t=m;while(Math.abs(u)>subdivisionPrecision&&++p<subdivisionMaxIterations);return m}function cubicBezier$1(e,t,n,o){if(e===t&&n===o)return noop$7;const l=u=>binarySubdivide(u,0,1,e,n);return u=>u===0||u===1?u:calcBezier(l(u),t,o)}const mirrorEasing=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,reverseEasing=e=>t=>1-e(1-t),backOut=cubicBezier$1(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=e=>(e*=2)<1?.5*backIn(e):.5*(2-Math.pow(2,-10*(e-1))),circIn=e=>1-Math.sin(Math.acos(e)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),easeIn=cubicBezier$1(.42,0,1,1),easeOut=cubicBezier$1(0,0,.58,1),easeInOut=cubicBezier$1(.42,0,.58,1),isEasingArray=e=>Array.isArray(e)&&typeof e[0]!="number",isBezierDefinition=e=>Array.isArray(e)&&typeof e[0]=="number",easingLookup={linear:noop$7,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},isValidEasing=e=>typeof e=="string",easingDefinitionToFunction=e=>{if(isBezierDefinition(e)){invariant$1(e.length===4);const[t,n,o,l]=e;return cubicBezier$1(t,n,o,l)}else if(isValidEasing(e))return easingLookup[e];return e},stepsOrder=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function createRenderStep(e,t){let n=new Set,o=new Set,l=!1,u=!1;const m=new WeakSet;let p={delta:0,timestamp:0,isProcessing:!1};function j(g){m.has(g)&&(f.schedule(g),e()),g(p)}const f={schedule:(g,b=!1,R=!1)=>{const N=R&&l?n:o;return b&&m.add(g),N.has(g)||N.add(g),g},cancel:g=>{o.delete(g),m.delete(g)},process:g=>{if(p=g,l){u=!0;return}l=!0,[n,o]=[o,n],n.forEach(j),n.clear(),l=!1,u&&(u=!1,f.process(g))}};return f}const maxElapsed=40;function createRenderBatcher(e,t){let n=!1,o=!0;const l={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,m=stepsOrder.reduce((T,D)=>(T[D]=createRenderStep(u),T),{}),{setup:p,read:j,resolveKeyframes:f,preUpdate:g,update:b,preRender:R,render:v,postRender:N}=m,S=()=>{const T=MotionGlobalConfig.useManualTiming?l.timestamp:performance.now();n=!1,MotionGlobalConfig.useManualTiming||(l.delta=o?1e3/60:Math.max(Math.min(T-l.timestamp,maxElapsed),1)),l.timestamp=T,l.isProcessing=!0,p.process(l),j.process(l),f.process(l),g.process(l),b.process(l),R.process(l),v.process(l),N.process(l),l.isProcessing=!1,n&&t&&(o=!1,e(S))},$=()=>{n=!0,o=!0,l.isProcessing||e(S)};return{schedule:stepsOrder.reduce((T,D)=>{const I=m[D];return T[D]=(L,_=!1,M=!1)=>(n||$(),I.schedule(L,_,M)),T},{}),cancel:T=>{for(let D=0;D<stepsOrder.length;D++)m[stepsOrder[D]].cancel(T)},state:l,steps:m}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$7,!0);let now;function clearTime(){now=void 0}const time$1={now:()=>(now===void 0&&time$1.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:e=>{now=e,queueMicrotask(clearTime)}},checkStringStartsWith=e=>t=>typeof t=="string"&&t.startsWith(e),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=e=>startsAsVariableToken(e)?singleCssVariableRegex.test(e.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,number$3={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},alpha$1={...number$3,transform:e=>clamp(0,1,e)},scale={...number$3,default:1},sanitize=e=>Math.round(e*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish$1(e){return e==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(e,t)=>n=>!!(typeof n=="string"&&singleColorRegex.test(n)&&n.startsWith(e)||t&&!isNullish$1(n)&&Object.prototype.hasOwnProperty.call(n,t)),splitColor=(e,t,n)=>o=>{if(typeof o!="string")return o;const[l,u,m,p]=o.match(floatRegex);return{[e]:parseFloat(l),[t]:parseFloat(u),[n]:parseFloat(m),alpha:p!==void 0?parseFloat(p):1}},clampRgbUnit=e=>clamp(0,255,e),rgbUnit={...number$3,transform:e=>Math.round(clampRgbUnit(e))},rgba$1={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:o=1})=>"rgba("+rgbUnit.transform(e)+", "+rgbUnit.transform(t)+", "+rgbUnit.transform(n)+", "+sanitize(alpha$1.transform(o))+")"};function parseHex(e){let t="",n="",o="",l="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),o=e.substring(5,7),l=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),o=e.substring(3,4),l=e.substring(4,5),t+=t,n+=n,o+=o,l+=l),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(o,16),alpha:l?parseInt(l,16)/255:1}}const hex$1={test:isColorString("#"),parse:parseHex,transform:rgba$1.transform},createUnitType=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:e=>percent.parse(e)/100,transform:e=>percent.transform(e*100)},hsla$1={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:o=1})=>"hsla("+Math.round(e)+", "+percent.transform(sanitize(t))+", "+percent.transform(sanitize(n))+", "+sanitize(alpha$1.transform(o))+")"},color$1={test:e=>rgba$1.test(e)||hex$1.test(e)||hsla$1.test(e),parse:e=>rgba$1.test(e)?rgba$1.parse(e):hsla$1.test(e)?hsla$1.parse(e):hex$1.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?rgba$1.transform(e):hsla$1.transform(e),getAnimatableNone:e=>{const t=color$1.parse(e);return t.alpha=0,color$1.transform(t)}},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test$1(e){return isNaN(e)&&typeof e=="string"&&(e.match(floatRegex)?.length||0)+(e.match(colorRegex)?.length||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(e){const t=e.toString(),n=[],o={color:[],number:[],var:[]},l=[];let u=0;const p=t.replace(complexRegex,j=>(color$1.test(j)?(o.color.push(u),l.push(COLOR_TOKEN),n.push(color$1.parse(j))):j.startsWith(VAR_FUNCTION_TOKEN)?(o.var.push(u),l.push(VAR_TOKEN),n.push(j)):(o.number.push(u),l.push(NUMBER_TOKEN),n.push(parseFloat(j))),++u,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:n,split:p,indexes:o,types:l}}function parseComplexValue(e){return analyseComplexValue(e).values}function createTransformer(e){const{split:t,types:n}=analyseComplexValue(e),o=t.length;return l=>{let u="";for(let m=0;m<o;m++)if(u+=t[m],l[m]!==void 0){const p=n[m];p===NUMBER_TOKEN?u+=sanitize(l[m]):p===COLOR_TOKEN?u+=color$1.transform(l[m]):u+=l[m]}return u}}const convertNumbersToZero=e=>typeof e=="number"?0:color$1.test(e)?color$1.getAnimatableNone(e):e;function getAnimatableNone$1(e){const t=parseComplexValue(e);return createTransformer(e)(t.map(convertNumbersToZero))}const complex={test:test$1,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1};function hueToRgb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function hslaToRgba({hue:e,saturation:t,lightness:n,alpha:o}){e/=360,t/=100,n/=100;let l=0,u=0,m=0;if(!t)l=u=m=n;else{const p=n<.5?n*(1+t):n+t-n*t,j=2*n-p;l=hueToRgb(j,p,e+1/3),u=hueToRgb(j,p,e),m=hueToRgb(j,p,e-1/3)}return{red:Math.round(l*255),green:Math.round(u*255),blue:Math.round(m*255),alpha:o}}function mixImmediate(e,t){return n=>n>0?t:e}const mixNumber$1=(e,t,n)=>e+(t-e)*n,mixLinearColor=(e,t,n)=>{const o=e*e,l=n*(t*t-o)+o;return l<0?0:Math.sqrt(l)},colorTypes=[hex$1,rgba$1,hsla$1],getColorType=e=>colorTypes.find(t=>t.test(e));function asRGBA(e){const t=getColorType(e);if(!t)return!1;let n=t.parse(e);return t===hsla$1&&(n=hslaToRgba(n)),n}const mixColor=(e,t)=>{const n=asRGBA(e),o=asRGBA(t);if(!n||!o)return mixImmediate(e,t);const l={...n};return u=>(l.red=mixLinearColor(n.red,o.red,u),l.green=mixLinearColor(n.green,o.green,u),l.blue=mixLinearColor(n.blue,o.blue,u),l.alpha=mixNumber$1(n.alpha,o.alpha,u),rgba$1.transform(l))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(e,t){return invisibleValues.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function mixNumber(e,t){return n=>mixNumber$1(e,t,n)}function getMixer(e){return typeof e=="number"?mixNumber:typeof e=="string"?isCSSVariableToken(e)?mixImmediate:color$1.test(e)?mixColor:mixComplex:Array.isArray(e)?mixArray:typeof e=="object"?color$1.test(e)?mixColor:mixObject:mixImmediate}function mixArray(e,t){const n=[...e],o=n.length,l=e.map((u,m)=>getMixer(u)(u,t[m]));return u=>{for(let m=0;m<o;m++)n[m]=l[m](u);return n}}function mixObject(e,t){const n={...e,...t},o={};for(const l in n)e[l]!==void 0&&t[l]!==void 0&&(o[l]=getMixer(e[l])(e[l],t[l]));return l=>{for(const u in o)n[u]=o[u](l);return n}}function matchOrder(e,t){const n=[],o={color:0,var:0,number:0};for(let l=0;l<t.values.length;l++){const u=t.types[l],m=e.indexes[u][o[u]],p=e.values[m]??0;n[l]=p,o[u]++}return n}const mixComplex=(e,t)=>{const n=complex.createTransformer(t),o=analyseComplexValue(e),l=analyseComplexValue(t);return o.indexes.var.length===l.indexes.var.length&&o.indexes.color.length===l.indexes.color.length&&o.indexes.number.length>=l.indexes.number.length?invisibleValues.has(e)&&!l.values.length||invisibleValues.has(t)&&!o.values.length?mixVisibility(e,t):pipe(mixArray(matchOrder(o,l),l.values),n):mixImmediate(e,t)};function mix(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?mixNumber$1(e,t,n):getMixer(e)(e,t)}const frameloopDriver=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>frame.update(t,n),stop:()=>cancelFrame(t),now:()=>frameData.isProcessing?frameData.timestamp:time$1.now()}},generateLinearEasing=(e,t,n=10)=>{let o="";const l=Math.max(Math.round(t/n),2);for(let u=0;u<l;u++)o+=Math.round(e(u/(l-1))*1e4)/1e4+", ";return`linear(${o.substring(0,o.length-2)})`},maxGeneratorDuration=2e4;function calcGeneratorDuration(e){let t=0;const n=50;let o=e.next(t);for(;!o.done&&t<maxGeneratorDuration;)t+=n,o=e.next(t);return t>=maxGeneratorDuration?1/0:t}function createGeneratorEasing(e,t=100,n){const o=n({...e,keyframes:[0,t]}),l=Math.min(calcGeneratorDuration(o),maxGeneratorDuration);return{type:"keyframes",ease:u=>o.next(l*u).value/t,duration:millisecondsToSeconds(l)}}const velocitySampleDuration=5;function calcGeneratorVelocity(e,t,n){const o=Math.max(t-velocitySampleDuration,0);return velocityPerSecond(n-e(o),t-o)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:e=springDefaults.duration,bounce:t=springDefaults.bounce,velocity:n=springDefaults.velocity,mass:o=springDefaults.mass}){let l,u,m=1-t;m=clamp(springDefaults.minDamping,springDefaults.maxDamping,m),e=clamp(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(e)),m<1?(l=f=>{const g=f*m,b=g*e,R=g-n,v=calcAngularFreq(f,m),N=Math.exp(-b);return safeMin-R/v*N},u=f=>{const b=f*m*e,R=b*n+n,v=Math.pow(m,2)*Math.pow(f,2)*e,N=Math.exp(-b),S=calcAngularFreq(Math.pow(f,2),m);return(-l(f)+safeMin>0?-1:1)*((R-v)*N)/S}):(l=f=>{const g=Math.exp(-f*e),b=(f-n)*e+1;return-safeMin+g*b},u=f=>{const g=Math.exp(-f*e),b=(n-f)*(e*e);return g*b});const p=5/e,j=approximateRoot(l,u,p);if(e=secondsToMilliseconds(e),isNaN(j))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:e};{const f=Math.pow(j,2)*o;return{stiffness:f,damping:m*2*Math.sqrt(o*f),duration:e}}}const rootIterations=12;function approximateRoot(e,t,n){let o=n;for(let l=1;l<rootIterations;l++)o=o-e(o)/t(o);return o}function calcAngularFreq(e,t){return e*Math.sqrt(1-t*t)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(e,t){return t.some(n=>e[n]!==void 0)}function getSpringOptions(e){let t={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...e};if(!isSpringType(e,physicsKeys)&&isSpringType(e,durationKeys))if(e.visualDuration){const n=e.visualDuration,o=2*Math.PI/(n*1.2),l=o*o,u=2*clamp(.05,1,1-(e.bounce||0))*Math.sqrt(l);t={...t,mass:springDefaults.mass,stiffness:l,damping:u}}else{const n=findSpring(e);t={...t,...n,mass:springDefaults.mass},t.isResolvedFromDuration=!0}return t}function spring(e=springDefaults.visualDuration,t=springDefaults.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:o,restDelta:l}=n;const u=n.keyframes[0],m=n.keyframes[n.keyframes.length-1],p={done:!1,value:u},{stiffness:j,damping:f,mass:g,duration:b,velocity:R,isResolvedFromDuration:v}=getSpringOptions({...n,velocity:-millisecondsToSeconds(n.velocity||0)}),N=R||0,S=f/(2*Math.sqrt(j*g)),$=m-u,C=millisecondsToSeconds(Math.sqrt(j/g)),A=Math.abs($)<5;o||(o=A?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),l||(l=A?springDefaults.restDelta.granular:springDefaults.restDelta.default);let T;if(S<1){const I=calcAngularFreq(C,S);T=L=>{const _=Math.exp(-S*C*L);return m-_*((N+S*C*$)/I*Math.sin(I*L)+$*Math.cos(I*L))}}else if(S===1)T=I=>m-Math.exp(-C*I)*($+(N+C*$)*I);else{const I=C*Math.sqrt(S*S-1);T=L=>{const _=Math.exp(-S*C*L),M=Math.min(I*L,300);return m-_*((N+S*C*$)*Math.sinh(M)+I*$*Math.cosh(M))/I}}const D={calculatedDuration:v&&b||null,next:I=>{const L=T(I);if(v)p.done=I>=b;else{let _=I===0?N:0;S<1&&(_=I===0?secondsToMilliseconds(N):calcGeneratorVelocity(T,I,L));const M=Math.abs(_)<=o,F=Math.abs(m-L)<=l;p.done=M&&F}return p.value=p.done?m:L,p},toString:()=>{const I=Math.min(calcGeneratorDuration(D),maxGeneratorDuration),L=generateLinearEasing(_=>D.next(I*_).value,I,30);return I+"ms "+L},toTransition:()=>{}};return D}spring.applyToOptions=e=>{const t=createGeneratorEasing(e,100,spring);return e.ease=t.ease,e.duration=secondsToMilliseconds(t.duration),e.type="keyframes",e};function inertia({keyframes:e,velocity:t=0,power:n=.8,timeConstant:o=325,bounceDamping:l=10,bounceStiffness:u=500,modifyTarget:m,min:p,max:j,restDelta:f=.5,restSpeed:g}){const b=e[0],R={done:!1,value:b},v=M=>p!==void 0&&M<p||j!==void 0&&M>j,N=M=>p===void 0?j:j===void 0||Math.abs(p-M)<Math.abs(j-M)?p:j;let S=n*t;const $=b+S,C=m===void 0?$:m($);C!==$&&(S=C-b);const A=M=>-S*Math.exp(-M/o),T=M=>C+A(M),D=M=>{const F=A(M),B=T(M);R.done=Math.abs(F)<=f,R.value=R.done?C:B};let I,L;const _=M=>{v(R.value)&&(I=M,L=spring({keyframes:[R.value,N(R.value)],velocity:calcGeneratorVelocity(T,M,R.value),damping:l,stiffness:u,restDelta:f,restSpeed:g}))};return _(0),{calculatedDuration:null,next:M=>{let F=!1;return!L&&I===void 0&&(F=!0,D(M),_(M)),I!==void 0&&M>=I?L.next(M-I):(!F&&D(M),R)}}}function createMixers(e,t,n){const o=[],l=n||MotionGlobalConfig.mix||mix,u=e.length-1;for(let m=0;m<u;m++){let p=l(e[m],e[m+1]);if(t){const j=Array.isArray(t)?t[m]||noop$7:t;p=pipe(j,p)}o.push(p)}return o}function interpolate$2(e,t,{clamp:n=!0,ease:o,mixer:l}={}){const u=e.length;if(invariant$1(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const m=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const p=createMixers(t,o,l),j=p.length,f=g=>{if(m&&g<e[0])return t[0];let b=0;if(j>1)for(;b<e.length-2&&!(g<e[b+1]);b++);const R=progress(e[b],e[b+1],g);return p[b](R)};return n?g=>f(clamp(e[0],e[u-1],g)):f}function fillOffset(e,t){const n=e[e.length-1];for(let o=1;o<=t;o++){const l=progress(0,t,o);e.push(mixNumber$1(n,1,l))}}function defaultOffset(e){const t=[0];return fillOffset(t,e.length-1),t}function convertOffsetToTimes(e,t){return e.map(n=>n*t)}function defaultEasing(e,t){return e.map(()=>t||easeInOut).splice(0,e.length-1)}function keyframes({duration:e=300,keyframes:t,times:n,ease:o="easeInOut"}){const l=isEasingArray(o)?o.map(easingDefinitionToFunction):easingDefinitionToFunction(o),u={done:!1,value:t[0]},m=convertOffsetToTimes(n&&n.length===t.length?n:defaultOffset(t),e),p=interpolate$2(m,t,{ease:Array.isArray(l)?l:defaultEasing(t,l)});return{calculatedDuration:e,next:j=>(u.value=p(j),u.done=j>=e,u)}}const isNotNull$1=e=>e!==null;function getFinalKeyframe$1(e,{repeat:t,repeatType:n="loop"},o,l=1){const u=e.filter(isNotNull$1),p=l<0||t&&n!=="loop"&&t%2===1?0:u.length-1;return!p||o===void 0?u[p]:o}const transitionTypeMap={decay:inertia,inertia,tween:keyframes,keyframes,spring};function replaceTransitionType(e){typeof e.type=="string"&&(e.type=transitionTypeMap[e.type])}class WithPromise{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const percentToProgress=e=>e/100;class JSAnimation extends WithPromise{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==time$1.now()&&this.tick(time$1.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;replaceTransitionType(t);const{type:n=keyframes,repeat:o=0,repeatDelay:l=0,repeatType:u,velocity:m=0}=t;let{keyframes:p}=t;const j=n||keyframes;j!==keyframes&&typeof p[0]!="number"&&(this.mixKeyframes=pipe(percentToProgress,mix(p[0],p[1])),p=[0,100]);const f=j({...t,keyframes:p});u==="mirror"&&(this.mirroredGenerator=j({...t,keyframes:[...p].reverse(),velocity:-m})),f.calculatedDuration===null&&(f.calculatedDuration=calcGeneratorDuration(f));const{calculatedDuration:g}=f;this.calculatedDuration=g,this.resolvedDuration=g+l,this.totalDuration=this.resolvedDuration*(o+1)-l,this.generator=f}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:o,totalDuration:l,mixKeyframes:u,mirroredGenerator:m,resolvedDuration:p,calculatedDuration:j}=this;if(this.startTime===null)return o.next(0);const{delay:f=0,keyframes:g,repeat:b,repeatType:R,repeatDelay:v,type:N,onUpdate:S,finalKeyframe:$}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-l/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const C=this.currentTime-f*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?C<0:C>l;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let T=this.currentTime,D=o;if(b){const M=Math.min(this.currentTime,l)/p;let F=Math.floor(M),B=M%1;!B&&M>=1&&(B=1),B===1&&F--,F=Math.min(F,b+1),!!(F%2)&&(R==="reverse"?(B=1-B,v&&(B-=v/p)):R==="mirror"&&(D=m)),T=clamp(0,1,B)*p}const I=A?{done:!1,value:g[0]}:D.next(T);u&&(I.value=u(I.value));let{done:L}=I;!A&&j!==null&&(L=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return _&&N!==inertia&&(I.value=getFinalKeyframe$1(g,this.options,$,this.speed)),S&&S(I.value),_&&this.finish(),I}then(t,n){return this.finished.then(t,n)}get duration(){return millisecondsToSeconds(this.calculatedDuration)}get time(){return millisecondsToSeconds(this.currentTime)}set time(t){t=secondsToMilliseconds(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(time$1.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=frameloopDriver,startTime:n}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),this.options.onPlay?.();const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=n??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(time$1.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function fillWildcards(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const radToDeg=e=>e*180/Math.PI,rotate=e=>{const t=radToDeg(Math.atan2(e[1],e[0]));return rebaseAngle(t)},matrix2dParsers={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate,rotateZ:rotate,skewX:e=>radToDeg(Math.atan(e[1])),skewY:e=>radToDeg(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},rebaseAngle=e=>(e=e%360,e<0&&(e+=360),e),rotateZ=rotate,scaleX=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),scaleY=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),matrix3dParsers={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX,scaleY,scale:e=>(scaleX(e)+scaleY(e))/2,rotateX:e=>rebaseAngle(radToDeg(Math.atan2(e[6],e[5]))),rotateY:e=>rebaseAngle(radToDeg(Math.atan2(-e[2],e[0]))),rotateZ,rotate:rotateZ,skewX:e=>radToDeg(Math.atan(e[4])),skewY:e=>radToDeg(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function defaultTransformValue(e){return e.includes("scale")?1:0}function parseValueFromTransform(e,t){if(!e||e==="none")return defaultTransformValue(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let o,l;if(n)o=matrix3dParsers,l=n;else{const p=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);o=matrix2dParsers,l=p}if(!l)return defaultTransformValue(t);const u=o[t],m=l[1].split(",").map(convertTransformToNumber);return typeof u=="function"?u(m):m[u]}const readTransformValue=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return parseValueFromTransform(n,t)};function convertTransformToNumber(e){return parseFloat(e.trim())}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),isNumOrPxType=e=>e===number$3||e===px,transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(e=>!transformKeys.has(e));function removeNonTranslationalTransform(e){const t=[];return nonTranslationalTransformKeys.forEach(n=>{const o=e.getValue(n);o!==void 0&&(t.push([n,o.get()]),o.set(n.startsWith("scale")?1:0))}),t}const positionalValues={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>parseValueFromTransform(t,"x"),y:(e,{transform:t})=>parseValueFromTransform(t,"y")};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1,isForced=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const e=Array.from(toResolve).filter(o=>o.needsMeasurement),t=new Set(e.map(o=>o.element)),n=new Map;t.forEach(o=>{const l=removeNonTranslationalTransform(o);l.length&&(n.set(o,l),o.render())}),e.forEach(o=>o.measureInitialState()),t.forEach(o=>{o.render();const l=n.get(o);l&&l.forEach(([u,m])=>{o.getValue(u)?.set(m)})}),e.forEach(o=>o.measureEndState()),e.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(e=>e.complete(isForced)),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){isForced=!0,readAllKeyframes(),measureAllKeyframes(),isForced=!1}class KeyframeResolver{constructor(t,n,o,l,u,m=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=o,this.motionValue=l,this.element=u,this.isAsync=m}scheduleResolve(){this.state="scheduled",this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:o,motionValue:l}=this;if(t[0]===null){const u=l?.get(),m=t[t.length-1];if(u!==void 0)t[0]=u;else if(o&&n){const p=o.readValue(n,m);p!=null&&(t[0]=p)}t[0]===void 0&&(t[0]=m),l&&u===void 0&&l.set(t[0])}fillWildcards(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),toResolve.delete(this)}cancel(){this.state==="scheduled"&&(toResolve.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const isCSSVar=e=>e.startsWith("--");function setStyle(e,t,n){isCSSVar(t)?e.style.setProperty(t,n):e.style[t]=n}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0),supportsFlags={};function memoSupports(e,t){const n=memo(e);return()=>supportsFlags[t]??n()}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cubicBezierAsString=([e,t,n,o])=>`cubic-bezier(${e}, ${t}, ${n}, ${o})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(e,t){if(e)return typeof e=="function"?supportsLinearEasing()?generateLinearEasing(e,t):"ease-out":isBezierDefinition(e)?cubicBezierAsString(e):Array.isArray(e)?e.map(n=>mapEasingToNativeEasing(n,t)||supportedWaapiEasing.easeOut):supportedWaapiEasing[e]}function startWaapiAnimation(e,t,n,{delay:o=0,duration:l=300,repeat:u=0,repeatType:m="loop",ease:p="easeOut",times:j}={},f=void 0){const g={[t]:n};j&&(g.offset=j);const b=mapEasingToNativeEasing(p,l);Array.isArray(b)&&(g.easing=b);const R={delay:o,duration:l,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:u+1,direction:m==="reverse"?"alternate":"normal"};return f&&(R.pseudoElement=f),e.animate(g,R)}function isGenerator(e){return typeof e=="function"&&"applyToOptions"in e}function applyGeneratorOptions({type:e,...t}){return isGenerator(e)&&supportsLinearEasing()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class NativeAnimation extends WithPromise{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:o,keyframes:l,pseudoElement:u,allowFlatten:m=!1,finalKeyframe:p,onComplete:j}=t;this.isPseudoElement=!!u,this.allowFlatten=m,this.options=t,invariant$1(typeof t.type!="string");const f=applyGeneratorOptions(t);this.animation=startWaapiAnimation(n,o,l,f,u),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const g=getFinalKeyframe$1(l,this.options,p,this.speed);this.updateMotionValue?this.updateMotionValue(g):setStyle(n,o,g),this.animation.cancel()}j?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return millisecondsToSeconds(Number(t))}get time(){return millisecondsToSeconds(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=secondsToMilliseconds(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&supportsScrollTimeline()?(this.animation.timeline=t,noop$7):n(this)}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(e){return e in unsupportedEasingFunctions}function replaceStringEasing(e){typeof e.ease=="string"&&isUnsupportedEase(e.ease)&&(e.ease=unsupportedEasingFunctions[e.ease])}const sampleDelta=10;class NativeAnimationExtended extends NativeAnimation{constructor(t){replaceStringEasing(t),replaceTransitionType(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:o,onComplete:l,element:u,...m}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const p=new JSAnimation({...m,autoplay:!1}),j=secondsToMilliseconds(this.finishedTime??this.time);n.setWithVelocity(p.sample(j-sampleDelta).value,p.sample(j).value,sampleDelta),p.stop()}}const isAnimatable=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(complex.test(e)||e==="0")&&!e.startsWith("url("));function hasKeyframesChanged(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function canAnimate(e,t,n,o){const l=e[0];if(l===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],m=isAnimatable(l,t),p=isAnimatable(u,t);return!m||!p?!1:hasKeyframesChanged(e)||(n==="spring"||isGenerator(n))&&o}function makeAnimationInstant(e){e.duration=0,e.type}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]),supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function supportsBrowserAnimation(e){const{motionValue:t,name:n,repeatDelay:o,repeatType:l,damping:u,type:m}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:j,transformTemplate:f}=t.owner.getProps();return supportsWaapi()&&n&&acceleratedValues.has(n)&&(n!=="transform"||!f)&&!j&&!o&&l!=="mirror"&&u!==0&&m!=="inertia"}const MAX_RESOLVE_DELAY=40;class AsyncMotionValueAnimation extends WithPromise{constructor({autoplay:t=!0,delay:n=0,type:o="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:m="loop",keyframes:p,name:j,motionValue:f,element:g,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=time$1.now();const R={autoplay:t,delay:n,type:o,repeat:l,repeatDelay:u,repeatType:m,name:j,motionValue:f,element:g,...b},v=g?.KeyframeResolver||KeyframeResolver;this.keyframeResolver=new v(p,(N,S,$)=>this.onKeyframesResolved(N,S,R,!$),j,f,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,o,l){this.keyframeResolver=void 0;const{name:u,type:m,velocity:p,delay:j,isHandoff:f,onUpdate:g}=o;this.resolvedAt=time$1.now(),canAnimate(t,u,m,p)||((MotionGlobalConfig.instantAnimations||!j)&&g?.(getFinalKeyframe$1(t,o,n)),t[0]=t[t.length-1],makeAnimationInstant(o),o.repeat=0);const R={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...o,keyframes:t},v=!f&&supportsBrowserAnimation(R)?new NativeAnimationExtended({...R,element:R.motionValue.owner.current}):new JSAnimation(R);v.finished.then(()=>this.notifyFinished()).catch(noop$7),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),flushKeyframeResolvers()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(e){const t=splitCSSVariableRegex.exec(e);if(!t)return[,];const[,n,o,l]=t;return[`--${n??o}`,l]}function getVariableValue(e,t,n=1){const[o,l]=parseCSSVariable(e);if(!o)return;const u=window.getComputedStyle(t).getPropertyValue(o);if(u){const m=u.trim();return isNumericalString(m)?parseFloat(m):m}return isCSSVariableToken(l)?getVariableValue(l,t,n+1):l}function getValueTransition(e,t){return e?.[t]??e?.default??e}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]),auto={test:e=>e==="auto",parse:e=>e},testValueType=e=>t=>t.test(e),dimensionValueTypes=[number$3,px,percent,degrees,vw,vh,auto],findDimensionValueType=e=>dimensionValueTypes.find(testValueType(e));function isNone(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||isZeroValueString(e):!0}const maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[o]=n.match(floatRegex)||[];if(!o)return e;const l=n.replace(o,"");let u=maxDefaults.has(t)?1:0;return o!==n&&(u*=100),t+"("+u+l+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:e=>{const t=e.match(functionRegex);return t?t.map(applyDefaultFilter).join(" "):e}},int={...number$3,transform:Math.round},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha$1,originX:progressPercentage,originY:progressPercentage,originZ:px},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px,...transformValueTypes,zIndex:int,fillOpacity:alpha$1,strokeOpacity:alpha$1,numOctaves:int},defaultValueTypes={...numberValueTypes,color:color$1,backgroundColor:color$1,outlineColor:color$1,fill:color$1,stroke:color$1,borderColor:color$1,borderTopColor:color$1,borderRightColor:color$1,borderBottomColor:color$1,borderLeftColor:color$1,filter,WebkitFilter:filter},getDefaultValueType=e=>defaultValueTypes[e];function getAnimatableNone(e,t){let n=getDefaultValueType(e);return n!==filter&&(n=complex),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(e,t,n){let o=0,l;for(;o<e.length&&!l;){const u=e[o];typeof u=="string"&&!invalidTemplates.has(u)&&analyseComplexValue(u).values.length&&(l=e[o]),o++}if(l&&n)for(const u of t)e[u]=getAnimatableNone(n,l)}class DOMKeyframesResolver extends KeyframeResolver{constructor(t,n,o,l,u){super(t,n,o,l,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:o}=this;if(!n||!n.current)return;super.readKeyframes();for(let j=0;j<t.length;j++){let f=t[j];if(typeof f=="string"&&(f=f.trim(),isCSSVariableToken(f))){const g=getVariableValue(f,n.current);g!==void 0&&(t[j]=g),j===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(o)||t.length!==2)return;const[l,u]=t,m=findDimensionValueType(l),p=findDimensionValueType(u);if(m!==p)if(isNumOrPxType(m)&&isNumOrPxType(p))for(let j=0;j<t.length;j++){const f=t[j];typeof f=="string"&&(t[j]=parseFloat(f))}else positionalValues[o]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,o=[];for(let l=0;l<t.length;l++)(t[l]===null||isNone(t[l]))&&o.push(l);o.length&&makeNoneKeyframesAnimatable(t,o,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:o}=this;if(!t||!t.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[o](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const l=n[n.length-1];l!==void 0&&t.getValue(o,l).jump(l,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:o}=this;if(!t||!t.current)return;const l=t.getValue(n);l&&l.jump(this.measuredOrigin,!1);const u=o.length-1,m=o[u];o[u]=positionalValues[n](t.measureViewportBox(),window.getComputedStyle(t.current)),m!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=m),this.removedTransforms?.length&&this.removedTransforms.forEach(([p,j])=>{t.getValue(p).set(j)}),this.resolveNoneKeyframes()}}function resolveElements(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let o=document;const l=n?.[e]??o.querySelectorAll(e);return l?Array.from(l):[]}return Array.from(e)}const getValueAsType=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function isHTMLElement(e){return isObject$2(e)&&"offsetHeight"in e}const MAX_VELOCITY_DELTA=30,isFloat=e=>!isNaN(parseFloat(e));class MotionValue{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=o=>{const l=time$1.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=time$1.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new SubscriptionManager);const o=this.events[t].add(n);return t==="change"?()=>{o(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,o){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-o}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=time$1.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(e,t){return new MotionValue(e,t)}const{schedule:microtask}=createRenderBatcher(queueMicrotask,!1),isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function setDragLock(e){return e==="x"||e==="y"?isDragging[e]?null:(isDragging[e]=!0,()=>{isDragging[e]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}function setupGesture(e,t){const n=resolveElements(e),o=new AbortController,l={passive:!0,...t,signal:o.signal};return[n,l,()=>o.abort()]}function isValidHover(e){return!(e.pointerType==="touch"||isDragActive())}function hover(e,t,n={}){const[o,l,u]=setupGesture(e,n),m=p=>{if(!isValidHover(p))return;const{target:j}=p,f=t(j,p);if(typeof f!="function"||!j)return;const g=b=>{isValidHover(b)&&(f(b),j.removeEventListener("pointerleave",g))};j.addEventListener("pointerleave",g,l)};return o.forEach(p=>{p.addEventListener("pointerenter",m,l)}),u}const isNodeOrChild=(e,t)=>t?e===t?!0:isNodeOrChild(e,t.parentElement):!1,isPrimaryPointer=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(e){return focusableElements.has(e.tagName)||e.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(e){return t=>{t.key==="Enter"&&e(t)}}function firePointerEvent(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(e,t)=>{const n=e.currentTarget;if(!n)return;const o=filterEvents(()=>{if(isPressing.has(n))return;firePointerEvent(n,"down");const l=filterEvents(()=>{firePointerEvent(n,"up")}),u=()=>firePointerEvent(n,"cancel");n.addEventListener("keyup",l,t),n.addEventListener("blur",u,t)});n.addEventListener("keydown",o,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",o),t)};function isValidPressEvent(e){return isPrimaryPointer(e)&&!isDragActive()}function press(e,t,n={}){const[o,l,u]=setupGesture(e,n),m=p=>{const j=p.currentTarget;if(!isValidPressEvent(p))return;isPressing.add(j);const f=t(j,p),g=(v,N)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",R),isPressing.has(j)&&isPressing.delete(j),isValidPressEvent(v)&&typeof f=="function"&&f(v,{success:N})},b=v=>{g(v,j===window||j===document||n.useGlobalTarget||isNodeOrChild(j,v.target))},R=v=>{g(v,!1)};window.addEventListener("pointerup",b,l),window.addEventListener("pointercancel",R,l)};return o.forEach(p=>{(n.useGlobalTarget?window:p).addEventListener("pointerdown",m,l),isHTMLElement(p)&&(p.addEventListener("focus",f=>enableKeyboardPress(f,l)),!isElementKeyboardAccessible(p)&&!p.hasAttribute("tabindex")&&(p.tabIndex=0))}),u}function isSVGElement(e){return isObject$2(e)&&"ownerSVGElement"in e}function isSVGSVGElement(e){return isSVGElement(e)&&e.tagName==="svg"}const isMotionValue=e=>!!(e&&e.getVelocity),valueTypes=[...dimensionValueTypes,color$1,complex],findValueType=e=>valueTypes.find(testValueType(e)),MotionConfigContext=reactExports.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const o=n.offsetParent,l=isHTMLElement(o)&&o.offsetWidth||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=l-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:e,isPresent:t,anchorX:n,root:o}){const l=reactExports.useId(),u=reactExports.useRef(null),m=reactExports.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:p}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:j,height:f,top:g,left:b,right:R}=m.current;if(t||!u.current||!j||!f)return;const v=n==="left"?`left: ${b}`:`right: ${R}`;u.current.dataset.motionPopId=l;const N=document.createElement("style");p&&(N.nonce=p);const S=o??document.head;return S.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${j}px !important;
            height: ${f}px !important;
            ${v}px !important;
            top: ${g}px !important;
          }
        `),()=>{S.contains(N)&&S.removeChild(N)}},[t]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:t,childRef:u,sizeRef:m,children:reactExports.cloneElement(e,{ref:u})})}const PresenceChild=({children:e,initial:t,isPresent:n,onExitComplete:o,custom:l,presenceAffectsLayout:u,mode:m,anchorX:p,root:j})=>{const f=useConstant(newChildrenMap),g=reactExports.useId();let b=!0,R=reactExports.useMemo(()=>(b=!1,{id:g,initial:t,isPresent:n,custom:l,onExitComplete:v=>{f.set(v,!0);for(const N of f.values())if(!N)return;o&&o()},register:v=>(f.set(v,!1),()=>f.delete(v))}),[n,f,o]);return u&&b&&(R={...R}),reactExports.useMemo(()=>{f.forEach((v,N)=>f.set(N,!1))},[n]),reactExports.useEffect(()=>{!n&&!f.size&&o&&o()},[n]),m==="popLayout"&&(e=jsxRuntimeExports.jsx(PopChild,{isPresent:n,anchorX:p,root:j,children:e})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:R,children:e})};function newChildrenMap(){return new Map}function usePresence(e=!0){const t=reactExports.useContext(PresenceContext);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:o,register:l}=t,u=reactExports.useId();reactExports.useEffect(()=>{if(e)return l(u)},[e]);const m=reactExports.useCallback(()=>e&&o&&o(u),[u,o,e]);return!n&&o?[!1,m]:[!0]}const getChildKey=e=>e.key||"";function onlyElements(e){const t=[];return reactExports.Children.forEach(e,n=>{reactExports.isValidElement(n)&&t.push(n)}),t}const AnimatePresence=({children:e,custom:t,initial:n=!0,onExitComplete:o,presenceAffectsLayout:l=!0,mode:u="sync",propagate:m=!1,anchorX:p="left",root:j})=>{const[f,g]=usePresence(m),b=reactExports.useMemo(()=>onlyElements(e),[e]),R=m&&!f?[]:b.map(getChildKey),v=reactExports.useRef(!0),N=reactExports.useRef(b),S=useConstant(()=>new Map),[$,C]=reactExports.useState(b),[A,T]=reactExports.useState(b);useIsomorphicLayoutEffect$1(()=>{v.current=!1,N.current=b;for(let L=0;L<A.length;L++){const _=getChildKey(A[L]);R.includes(_)?S.delete(_):S.get(_)!==!0&&S.set(_,!1)}},[A,R.length,R.join("-")]);const D=[];if(b!==$){let L=[...b];for(let _=0;_<A.length;_++){const M=A[_],F=getChildKey(M);R.includes(F)||(L.splice(_,0,M),D.push(M))}return u==="wait"&&D.length&&(L=D),T(onlyElements(L)),C(b),null}const{forceRender:I}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:A.map(L=>{const _=getChildKey(L),M=m&&!f?!1:b===A||R.includes(_),F=()=>{if(S.has(_))S.set(_,!0);else return;let B=!0;S.forEach(q=>{q||(B=!1)}),B&&(I?.(),T(N.current),m&&g?.(),o&&o())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:M,initial:!v.current||n?void 0:!1,custom:t,presenceAffectsLayout:l,mode:u,root:j,onExitComplete:M?void 0:F,anchorX:p,children:L},_)})})},LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const e in featureProps)featureDefinitions[e]={isEnabled:t=>featureProps[e].some(n=>!!t[n])};function loadFeatures(e){for(const t in e)featureDefinitions[t]={...featureDefinitions[t],...e[t]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||validMotionProps.has(e)}let shouldForward=e=>!isValidMotionProp(e);function loadExternalIsValidProp(e){typeof e=="function"&&(shouldForward=t=>t.startsWith("on")?!isValidMotionProp(t):e(t))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps$1(e,t,n){const o={};for(const l in e)l==="values"&&typeof e.values=="object"||(shouldForward(l)||n===!0&&isValidMotionProp(l)||!t&&!isValidMotionProp(l)||e.draggable&&l.startsWith("onDrag"))&&(o[l]=e[l]);return o}const MotionContext=reactExports.createContext({});function isAnimationControls(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function isVariantLabel(e){return typeof e=="string"||Array.isArray(e)}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(e){return isAnimationControls(e.animate)||variantProps.some(t=>isVariantLabel(e[t]))}function isVariantNode(e){return!!(isControllingVariants(e)||e.variants)}function getCurrentTreeVariants(e,t){if(isControllingVariants(e)){const{initial:n,animate:o}=e;return{initial:n===!1||isVariantLabel(n)?n:void 0,animate:isVariantLabel(o)?o:void 0}}return e.inherit!==!1?t:{}}function useCreateMotionContext(e){const{initial:t,animate:n}=getCurrentTreeVariants(e,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:t,animate:n}),[variantLabelsAsDependency(t),variantLabelsAsDependency(n)])}function variantLabelsAsDependency(e){return Array.isArray(e)?e.join(" "):e}const scaleCorrectors={};function addScaleCorrector(e){for(const t in e)scaleCorrectors[t]=e[t],isCSSVariableName(t)&&(scaleCorrectors[t].isCSSVariable=!0)}function isForcedMotionValue(e,{layout:t,layoutId:n}){return transformProps.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!scaleCorrectors[e]||e==="opacity")}const translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(e,t,n){let o="",l=!0;for(let u=0;u<numTransforms;u++){const m=transformPropOrder[u],p=e[m];if(p===void 0)continue;let j=!0;if(typeof p=="number"?j=p===(m.startsWith("scale")?1:0):j=parseFloat(p)===0,!j||n){const f=getValueAsType(p,numberValueTypes[m]);if(!j){l=!1;const g=translateAlias[m]||m;o+=`${g}(${f}) `}n&&(t[m]=f)}}return o=o.trim(),n?o=n(t,l?"":o):l&&(o="none"),o}function buildHTMLStyles(e,t,n){const{style:o,vars:l,transformOrigin:u}=e;let m=!1,p=!1;for(const j in t){const f=t[j];if(transformProps.has(j)){m=!0;continue}else if(isCSSVariableName(j)){l[j]=f;continue}else{const g=getValueAsType(f,numberValueTypes[j]);j.startsWith("origin")?(p=!0,u[j]=g):o[j]=g}}if(t.transform||(m||n?o.transform=buildTransform(t,e.transform,n):o.transform&&(o.transform="none")),p){const{originX:j="50%",originY:f="50%",originZ:g=0}=u;o.transformOrigin=`${j} ${f} ${g}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(e,t,n){for(const o in t)!isMotionValue(t[o])&&!isForcedMotionValue(o,n)&&(e[o]=t[o])}function useInitialMotionValues({transformTemplate:e},t){return reactExports.useMemo(()=>{const n=createHtmlRenderState();return buildHTMLStyles(n,t,e),Object.assign({},n.vars,n.style)},[t])}function useStyle(e,t){const n=e.style||{},o={};return copyRawValuesOnly(o,n,e),Object.assign(o,useInitialMotionValues(e,t)),o}function useHTMLProps(e,t){const n={},o=useStyle(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=o,n}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(e,t,n=1,o=0,l=!0){e.pathLength=1;const u=l?dashKeys:camelKeys;e[u.offset]=px.transform(-o);const m=px.transform(t),p=px.transform(n);e[u.array]=`${m} ${p}`}function buildSVGAttrs(e,{attrX:t,attrY:n,attrScale:o,pathLength:l,pathSpacing:u=1,pathOffset:m=0,...p},j,f,g){if(buildHTMLStyles(e,p,f),j){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:b,style:R}=e;b.transform&&(R.transform=b.transform,delete b.transform),(R.transform||b.transformOrigin)&&(R.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),R.transform&&(R.transformBox=g?.transformBox??"fill-box",delete b.transformBox),t!==void 0&&(b.x=t),n!==void 0&&(b.y=n),o!==void 0&&(b.scale=o),l!==void 0&&buildSVGPath(b,l,u,m,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=e=>typeof e=="string"&&e.toLowerCase()==="svg";function useSVGProps(e,t,n,o){const l=reactExports.useMemo(()=>{const u=createSvgRenderState();return buildSVGAttrs(u,t,isSVGTag(o),e.transformTemplate,e.style),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};copyRawValuesOnly(u,e.style,e),l.style={...u,...l.style}}return l}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(e){return typeof e!="string"||e.includes("-")?!1:!!(lowercaseSVGElements.indexOf(e)>-1||/[A-Z]/u.test(e))}function useRender(e,t,n,{latestValues:o},l,u=!1){const p=(isSVGComponent(e)?useSVGProps:useHTMLProps)(t,o,l,e),j=filterProps$1(t,typeof e=="string",u),f=e!==reactExports.Fragment?{...j,...p,ref:n}:{},{children:g}=t,b=reactExports.useMemo(()=>isMotionValue(g)?g.get():g,[g]);return reactExports.createElement(e,{...f,children:b})}function getValueState(e){const t=[{},{}];return e?.values.forEach((n,o)=>{t[0][o]=n.get(),t[1][o]=n.getVelocity()}),t}function resolveVariantFromProps(e,t,n,o){if(typeof t=="function"){const[l,u]=getValueState(o);t=t(n!==void 0?n:e.custom,l,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[l,u]=getValueState(o);t=t(n!==void 0?n:e.custom,l,u)}return t}function resolveMotionValue(e){return isMotionValue(e)?e.get():e}function makeState({scrapeMotionValuesFromProps:e,createRenderState:t},n,o,l){return{latestValues:makeLatestValues(n,o,l,e),renderState:t()}}function makeLatestValues(e,t,n,o){const l={},u=o(e,{});for(const R in u)l[R]=resolveMotionValue(u[R]);let{initial:m,animate:p}=e;const j=isControllingVariants(e),f=isVariantNode(e);t&&f&&!j&&e.inherit!==!1&&(m===void 0&&(m=t.initial),p===void 0&&(p=t.animate));let g=n?n.initial===!1:!1;g=g||m===!1;const b=g?p:m;if(b&&typeof b!="boolean"&&!isAnimationControls(b)){const R=Array.isArray(b)?b:[b];for(let v=0;v<R.length;v++){const N=resolveVariantFromProps(e,R[v]);if(N){const{transitionEnd:S,transition:$,...C}=N;for(const A in C){let T=C[A];if(Array.isArray(T)){const D=g?T.length-1:0;T=T[D]}T!==null&&(l[A]=T)}for(const A in S)l[A]=S[A]}}}return l}const makeUseVisualState=e=>(t,n)=>{const o=reactExports.useContext(MotionContext),l=reactExports.useContext(PresenceContext),u=()=>makeState(e,t,o,l);return n?u():useConstant(u)};function scrapeMotionValuesFromProps$1(e,t,n){const{style:o}=e,l={};for(const u in o)(isMotionValue(o[u])||t.style&&isMotionValue(t.style[u])||isForcedMotionValue(u,e)||n?.getValue(u)?.liveStyle!==void 0)&&(l[u]=o[u]);return l}const useHTMLVisualState=makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState});function scrapeMotionValuesFromProps(e,t,n){const o=scrapeMotionValuesFromProps$1(e,t,n);for(const l in e)if(isMotionValue(e[l])||isMotionValue(t[l])){const u=transformPropOrder.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;o[u]=e[l]}return o}const useSVGVisualState=makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function useMotionRef(e,t,n){return reactExports.useCallback(o=>{o&&e.onMount&&e.onMount(o),t&&(o?t.mount(o):t.unmount()),n&&(typeof n=="function"?n(o):isRefObject(n)&&(n.current=o))},[t])}const camelToDash=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement(e,t,n,o,l){const{visualElement:u}=reactExports.useContext(MotionContext),m=reactExports.useContext(LazyContext),p=reactExports.useContext(PresenceContext),j=reactExports.useContext(MotionConfigContext).reducedMotion,f=reactExports.useRef(null);o=o||m.renderer,!f.current&&o&&(f.current=o(e,{visualState:t,parent:u,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:j}));const g=f.current,b=reactExports.useContext(SwitchLayoutGroupContext);g&&!g.projection&&l&&(g.type==="html"||g.type==="svg")&&createProjectionNode$1(f.current,n,l,b);const R=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{g&&R.current&&g.update(n,p)});const v=n[optimizedAppearDataAttribute],N=reactExports.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return useIsomorphicLayoutEffect$1(()=>{g&&(R.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),N.current&&g.animationState&&g.animationState.animateChanges())}),reactExports.useEffect(()=>{g&&(!N.current&&g.animationState&&g.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),N.current=!1),g.enteringChildren=void 0)}),g}function createProjectionNode$1(e,t,n,o){const{layoutId:l,layout:u,drag:m,dragConstraints:p,layoutScroll:j,layoutRoot:f,layoutCrossfade:g}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:getClosestProjectingNode(e.parent)),e.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!m||p&&isRefObject(p),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,crossfade:g,layoutScroll:j,layoutRoot:f})}function getClosestProjectingNode(e){if(e)return e.options.allowProjection!==!1?e.projection:getClosestProjectingNode(e.parent)}function createMotionComponent(e,{forwardMotionProps:t=!1}={},n,o){n&&loadFeatures(n);const l=isSVGComponent(e)?useSVGVisualState:useHTMLVisualState;function u(p,j){let f;const g={...reactExports.useContext(MotionConfigContext),...p,layoutId:useLayoutId(p)},{isStatic:b}=g,R=useCreateMotionContext(p),v=l(p,b);if(!b&&isBrowser){useStrictMode();const N=getProjectionFunctionality(g);f=N.MeasureLayout,R.visualElement=useVisualElement(e,v,g,o,N.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:R,children:[f&&R.visualElement?jsxRuntimeExports.jsx(f,{visualElement:R.visualElement,...g}):null,useRender(e,p,useMotionRef(v,R.visualElement,j),v,b,t)]})}u.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const m=reactExports.forwardRef(u);return m[motionComponentSymbol]=e,m}function useLayoutId({layoutId:e}){const t=reactExports.useContext(LayoutGroupContext).id;return t&&e!==void 0?t+"-"+e:e}function useStrictMode(e,t){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(e){const{drag:t,layout:n}=featureDefinitions;if(!t&&!n)return{};const o={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function createMotionProxy(e,t){if(typeof Proxy>"u")return createMotionComponent;const n=new Map,o=(u,m)=>createMotionComponent(u,m,e,t),l=(u,m)=>o(u,m);return new Proxy(l,{get:(u,m)=>m==="create"?o:(n.has(m)||n.set(m,createMotionComponent(m,void 0,e,t)),n.get(m))})}function convertBoundingBoxToBox({top:e,left:t,right:n,bottom:o}){return{x:{min:t,max:n},y:{min:e,max:o}}}function convertBoxToBoundingBox({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function transformBoxPoints(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),o=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:o.y,right:o.x}}function isIdentityScale(e){return e===void 0||e===1}function hasScale({scale:e,scaleX:t,scaleY:n}){return!isIdentityScale(e)||!isIdentityScale(t)||!isIdentityScale(n)}function hasTransform(e){return hasScale(e)||has2DTranslate(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function has2DTranslate(e){return is2DTranslate(e.x)||is2DTranslate(e.y)}function is2DTranslate(e){return e&&e!=="0%"}function scalePoint(e,t,n){const o=e-n,l=t*o;return n+l}function applyPointDelta(e,t,n,o,l){return l!==void 0&&(e=scalePoint(e,l,o)),scalePoint(e,n,o)+t}function applyAxisDelta(e,t=0,n=1,o,l){e.min=applyPointDelta(e.min,t,n,o,l),e.max=applyPointDelta(e.max,t,n,o,l)}function applyBoxDelta(e,{x:t,y:n}){applyAxisDelta(e.x,t.translate,t.scale,t.originPoint),applyAxisDelta(e.y,n.translate,n.scale,n.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(e,t,n,o=!1){const l=n.length;if(!l)return;t.x=t.y=1;let u,m;for(let p=0;p<l;p++){u=n[p],m=u.projectionDelta;const{visualElement:j}=u.options;j&&j.props.style&&j.props.style.display==="contents"||(o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&transformBox(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),m&&(t.x*=m.x.scale,t.y*=m.y.scale,applyBoxDelta(e,m)),o&&hasTransform(u.latestValues)&&transformBox(e,u.latestValues))}t.x<TREE_SCALE_SNAP_MAX&&t.x>TREE_SCALE_SNAP_MIN&&(t.x=1),t.y<TREE_SCALE_SNAP_MAX&&t.y>TREE_SCALE_SNAP_MIN&&(t.y=1)}function translateAxis(e,t){e.min=e.min+t,e.max=e.max+t}function transformAxis(e,t,n,o,l=.5){const u=mixNumber$1(e.min,e.max,l);applyAxisDelta(e,t,n,u,o)}function transformBox(e,t){transformAxis(e.x,t.x,t.scaleX,t.scale,t.originX),transformAxis(e.y,t.y,t.scaleY,t.scale,t.originY)}function measureViewportBox(e,t){return convertBoundingBoxToBox(transformBoxPoints(e.getBoundingClientRect(),t))}function measurePageBox(e,t,n){const o=measureViewportBox(e,n),{scroll:l}=t;return l&&(translateAxis(o.x,l.offset.x),translateAxis(o.y,l.offset.y)),o}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()}),prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>prefersReducedMotion.current=e.matches;e.addEventListener("change",t),t()}else prefersReducedMotion.current=!1}const visualElementStore=new WeakMap;function updateMotionValuesFromProps(e,t,n){for(const o in t){const l=t[o],u=n[o];if(isMotionValue(l))e.addValue(o,l);else if(isMotionValue(u))e.addValue(o,motionValue(l,{owner:e}));else if(u!==l)if(e.hasValue(o)){const m=e.getValue(o);m.liveStyle===!0?m.jump(l):m.hasAnimated||m.set(l)}else{const m=e.getStaticValue(o);e.addValue(o,motionValue(m!==void 0?m:l,{owner:e}))}}for(const o in n)t[o]===void 0&&e.removeValue(o);return t}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(t,n,o){return{}}constructor({parent:t,props:n,presenceContext:o,reducedMotionConfig:l,blockInitialAnimation:u,visualState:m},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const R=time$1.now();this.renderScheduledAt<R&&(this.renderScheduledAt=R,frame.render(this.render,!1,!0))};const{latestValues:j,renderState:f}=m;this.latestValues=j,this.baseTarget={...j},this.initialValues=n.initial?{...j}:{},this.renderState=f,this.parent=t,this.props=n,this.presenceContext=o,this.depth=t?t.depth+1:0,this.reducedMotionConfig=l,this.options=p,this.blockInitialAnimation=!!u,this.isControllingVariants=isControllingVariants(n),this.isVariantNode=isVariantNode(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const R in b){const v=b[R];j[R]!==void 0&&isMotionValue(v)&&v.set(j[R])}}mount(t){this.current=t,visualElementStore.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,o)=>this.bindToMotionValue(o,n)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const o=transformProps.has(t);o&&this.onBindTransform&&this.onBindTransform();const l=n.on("change",m=>{this.latestValues[t]=m,this.props.onUpdate&&frame.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{l(),u&&u(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in featureDefinitions){const n=featureDefinitions[t];if(!n)continue;const{isEnabled:o,Feature:l}=n;if(!this.features[t]&&l&&o(this.props)&&(this.features[t]=new l(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let o=0;o<propEventHandlers.length;o++){const l=propEventHandlers[o];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const u="on"+l,m=t[u];m&&(this.propEventSubscriptions[l]=this.on(l,m))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const o=this.values.get(t);n!==o&&(o&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let o=this.values.get(t);return o===void 0&&n!==void 0&&(o=motionValue(n===null?void 0:n,{owner:this}),this.addValue(t,o)),o}readValue(t,n){let o=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return o!=null&&(typeof o=="string"&&(isNumericalString(o)||isZeroValueString(o))?o=parseFloat(o):!findValueType(o)&&complex.test(n)&&(o=getAnimatableNone(t,n)),this.setBaseTarget(t,isMotionValue(o)?o.get():o)),isMotionValue(o)?o.get():o}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let o;if(typeof n=="string"||typeof n=="object"){const u=resolveVariantFromProps(this.props,n,this.presenceContext?.custom);u&&(o=u[t])}if(n&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,t);return l!==void 0&&!isMotionValue(l)?l:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new SubscriptionManager),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){microtask.render(this.render)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:o}){delete n[t],delete o[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;isMotionValue(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function renderHTML(e,{style:t,vars:n},o,l){const u=e.style;let m;for(m in t)u[m]=t[m];l?.applyProjectionStyles(u,o);for(m in n)u.setProperty(m,n[m])}function getComputedStyle$1(e){return window.getComputedStyle(e)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(t,n){if(transformProps.has(n))return this.projection?.isProjecting?defaultTransformValue(n):readTransformValue(t,n);{const o=getComputedStyle$1(t),l=(isCSSVariableName(n)?o.getPropertyValue(n):o[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return measureViewportBox(t,n)}build(t,n,o){buildHTMLStyles(t,n,o.transformTemplate)}scrapeMotionValuesFromProps(t,n,o){return scrapeMotionValuesFromProps$1(t,n,o)}}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(e,t,n,o){renderHTML(e,t,void 0,o);for(const l in t.attrs)e.setAttribute(camelCaseAttributes.has(l)?l:camelToDash(l),t.attrs[l])}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(transformProps.has(n)){const o=getDefaultValueType(n);return o&&o.default||0}return n=camelCaseAttributes.has(n)?n:camelToDash(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,o){return scrapeMotionValuesFromProps(t,n,o)}build(t,n,o){buildSVGAttrs(t,n,this.isSVGTag,o.transformTemplate,o.style)}renderInstance(t,n,o,l){renderSVG(t,n,o,l)}mount(t){this.isSVGTag=isSVGTag(t.tagName),super.mount(t)}}const createDomVisualElement=(e,t)=>isSVGComponent(e)?new SVGVisualElement(t):new HTMLVisualElement(t,{allowProjection:e!==reactExports.Fragment});function resolveVariant(e,t,n){const o=e.getProps();return resolveVariantFromProps(o,t,n!==void 0?n:o.custom,e)}const isKeyframesTarget=e=>Array.isArray(e);function setMotionValue(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,motionValue(n))}function resolveFinalValueInKeyframes(e){return isKeyframesTarget(e)?e[e.length-1]||0:e}function setTarget(e,t){const n=resolveVariant(e,t);let{transitionEnd:o={},transition:l={},...u}=n||{};u={...u,...o};for(const m in u){const p=resolveFinalValueInKeyframes(u[m]);setMotionValue(e,m,p)}}function isWillChangeMotionValue(e){return!!(isMotionValue(e)&&e.add)}function addValueToWillChange(e,t){const n=e.getValue("willChange");if(isWillChangeMotionValue(n))return n.add(t);if(!n&&MotionGlobalConfig.WillChange){const o=new MotionGlobalConfig.WillChange("auto");e.addValue("willChange",o),o.add(t)}}function getOptimisedAppearId(e){return e.props[optimizedAppearDataAttribute]}const isNotNull=e=>e!==null;function getFinalKeyframe(e,{repeat:t,repeatType:n="loop"},o){const l=e.filter(isNotNull),u=t&&n!=="loop"&&t%2===1?0:l.length-1;return l[u]}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(e,{keyframes:t})=>t.length>2?keyframesTransition:transformProps.has(e)?e.startsWith("scale")?criticallyDampedSpring(t[1]):underDampedSpring:ease;function isTransitionDefined({when:e,delay:t,delayChildren:n,staggerChildren:o,staggerDirection:l,repeat:u,repeatType:m,repeatDelay:p,from:j,elapsed:f,...g}){return!!Object.keys(g).length}const animateMotionValue=(e,t,n,o={},l,u)=>m=>{const p=getValueTransition(o,e)||{},j=p.delay||o.delay||0;let{elapsed:f=0}=o;f=f-secondsToMilliseconds(j);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...p,delay:-f,onUpdate:R=>{t.set(R),p.onUpdate&&p.onUpdate(R)},onComplete:()=>{m(),p.onComplete&&p.onComplete()},name:e,motionValue:t,element:u?void 0:l};isTransitionDefined(p)||Object.assign(g,getDefaultTransition(e,g)),g.duration&&(g.duration=secondsToMilliseconds(g.duration)),g.repeatDelay&&(g.repeatDelay=secondsToMilliseconds(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let b=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(makeAnimationInstant(g),g.delay===0&&(b=!0)),(MotionGlobalConfig.instantAnimations||MotionGlobalConfig.skipAnimations)&&(b=!0,makeAnimationInstant(g),g.delay=0),g.allowFlatten=!p.type&&!p.ease,b&&!u&&t.get()!==void 0){const R=getFinalKeyframe(g.keyframes,p);if(R!==void 0){frame.update(()=>{g.onUpdate(R),g.onComplete()});return}}return p.isSync?new JSAnimation(g):new AsyncMotionValueAnimation(g)};function shouldBlockAnimation({protectedKeys:e,needsAnimating:t},n){const o=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,o}function animateTarget(e,t,{delay:n=0,transitionOverride:o,type:l}={}){let{transition:u=e.getDefaultTransition(),transitionEnd:m,...p}=t;o&&(u=o);const j=[],f=l&&e.animationState&&e.animationState.getState()[l];for(const g in p){const b=e.getValue(g,e.latestValues[g]??null),R=p[g];if(R===void 0||f&&shouldBlockAnimation(f,g))continue;const v={delay:n,...getValueTransition(u||{},g)},N=b.get();if(N!==void 0&&!b.isAnimating&&!Array.isArray(R)&&R===N&&!v.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const C=getOptimisedAppearId(e);if(C){const A=window.MotionHandoffAnimation(C,g,frame);A!==null&&(v.startTime=A,S=!0)}}addValueToWillChange(e,g),b.start(animateMotionValue(g,b,R,e.shouldReduceMotion&&positionalKeys.has(g)?{type:!1}:v,e,S));const $=b.animation;$&&j.push($)}return m&&Promise.all(j).then(()=>{frame.update(()=>{m&&setTarget(e,m)})}),j}function calcChildStagger(e,t,n,o=0,l=1){const u=Array.from(e).sort((f,g)=>f.sortNodePosition(g)).indexOf(t),m=e.size,p=(m-1)*o;return typeof n=="function"?n(u,m):l===1?u*o:p-u*o}function animateVariant(e,t,n={}){const o=resolveVariant(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:l=e.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(l=n.transitionOverride);const u=o?()=>Promise.all(animateTarget(e,o,n)):()=>Promise.resolve(),m=e.variantChildren&&e.variantChildren.size?(j=0)=>{const{delayChildren:f=0,staggerChildren:g,staggerDirection:b}=l;return animateChildren(e,t,j,f,g,b,n)}:()=>Promise.resolve(),{when:p}=l;if(p){const[j,f]=p==="beforeChildren"?[u,m]:[m,u];return j().then(()=>f())}else return Promise.all([u(),m(n.delay)])}function animateChildren(e,t,n=0,o=0,l=0,u=1,m){const p=[];for(const j of e.variantChildren)j.notify("AnimationStart",t),p.push(animateVariant(j,t,{...m,delay:n+(typeof o=="function"?0:o)+calcChildStagger(e.variantChildren,j,o,l,u)}).then(()=>j.notify("AnimationComplete",t)));return Promise.all(p)}function animateVisualElement(e,t,n={}){e.notify("AnimationStart",t);let o;if(Array.isArray(t)){const l=t.map(u=>animateVariant(e,u,n));o=Promise.all(l)}else if(typeof t=="string")o=animateVariant(e,t,n);else{const l=typeof t=="function"?resolveVariant(e,t,n.custom):t;o=Promise.all(animateTarget(e,l,n))}return o.then(()=>{e.notify("AnimationComplete",t)})}function shallowCompare(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let o=0;o<n;o++)if(t[o]!==e[o])return!1;return!0}const numVariantProps=variantProps.length;function getVariantContext(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?getVariantContext(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<numVariantProps;n++){const o=variantProps[n],l=e.props[o];(isVariantLabel(l)||l===!1)&&(t[o]=l)}return t}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(e){return t=>Promise.all(t.map(({animation:n,options:o})=>animateVisualElement(e,n,o)))}function createAnimationState(e){let t=animateList(e),n=createState(),o=!0;const l=j=>(f,g)=>{const b=resolveVariant(e,g,j==="exit"?e.presenceContext?.custom:void 0);if(b){const{transition:R,transitionEnd:v,...N}=b;f={...f,...N,...v}}return f};function u(j){t=j(e)}function m(j){const{props:f}=e,g=getVariantContext(e.parent)||{},b=[],R=new Set;let v={},N=1/0;for(let $=0;$<numAnimationTypes;$++){const C=reversePriorityOrder[$],A=n[C],T=f[C]!==void 0?f[C]:g[C],D=isVariantLabel(T),I=C===j?A.isActive:null;I===!1&&(N=$);let L=T===g[C]&&T!==f[C]&&D;if(L&&o&&e.manuallyAnimateOnMount&&(L=!1),A.protectedKeys={...v},!A.isActive&&I===null||!T&&!A.prevProp||isAnimationControls(T)||typeof T=="boolean")continue;const _=checkVariantsDidChange(A.prevProp,T);let M=_||C===j&&A.isActive&&!L&&D||$>N&&D,F=!1;const B=Array.isArray(T)?T:[T];let q=B.reduce(l(C),{});I===!1&&(q={});const{prevResolvedValues:z={}}=A,V={...z,...q},Q=K=>{M=!0,R.has(K)&&(F=!0,R.delete(K)),A.needsAnimating[K]=!0;const J=e.getValue(K);J&&(J.liveStyle=!1)};for(const K in V){const J=q[K],ne=z[K];if(v.hasOwnProperty(K))continue;let H=!1;isKeyframesTarget(J)&&isKeyframesTarget(ne)?H=!shallowCompare(J,ne):H=J!==ne,H?J!=null?Q(K):R.add(K):J!==void 0&&R.has(K)?Q(K):A.protectedKeys[K]=!0}A.prevProp=T,A.prevResolvedValues=q,A.isActive&&(v={...v,...q}),o&&e.blockInitialAnimation&&(M=!1);const ee=L&&_;M&&(!ee||F)&&b.push(...B.map(K=>{const J={type:C};if(typeof K=="string"&&o&&!ee&&e.manuallyAnimateOnMount&&e.parent){const{parent:ne}=e,H=resolveVariant(ne,K);if(ne.enteringChildren&&H){const{delayChildren:te}=H.transition||{};J.delay=calcChildStagger(ne.enteringChildren,e,te)}}return{animation:K,options:J}}))}if(R.size){const $={};if(typeof f.initial!="boolean"){const C=resolveVariant(e,Array.isArray(f.initial)?f.initial[0]:f.initial);C&&C.transition&&($.transition=C.transition)}R.forEach(C=>{const A=e.getBaseTarget(C),T=e.getValue(C);T&&(T.liveStyle=!0),$[C]=A??null}),b.push({animation:$})}let S=!!b.length;return o&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(S=!1),o=!1,S?t(b):Promise.resolve()}function p(j,f){if(n[j].isActive===f)return Promise.resolve();e.variantChildren?.forEach(b=>b.animationState?.setActive(j,f)),n[j].isActive=f;const g=m(j);for(const b in n)n[b].protectedKeys={};return g}return{animateChanges:m,setActive:p,setAnimateFunction:u,getState:()=>n,reset:()=>{n=createState(),o=!0}}}function checkVariantsDidChange(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!shallowCompare(t,e):!1}function createTypeState(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(t){this.isMounted=!1,this.node=t}update(){}}class AnimationFeature extends Feature{constructor(t){super(t),t.animationState||(t.animationState=createAnimationState(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();isAnimationControls(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const l=this.node.animationState.setActive("exit",!t);n&&!t&&l.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function addDomEvent(e,t,n,o={passive:!0}){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n)}function extractEventInfo(e){return{point:{x:e.pageX,y:e.pageY}}}const addPointerInfo=e=>t=>isPrimaryPointer(t)&&e(t,extractEventInfo(t));function addPointerEvent(e,t,n,o){return addDomEvent(e,t,addPointerInfo(n),o)}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(e){return e.max-e.min}function isNear(e,t,n){return Math.abs(e-t)<=n}function calcAxisDelta(e,t,n,o=.5){e.origin=o,e.originPoint=mixNumber$1(t.min,t.max,e.origin),e.scale=calcLength(n)/calcLength(t),e.translate=mixNumber$1(n.min,n.max,e.origin)-e.originPoint,(e.scale>=SCALE_MIN&&e.scale<=SCALE_MAX||isNaN(e.scale))&&(e.scale=1),(e.translate>=TRANSLATE_MIN&&e.translate<=TRANSLATE_MAX||isNaN(e.translate))&&(e.translate=0)}function calcBoxDelta(e,t,n,o){calcAxisDelta(e.x,t.x,n.x,o?o.originX:void 0),calcAxisDelta(e.y,t.y,n.y,o?o.originY:void 0)}function calcRelativeAxis(e,t,n){e.min=n.min+t.min,e.max=e.min+calcLength(t)}function calcRelativeBox(e,t,n){calcRelativeAxis(e.x,t.x,n.x),calcRelativeAxis(e.y,t.y,n.y)}function calcRelativeAxisPosition(e,t,n){e.min=t.min-n.min,e.max=e.min+calcLength(t)}function calcRelativePosition(e,t,n){calcRelativeAxisPosition(e.x,t.x,n.x),calcRelativeAxisPosition(e.y,t.y,n.y)}function eachAxis(e){return[e("x"),e("y")]}const getContextWindow=({current:e})=>e?e.ownerDocument.defaultView:null,distance=(e,t)=>Math.abs(e-t);function distance2D(e,t){const n=distance(e.x,t.x),o=distance(e.y,t.y);return Math.sqrt(n**2+o**2)}class PanSession{constructor(t,n,{transformPagePoint:o,contextWindow:l=window,dragSnapToOrigin:u=!1,distanceThreshold:m=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=getPanInfo(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,N=distance2D(R.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!N)return;const{point:S}=R,{timestamp:$}=frameData;this.history.push({...S,timestamp:$});const{onStart:C,onMove:A}=this.handlers;v||(C&&C(this.lastMoveEvent,R),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,R)},this.handlePointerMove=(R,v)=>{this.lastMoveEvent=R,this.lastMoveEventInfo=transformPoint(v,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(R,v)=>{this.end();const{onEnd:N,onSessionEnd:S,resumeAnimation:$}=this.handlers;if(this.dragSnapToOrigin&&$&&$(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=getPanInfo(R.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(v,this.transformPagePoint),this.history);this.startEvent&&N&&N(R,C),S&&S(R,C)},!isPrimaryPointer(t))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=o,this.distanceThreshold=m,this.contextWindow=l||window;const p=extractEventInfo(t),j=transformPoint(p,this.transformPagePoint),{point:f}=j,{timestamp:g}=frameData;this.history=[{...f,timestamp:g}];const{onSessionStart:b}=n;b&&b(t,getPanInfo(j,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(e,t){return t?{point:t(e.point)}:e}function subtractPoint(e,t){return{x:e.x-t.x,y:e.y-t.y}}function getPanInfo({point:e},t){return{point:e,delta:subtractPoint(e,lastDevicePoint(t)),offset:subtractPoint(e,startDevicePoint(t)),velocity:getVelocity(t,.1)}}function startDevicePoint(e){return e[0]}function lastDevicePoint(e){return e[e.length-1]}function getVelocity(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,o=null;const l=lastDevicePoint(e);for(;n>=0&&(o=e[n],!(l.timestamp-o.timestamp>secondsToMilliseconds(t)));)n--;if(!o)return{x:0,y:0};const u=millisecondsToSeconds(l.timestamp-o.timestamp);if(u===0)return{x:0,y:0};const m={x:(l.x-o.x)/u,y:(l.y-o.y)/u};return m.x===1/0&&(m.x=0),m.y===1/0&&(m.y=0),m}function applyConstraints(e,{min:t,max:n},o){return t!==void 0&&e<t?e=o?mixNumber$1(t,e,o.min):Math.max(e,t):n!==void 0&&e>n&&(e=o?mixNumber$1(n,e,o.max):Math.min(e,n)),e}function calcRelativeAxisConstraints(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function calcRelativeConstraints(e,{top:t,left:n,bottom:o,right:l}){return{x:calcRelativeAxisConstraints(e.x,n,l),y:calcRelativeAxisConstraints(e.y,t,o)}}function calcViewportAxisConstraints(e,t){let n=t.min-e.min,o=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,o]=[o,n]),{min:n,max:o}}function calcViewportConstraints(e,t){return{x:calcViewportAxisConstraints(e.x,t.x),y:calcViewportAxisConstraints(e.y,t.y)}}function calcOrigin(e,t){let n=.5;const o=calcLength(e),l=calcLength(t);return l>o?n=progress(t.min,t.max-o,e.min):o>l&&(n=progress(e.min,e.max-l,t.min)),clamp(0,1,n)}function rebaseAxisConstraints(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const defaultElastic=.35;function resolveDragElastic(e=defaultElastic){return e===!1?e=0:e===!0&&(e=defaultElastic),{x:resolveAxisElastic(e,"left","right"),y:resolveAxisElastic(e,"top","bottom")}}function resolveAxisElastic(e,t,n){return{min:resolvePointElastic(e,t),max:resolvePointElastic(e,n)}}function resolvePointElastic(e,t){return typeof e=="number"?e:e[t]||0}const elementDragControls=new WeakMap;class VisualElementDragControls{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:o}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const u=b=>{const{dragSnapToOrigin:R}=this.getProps();R?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(extractEventInfo(b).point)},m=(b,R)=>{const{drag:v,dragPropagation:N,onDragStart:S}=this.getProps();if(v&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(v),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=R,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(C=>{let A=this.getAxisMotionValue(C).get()||0;if(percent.test(A)){const{projection:T}=this.visualElement;if(T&&T.layout){const D=T.layout.layoutBox[C];D&&(A=calcLength(D)*(parseFloat(A)/100))}}this.originPoint[C]=A}),S&&frame.postRender(()=>S(b,R)),addValueToWillChange(this.visualElement,"transform");const{animationState:$}=this.visualElement;$&&$.setActive("whileDrag",!0)},p=(b,R)=>{this.latestPointerEvent=b,this.latestPanInfo=R;const{dragPropagation:v,dragDirectionLock:N,onDirectionLock:S,onDrag:$}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:C}=R;if(N&&this.currentDirection===null){this.currentDirection=getCurrentDirection(C),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",R.point,C),this.updateAxis("y",R.point,C),this.visualElement.render(),$&&$(b,R)},j=(b,R)=>{this.latestPointerEvent=b,this.latestPanInfo=R,this.stop(b,R),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>eachAxis(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new PanSession(t,{onSessionStart:u,onStart:m,onMove:p,onSessionEnd:j,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:o,contextWindow:getContextWindow(this.visualElement)})}stop(t,n){const o=t||this.latestPointerEvent,l=n||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!l||!o)return;const{velocity:m}=l;this.startAnimation(m);const{onDragEnd:p}=this.getProps();p&&frame.postRender(()=>p(o,l))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,o){const{drag:l}=this.getProps();if(!o||!shouldDrag(t,l,this.currentDirection))return;const u=this.getAxisMotionValue(t);let m=this.originPoint[t]+o[t];this.constraints&&this.constraints[t]&&(m=applyConstraints(m,this.constraints[t],this.elastic[t])),u.set(m)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,l=this.constraints;t&&isRefObject(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&o?this.constraints=calcRelativeConstraints(o.layoutBox,t):this.constraints=!1,this.elastic=resolveDragElastic(n),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=rebaseAxisConstraints(o.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!isRefObject(t))return!1;const o=t.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=measurePageBox(o,l.root,this.visualElement.getTransformPagePoint());let m=calcViewportConstraints(l.layout.layoutBox,u);if(n){const p=n(convertBoxToBoundingBox(m));this.hasMutatedConstraints=!!p,p&&(m=convertBoundingBoxToBox(p))}return m}startAnimation(t){const{drag:n,dragMomentum:o,dragElastic:l,dragTransition:u,dragSnapToOrigin:m,onDragTransitionEnd:p}=this.getProps(),j=this.constraints||{},f=eachAxis(g=>{if(!shouldDrag(g,n,this.currentDirection))return;let b=j&&j[g]||{};m&&(b={min:0,max:0});const R=l?200:1e6,v=l?40:1e7,N={type:"inertia",velocity:o?t[g]:0,bounceStiffness:R,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...u,...b};return this.startAxisValueAnimation(g,N)});return Promise.all(f).then(p)}startAxisValueAnimation(t,n){const o=this.getAxisMotionValue(t);return addValueToWillChange(this.visualElement,t),o.start(animateMotionValue(t,o,0,n,this.visualElement,!1))}stopAnimation(){eachAxis(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){eachAxis(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,o=this.visualElement.getProps(),l=o[n];return l||this.visualElement.getValue(t,(o.initial?o.initial[t]:void 0)||0)}snapToCursor(t){eachAxis(n=>{const{drag:o}=this.getProps();if(!shouldDrag(n,o,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(n);if(l&&l.layout){const{min:m,max:p}=l.layout.layoutBox[n];u.set(t[n]-mixNumber$1(m,p,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:o}=this.visualElement;if(!isRefObject(n)||!o||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};eachAxis(m=>{const p=this.getAxisMotionValue(m);if(p&&this.constraints!==!1){const j=p.get();l[m]=calcOrigin({min:j,max:j},this.constraints[m])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),eachAxis(m=>{if(!shouldDrag(m,t,null))return;const p=this.getAxisMotionValue(m),{min:j,max:f}=this.constraints[m];p.set(mixNumber$1(j,f,l[m]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const t=this.visualElement.current,n=addPointerEvent(t,"pointerdown",j=>{const{drag:f,dragListener:g=!0}=this.getProps();f&&g&&this.start(j)}),o=()=>{const{dragConstraints:j}=this.getProps();isRefObject(j)&&j.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",o);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),frame.read(o);const m=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),p=l.addEventListener("didUpdate",(({delta:j,hasLayoutChanged:f})=>{this.isDragging&&f&&(eachAxis(g=>{const b=this.getAxisMotionValue(g);b&&(this.originPoint[g]+=j[g].translate,b.set(b.get()+j[g].translate))}),this.visualElement.render())}));return()=>{m(),n(),u(),p&&p()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:o=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:m=defaultElastic,dragMomentum:p=!0}=t;return{...t,drag:n,dragDirectionLock:o,dragPropagation:l,dragConstraints:u,dragElastic:m,dragMomentum:p}}}function shouldDrag(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function getCurrentDirection(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class DragGesture extends Feature{constructor(t){super(t),this.removeGroupControls=noop$7,this.removeListeners=noop$7,this.controls=new VisualElementDragControls(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$7}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=e=>(t,n)=>{e&&frame.postRender(()=>e(t,n))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$7}onPointerDown(t){this.session=new PanSession(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:o,onPanEnd:l}=this.node.getProps();return{onSessionStart:asyncHandler(t),onStart:asyncHandler(n),onMove:o,onEnd:(u,m)=>{delete this.session,l&&frame.postRender(()=>l(u,m))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const correctBorderRadius={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(px.test(e))e=parseFloat(e);else return e;const n=pixelsToPercent(e,t.target.x),o=pixelsToPercent(e,t.target.y);return`${n}% ${o}%`}},correctBoxShadow={correct:(e,{treeScale:t,projectionDelta:n})=>{const o=e,l=complex.parse(e);if(l.length>5)return o;const u=complex.createTransformer(e),m=typeof l[0]!="number"?1:0,p=n.x.scale*t.x,j=n.y.scale*t.y;l[0+m]/=p,l[1+m]/=j;const f=mixNumber$1(p,j,.5);return typeof l[2+m]=="number"&&(l[2+m]/=f),typeof l[3+m]=="number"&&(l[3+m]/=f),u(l)}};let hasTakenAnySnapshot=!1;class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:o,layoutId:l}=this.props,{projection:u}=t;addScaleCorrector(defaultScaleCorrectors),u&&(n.group&&n.group.add(u),o&&o.register&&l&&o.register(u),hasTakenAnySnapshot&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:o,drag:l,isPresent:u}=this.props,{projection:m}=o;return m&&(m.isPresent=u,hasTakenAnySnapshot=!0,l||t.layoutDependency!==n||n===void 0||t.isPresent!==u?m.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?m.promote():m.relegate()||frame.postRender(()=>{const p=m.getStack();(!p||!p.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),microtask.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:o}=this.props,{projection:l}=t;hasTakenAnySnapshot=!0,l&&(l.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(l),o&&o.deregister&&o.deregister(l))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function MeasureLayout(e){const[t,n]=usePresence(),o=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...e,layoutGroup:o,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:t,safeToRemove:n})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function animateSingleValue(e,t,n){const o=isMotionValue(e)?e:motionValue(e);return o.start(animateMotionValue("",o,t,n)),o.animation}const compareByDepth=(e,t)=>e.depth-t.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(t){addUniqueItem(this.children,t),this.isDirty=!0}remove(t){removeItem(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(t)}}function delay(e,t){const n=time$1.now(),o=({timestamp:l})=>{const u=l-n;u>=t&&(cancelFrame(o),e(u-t))};return frame.setup(o,!0),()=>cancelFrame(o)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=e=>typeof e=="string"?parseFloat(e):e,isPx=e=>typeof e=="number"||px.test(e);function mixValues(e,t,n,o,l,u){l?(e.opacity=mixNumber$1(0,n.opacity??1,easeCrossfadeIn(o)),e.opacityExit=mixNumber$1(t.opacity??1,0,easeCrossfadeOut(o))):u&&(e.opacity=mixNumber$1(t.opacity??1,n.opacity??1,o));for(let m=0;m<numBorders;m++){const p=`border${borders[m]}Radius`;let j=getRadius(t,p),f=getRadius(n,p);if(j===void 0&&f===void 0)continue;j||(j=0),f||(f=0),j===0||f===0||isPx(j)===isPx(f)?(e[p]=Math.max(mixNumber$1(asNumber(j),asNumber(f),o),0),(percent.test(f)||percent.test(j))&&(e[p]+="%")):e[p]=f}(t.rotate||n.rotate)&&(e.rotate=mixNumber$1(t.rotate||0,n.rotate||0,o))}function getRadius(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$7);function compress(e,t,n){return o=>o<e?0:o>t?1:n(progress(e,t,o))}function copyAxisInto(e,t){e.min=t.min,e.max=t.max}function copyBoxInto(e,t){copyAxisInto(e.x,t.x),copyAxisInto(e.y,t.y)}function copyAxisDeltaInto(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function removePointDelta(e,t,n,o,l){return e-=t,e=scalePoint(e,1/n,o),l!==void 0&&(e=scalePoint(e,1/l,o)),e}function removeAxisDelta(e,t=0,n=1,o=.5,l,u=e,m=e){if(percent.test(t)&&(t=parseFloat(t),t=mixNumber$1(m.min,m.max,t/100)-m.min),typeof t!="number")return;let p=mixNumber$1(u.min,u.max,o);e===u&&(p-=t),e.min=removePointDelta(e.min,t,n,p,l),e.max=removePointDelta(e.max,t,n,p,l)}function removeAxisTransforms(e,t,[n,o,l],u,m){removeAxisDelta(e,t[n],t[o],t[l],t.scale,u,m)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(e,t,n,o){removeAxisTransforms(e.x,t,xKeys,n?n.x:void 0,o?o.x:void 0),removeAxisTransforms(e.y,t,yKeys,n?n.y:void 0,o?o.y:void 0)}function isAxisDeltaZero(e){return e.translate===0&&e.scale===1}function isDeltaZero(e){return isAxisDeltaZero(e.x)&&isAxisDeltaZero(e.y)}function axisEquals(e,t){return e.min===t.min&&e.max===t.max}function boxEquals(e,t){return axisEquals(e.x,t.x)&&axisEquals(e.y,t.y)}function axisEqualsRounded(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function boxEqualsRounded(e,t){return axisEqualsRounded(e.x,t.x)&&axisEqualsRounded(e.y,t.y)}function aspectRatio(e){return calcLength(e.x)/calcLength(e.y)}function axisDeltaEquals(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class NodeStack{constructor(){this.members=[]}add(t){addUniqueItem(this.members,t),t.scheduleRender()}remove(t){if(removeItem(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(l=>t===l);if(n===0)return!1;let o;for(let l=n;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){o=u;break}}return o?(this.promote(o),!0):!1}promote(t,n){const o=this.lead;if(t!==o&&(this.prevLead=o,this.lead=t,t.show(),o)){o.instance&&o.scheduleRender(),t.scheduleRender(),t.resumeFrom=o,n&&(t.resumeFrom.preserveOpacity=!0),o.snapshot&&(t.snapshot=o.snapshot,t.snapshot.latestValues=o.animationValues||o.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:l}=t.options;l===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:o}=t;n.onExitComplete&&n.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(e,t,n){let o="";const l=e.x.translate/t.x,u=e.y.translate/t.y,m=n?.z||0;if((l||u||m)&&(o=`translate3d(${l}px, ${u}px, ${m}px) `),(t.x!==1||t.y!==1)&&(o+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:f,rotate:g,rotateX:b,rotateY:R,skewX:v,skewY:N}=n;f&&(o=`perspective(${f}px) ${o}`),g&&(o+=`rotate(${g}deg) `),b&&(o+=`rotateX(${b}deg) `),R&&(o+=`rotateY(${R}deg) `),v&&(o+=`skewX(${v}deg) `),N&&(o+=`skewY(${N}deg) `)}const p=e.x.scale*t.x,j=e.y.scale*t.y;return(p!==1||j!==1)&&(o+=`scale(${p}, ${j})`),o||"none"}const transformAxes=["","X","Y","Z"],animationTarget=1e3;let id=0;function resetDistortingTransform(e,t,n,o){const{latestValues:l}=t;l[e]&&(n[e]=l[e],t.setStaticValue(e,0),o&&(o[e]=0))}function cancelTreeOptimisedTransformAnimations(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=getOptimisedAppearId(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:l,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",frame,!(l||u))}const{parent:o}=e;o&&!o.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(o)}function createProjectionNode({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:o,resetTransform:l}){return class{constructor(m={},p=t?.()){this.id=id++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=m,this.root=p?p.root||p:this,this.path=p?[...p.path,p]:[],this.parent=p,this.depth=p?p.depth+1:0;for(let j=0;j<this.path.length;j++)this.path[j].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(m,p){return this.eventHandlers.has(m)||this.eventHandlers.set(m,new SubscriptionManager),this.eventHandlers.get(m).add(p)}notifyListeners(m,...p){const j=this.eventHandlers.get(m);j&&j.notify(...p)}hasListeners(m){return this.eventHandlers.has(m)}mount(m){if(this.instance)return;this.isSVG=isSVGElement(m)&&!isSVGSVGElement(m),this.instance=m;const{layoutId:p,layout:j,visualElement:f}=this.options;if(f&&!f.current&&f.mount(m),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(j||p)&&(this.isLayoutDirty=!0),e){let g,b=0;const R=()=>this.root.updateBlockedByResize=!1;frame.read(()=>{b=window.innerWidth}),e(m,()=>{const v=window.innerWidth;v!==b&&(b=v,this.root.updateBlockedByResize=!0,g&&g(),g=delay(R,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation)))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&f&&(p||j)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:b,hasRelativeLayoutChanged:R,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||f.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:S,onLayoutAnimationComplete:$}=f.getProps(),C=!this.targetLayout||!boxEqualsRounded(this.targetLayout,v),A=!b&&R;if(this.options.layoutRoot||this.resumeFrom||A||b&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...getValueTransition(N,"layout"),onPlay:S,onComplete:$};(f.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(g,A)}else b||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const m=this.getStack();m&&m.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:m}=this.options;return m&&m.getProps().transformTemplate}willUpdate(m=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const b=this.path[g];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:p,layout:j}=this.options;if(p===void 0&&!j)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),m&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(clearIsLayoutDirty);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate)):this.nodes.forEach(clearIsLayoutDirty),this.clearAllSnapshots();const p=time$1.now();frameData.delta=clamp(0,1e3/60,p-frameData.timestamp),frameData.timestamp=p,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!calcLength(this.snapshot.measuredBox.x)&&!calcLength(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let j=0;j<this.path.length;j++)this.path[j].updateScroll();const m=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:p}=this.options;p&&p.notify("LayoutMeasure",this.layout.layoutBox,m?m.layoutBox:void 0)}updateScroll(m="measure"){let p=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===m&&(p=!1),p&&this.instance){const j=o(this.instance);this.scroll={animationId:this.root.animationId,phase:m,isRoot:j,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:j}}}resetTransform(){if(!l)return;const m=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,p=this.projectionDelta&&!isDeltaZero(this.projectionDelta),j=this.getTransformTemplate(),f=j?j(this.latestValues,""):void 0,g=f!==this.prevTransformTemplateValue;m&&this.instance&&(p||hasTransform(this.latestValues)||g)&&(l(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(m=!0){const p=this.measurePageBox();let j=this.removeElementScroll(p);return m&&(j=this.removeTransform(j)),roundBox(j),{animationId:this.root.animationId,measuredBox:p,layoutBox:j,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:m}=this.options;if(!m)return createBox();const p=m.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(checkNodeWasScrollRoot))){const{scroll:f}=this.root;f&&(translateAxis(p.x,f.offset.x),translateAxis(p.y,f.offset.y))}return p}removeElementScroll(m){const p=createBox();if(copyBoxInto(p,m),this.scroll?.wasRoot)return p;for(let j=0;j<this.path.length;j++){const f=this.path[j],{scroll:g,options:b}=f;f!==this.root&&g&&b.layoutScroll&&(g.wasRoot&&copyBoxInto(p,m),translateAxis(p.x,g.offset.x),translateAxis(p.y,g.offset.y))}return p}applyTransform(m,p=!1){const j=createBox();copyBoxInto(j,m);for(let f=0;f<this.path.length;f++){const g=this.path[f];!p&&g.options.layoutScroll&&g.scroll&&g!==g.root&&transformBox(j,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),hasTransform(g.latestValues)&&transformBox(j,g.latestValues)}return hasTransform(this.latestValues)&&transformBox(j,this.latestValues),j}removeTransform(m){const p=createBox();copyBoxInto(p,m);for(let j=0;j<this.path.length;j++){const f=this.path[j];if(!f.instance||!hasTransform(f.latestValues))continue;hasScale(f.latestValues)&&f.updateSnapshot();const g=createBox(),b=f.measurePageBox();copyBoxInto(g,b),removeBoxTransforms(p,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,g)}return hasTransform(this.latestValues)&&removeBoxTransforms(p,this.latestValues),p}setTargetDelta(m){this.targetDelta=m,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(m){this.options={...this.options,...m,crossfade:m.crossfade!==void 0?m.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(m=!1){const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const j=!!this.resumingFrom||this!==p;if(!(m||j&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:b}=this.options;if(!(!this.layout||!(g||b))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const R=this.getClosestProjectingParent();R&&R.layout&&this.animationProgress!==1?(this.relativeParent=R,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,R.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const R=this.getClosestProjectingParent();R&&!!R.resumingFrom==!!this.resumingFrom&&!R.options.layoutScroll&&R.target&&this.animationProgress!==1?(this.relativeParent=R,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,R.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const m=this.getLead(),p=!!this.resumingFrom||this!==m;let j=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(j=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(j=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(j=!1),j)return;const{layout:f,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||g))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,R=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,p),m.layout&&!m.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(m.target=m.layout.layoutBox,m.targetWithTransforms=createBox());const{target:v}=m;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==R||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(m=!0){if(this.options.visualElement?.scheduleRender(),m){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(m,p=!1){const j=this.snapshot,f=j?j.latestValues:{},g={...this.latestValues},b=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!p;const R=createBox(),v=j?j.source:void 0,N=this.layout?this.layout.source:void 0,S=v!==N,$=this.getStack(),C=!$||$.members.length<=1,A=!!(S&&!C&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let T;this.mixTargetDelta=D=>{const I=D/1e3;mixAxisDelta(b.x,m.x,I),mixAxisDelta(b.y,m.y,I),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(R,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,R,I),T&&boxEquals(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=createBox()),copyBoxInto(T,this.relativeTarget)),S&&(this.animationValues=g,mixValues(g,f,this.latestValues,I,A,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(m){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=motionValue(0)),this.currentAnimation=animateSingleValue(this.motionValue,[0,1e3],{...m,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),m.onUpdate&&m.onUpdate(p)},onStop:()=>{},onComplete:()=>{m.onComplete&&m.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const m=this.getStack();m&&m.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const m=this.getLead();let{targetWithTransforms:p,target:j,layout:f,latestValues:g}=m;if(!(!p||!j||!f)){if(this!==m&&this.layout&&f&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,f.layoutBox)){j=this.target||createBox();const b=calcLength(this.layout.layoutBox.x);j.x.min=m.target.x.min,j.x.max=j.x.min+b;const R=calcLength(this.layout.layoutBox.y);j.y.min=m.target.y.min,j.y.max=j.y.min+R}copyBoxInto(p,j),transformBox(p,g),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,p,g)}}registerSharedNode(m,p){this.sharedNodes.has(m)||this.sharedNodes.set(m,new NodeStack),this.sharedNodes.get(m).add(p);const f=p.options.initialPromotionConfig;p.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(p):void 0})}isLead(){const m=this.getStack();return m?m.lead===this:!0}getLead(){const{layoutId:m}=this.options;return m?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:m}=this.options;return m?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:m}=this.options;if(m)return this.root.sharedNodes.get(m)}promote({needsReset:m,transition:p,preserveFollowOpacity:j}={}){const f=this.getStack();f&&f.promote(this,j),m&&(this.projectionDelta=void 0,this.needsReset=!0),p&&this.setOptions({transition:p})}relegate(){const m=this.getStack();return m?m.relegate(this):!1}resetSkewAndRotation(){const{visualElement:m}=this.options;if(!m)return;let p=!1;const{latestValues:j}=m;if((j.z||j.rotate||j.rotateX||j.rotateY||j.rotateZ||j.skewX||j.skewY)&&(p=!0),!p)return;const f={};j.z&&resetDistortingTransform("z",m,f,this.animationValues);for(let g=0;g<transformAxes.length;g++)resetDistortingTransform(`rotate${transformAxes[g]}`,m,f,this.animationValues),resetDistortingTransform(`skew${transformAxes[g]}`,m,f,this.animationValues);m.render();for(const g in f)m.setStaticValue(g,f[g]),this.animationValues&&(this.animationValues[g]=f[g]);m.scheduleRender()}applyProjectionStyles(m,p){if(!this.instance||this.isSVG)return;if(!this.isVisible){m.visibility="hidden";return}const j=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,m.visibility="",m.opacity="",m.pointerEvents=resolveMotionValue(p?.pointerEvents)||"",m.transform=j?j(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=resolveMotionValue(p?.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(m.transform=j?j({},""):"none",this.hasProjected=!1);return}m.visibility="";const g=f.animationValues||f.latestValues;this.applyTransformsToTarget();let b=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,g);j&&(b=j(g,b)),m.transform=b;const{x:R,y:v}=this.projectionDelta;m.transformOrigin=`${R.origin*100}% ${v.origin*100}% 0`,f.animationValues?m.opacity=f===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:m.opacity=f===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const N in scaleCorrectors){if(g[N]===void 0)continue;const{correct:S,applyTo:$,isCSSVariable:C}=scaleCorrectors[N],A=b==="none"?g[N]:S(g[N],f);if($){const T=$.length;for(let D=0;D<T;D++)m[$[D]]=A}else C?this.options.visualElement.renderState.vars[N]=A:m[N]=A}this.options.layoutId&&(m.pointerEvents=f===this?resolveMotionValue(p?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(m=>m.currentAnimation?.stop()),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(e){e.updateLayout()}function notifyLayoutUpdate(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:o}=e.layout,{animationType:l}=e.options,u=t.source!==e.layout.source;l==="size"?eachAxis(g=>{const b=u?t.measuredBox[g]:t.layoutBox[g],R=calcLength(b);b.min=n[g].min,b.max=b.min+R}):shouldAnimatePositionOnly(l,t.layoutBox,n)&&eachAxis(g=>{const b=u?t.measuredBox[g]:t.layoutBox[g],R=calcLength(n[g]);b.max=b.min+R,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+R)});const m=createDelta();calcBoxDelta(m,n,t.layoutBox);const p=createDelta();u?calcBoxDelta(p,e.applyTransform(o,!0),t.measuredBox):calcBoxDelta(p,n,t.layoutBox);const j=!isDeltaZero(m);let f=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:b,layout:R}=g;if(b&&R){const v=createBox();calcRelativePosition(v,t.layoutBox,b.layoutBox);const N=createBox();calcRelativePosition(N,n,R.layoutBox),boxEqualsRounded(v,N)||(f=!0),g.options.layoutRoot&&(e.relativeTarget=N,e.relativeTargetOrigin=v,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:p,layoutDelta:m,hasLayoutChanged:j,hasRelativeLayoutChanged:f})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function propagateDirtyNodes(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function cleanDirtyNodes(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function clearSnapshot(e){e.clearSnapshot()}function clearMeasurements(e){e.clearMeasurements()}function clearIsLayoutDirty(e){e.isLayoutDirty=!1}function resetTransformStyle(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function finishAnimation(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function resolveTargetDelta(e){e.resolveTargetDelta()}function calcProjection(e){e.calcProjection()}function resetSkewAndRotation(e){e.resetSkewAndRotation()}function removeLeadSnapshots(e){e.removeLeadSnapshot()}function mixAxisDelta(e,t,n){e.translate=mixNumber$1(t.translate,0,n),e.scale=mixNumber$1(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function mixAxis(e,t,n,o){e.min=mixNumber$1(t.min,n.min,o),e.max=mixNumber$1(t.max,n.max,o)}function mixBox(e,t,n,o){mixAxis(e.x,t.x,n.x,o),mixAxis(e.y,t.y,n.y,o)}function hasOpacityCrossfade(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$7;function roundAxis(e){e.min=roundPoint(e.min),e.max=roundPoint(e.max)}function roundBox(e){roundAxis(e.x),roundAxis(e.y)}function shouldAnimatePositionOnly(e,t,n){return e==="position"||e==="preserve-aspect"&&!isNear(aspectRatio(t),aspectRatio(n),.2)}function checkNodeWasScrollRoot(e){return e!==e.root&&e.scroll?.wasRoot}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(e,t)=>addDomEvent(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const e=new DocumentProjectionNode({});e.mount(window),e.setOptions({layoutScroll:!0}),rootProjectionNode.current=e}return rootProjectionNode.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(e,t,n){const{props:o}=e;e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",n==="Start");const l="onHover"+n,u=o[l];u&&frame.postRender(()=>u(t,extractEventInfo(t)))}class HoverGesture extends Feature{mount(){const{current:t}=this.node;t&&(this.unmount=hover(t,(n,o)=>(handleHoverEvent(this.node,o,"Start"),l=>handleHoverEvent(this.node,l,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(e,t,n){const{props:o}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&o.whileTap&&e.animationState.setActive("whileTap",n==="Start");const l="onTap"+(n==="End"?"":n),u=o[l];u&&frame.postRender(()=>u(t,extractEventInfo(t)))}class PressGesture extends Feature{mount(){const{current:t}=this.node;t&&(this.unmount=press(t,(n,o)=>(handlePressEvent(this.node,o,"Start"),(l,{success:u})=>handlePressEvent(this.node,l,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=e=>{const t=observerCallbacks.get(e.target);t&&t(e)},fireAllObserverCallbacks=e=>{e.forEach(fireObserverCallback)};function initIntersectionObserver({root:e,...t}){const n=e||document;observers.has(n)||observers.set(n,{});const o=observers.get(n),l=JSON.stringify(t);return o[l]||(o[l]=new IntersectionObserver(fireAllObserverCallbacks,{root:e,...t})),o[l]}function observeIntersection(e,t,n){const o=initIntersectionObserver(t);return observerCallbacks.set(e,n),o.observe(e),()=>{observerCallbacks.delete(e),o.unobserve(e)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:o,amount:l="some",once:u}=t,m={root:n?n.current:void 0,rootMargin:o,threshold:typeof l=="number"?l:thresholdNames[l]},p=j=>{const{isIntersecting:f}=j;if(this.isInView===f||(this.isInView=f,u&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:g,onViewportLeave:b}=this.node.getProps(),R=f?g:b;R&&R(j)};return observeIntersection(this.node.current,m,p)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(t,n))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},featureBundle={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy(featureBundle,createDomVisualElement);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),toCamelCase$1=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,o)=>o?o.toUpperCase():n.toLowerCase()),toPascalCase=e=>{const t=toCamelCase$1(e);return t.charAt(0).toUpperCase()+t.slice(1)},mergeClasses=(...e)=>e.filter((t,n,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===n).join(" ").trim(),hasA11yProp=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon=reactExports.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:l="",children:u,iconNode:m,...p},j)=>reactExports.createElement("svg",{ref:j,...defaultAttributes,width:t,height:t,stroke:e,strokeWidth:o?Number(n)*24/Number(t):n,className:mergeClasses("lucide",l),...!u&&!hasA11yProp(p)&&{"aria-hidden":"true"},...p},[...m.map(([f,g])=>reactExports.createElement(f,g)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(e,t)=>{const n=reactExports.forwardRef(({className:o,...l},u)=>reactExports.createElement(Icon,{ref:u,iconNode:t,className:mergeClasses(`lucide-${toKebabCase(toPascalCase(e))}`,`lucide-${e}`,o),...l}));return n.displayName=toPascalCase(e),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2J=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Activity=createLucideIcon("activity",__iconNode$2J);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2I=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],ArrowDownRight=createLucideIcon("arrow-down-right",__iconNode$2I);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2H=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],ArrowDown=createLucideIcon("arrow-down",__iconNode$2H);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2G=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ArrowLeft=createLucideIcon("arrow-left",__iconNode$2G);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2F=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ArrowRight=createLucideIcon("arrow-right",__iconNode$2F);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2E=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],ArrowUpRight=createLucideIcon("arrow-up-right",__iconNode$2E);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2D=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],ArrowUp=createLucideIcon("arrow-up",__iconNode$2D);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2C=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Award=createLucideIcon("award",__iconNode$2C);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2B=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 15h.01",key:"lqbp3k"}]],BadgePercent=createLucideIcon("badge-percent",__iconNode$2B);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2A=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Banknote=createLucideIcon("banknote",__iconNode$2A);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2z=[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]],Barcode=createLucideIcon("barcode",__iconNode$2z);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2y=[["path",{d:"M5 7a2 2 0 0 0-2 2v11",key:"1yhqjt"}],["path",{d:"M5.803 18H5a2 2 0 0 0 0 4h9.5a.5.5 0 0 0 .5-.5V21",key:"edzzo5"}],["path",{d:"M9 15V4a2 2 0 0 1 2-2h9.5a.5.5 0 0 1 .5.5v14a.5.5 0 0 1-.5.5H11a2 2 0 0 1 0-4h10",key:"1nwzrg"}]],BookCopy=createLucideIcon("book-copy",__iconNode$2y);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2x=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],BookOpen=createLucideIcon("book-open",__iconNode$2x);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2w=[["path",{d:"M15 13a3 3 0 1 0-6 0",key:"10j68g"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}]],BookUser=createLucideIcon("book-user",__iconNode$2w);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2v=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Book=createLucideIcon("book",__iconNode$2v);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2u=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Box=createLucideIcon("box",__iconNode$2u);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2t=[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]],Braces=createLucideIcon("braces",__iconNode$2t);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2s=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Briefcase=createLucideIcon("briefcase",__iconNode$2s);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2r=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Building2=createLucideIcon("building-2",__iconNode$2r);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2q=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Building=createLucideIcon("building",__iconNode$2q);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2p=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Calculator=createLucideIcon("calculator",__iconNode$2p);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2o=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],CalendarCheck=createLucideIcon("calendar-check",__iconNode$2o);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2n=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],CalendarClock=createLucideIcon("calendar-clock",__iconNode$2n);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2m=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],CalendarDays=createLucideIcon("calendar-days",__iconNode$2m);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2l=[["path",{d:"M4.2 4.2A2 2 0 0 0 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 1.82-1.18",key:"16swn3"}],["path",{d:"M21 15.5V6a2 2 0 0 0-2-2H9.5",key:"yhw86o"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h7",key:"1wap6i"}],["path",{d:"M21 10h-5.5",key:"quycpq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],CalendarOff=createLucideIcon("calendar-off",__iconNode$2l);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2k=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Camera=createLucideIcon("camera",__iconNode$2k);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2j=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Calendar=createLucideIcon("calendar",__iconNode$2j);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2i=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ChartColumn=createLucideIcon("chart-column",__iconNode$2i);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2h=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],ChartNoAxesColumnIncreasing=createLucideIcon("chart-no-axes-column-increasing",__iconNode$2h);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2g=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],ChartNoAxesColumn=createLucideIcon("chart-no-axes-column",__iconNode$2g);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2f=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Check=createLucideIcon("check",__iconNode$2f);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2e=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ChevronDown=createLucideIcon("chevron-down",__iconNode$2e);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2d=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ChevronLeft=createLucideIcon("chevron-left",__iconNode$2d);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2c=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ChevronRight=createLucideIcon("chevron-right",__iconNode$2c);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2b=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ChevronUp=createLucideIcon("chevron-up",__iconNode$2b);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2a=[["path",{d:"m9 7-5 5 5 5",key:"j5w590"}],["path",{d:"m15 7 5 5-5 5",key:"1bl6da"}]],ChevronsLeftRight=createLucideIcon("chevrons-left-right",__iconNode$2a);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$29=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],ChevronsLeft=createLucideIcon("chevrons-left",__iconNode$29);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$28=[["path",{d:"m20 17-5-5 5-5",key:"30x0n2"}],["path",{d:"m4 17 5-5-5-5",key:"16spf4"}]],ChevronsRightLeft=createLucideIcon("chevrons-right-left",__iconNode$28);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$27=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],ChevronsRight=createLucideIcon("chevrons-right",__iconNode$27);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$26=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],ChevronsUpDown=createLucideIcon("chevrons-up-down",__iconNode$26);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$25=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],CircleAlert=createLucideIcon("circle-alert",__iconNode$25);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$24=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m12 8-4 4 4 4",key:"15vm53"}],["path",{d:"M16 12H8",key:"1fr5h0"}]],CircleArrowLeft=createLucideIcon("circle-arrow-left",__iconNode$24);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$23=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],CircleCheckBig=createLucideIcon("circle-check-big",__iconNode$23);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$22=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],CircleCheck=createLucideIcon("circle-check",__iconNode$22);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$21=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],CircleDollarSign=createLucideIcon("circle-dollar-sign",__iconNode$21);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$20=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],CirclePlay=createLucideIcon("circle-play",__iconNode$20);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],CirclePlus=createLucideIcon("circle-plus",__iconNode$1$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],CircleQuestionMark=createLucideIcon("circle-question-mark",__iconNode$1_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1Z=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],CircleUser=createLucideIcon("circle-user",__iconNode$1Z);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1Y=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],CircleX=createLucideIcon("circle-x",__iconNode$1Y);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1X=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],ClipboardCheck=createLucideIcon("clipboard-check",__iconNode$1X);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1W=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],ClipboardList=createLucideIcon("clipboard-list",__iconNode$1W);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1V=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Clock=createLucideIcon("clock",__iconNode$1V);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1U=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],CloudUpload=createLucideIcon("cloud-upload",__iconNode$1U);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1T=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Code=createLucideIcon("code",__iconNode$1T);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1S=[["path",{d:"M16 2v2",key:"scm5qe"}],["path",{d:"M7 22v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1waht3"}],["path",{d:"M8 2v2",key:"pbkmx"}],["circle",{cx:"12",cy:"11",r:"3",key:"itu57m"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]],Contact=createLucideIcon("contact",__iconNode$1S);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1R=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Copy=createLucideIcon("copy",__iconNode$1R);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1Q=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],CreditCard=createLucideIcon("credit-card",__iconNode$1Q);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1P=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],DollarSign=createLucideIcon("dollar-sign",__iconNode$1P);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1O=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Download=createLucideIcon("download",__iconNode$1O);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1N=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Ellipsis=createLucideIcon("ellipsis",__iconNode$1N);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1M=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],EyeOff=createLucideIcon("eye-off",__iconNode$1M);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1L=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Eye=createLucideIcon("eye",__iconNode$1L);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1K=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Factory=createLucideIcon("factory",__iconNode$1K);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1J=[["path",{d:"M12 22h6a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3.072",key:"n6s66f"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m6.69 16.479 1.29 4.88a.5.5 0 0 1-.698.591l-1.843-.849a1 1 0 0 0-.88.001l-1.846.85a.5.5 0 0 1-.693-.593l1.29-4.88",key:"1e6yvx"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]],FileBadge=createLucideIcon("file-badge",__iconNode$1J);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1I=[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M16 22h2a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"37hlfg"}],["path",{d:"M8 14v2.2l1.6 1",key:"6m4bie"}],["circle",{cx:"8",cy:"16",r:"6",key:"10v15b"}]],FileClock=createLucideIcon("file-clock",__iconNode$1I);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1H=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}]],FileMinus=createLucideIcon("file-minus",__iconNode$1H);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1G=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],FileSpreadsheet=createLucideIcon("file-spreadsheet",__iconNode$1G);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1F=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],FileText=createLucideIcon("file-text",__iconNode$1F);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1E=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],Fingerprint=createLucideIcon("fingerprint",__iconNode$1E);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1D=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],Flag=createLucideIcon("flag",__iconNode$1D);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1C=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]],FolderKanban=createLucideIcon("folder-kanban",__iconNode$1C);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1B=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Funnel=createLucideIcon("funnel",__iconNode$1B);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1A=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Gift=createLucideIcon("gift",__iconNode$1A);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1z=[["path",{d:"M6 3v12",key:"qpgusn"}],["path",{d:"M18 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6z",key:"1d02ji"}],["path",{d:"M6 21a3 3 0 1 0 0-6 3 3 0 0 0 0 6z",key:"chk6ph"}],["path",{d:"M15 6a9 9 0 0 0-9 9",key:"or332x"}],["path",{d:"M18 15v6",key:"9wciyi"}],["path",{d:"M21 18h-6",key:"139f0c"}]],GitBranchPlus=createLucideIcon("git-branch-plus",__iconNode$1z);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1y=[["circle",{cx:"12",cy:"18",r:"3",key:"1mpf1b"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["path",{d:"M18 9v2c0 .6-.4 1-1 1H7c-.6 0-1-.4-1-1V9",key:"1uq4wg"}],["path",{d:"M12 12v3",key:"158kv8"}]],GitFork=createLucideIcon("git-fork",__iconNode$1y);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1x=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["line",{x1:"6",x2:"6",y1:"9",y2:"21",key:"rroup"}]],GitPullRequest=createLucideIcon("git-pull-request",__iconNode$1x);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1w=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Globe=createLucideIcon("globe",__iconNode$1w);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1v=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Grid3x3=createLucideIcon("grid-3x3",__iconNode$1v);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1u=[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]],HandCoins=createLucideIcon("hand-coins",__iconNode$1u);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1t=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],Hand=createLucideIcon("hand",__iconNode$1t);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1s=[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]],Handshake=createLucideIcon("handshake",__iconNode$1s);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1r=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Hash=createLucideIcon("hash",__iconNode$1r);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1q=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],History=createLucideIcon("history",__iconNode$1q);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1p=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],Hourglass=createLucideIcon("hourglass",__iconNode$1p);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1o=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],House=createLucideIcon("house",__iconNode$1o);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1n=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]],ImageOff=createLucideIcon("image-off",__iconNode$1n);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1m=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Image=createLucideIcon("image",__iconNode$1m);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1l=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Info=createLucideIcon("info",__iconNode$1l);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1k=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],Landmark=createLucideIcon("landmark",__iconNode$1k);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1j=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Layers=createLucideIcon("layers",__iconNode$1j);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1i=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],LayoutDashboard=createLucideIcon("layout-dashboard",__iconNode$1i);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1h=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],LayoutGrid=createLucideIcon("layout-grid",__iconNode$1h);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1g=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Link2=createLucideIcon("link-2",__iconNode$1g);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1f=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Link=createLucideIcon("link",__iconNode$1f);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1e=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],ListChecks=createLucideIcon("list-checks",__iconNode$1e);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1d=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]],ListFilter=createLucideIcon("list-filter",__iconNode$1d);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1c=[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],ListTodo=createLucideIcon("list-todo",__iconNode$1c);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1b=[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]],ListTree=createLucideIcon("list-tree",__iconNode$1b);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1a=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],List=createLucideIcon("list",__iconNode$1a);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$19=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],LoaderCircle=createLucideIcon("loader-circle",__iconNode$19);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$18=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Loader=createLucideIcon("loader",__iconNode$18);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$17=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Lock=createLucideIcon("lock",__iconNode$17);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$16=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],LockOpen=createLucideIcon("lock-open",__iconNode$16);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$15=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],LogIn=createLucideIcon("log-in",__iconNode$15);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$14=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],LogOut=createLucideIcon("log-out",__iconNode$14);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$13=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Mail=createLucideIcon("mail",__iconNode$13);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$12=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],MapPin=createLucideIcon("map-pin",__iconNode$12);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$11=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Megaphone=createLucideIcon("megaphone",__iconNode$11);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$10=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Menu=createLucideIcon("menu",__iconNode$10);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$$=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],MessageSquare=createLucideIcon("message-square",__iconNode$$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$_=[["path",{d:"M5 12h14",key:"1ays0h"}]],Minus=createLucideIcon("minus",__iconNode$_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$Z=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Monitor=createLucideIcon("monitor",__iconNode$Z);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$Y=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],Network=createLucideIcon("network",__iconNode$Y);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$X=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Package=createLucideIcon("package",__iconNode$X);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$W=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Palette=createLucideIcon("palette",__iconNode$W);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$V=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Paperclip=createLucideIcon("paperclip",__iconNode$V);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$U=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Pencil=createLucideIcon("pencil",__iconNode$U);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$T=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Percent=createLucideIcon("percent",__iconNode$T);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$S=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],PhoneOff=createLucideIcon("phone-off",__iconNode$S);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$R=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Phone=createLucideIcon("phone",__iconNode$R);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$Q=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],Plane=createLucideIcon("plane",__iconNode$Q);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$P=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Play=createLucideIcon("play",__iconNode$P);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$O=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Plus=createLucideIcon("plus",__iconNode$O);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$N=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Printer=createLucideIcon("printer",__iconNode$N);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$M=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M14 8H8",key:"1l3xfs"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"M13 16H8",key:"wsln4y"}]],ReceiptText=createLucideIcon("receipt-text",__iconNode$M);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$L=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Receipt=createLucideIcon("receipt",__iconNode$L);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$K=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],RefreshCw=createLucideIcon("refresh-cw",__iconNode$K);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$J=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Repeat=createLucideIcon("repeat",__iconNode$J);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$I=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Save=createLucideIcon("save",__iconNode$I);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$H=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],Scale=createLucideIcon("scale",__iconNode$H);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$G=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],ScanLine=createLucideIcon("scan-line",__iconNode$G);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$F=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Search=createLucideIcon("search",__iconNode$F);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$E=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Send=createLucideIcon("send",__iconNode$E);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$D=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Server=createLucideIcon("server",__iconNode$D);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$C=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Settings$1=createLucideIcon("settings",__iconNode$C);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$B=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Share2=createLucideIcon("share-2",__iconNode$B);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$A=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],ShieldAlert=createLucideIcon("shield-alert",__iconNode$A);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$z=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ShieldCheck=createLucideIcon("shield-check",__iconNode$z);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$y=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],ShoppingCart=createLucideIcon("shopping-cart",__iconNode$y);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$x=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],SlidersHorizontal=createLucideIcon("sliders-horizontal",__iconNode$x);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$w=[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]],SlidersVertical=createLucideIcon("sliders-vertical",__iconNode$w);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$v=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Sparkles=createLucideIcon("sparkles",__iconNode$v);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$u=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],SquareCheckBig=createLucideIcon("square-check-big",__iconNode$u);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$t=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 17V7h4a3 3 0 0 1 0 6H9",key:"1dfk2c"}]],SquareParking=createLucideIcon("square-parking",__iconNode$t);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$s=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],SquarePen=createLucideIcon("square-pen",__iconNode$s);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$r=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],SquarePlus=createLucideIcon("square-plus",__iconNode$r);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$q=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Star=createLucideIcon("star",__iconNode$q);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$p=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],StickyNote=createLucideIcon("sticky-note",__iconNode$p);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$o=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],Store=createLucideIcon("store",__iconNode$o);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$n=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Tag=createLucideIcon("tag",__iconNode$n);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$m=[["path",{d:"M13.172 2a2 2 0 0 1 1.414.586l6.71 6.71a2.4 2.4 0 0 1 0 3.408l-4.592 4.592a2.4 2.4 0 0 1-3.408 0l-6.71-6.71A2 2 0 0 1 6 9.172V3a1 1 0 0 1 1-1z",key:"16rjxf"}],["path",{d:"M2 7v6.172a2 2 0 0 0 .586 1.414l6.71 6.71a2.4 2.4 0 0 0 3.191.193",key:"178nd4"}],["circle",{cx:"10.5",cy:"6.5",r:".5",fill:"currentColor",key:"12ikhr"}]],Tags=createLucideIcon("tags",__iconNode$m);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$l=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Target=createLucideIcon("target",__iconNode$l);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$k=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],ToggleLeft=createLucideIcon("toggle-left",__iconNode$k);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$j=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],ToggleRight=createLucideIcon("toggle-right",__iconNode$j);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$i=[["path",{d:"M10 15h4",key:"192ueg"}],["path",{d:"m14.817 10.995-.971-1.45 1.034-1.232a2 2 0 0 0-2.025-3.238l-1.82.364L9.91 3.885a2 2 0 0 0-3.625.748L6.141 6.55l-1.725.426a2 2 0 0 0-.19 3.756l.657.27",key:"xbnumr"}],["path",{d:"m18.822 10.995 2.26-5.38a1 1 0 0 0-.557-1.318L16.954 2.9a1 1 0 0 0-1.281.533l-.924 2.122",key:"eaw7gc"}],["path",{d:"M4 12.006A1 1 0 0 1 4.994 11H19a1 1 0 0 1 1 1v7a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z",key:"1vaooh"}]],ToolCase=createLucideIcon("tool-case",__iconNode$i);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$h=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Trash2=createLucideIcon("trash-2",__iconNode$h);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$g=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],TrendingDown=createLucideIcon("trending-down",__iconNode$g);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$f=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],TrendingUp=createLucideIcon("trending-up",__iconNode$f);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$e=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],TriangleAlert=createLucideIcon("triangle-alert",__iconNode$e);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$d=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Truck=createLucideIcon("truck",__iconNode$d);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$c=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Upload=createLucideIcon("upload",__iconNode$c);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$b=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],UserCheck=createLucideIcon("user-check",__iconNode$b);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$a=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],UserCog=createLucideIcon("user-cog",__iconNode$a);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],UserMinus=createLucideIcon("user-minus",__iconNode$9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],UserPlus=createLucideIcon("user-plus",__iconNode$8);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],UserX=createLucideIcon("user-x",__iconNode$7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],User=createLucideIcon("user",__iconNode$6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Users=createLucideIcon("users",__iconNode$5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2",key:"4125el"}],["path",{d:"M3 11h3c.8 0 1.6.3 2.1.9l1.1.9c1.6 1.6 4.1 1.6 5.7 0l1.1-.9c.5-.5 1.3-.9 2.1-.9H21",key:"1dpki6"}]],WalletCards=createLucideIcon("wallet-cards",__iconNode$4);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$3=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Wallet=createLucideIcon("wallet",__iconNode$3);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],Warehouse=createLucideIcon("warehouse",__iconNode$2);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Wrench=createLucideIcon("wrench",__iconNode$1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],X=createLucideIcon("x",__iconNode),Container=({children:e,className:t=""})=>jsxRuntimeExports.jsx("div",{className:`mx-auto max-w-7xl px-6 ${t}`,children:e}),Button=({children:e,variant:t="solid",className:n="",...o})=>{const l="w-full sm:w-auto",u=t==="solid"?"btn-primary":t==="outline"?"btn-secondary":t==="ghost"?"btn-ghost":"btn-primary";return jsxRuntimeExports.jsx("button",{className:`${l} ${u} ${n}`,...o,children:e})},navLinks$3=[{title:"Demo",href:"#demo"},{title:"Features",href:"#features"},{title:"Register",href:"#register"},{title:"Pricing",href:"#pricing"}],Navbar=()=>{const[e,t]=reactExports.useState(!1),n=useNavigate(),o=()=>t(!e),l=()=>{localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("roles"),localStorage.removeItem("tenantId"),n("/login")},u={hidden:{x:"100%",transition:{type:"tween",duration:.3}},visible:{x:0,transition:{type:"tween",duration:.3}}};return jsxRuntimeExports.jsxs("header",{className:"sticky top-0 z-50 border-b bg-white/80 backdrop-blur",children:[jsxRuntimeExports.jsxs(Container,{className:"py-4 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Sparkles,{className:"h-6 w-6 text-blue-600"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-lg",children:"Enterprise HRMS"})]}),jsxRuntimeExports.jsx("nav",{className:"hidden md:flex items-center gap-8 text-sm font-medium",children:navLinks$3.map(m=>jsxRuntimeExports.jsx("a",{href:m.href,className:"hover:text-blue-600 transition-colors",children:m.title},m.title))}),jsxRuntimeExports.jsxs("div",{className:"hidden sm:flex items-center gap-3",children:[jsxRuntimeExports.jsxs(Button,{variant:"ghost",children:[jsxRuntimeExports.jsx(Mail,{className:"h-4 w-4"})," Contact"]}),jsxRuntimeExports.jsxs(Button,{onClick:l,children:[jsxRuntimeExports.jsx(LogIn,{className:"h-4 w-4"}),localStorage.getItem("token")?"Logout":"Login"]}),jsxRuntimeExports.jsx(Link$1,{to:"/register",children:jsxRuntimeExports.jsxs(Button,{children:[jsxRuntimeExports.jsx(Building2,{className:"h-4 w-4"})," Register"]})})]}),jsxRuntimeExports.jsx("button",{className:"md:hidden",onClick:o,children:jsxRuntimeExports.jsx(Menu,{className:"h-6 w-6"})})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:e&&jsxRuntimeExports.jsxs(motion.div,{variants:u,initial:"hidden",animate:"visible",exit:"hidden",className:"fixed inset-0 z-50 bg-white p-6 md:hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Sparkles,{className:"h-6 w-6 text-blue-600"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-lg",children:"Enterprise HRMS"})]}),jsxRuntimeExports.jsx("button",{onClick:o,children:jsxRuntimeExports.jsx(X,{className:"h-6 w-6"})})]}),jsxRuntimeExports.jsxs("nav",{className:"mt-8 flex flex-col gap-4",children:[navLinks$3.map(m=>jsxRuntimeExports.jsx("a",{href:m.href,onClick:o,className:"text-lg font-medium hover:text-blue-600 transition-colors",children:m.title},m.title)),jsxRuntimeExports.jsxs("div",{className:"mt-4 border-t pt-4 flex flex-col gap-3",children:[jsxRuntimeExports.jsxs(Button,{variant:"ghost",children:[jsxRuntimeExports.jsx(Mail,{className:"h-4 w-4"})," Contact"]}),jsxRuntimeExports.jsx(Link$1,{to:"/login",onClick:o,children:jsxRuntimeExports.jsxs(Button,{className:"w-full justify-center",children:[jsxRuntimeExports.jsx(LogIn,{className:"h-4 w-4"}),"Login"]})}),jsxRuntimeExports.jsx(Link$1,{to:"/register",onClick:o,children:jsxRuntimeExports.jsxs(Button,{className:"w-full justify-center",children:[jsxRuntimeExports.jsx(Building2,{className:"h-4 w-4"}),"Register"]})})]})]})]})})]})},Hero=()=>jsxRuntimeExports.jsx("section",{id:"demo",className:"flex-1 flex items-center py-24 bg-gradient-to-r from-blue-50 to-white",children:jsxRuntimeExports.jsxs(Container,{className:"text-center",children:[jsxRuntimeExports.jsx(motion.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-4xl sm:text-5xl md:text-6xl font-extrabold leading-tight",children:"Empower Your Workforce at Enterprise Scale"}),jsxRuntimeExports.jsx(motion.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"mt-6 text-lg opacity-70 max-w-3xl mx-auto",children:"From recruitment to payroll, simplify HR with our secure, compliant, and scalable HRMS. Request a demo or register your company today."}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mt-8 flex flex-col sm:flex-row gap-4 justify-center",children:[jsxRuntimeExports.jsxs(Button,{children:[jsxRuntimeExports.jsx(CirclePlay,{className:"h-5 w-5"})," Request Demo"]}),jsxRuntimeExports.jsx(Link$1,{to:"/register",children:jsxRuntimeExports.jsxs(Button,{variant:"outline",children:[jsxRuntimeExports.jsx(Building2,{className:"h-5 w-5"})," Register Company"]})})]})]})}),FeatureCard=({icon:e,title:t,description:n})=>jsxRuntimeExports.jsxs("div",{className:"rounded-xl border p-6 text-center",children:[jsxRuntimeExports.jsx(e,{className:"h-8 w-8 text-blue-600 mx-auto"}),jsxRuntimeExports.jsx("h3",{className:"mt-4 font-semibold",children:t}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-sm opacity-70",children:n})]}),featuresData=[{icon:Users,title:"Employee Management",description:"Centralized profiles, onboarding, leave, and attendance in one place."},{icon:Briefcase,title:"Recruitment & Onboarding",description:"Streamline hiring with integrated job postings, applications, and onboarding flows."},{icon:ShieldCheck,title:"Compliance & Security",description:"Enterprise-grade security, SSO, audit logs, and compliance with global standards."}],Features=()=>jsxRuntimeExports.jsx("section",{id:"features",className:"py-20 bg-white",children:jsxRuntimeExports.jsxs(Container,{children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-center",children:"Powerful Features"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-center text-sm opacity-70 max-w-2xl mx-auto",children:"Designed for enterprises that need performance, compliance, and scalability."}),jsxRuntimeExports.jsx("div",{className:"mt-12 grid gap-8 md:grid-cols-3",children:featuresData.map(e=>jsxRuntimeExports.jsx(FeatureCard,{...e},e.title))})]})}),Register$1=()=>jsxRuntimeExports.jsx("section",{id:"register",className:"py-20 bg-slate-50",children:jsxRuntimeExports.jsxs(Container,{className:"text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold",children:"Register Your Company"}),jsxRuntimeExports.jsx("p",{className:"mt-3 text-sm opacity-70 max-w-xl mx-auto",children:"Get started in minutes. Create your tenant, configure policies, and onboard your HR team securely."}),jsxRuntimeExports.jsx("div",{className:"mt-6 flex justify-center",children:jsxRuntimeExports.jsx(Link$1,{to:"/register",children:jsxRuntimeExports.jsxs(Button,{children:[jsxRuntimeExports.jsx(Building2,{className:"h-5 w-5"})," Get Started"]})})})]})}),TestimonialCard=({quote:e,author:t,role:n,company:o})=>jsxRuntimeExports.jsxs("div",{className:"rounded-xl border p-6 text-center shadow-sm",children:[jsxRuntimeExports.jsx("p",{className:"text-sm italic",children:e}),jsxRuntimeExports.jsx("div",{className:"mt-4 font-semibold",children:t}),jsxRuntimeExports.jsxs("div",{className:"text-xs opacity-60",children:[n,", ",o]})]}),testimonialsData=[{quote:"Enterprise HRMS streamlined our HR operations and improved employee satisfaction.",author:"Customer 1",role:"CTO",company:"Example Corp"},{quote:"The compliance features are top-notch and give us peace of mind.",author:"Customer 2",role:"HR Director",company:"Innovate Inc."},{quote:"Scalable, secure, and incredibly easy to use. A must-have for any large organization.",author:"Customer 3",role:"CEO",company:"Global Solutions"}],Testimonials=()=>jsxRuntimeExports.jsx("section",{className:"py-20 bg-white",children:jsxRuntimeExports.jsxs(Container,{children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-center",children:"Trusted by Industry Leaders"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-center text-sm opacity-70 max-w-2xl mx-auto",children:"Our HRMS powers companies of all sizes, from startups to Fortune 500s."}),jsxRuntimeExports.jsx("div",{className:"mt-12 grid gap-6 md:grid-cols-3",children:testimonialsData.map((e,t)=>jsxRuntimeExports.jsx(TestimonialCard,{...e},t))})]})}),Footer=()=>jsxRuntimeExports.jsx("footer",{className:"border-t py-10 text-center text-sm opacity-70",children:jsxRuntimeExports.jsx(Container,{children:jsxRuntimeExports.jsxs("p",{children:[" ",new Date().getFullYear()," Enterprise HRMS. All rights reserved."]})})}),PricingCard=({name:e,price:t,period:n,features:o,highlighted:l})=>jsxRuntimeExports.jsxs("div",{className:`rounded-xl border p-8 flex flex-col ${l?"bg-blue-600 text-white border-blue-600":"bg-white"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold",children:e}),l&&jsxRuntimeExports.jsx("span",{className:"rounded-full bg-white/20 px-3 py-1 text-xs",children:"Popular"})]}),t==="Custom"?jsxRuntimeExports.jsx("div",{className:"mt-6 text-4xl font-bold",children:"Contact Us"}):jsxRuntimeExports.jsxs("div",{className:"mt-6 flex items-end gap-1",children:[jsxRuntimeExports.jsx("div",{className:"text-4xl font-bold",children:t}),jsxRuntimeExports.jsxs("div",{className:`mb-1 text-sm ${l?"opacity-80":"opacity-60"}`,children:["/",n]})]}),jsxRuntimeExports.jsx("ul",{className:"mt-6 space-y-2 text-sm",children:o.map((u,m)=>jsxRuntimeExports.jsxs("li",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleCheck,{className:"h-4 w-4"})," ",u]},m))}),jsxRuntimeExports.jsx(Button,{className:"mt-8",variant:l?"ghost":"solid",children:"Buy Plan"})]}),pricingData=[{name:"Starter",price:"1999",period:"month",features:["Core HR","Employee Management","Basic Reporting","Up to 50 Employees","Email Support"]},{name:"Standard",price:"3999",period:"month",highlighted:!0,features:["All Starter Features","Attendance & Leave Mgt.","Role-Based Access","Up to 150 Employees","Priority Email Support"]},{name:"Premium",price:"7999",period:"month",features:["All Standard Features","Payroll Management","Advanced Reporting","Up to 500 Employees","Phone & Email Support"]},{name:"Enterprise",price:"Custom",period:"contact",features:["All Premium Features","Recruitment Module","Dedicated DB & Support","SSO & Audit Logs","Unlimited Employees"]}],Pricing=()=>jsxRuntimeExports.jsx("section",{id:"pricing",className:"py-20",children:jsxRuntimeExports.jsxs(Container,{children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-center",children:"Flexible Pricing"}),jsxRuntimeExports.jsx("p",{className:"mt-3 text-sm text-center opacity-70",children:"Transparent plans built for startups, SMEs, and global enterprises."}),jsxRuntimeExports.jsx("div",{className:"mt-12 grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:pricingData.map(e=>jsxRuntimeExports.jsx(PricingCard,{...e},e.name))})]})}),Home=()=>jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-b from-white to-slate-50 text-slate-900",children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsxs("main",{children:[jsxRuntimeExports.jsx(Hero,{}),jsxRuntimeExports.jsx(Features,{}),jsxRuntimeExports.jsx(Register$1,{}),jsxRuntimeExports.jsx(Pricing,{}),jsxRuntimeExports.jsx(Testimonials,{})]}),jsxRuntimeExports.jsx(Footer,{})]}),AuthNavbar=()=>jsxRuntimeExports.jsx("header",{className:"sticky top-0 z-50 border-b bg-white/80 backdrop-blur",children:jsxRuntimeExports.jsxs(Container,{className:"py-4 flex items-center justify-between",children:[jsxRuntimeExports.jsxs(Link$1,{to:"/",className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Sparkles,{className:"h-6 w-6 text-blue-600"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-lg",children:"Enterprise HRMS"})]}),jsxRuntimeExports.jsx(Link$1,{to:"/",children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"h-4 w-4"})," Back to Home"]})})]})});function bind(e,t){return function(){return e.apply(t,arguments)}}const{toString:toString$1}=Object.prototype,{getPrototypeOf:getPrototypeOf$1}=Object,{iterator,toStringTag}=Symbol,kindOf=(e=>t=>{const n=toString$1.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=e=>(e=e.toLowerCase(),t=>kindOf(t)===e),typeOfTest=e=>t=>typeof t===e,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(e){return e!==null&&!isUndefined(e)&&e.constructor!==null&&!isUndefined(e.constructor)&&isFunction(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&isArrayBuffer(e.buffer),t}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber$1=typeOfTest("number"),isObject$1=e=>e!==null&&typeof e=="object",isBoolean$1=e=>e===!0||e===!1,isPlainObject$5=e=>{if(kindOf(e)!=="object")return!1;const t=getPrototypeOf$1(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(toStringTag in e)&&!(iterator in e)},isEmptyObject=e=>{if(!isObject$1(e)||isBuffer(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=e=>isObject$1(e)&&isFunction(e.pipe),isFormData=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||isFunction(e.append)&&((t=kindOf(e))==="formdata"||t==="object"&&isFunction(e.toString)&&e.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let o,l;if(typeof e!="object"&&(e=[e]),isArray(e))for(o=0,l=e.length;o<l;o++)t.call(null,e[o],o,e);else{if(isBuffer(e))return;const u=n?Object.getOwnPropertyNames(e):Object.keys(e),m=u.length;let p;for(o=0;o<m;o++)p=u[o],t.call(null,e[p],p,e)}}function findKey(e,t){if(isBuffer(e))return null;t=t.toLowerCase();const n=Object.keys(e);let o=n.length,l;for(;o-- >0;)if(l=n[o],t===l.toLowerCase())return l;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=e=>!isUndefined(e)&&e!==_global;function merge(){const{caseless:e}=isContextDefined(this)&&this||{},t={},n=(o,l)=>{const u=e&&findKey(t,l)||l;isPlainObject$5(t[u])&&isPlainObject$5(o)?t[u]=merge(t[u],o):isPlainObject$5(o)?t[u]=merge({},o):isArray(o)?t[u]=o.slice():t[u]=o};for(let o=0,l=arguments.length;o<l;o++)arguments[o]&&forEach(arguments[o],n);return t}const extend$1=(e,t,n,{allOwnKeys:o}={})=>(forEach(t,(l,u)=>{n&&isFunction(l)?e[u]=bind(l,n):e[u]=l},{allOwnKeys:o}),e),stripBOM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),inherits=(e,t,n,o)=>{e.prototype=Object.create(t.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject=(e,t,n,o)=>{let l,u,m;const p={};if(t=t||{},e==null)return t;do{for(l=Object.getOwnPropertyNames(e),u=l.length;u-- >0;)m=l[u],(!o||o(m,e,t))&&!p[m]&&(t[m]=e[m],p[m]=!0);e=n!==!1&&getPrototypeOf$1(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},endsWith=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const o=e.indexOf(t,n);return o!==-1&&o===n},toArray$2=e=>{if(!e)return null;if(isArray(e))return e;let t=e.length;if(!isNumber$1(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},isTypedArray$1=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&getPrototypeOf$1(Uint8Array)),forEachEntry=(e,t)=>{const o=(e&&e[iterator]).call(e);let l;for(;(l=o.next())&&!l.done;){const u=l.value;t.call(e,u[0],u[1])}},matchAll=(e,t)=>{let n;const o=[];for(;(n=e.exec(t))!==null;)o.push(n);return o},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,o,l){return o.toUpperCase()+l}),hasOwnProperty=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),o={};forEach(n,(l,u)=>{let m;(m=t(l,u,e))!==!1&&(o[u]=m||l)}),Object.defineProperties(e,o)},freezeMethods=e=>{reduceDescriptors(e,(t,n)=>{if(isFunction(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const o=e[n];if(isFunction(o)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},toObjectSet=(e,t)=>{const n={},o=l=>{l.forEach(u=>{n[u]=!0})};return isArray(e)?o(e):o(String(e).split(t)),n},noop$6=()=>{},toFiniteNumber=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function isSpecCompliantForm(e){return!!(e&&isFunction(e.append)&&e[toStringTag]==="FormData"&&e[iterator])}const toJSONObject=e=>{const t=new Array(10),n=(o,l)=>{if(isObject$1(o)){if(t.indexOf(o)>=0)return;if(isBuffer(o))return o;if(!("toJSON"in o)){t[l]=o;const u=isArray(o)?[]:{};return forEach(o,(m,p)=>{const j=n(m,l+1);!isUndefined(j)&&(u[p]=j)}),t[l]=void 0,u}}return o};return n(e,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=e=>e&&(isObject$1(e)||isFunction(e))&&isFunction(e.then)&&isFunction(e.catch),_setImmediate=((e,t)=>e?setImmediate:t?((n,o)=>(_global.addEventListener("message",({source:l,data:u})=>{l===_global&&u===n&&o.length&&o.shift()()},!1),l=>{o.push(l),_global.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",isFunction(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,isIterable=e=>e!=null&&isFunction(e[iterator]),utils$1={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber:isNumber$1,isBoolean:isBoolean$1,isObject:isObject$1,isPlainObject:isPlainObject$5,isEmptyObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray:isTypedArray$1,isFileList,forEach,merge,extend:extend$1,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray:toArray$2,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$6,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap,isIterable};function AxiosError$1(e,t,n,o,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),o&&(this.request=o),l&&(this.response=l,this.status=l.status?l.status:null)}utils$1.inherits(AxiosError$1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError$1.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{descriptors[e]={value:e}});Object.defineProperties(AxiosError$1,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError$1.from=(e,t,n,o,l,u)=>{const m=Object.create(prototype$1);return utils$1.toFlatObject(e,m,function(j){return j!==Error.prototype},p=>p!=="isAxiosError"),AxiosError$1.call(m,e.message,t,n,o,l),m.cause=e,m.name=e.name,u&&Object.assign(m,u),m};const httpAdapter=null;function isVisitable(e){return utils$1.isPlainObject(e)||utils$1.isArray(e)}function removeBrackets(e){return utils$1.endsWith(e,"[]")?e.slice(0,-2):e}function renderKey(e,t,n){return e?e.concat(t).map(function(l,u){return l=removeBrackets(l),!n&&u?"["+l+"]":l}).join(n?".":""):t}function isFlatArray(e){return utils$1.isArray(e)&&!e.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function(t){return/^is[A-Z]/.test(t)});function toFormData$1(e,t,n){if(!utils$1.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=utils$1.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,$){return!utils$1.isUndefined($[S])});const o=n.metaTokens,l=n.visitor||g,u=n.dots,m=n.indexes,j=(n.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(t);if(!utils$1.isFunction(l))throw new TypeError("visitor must be a function");function f(N){if(N===null)return"";if(utils$1.isDate(N))return N.toISOString();if(utils$1.isBoolean(N))return N.toString();if(!j&&utils$1.isBlob(N))throw new AxiosError$1("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(N)||utils$1.isTypedArray(N)?j&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function g(N,S,$){let C=N;if(N&&!$&&typeof N=="object"){if(utils$1.endsWith(S,"{}"))S=o?S:S.slice(0,-2),N=JSON.stringify(N);else if(utils$1.isArray(N)&&isFlatArray(N)||(utils$1.isFileList(N)||utils$1.endsWith(S,"[]"))&&(C=utils$1.toArray(N)))return S=removeBrackets(S),C.forEach(function(T,D){!(utils$1.isUndefined(T)||T===null)&&t.append(m===!0?renderKey([S],D,u):m===null?S:S+"[]",f(T))}),!1}return isVisitable(N)?!0:(t.append(renderKey($,S,u),f(N)),!1)}const b=[],R=Object.assign(predicates,{defaultVisitor:g,convertValue:f,isVisitable});function v(N,S){if(!utils$1.isUndefined(N)){if(b.indexOf(N)!==-1)throw Error("Circular reference detected in "+S.join("."));b.push(N),utils$1.forEach(N,function(C,A){(!(utils$1.isUndefined(C)||C===null)&&l.call(t,C,utils$1.isString(A)?A.trim():A,S,R))===!0&&v(C,S?S.concat(A):[A])}),b.pop()}}if(!utils$1.isObject(e))throw new TypeError("data must be an object");return v(e),t}function encode$1(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(o){return t[o]})}function AxiosURLSearchParams(e,t){this._pairs=[],e&&toFormData$1(e,this,t)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(t,n){this._pairs.push([t,n])};prototype.toString=function(t){const n=t?function(o){return t.call(this,o,encode$1)}:encode$1;return this._pairs.map(function(l){return n(l[0])+"="+n(l[1])},"").join("&")};function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(e,t,n){if(!t)return e;const o=n&&n.encode||encode;utils$1.isFunction(n)&&(n={serialize:n});const l=n&&n.serialize;let u;if(l?u=l(t,n):u=utils$1.isURLSearchParams(t)?t.toString():new AxiosURLSearchParams(t,n).toString(o),u){const m=e.indexOf("#");m!==-1&&(e=e.slice(0,m)),e+=(e.indexOf("?")===-1?"?":"&")+u}return e}class InterceptorManager{constructor(){this.handlers=[]}use(t,n,o){return this.handlers.push({fulfilled:t,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){utils$1.forEach(this.handlers,function(o){o!==null&&t(o)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(e,t){return toFormData$1(e,new platform.classes.URLSearchParams,{visitor:function(n,o,l,u){return platform.isNode&&utils$1.isBuffer(n)?(this.append(o,n.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)},...t})}function parsePropPath(e){return utils$1.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function arrayToObject(e){const t={},n=Object.keys(e);let o;const l=n.length;let u;for(o=0;o<l;o++)u=n[o],t[u]=e[u];return t}function formDataToJSON(e){function t(n,o,l,u){let m=n[u++];if(m==="__proto__")return!0;const p=Number.isFinite(+m),j=u>=n.length;return m=!m&&utils$1.isArray(l)?l.length:m,j?(utils$1.hasOwnProp(l,m)?l[m]=[l[m],o]:l[m]=o,!p):((!l[m]||!utils$1.isObject(l[m]))&&(l[m]=[]),t(n,o,l[m],u)&&utils$1.isArray(l[m])&&(l[m]=arrayToObject(l[m])),!p)}if(utils$1.isFormData(e)&&utils$1.isFunction(e.entries)){const n={};return utils$1.forEachEntry(e,(o,l)=>{t(parsePropPath(o),l,n,0)}),n}return null}function stringifySafely(e,t,n){if(utils$1.isString(e))try{return(t||JSON.parse)(e),utils$1.trim(e)}catch(o){if(o.name!=="SyntaxError")throw o}return(n||JSON.stringify)(e)}const defaults$1={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const o=n.getContentType()||"",l=o.indexOf("application/json")>-1,u=utils$1.isObject(t);if(u&&utils$1.isHTMLForm(t)&&(t=new FormData(t)),utils$1.isFormData(t))return l?JSON.stringify(formDataToJSON(t)):t;if(utils$1.isArrayBuffer(t)||utils$1.isBuffer(t)||utils$1.isStream(t)||utils$1.isFile(t)||utils$1.isBlob(t)||utils$1.isReadableStream(t))return t;if(utils$1.isArrayBufferView(t))return t.buffer;if(utils$1.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let p;if(u){if(o.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(t,this.formSerializer).toString();if((p=utils$1.isFileList(t))||o.indexOf("multipart/form-data")>-1){const j=this.env&&this.env.FormData;return toFormData$1(p?{"files[]":t}:t,j&&new j,this.formSerializer)}}return u||l?(n.setContentType("application/json",!1),stringifySafely(t)):t}],transformResponse:[function(t){const n=this.transitional||defaults$1.transitional,o=n&&n.forcedJSONParsing,l=this.responseType==="json";if(utils$1.isResponse(t)||utils$1.isReadableStream(t))return t;if(t&&utils$1.isString(t)&&(o&&!this.responseType||l)){const m=!(n&&n.silentJSONParsing)&&l;try{return JSON.parse(t)}catch(p){if(m)throw p.name==="SyntaxError"?AxiosError$1.from(p,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):p}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],e=>{defaults$1.headers[e]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=e=>{const t={};let n,o,l;return e&&e.split(`
`).forEach(function(m){l=m.indexOf(":"),n=m.substring(0,l).trim().toLowerCase(),o=m.substring(l+1).trim(),!(!n||t[n]&&ignoreDuplicateOf[n])&&(n==="set-cookie"?t[n]?t[n].push(o):t[n]=[o]:t[n]=t[n]?t[n]+", "+o:o)}),t},$internals=Symbol("internals");function normalizeHeader(e){return e&&String(e).trim().toLowerCase()}function normalizeValue(e){return e===!1||e==null?e:utils$1.isArray(e)?e.map(normalizeValue):String(e)}function parseTokens(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(e);)t[o[1]]=o[2];return t}const isValidHeaderName=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function matchHeaderValue(e,t,n,o,l){if(utils$1.isFunction(o))return o.call(this,t,n);if(l&&(t=n),!!utils$1.isString(t)){if(utils$1.isString(o))return t.indexOf(o)!==-1;if(utils$1.isRegExp(o))return o.test(t)}}function formatHeader(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,o)=>n.toUpperCase()+o)}function buildAccessors(e,t){const n=utils$1.toCamelCase(" "+t);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+n,{value:function(l,u,m){return this[o].call(this,t,l,u,m)},configurable:!0})})}let AxiosHeaders$1=class{constructor(t){t&&this.set(t)}set(t,n,o){const l=this;function u(p,j,f){const g=normalizeHeader(j);if(!g)throw new Error("header name must be a non-empty string");const b=utils$1.findKey(l,g);(!b||l[b]===void 0||f===!0||f===void 0&&l[b]!==!1)&&(l[b||j]=normalizeValue(p))}const m=(p,j)=>utils$1.forEach(p,(f,g)=>u(f,g,j));if(utils$1.isPlainObject(t)||t instanceof this.constructor)m(t,n);else if(utils$1.isString(t)&&(t=t.trim())&&!isValidHeaderName(t))m(parseHeaders(t),n);else if(utils$1.isObject(t)&&utils$1.isIterable(t)){let p={},j,f;for(const g of t){if(!utils$1.isArray(g))throw TypeError("Object iterator must return a key-value pair");p[f=g[0]]=(j=p[f])?utils$1.isArray(j)?[...j,g[1]]:[j,g[1]]:g[1]}m(p,n)}else t!=null&&u(n,t,o);return this}get(t,n){if(t=normalizeHeader(t),t){const o=utils$1.findKey(this,t);if(o){const l=this[o];if(!n)return l;if(n===!0)return parseTokens(l);if(utils$1.isFunction(n))return n.call(this,l,o);if(utils$1.isRegExp(n))return n.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=normalizeHeader(t),t){const o=utils$1.findKey(this,t);return!!(o&&this[o]!==void 0&&(!n||matchHeaderValue(this,this[o],o,n)))}return!1}delete(t,n){const o=this;let l=!1;function u(m){if(m=normalizeHeader(m),m){const p=utils$1.findKey(o,m);p&&(!n||matchHeaderValue(o,o[p],p,n))&&(delete o[p],l=!0)}}return utils$1.isArray(t)?t.forEach(u):u(t),l}clear(t){const n=Object.keys(this);let o=n.length,l=!1;for(;o--;){const u=n[o];(!t||matchHeaderValue(this,this[u],u,t,!0))&&(delete this[u],l=!0)}return l}normalize(t){const n=this,o={};return utils$1.forEach(this,(l,u)=>{const m=utils$1.findKey(o,u);if(m){n[m]=normalizeValue(l),delete n[u];return}const p=t?formatHeader(u):String(u).trim();p!==u&&delete n[u],n[p]=normalizeValue(l),o[p]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return utils$1.forEach(this,(o,l)=>{o!=null&&o!==!1&&(n[l]=t&&utils$1.isArray(o)?o.join(", "):o)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const o=new this(t);return n.forEach(l=>o.set(l)),o}static accessor(t){const o=(this[$internals]=this[$internals]={accessors:{}}).accessors,l=this.prototype;function u(m){const p=normalizeHeader(m);o[p]||(buildAccessors(l,m),o[p]=!0)}return utils$1.isArray(t)?t.forEach(u):u(t),this}};AxiosHeaders$1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders$1.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(o){this[n]=o}}});utils$1.freezeMethods(AxiosHeaders$1);function transformData(e,t){const n=this||defaults$1,o=t||n,l=AxiosHeaders$1.from(o.headers);let u=o.data;return utils$1.forEach(e,function(p){u=p.call(n,u,l.normalize(),t?t.status:void 0)}),l.normalize(),u}function isCancel$1(e){return!!(e&&e.__CANCEL__)}function CanceledError$1(e,t,n){AxiosError$1.call(this,e??"canceled",AxiosError$1.ERR_CANCELED,t,n),this.name="CanceledError"}utils$1.inherits(CanceledError$1,AxiosError$1,{__CANCEL__:!0});function settle(e,t,n){const o=n.config.validateStatus;!n.status||!o||o(n.status)?e(n):t(new AxiosError$1("Request failed with status code "+n.status,[AxiosError$1.ERR_BAD_REQUEST,AxiosError$1.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function parseProtocol(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function speedometer(e,t){e=e||10;const n=new Array(e),o=new Array(e);let l=0,u=0,m;return t=t!==void 0?t:1e3,function(j){const f=Date.now(),g=o[u];m||(m=f),n[l]=j,o[l]=f;let b=u,R=0;for(;b!==l;)R+=n[b++],b=b%e;if(l=(l+1)%e,l===u&&(u=(u+1)%e),f-m<t)return;const v=g&&f-g;return v?Math.round(R*1e3/v):void 0}}function throttle$3(e,t){let n=0,o=1e3/t,l,u;const m=(f,g=Date.now())=>{n=g,l=null,u&&(clearTimeout(u),u=null),e(...f)};return[(...f)=>{const g=Date.now(),b=g-n;b>=o?m(f,g):(l=f,u||(u=setTimeout(()=>{u=null,m(l)},o-b)))},()=>l&&m(l)]}const progressEventReducer=(e,t,n=3)=>{let o=0;const l=speedometer(50,250);return throttle$3(u=>{const m=u.loaded,p=u.lengthComputable?u.total:void 0,j=m-o,f=l(j),g=m<=p;o=m;const b={loaded:m,total:p,progress:p?m/p:void 0,bytes:j,rate:f||void 0,estimated:f&&p&&g?(p-m)/f:void 0,event:u,lengthComputable:p!=null,[t?"download":"upload"]:!0};e(b)},n)},progressEventDecorator=(e,t)=>{const n=e!=null;return[o=>t[0]({lengthComputable:n,total:e,loaded:o}),t[1]]},asyncDecorator=e=>(...t)=>utils$1.asap(()=>e(...t)),isURLSameOrigin=platform.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,platform.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(e,t,n,o,l,u){const m=[e+"="+encodeURIComponent(t)];utils$1.isNumber(n)&&m.push("expires="+new Date(n).toGMTString()),utils$1.isString(o)&&m.push("path="+o),utils$1.isString(l)&&m.push("domain="+l),u===!0&&m.push("secure"),document.cookie=m.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function combineURLs(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function buildFullPath(e,t,n){let o=!isAbsoluteURL(t);return e&&(o||n==!1)?combineURLs(e,t):t}const headersToObject=e=>e instanceof AxiosHeaders$1?{...e}:e;function mergeConfig$1(e,t){t=t||{};const n={};function o(f,g,b,R){return utils$1.isPlainObject(f)&&utils$1.isPlainObject(g)?utils$1.merge.call({caseless:R},f,g):utils$1.isPlainObject(g)?utils$1.merge({},g):utils$1.isArray(g)?g.slice():g}function l(f,g,b,R){if(utils$1.isUndefined(g)){if(!utils$1.isUndefined(f))return o(void 0,f,b,R)}else return o(f,g,b,R)}function u(f,g){if(!utils$1.isUndefined(g))return o(void 0,g)}function m(f,g){if(utils$1.isUndefined(g)){if(!utils$1.isUndefined(f))return o(void 0,f)}else return o(void 0,g)}function p(f,g,b){if(b in t)return o(f,g);if(b in e)return o(void 0,f)}const j={url:u,method:u,data:u,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,withXSRFToken:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:p,headers:(f,g,b)=>l(headersToObject(f),headersToObject(g),b,!0)};return utils$1.forEach(Object.keys({...e,...t}),function(g){const b=j[g]||l,R=b(e[g],t[g],g);utils$1.isUndefined(R)&&b!==p||(n[g]=R)}),n}const resolveConfig=e=>{const t=mergeConfig$1({},e);let{data:n,withXSRFToken:o,xsrfHeaderName:l,xsrfCookieName:u,headers:m,auth:p}=t;t.headers=m=AxiosHeaders$1.from(m),t.url=buildURL(buildFullPath(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),p&&m.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):"")));let j;if(utils$1.isFormData(n)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)m.setContentType(void 0);else if((j=m.getContentType())!==!1){const[f,...g]=j?j.split(";").map(b=>b.trim()).filter(Boolean):[];m.setContentType([f||"multipart/form-data",...g].join("; "))}}if(platform.hasStandardBrowserEnv&&(o&&utils$1.isFunction(o)&&(o=o(t)),o||o!==!1&&isURLSameOrigin(t.url))){const f=l&&u&&cookies.read(u);f&&m.set(l,f)}return t},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(e){return new Promise(function(n,o){const l=resolveConfig(e);let u=l.data;const m=AxiosHeaders$1.from(l.headers).normalize();let{responseType:p,onUploadProgress:j,onDownloadProgress:f}=l,g,b,R,v,N;function S(){v&&v(),N&&N(),l.cancelToken&&l.cancelToken.unsubscribe(g),l.signal&&l.signal.removeEventListener("abort",g)}let $=new XMLHttpRequest;$.open(l.method.toUpperCase(),l.url,!0),$.timeout=l.timeout;function C(){if(!$)return;const T=AxiosHeaders$1.from("getAllResponseHeaders"in $&&$.getAllResponseHeaders()),I={data:!p||p==="text"||p==="json"?$.responseText:$.response,status:$.status,statusText:$.statusText,headers:T,config:e,request:$};settle(function(_){n(_),S()},function(_){o(_),S()},I),$=null}"onloadend"in $?$.onloadend=C:$.onreadystatechange=function(){!$||$.readyState!==4||$.status===0&&!($.responseURL&&$.responseURL.indexOf("file:")===0)||setTimeout(C)},$.onabort=function(){$&&(o(new AxiosError$1("Request aborted",AxiosError$1.ECONNABORTED,e,$)),$=null)},$.onerror=function(){o(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,e,$)),$=null},$.ontimeout=function(){let D=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const I=l.transitional||transitionalDefaults;l.timeoutErrorMessage&&(D=l.timeoutErrorMessage),o(new AxiosError$1(D,I.clarifyTimeoutError?AxiosError$1.ETIMEDOUT:AxiosError$1.ECONNABORTED,e,$)),$=null},u===void 0&&m.setContentType(null),"setRequestHeader"in $&&utils$1.forEach(m.toJSON(),function(D,I){$.setRequestHeader(I,D)}),utils$1.isUndefined(l.withCredentials)||($.withCredentials=!!l.withCredentials),p&&p!=="json"&&($.responseType=l.responseType),f&&([R,N]=progressEventReducer(f,!0),$.addEventListener("progress",R)),j&&$.upload&&([b,v]=progressEventReducer(j),$.upload.addEventListener("progress",b),$.upload.addEventListener("loadend",v)),(l.cancelToken||l.signal)&&(g=T=>{$&&(o(!T||T.type?new CanceledError$1(null,e,$):T),$.abort(),$=null)},l.cancelToken&&l.cancelToken.subscribe(g),l.signal&&(l.signal.aborted?g():l.signal.addEventListener("abort",g)));const A=parseProtocol(l.url);if(A&&platform.protocols.indexOf(A)===-1){o(new AxiosError$1("Unsupported protocol "+A+":",AxiosError$1.ERR_BAD_REQUEST,e));return}$.send(u||null)})},composeSignals=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let o=new AbortController,l;const u=function(f){if(!l){l=!0,p();const g=f instanceof Error?f:this.reason;o.abort(g instanceof AxiosError$1?g:new CanceledError$1(g instanceof Error?g.message:g))}};let m=t&&setTimeout(()=>{m=null,u(new AxiosError$1(`timeout ${t} of ms exceeded`,AxiosError$1.ETIMEDOUT))},t);const p=()=>{e&&(m&&clearTimeout(m),m=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(u):f.removeEventListener("abort",u)}),e=null)};e.forEach(f=>f.addEventListener("abort",u));const{signal:j}=o;return j.unsubscribe=()=>utils$1.asap(p),j}},streamChunk=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let o=0,l;for(;o<n;)l=o+t,yield e.slice(o,l),o=l},readBytes=async function*(e,t){for await(const n of readStream(e))yield*streamChunk(n,t)},readStream=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:o}=await t.read();if(n)break;yield o}}finally{await t.cancel()}},trackStream=(e,t,n,o)=>{const l=readBytes(e,t);let u=0,m,p=j=>{m||(m=!0,o&&o(j))};return new ReadableStream({async pull(j){try{const{done:f,value:g}=await l.next();if(f){p(),j.close();return}let b=g.byteLength;if(n){let R=u+=b;n(R)}j.enqueue(new Uint8Array(g))}catch(f){throw p(f),f}},cancel(j){return p(j),l.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),test=(e,...t)=>{try{return!!e(...t)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let e=!1;const t=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test(()=>utils$1.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(e=>e.body)};isFetchSupported&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!resolvers[t]&&(resolvers[t]=utils$1.isFunction(e[t])?n=>n[t]():(n,o)=>{throw new AxiosError$1(`Response type '${t}' is not supported`,AxiosError$1.ERR_NOT_SUPPORT,o)})})})(new Response);const getBodyLength=async e=>{if(e==null)return 0;if(utils$1.isBlob(e))return e.size;if(utils$1.isSpecCompliantForm(e))return(await new Request(platform.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(e)||utils$1.isArrayBuffer(e))return e.byteLength;if(utils$1.isURLSearchParams(e)&&(e=e+""),utils$1.isString(e))return(await encodeText(e)).byteLength},resolveBodyLength=async(e,t)=>{const n=utils$1.toFiniteNumber(e.getContentLength());return n??getBodyLength(t)},fetchAdapter=isFetchSupported&&(async e=>{let{url:t,method:n,data:o,signal:l,cancelToken:u,timeout:m,onDownloadProgress:p,onUploadProgress:j,responseType:f,headers:g,withCredentials:b="same-origin",fetchOptions:R}=resolveConfig(e);f=f?(f+"").toLowerCase():"text";let v=composeSignals([l,u&&u.toAbortSignal()],m),N;const S=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let $;try{if(j&&supportsRequestStream&&n!=="get"&&n!=="head"&&($=await resolveBodyLength(g,o))!==0){let I=new Request(t,{method:"POST",body:o,duplex:"half"}),L;if(utils$1.isFormData(o)&&(L=I.headers.get("content-type"))&&g.setContentType(L),I.body){const[_,M]=progressEventDecorator($,progressEventReducer(asyncDecorator(j)));o=trackStream(I.body,DEFAULT_CHUNK_SIZE,_,M)}}utils$1.isString(b)||(b=b?"include":"omit");const C="credentials"in Request.prototype;N=new Request(t,{...R,signal:v,method:n.toUpperCase(),headers:g.normalize().toJSON(),body:o,duplex:"half",credentials:C?b:void 0});let A=await fetch(N,R);const T=supportsResponseStream&&(f==="stream"||f==="response");if(supportsResponseStream&&(p||T&&S)){const I={};["status","statusText","headers"].forEach(F=>{I[F]=A[F]});const L=utils$1.toFiniteNumber(A.headers.get("content-length")),[_,M]=p&&progressEventDecorator(L,progressEventReducer(asyncDecorator(p),!0))||[];A=new Response(trackStream(A.body,DEFAULT_CHUNK_SIZE,_,()=>{M&&M(),S&&S()}),I)}f=f||"text";let D=await resolvers[utils$1.findKey(resolvers,f)||"text"](A,e);return!T&&S&&S(),await new Promise((I,L)=>{settle(I,L,{data:D,headers:AxiosHeaders$1.from(A.headers),status:A.status,statusText:A.statusText,config:e,request:N})})}catch(C){throw S&&S(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,e,N),{cause:C.cause||C}):AxiosError$1.from(C,C&&C.code,e,N)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const renderReason=e=>`- ${e}`,isResolvedHandle=e=>utils$1.isFunction(e)||e===null||e===!1,adapters={getAdapter:e=>{e=utils$1.isArray(e)?e:[e];const{length:t}=e;let n,o;const l={};for(let u=0;u<t;u++){n=e[u];let m;if(o=n,!isResolvedHandle(n)&&(o=knownAdapters[(m=String(n)).toLowerCase()],o===void 0))throw new AxiosError$1(`Unknown adapter '${m}'`);if(o)break;l[m||"#"+u]=o}if(!o){const u=Object.entries(l).map(([p,j])=>`adapter ${p} `+(j===!1?"is not supported by the environment":"is not available in the build"));let m=t?u.length>1?`since :
`+u.map(renderReason).join(`
`):" "+renderReason(u[0]):"as no adapter specified";throw new AxiosError$1("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return o},adapters:knownAdapters};function throwIfCancellationRequested(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new CanceledError$1(null,e)}function dispatchRequest(e){return throwIfCancellationRequested(e),e.headers=AxiosHeaders$1.from(e.headers),e.data=transformData.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(e.adapter||defaults$1.adapter)(e).then(function(o){return throwIfCancellationRequested(e),o.data=transformData.call(e,e.transformResponse,o),o.headers=AxiosHeaders$1.from(o.headers),o},function(o){return isCancel$1(o)||(throwIfCancellationRequested(e),o&&o.response&&(o.response.data=transformData.call(e,e.transformResponse,o.response),o.response.headers=AxiosHeaders$1.from(o.response.headers))),Promise.reject(o)})}const VERSION$1="1.11.0",validators$1={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{validators$1[e]=function(o){return typeof o===e||"a"+(t<1?"n ":" ")+e}});const deprecatedWarnings={};validators$1.transitional=function(t,n,o){function l(u,m){return"[Axios v"+VERSION$1+"] Transitional option '"+u+"'"+m+(o?". "+o:"")}return(u,m,p)=>{if(t===!1)throw new AxiosError$1(l(m," has been removed"+(n?" in "+n:"")),AxiosError$1.ERR_DEPRECATED);return n&&!deprecatedWarnings[m]&&(deprecatedWarnings[m]=!0,console.warn(l(m," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(u,m,p):!0}};validators$1.spelling=function(t){return(n,o)=>(console.warn(`${o} is likely a misspelling of ${t}`),!0)};function assertOptions(e,t,n){if(typeof e!="object")throw new AxiosError$1("options must be an object",AxiosError$1.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let l=o.length;for(;l-- >0;){const u=o[l],m=t[u];if(m){const p=e[u],j=p===void 0||m(p,u,e);if(j!==!0)throw new AxiosError$1("option "+u+" must be "+j,AxiosError$1.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new AxiosError$1("Unknown option "+u,AxiosError$1.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;let Axios$1=class{constructor(t){this.defaults=t||{},this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(t,n){try{return await this._request(t,n)}catch(o){if(o instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const u=l.stack?l.stack.replace(/^.+\n/,""):"";try{o.stack?u&&!String(o.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+u):o.stack=u}catch{}}throw o}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=mergeConfig$1(this.defaults,n);const{transitional:o,paramsSerializer:l,headers:u}=n;o!==void 0&&validator.assertOptions(o,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),l!=null&&(utils$1.isFunction(l)?n.paramsSerializer={serialize:l}:validator.assertOptions(l,{encode:validators.function,serialize:validators.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),validator.assertOptions(n,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let m=u&&utils$1.merge(u.common,u[n.method]);u&&utils$1.forEach(["delete","get","head","post","put","patch","common"],N=>{delete u[N]}),n.headers=AxiosHeaders$1.concat(m,u);const p=[];let j=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(j=j&&S.synchronous,p.unshift(S.fulfilled,S.rejected))});const f=[];this.interceptors.response.forEach(function(S){f.push(S.fulfilled,S.rejected)});let g,b=0,R;if(!j){const N=[dispatchRequest.bind(this),void 0];for(N.unshift(...p),N.push(...f),R=N.length,g=Promise.resolve(n);b<R;)g=g.then(N[b++],N[b++]);return g}R=p.length;let v=n;for(b=0;b<R;){const N=p[b++],S=p[b++];try{v=N(v)}catch($){S.call(this,$);break}}try{g=dispatchRequest.call(this,v)}catch(N){return Promise.reject(N)}for(b=0,R=f.length;b<R;)g=g.then(f[b++],f[b++]);return g}getUri(t){t=mergeConfig$1(this.defaults,t);const n=buildFullPath(t.baseURL,t.url,t.allowAbsoluteUrls);return buildURL(n,t.params,t.paramsSerializer)}};utils$1.forEach(["delete","get","head","options"],function(t){Axios$1.prototype[t]=function(n,o){return this.request(mergeConfig$1(o||{},{method:t,url:n,data:(o||{}).data}))}});utils$1.forEach(["post","put","patch"],function(t){function n(o){return function(u,m,p){return this.request(mergeConfig$1(p||{},{method:t,headers:o?{"Content-Type":"multipart/form-data"}:{},url:u,data:m}))}}Axios$1.prototype[t]=n(),Axios$1.prototype[t+"Form"]=n(!0)});let CancelToken$1=class cd{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(u){n=u});const o=this;this.promise.then(l=>{if(!o._listeners)return;let u=o._listeners.length;for(;u-- >0;)o._listeners[u](l);o._listeners=null}),this.promise.then=l=>{let u;const m=new Promise(p=>{o.subscribe(p),u=p}).then(l);return m.cancel=function(){o.unsubscribe(u)},m},t(function(u,m,p){o.reason||(o.reason=new CanceledError$1(u,m,p),n(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=o=>{t.abort(o)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new cd(function(l){t=l}),cancel:t}}};function spread$1(e){return function(n){return e.apply(null,n)}}function isAxiosError$1(e){return utils$1.isObject(e)&&e.isAxiosError===!0}const HttpStatusCode$1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode$1).forEach(([e,t])=>{HttpStatusCode$1[t]=e});function createInstance(e){const t=new Axios$1(e),n=bind(Axios$1.prototype.request,t);return utils$1.extend(n,Axios$1.prototype,t,{allOwnKeys:!0}),utils$1.extend(n,t,null,{allOwnKeys:!0}),n.create=function(l){return createInstance(mergeConfig$1(e,l))},n}const axios=createInstance(defaults$1);axios.Axios=Axios$1;axios.CanceledError=CanceledError$1;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel$1;axios.VERSION=VERSION$1;axios.toFormData=toFormData$1;axios.AxiosError=AxiosError$1;axios.Cancel=axios.CanceledError;axios.all=function(t){return Promise.all(t)};axios.spread=spread$1;axios.isAxiosError=isAxiosError$1;axios.mergeConfig=mergeConfig$1;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=e=>formDataToJSON(utils$1.isHTMLForm(e)?new FormData(e):e);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const{Axios,AxiosError,CanceledError,isCancel,CancelToken,VERSION,all,Cancel,isAxiosError,spread,toFormData,AxiosHeaders,HttpStatusCode,formToJSON,getAdapter,mergeConfig}=axios,Login=()=>{const[e,t]=reactExports.useState(!1),[n,o]=reactExports.useState({tenantId:"",email:"",password:""}),[l,u]=reactExports.useState(!1),[m,p]=reactExports.useState(""),j=useNavigate(),f="https://javapaas-202946-0.cloudclusters.net/api",g=R=>{o({...n,[R.target.name]:R.target.value})},b=async R=>{R.preventDefault(),u(!0),p("");try{let v;n.tenantId.toLowerCase()==="master"||n.tenantId===""?(v=await axios.post(`${f}/master/auth/login`,{username:n.email,password:n.password}),localStorage.setItem("token",v.data.token),localStorage.setItem("roles",JSON.stringify(v.data.roles)),localStorage.setItem("username",n.email),localStorage.setItem("tenantId","master"),console.log(v.data)):(v=await axios.post(`${f}/auth/login`,n),localStorage.setItem("token",v.data.token),localStorage.setItem("roles",JSON.stringify(v.data.roles)),localStorage.setItem("username",n.email),localStorage.setItem("tenantId",n.tenantId),localStorage.setItem("modules",v.data.modules));const N=localStorage.getItem("roles");if(N){const S=JSON.parse(N);S.includes("SUPER_ADMIN")||S.includes("POS_ADMIN")&&S.includes("HRMS_ADMIN")?j("/company-dashboard"):S.includes("MASTER_ADMIN")?j("/master-admin"):S.includes("HRMS_ADMIN")||S.includes("HR")?j("/hrdashboard"):S.includes("POS_ADMIN")||S.includes("POS_MANAGER")||S.includes("POS_CASHIER")?j("/pos-dashboard"):S.includes("MANAGER")||S.includes("EMPLOYEE")?j("/employee-dashboard"):j("/")}else j("/")}catch(v){console.error("Error during login:",v),v.response?p(v.response.data.message||"Invalid credentials or company ID."):v.request?p("No response from server. Please check your network connection."):p("Failed to login. Please try again.")}finally{u(!1)}};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-b from-white to-slate-50 text-slate-900",children:[jsxRuntimeExports.jsx(AuthNavbar,{}),jsxRuntimeExports.jsx("main",{className:"flex-grow flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-white rounded-xl shadow-lg",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[jsxRuntimeExports.jsx(Sparkles,{className:"h-8 w-8 text-blue-600"}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold",children:"Enterprise HRMS"})]}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold",children:"Sign in to your account"})]}),jsxRuntimeExports.jsxs("form",{className:"space-y-6",onSubmit:b,children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"companyId",className:"block text-sm font-medium text-slate-700",children:"Company ID"}),jsxRuntimeExports.jsx("div",{className:"mt-1",children:jsxRuntimeExports.jsx("input",{id:"companyId",name:"tenantId",type:"text",value:n.tenantId,onChange:g,className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-blue-600 focus:border-blue-600 sm:text-sm",placeholder:"Your company ID (or 'master')"})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700",children:"Email or Username"}),jsxRuntimeExports.jsx("div",{className:"mt-1",children:jsxRuntimeExports.jsx("input",{id:"email",name:"email",type:"text",value:n.email,onChange:g,autoComplete:"username",required:!0,className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-blue-600 focus:border-blue-600 sm:text-sm",placeholder:"Your email or username"})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700",children:"Password"}),jsxRuntimeExports.jsxs("div",{className:"relative mt-1",children:[jsxRuntimeExports.jsx("input",{id:"password",name:"password",type:e?"text":"password",value:n.password,onChange:g,autoComplete:"current-password",required:!0,className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-blue-600 focus:border-blue-600 sm:text-sm",placeholder:"Your password"}),jsxRuntimeExports.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-slate-400",onClick:()=>t(!e),children:e?jsxRuntimeExports.jsx(EyeOff,{className:"h-5 w-5"}):jsxRuntimeExports.jsx(Eye,{className:"h-5 w-5"})})]})]}),m&&jsxRuntimeExports.jsx("p",{className:"text-sm text-red-600 text-center",children:m}),jsxRuntimeExports.jsx("div",{className:"flex justify-center pt-2",children:jsxRuntimeExports.jsx(Button,{type:"submit",className:"justify-center",disabled:l,children:l?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-5 w-5 mr-3"}),"Signing In..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LogIn,{className:"h-5 w-5 mr-2"}),"Sign In"]})})})]}),jsxRuntimeExports.jsxs("p",{className:"text-center text-sm text-slate-600",children:["Don't have an account?"," ",jsxRuntimeExports.jsx(Link$1,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-700",children:"Register here"})]})]})})]})},Register=()=>{const[e,t]=reactExports.useState({tenantId:"",companyName:"",adminEmail:"",plan:"",adminPassword:"",confirmPassword:""}),[n,o]=reactExports.useState(!1),[l,u]=reactExports.useState(!1),[m,p]=reactExports.useState(""),[j,f]=reactExports.useState(""),[g,b]=reactExports.useState(!1),R=useNavigate(),v="https://javapaas-202946-0.cloudclusters.net/api",N=$=>{const{name:C,value:A}=$.target;t(T=>({...T,[C]:A}))},S=async $=>{if($.preventDefault(),b(!0),p(""),f(""),e.adminPassword!==e.confirmPassword){p("Passwords do not match."),b(!1);return}try{const{confirmPassword:C,...A}=e;await axios.post(`${v}/master/tenant-requests/register`,A),f("Registration request submitted successfully! You will be notified once approved."),setTimeout(()=>{R("/login")},3e3)}catch(C){console.error("Registration request failed:",C),C.response?p(C.response.data.message||"Registration failed. The company ID might already be taken."):C.request?p("No response from server. Please check your network connection."):p("Failed to submit registration request. Please try again.")}finally{b(!1)}};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-b from-white to-slate-50 text-slate-900",children:[jsxRuntimeExports.jsx(AuthNavbar,{}),jsxRuntimeExports.jsx("main",{className:"flex-grow flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-white rounded-xl shadow-lg",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[jsxRuntimeExports.jsx(Sparkles,{className:"h-8 w-8 text-blue-600"}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold",children:"Enterprise HRMS"})]}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold",children:"Create Your Company Account"})]}),jsxRuntimeExports.jsxs("form",{className:"space-y-4",onSubmit:S,children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"companyId",className:"block text-sm font-medium text-slate-700",children:"Company ID"}),jsxRuntimeExports.jsx("input",{id:"companyId",name:"tenantId",type:"text",required:!0,value:e.tenantId,onChange:N,className:"mt-1 appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-blue-600 focus:border-blue-600 sm:text-sm",placeholder:"e.g., ACME-CORP"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"companyName",className:"block text-sm font-medium text-slate-700",children:"Company Name"}),jsxRuntimeExports.jsx("input",{id:"companyName",name:"companyName",type:"text",required:!0,value:e.companyName,onChange:N,className:"mt-1 appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-blue-600 focus:border-blue-600 sm:text-sm",placeholder:"e.g., Acme Corporation"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"plan",className:"block text-sm font-medium text-slate-700",children:"Choose Plan"}),jsxRuntimeExports.jsxs("div",{className:"relative mt-1",children:[jsxRuntimeExports.jsx(Briefcase,{className:"pointer-events-none absolute top-1/2 left-3 h-5 w-5 -translate-y-1/2 text-slate-400"}),jsxRuntimeExports.jsxs("select",{id:"plan",name:"plan",required:!0,value:e.plan,onChange:N,className:"appearance-none block w-full pl-10 pr-10 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-600 focus:border-blue-600 sm:text-sm",children:[jsxRuntimeExports.jsx("option",{value:"",disabled:!0,children:"Select a plan"}),jsxRuntimeExports.jsx("option",{value:"STARTER",children:"Starter"}),jsxRuntimeExports.jsx("option",{value:"STANDARD",children:"Standard"}),jsxRuntimeExports.jsx("option",{value:"PREMIUM",children:"Premium"}),jsxRuntimeExports.jsx("option",{value:"ENTERPRISE",children:"Enterprise"})]}),jsxRuntimeExports.jsx(ChevronDown,{className:"pointer-events-none absolute top-1/2 right-3 h-5 w-5 -translate-y-1/2 text-slate-400"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"adminUsername",className:"block text-sm font-medium text-slate-700",children:"Admin Email"}),jsxRuntimeExports.jsx("input",{id:"adminUsername",name:"adminEmail",type:"email",autoComplete:"email",required:!0,value:e.adminEmail,onChange:N,className:"mt-1 appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-blue-600 focus:border-blue-600 sm:text-sm",placeholder:"e.g., admin@acme.com"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"adminPassword",className:"block text-sm font-medium text-slate-700",children:"Admin Password"}),jsxRuntimeExports.jsxs("div",{className:"relative mt-1",children:[jsxRuntimeExports.jsx("input",{id:"adminPassword",name:"adminPassword",type:n?"text":"password",autoComplete:"new-password",required:!0,value:e.adminPassword,onChange:N,className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-blue-600 focus:border-blue-600 sm:text-sm",placeholder:"Create a strong password"}),jsxRuntimeExports.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-slate-400",onClick:()=>o(!n),children:n?jsxRuntimeExports.jsx(EyeOff,{className:"h-5 w-5"}):jsxRuntimeExports.jsx(Eye,{className:"h-5 w-5"})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-slate-700",children:"Confirm Password"}),jsxRuntimeExports.jsxs("div",{className:"relative mt-1",children:[jsxRuntimeExports.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:l?"text":"password",autoComplete:"new-password",required:!0,value:e.confirmPassword,onChange:N,className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-blue-600 focus:border-blue-600 sm:text-sm",placeholder:"Confirm your password"}),jsxRuntimeExports.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-slate-400",onClick:()=>u(!l),children:l?jsxRuntimeExports.jsx(EyeOff,{className:"h-5 w-5"}):jsxRuntimeExports.jsx(Eye,{className:"h-5 w-5"})})]})]}),m&&jsxRuntimeExports.jsx("p",{className:"text-sm text-red-600 text-center",children:m}),j&&jsxRuntimeExports.jsx("p",{className:"text-sm text-green-600 text-center",children:j}),jsxRuntimeExports.jsx("div",{className:"flex justify-center pt-2",children:jsxRuntimeExports.jsx(Button,{type:"submit",className:"justify-center",disabled:g,children:g?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-5 w-5 mr-3"}),"Submitting Request..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Building2,{className:"h-5 w-5 mr-2"}),"Register Company"]})})})]}),jsxRuntimeExports.jsxs("p",{className:"text-center text-sm text-slate-600",children:["Already have an account?"," ",jsxRuntimeExports.jsx(Link$1,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-700",children:"Sign in"})]})]})})]})},navLinks$2=[{name:"Dashboard",icon:LayoutDashboard,href:"/hrdashboard",module:"HRMS_CORE",color:"text-sky-500"},{name:"Employees",icon:Users,href:"/employees",module:"HRMS_CORE",color:"text-blue-500"},{name:"Attendance",icon:CalendarClock,href:"/attendance",module:"HRMS_ATTENDANCE",color:"text-orange-500"},{name:"Leave",icon:CalendarClock,href:"/leave",module:"HRMS_LEAVE",color:"text-yellow-500"},{name:"Payroll Management",icon:DollarSign,href:"/payroll-management",module:"HRMS_PAYROLL",color:"text-green-500"},{name:"Users",icon:ShieldCheck,href:"/users-details",color:"text-purple-500"},{name:"Reports",icon:ChartNoAxesColumn,href:"/reports",color:"text-rose-500"}],NavItem$2=({item:e,onClick:t})=>jsxRuntimeExports.jsx(NavLink,{to:e.href,onClick:t,children:({isActive:n})=>jsxRuntimeExports.jsxs("span",{className:`flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors group ${n?"bg-primary text-primary-foreground shadow-sm":"text-foreground-muted hover:bg-background-muted"}`,children:[jsxRuntimeExports.jsx(e.icon,{className:`h-5 w-5 mr-3 flex-shrink-0 transition-colors ${n?"text-primary-foreground":`${e.color} group-hover:text-primary`}`}),jsxRuntimeExports.jsx("span",{children:e.name})]})}),SidebarContent$8=({onLinkClick:e,theme:t,cycleTheme:n})=>{const o=useNavigate(),l=localStorage.getItem("username")||"Admin",u=reactExports.useMemo(()=>JSON.parse(localStorage.getItem("roles")||"[]"),[]),m=reactExports.useMemo(()=>u.includes("SUPER_ADMIN"),[u]),{hasModule:p}=useTenant(),j=()=>{localStorage.clear(),o("/login")},f=reactExports.useMemo(()=>navLinks$2.filter(g=>!g.module||p(g.module)),[p]);return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full bg-card text-card-foreground",children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b border-border flex-shrink-0",children:jsxRuntimeExports.jsxs(Link$1,{to:"/dashboard",className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Sparkles,{className:"h-7 w-7 text-primary"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-xl text-foreground",children:"Enterprise HRMS"})]})}),jsxRuntimeExports.jsxs("nav",{className:"flex-1 px-4 py-4 space-y-2 overflow-y-auto",children:[f.map(g=>jsxRuntimeExports.jsx(NavItem$2,{item:g,onClick:e},g.name)),m&&jsxRuntimeExports.jsx("div",{className:"pt-4 mt-4 border-t border-border",children:jsxRuntimeExports.jsx(NavItem$2,{item:{name:"Company Hub",icon:House,href:"/company-dashboard"},onClick:e})})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t border-border flex-shrink-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center min-w-0",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center font-bold text-primary flex-shrink-0",children:l.charAt(0).toUpperCase()}),jsxRuntimeExports.jsxs("div",{className:"ml-3 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-semibold text-foreground truncate",children:l}),jsxRuntimeExports.jsx("p",{className:"text-xs text-foreground-muted",children:"Administrator"})]})]}),jsxRuntimeExports.jsx("button",{onClick:j,className:"text-foreground-muted hover:text-red-600 ml-2 flex-shrink-0",children:jsxRuntimeExports.jsx(LogOut,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex items-center justify-between capitalize",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-foreground-muted",children:[t," Mode"]}),jsxRuntimeExports.jsx("button",{onClick:n,className:"p-2 rounded-full hover:bg-background-muted text-foreground-muted",title:"Cycle Theme",children:jsxRuntimeExports.jsx(Palette,{className:"h-5 w-5"})})]})]})]})},DashboardLayout=({children:e})=>{const[t,n]=reactExports.useState(!1),o=["light","dark","greenish","blueish"],[l,u]=reactExports.useState(()=>localStorage.getItem("theme")||"light");reactExports.useEffect(()=>{const p=document.documentElement;o.forEach(j=>p.classList.remove(j)),l!=="light"&&p.classList.add(l),localStorage.setItem("theme",l)},[l]);const m=()=>{const j=(o.indexOf(l)+1)%o.length;u(o[j])};return jsxRuntimeExports.jsxs("div",{className:"flex h-screen bg-background text-foreground",children:[jsxRuntimeExports.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0",children:jsxRuntimeExports.jsx("div",{className:"flex flex-col w-64 border-r border-border",children:jsxRuntimeExports.jsx(SidebarContent$8,{theme:l,cycleTheme:m})})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[jsxRuntimeExports.jsxs("header",{className:"lg:hidden sticky top-0 z-10 flex-shrink-0 flex h-16 bg-card shadow-sm",children:[jsxRuntimeExports.jsx("button",{type:"button",className:"px-4 border-r border-border text-foreground-muted focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary",onClick:()=>n(!0),children:jsxRuntimeExports.jsx(Menu,{className:"h-6 w-6"})}),jsxRuntimeExports.jsx("div",{className:"flex-1 px-4 flex justify-between items-center",children:jsxRuntimeExports.jsxs(Link$1,{to:"/dashboard",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Sparkles,{className:"h-6 w-6 text-primary"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-lg text-foreground",children:"HRMS"})]})})]}),jsxRuntimeExports.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto",children:e})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:t&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden",onClick:()=>n(!1)}),jsxRuntimeExports.jsx(motion.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 left-0 h-full w-64 z-30",children:jsxRuntimeExports.jsx(SidebarContent$8,{onLinkClick:()=>n(!1),theme:l,cycleTheme:m})})]})})]})},EditField$5=({label:e,name:t,value:n,onChange:o,type:l="text",options:u=[],required:m=!1})=>{const p={id:t,name:t,value:n??"",onChange:o,required:m,className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-blue-600 focus:border-blue-600 sm:text-sm"};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{htmlFor:t,className:"block text-sm font-medium text-slate-700",children:[e," ",m&&jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),l==="select"?jsxRuntimeExports.jsxs("select",{...p,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select..."}),u.map(j=>jsxRuntimeExports.jsx("option",{value:j.value,children:j.label},j.value))]}):jsxRuntimeExports.jsx("input",{...p,type:l})]})},AddEmployeeModal=({isOpen:e,onClose:t,onEmployeeAdded:n,simplified:o=!1,employeeToEdit:l=null})=>{const[u,m]=reactExports.useState(1),[p,j]=reactExports.useState({user:{name:"",email:"",password:"",confirmPassword:""},employee:{employeeCode:"",firstName:"",middleName:"",lastName:"",emailWork:"",emailPersonal:"",phonePrimary:"",dob:"",locationId:null,gender:"",martialStatus:"",status:"ACTIVE"},profile:{address:"",city:"",state:"",country:"",postalCode:"",emergencyContactName:"",emergencyContactRelation:"",emergencyContactPhone:"",bankName:"",bankAccountNumber:"",ifscCode:"",bloodGroup:"",notes:""},jobDetails:{location:"",actualLocation:"",department:"",designation:"",jobBand:"",reportsTo:"",dateOfJoining:"",probationEndDate:"",loginId:"",profileName:"",employeeNumber:"",legalEntity:"",contractType:""},timeAttendence:{timeTypeId:null,workTypeId:null,shiftTypeId:null,weeklyOffPolicyId:null,leaveGroupId:null,attendenceCaptureScheme:"",attendancePolicyId:null,holidayList:"",expensePolicy:"",recruitmentPolicy:"",isRosterBasedEmployee:!1}}),[f,g]=reactExports.useState(!1),[b,R]=reactExports.useState(""),[v,N]=reactExports.useState({departments:[],designations:[],jobBands:[],nationalities:[],workTypes:[],shiftTypes:[],leaveGroups:[],weeklyOffPolicies:[],timeTypes:[],attendanceTrackingPolicies:[]}),[S,$]=reactExports.useState([]),C="https://javapaas-202946-0.cloudclusters.net/api",A=V=>Q=>{const{name:ee,value:G,type:K,checked:J}=Q.target,ne=K==="checkbox"?J:G;j(H=>({...H,[V]:{...H[V],[ee]:ne}}))},T=()=>m(V=>V+1),D=()=>m(V=>V-1);reactExports.useEffect(()=>{e&&(async()=>{try{const ee={Authorization:`Bearer ${localStorage.getItem("token")}`},[G,K,J,ne,H,te,Y,le,je,ae,Z]=await Promise.all([axios.get(`${C}/departments`,{headers:ee}),axios.get(`${C}/designations`,{headers:ee}),axios.get(`${C}/jobBands`,{headers:ee}),axios.get(`${C}/nationalities`,{headers:ee}),axios.get(`${C}/work-types`,{headers:ee}),axios.get(`${C}/shift-types`,{headers:ee}),axios.get(`${C}/leave-groups`,{headers:ee}),axios.get(`${C}/weekly-off-policies`,{headers:ee}),axios.get(`${C}/time-types`,{headers:ee}),axios.get(`${C}/locations`,{headers:ee}),axios.get(`${C}/attendance-policies`,{headers:ee})]);N({departments:G.data,designations:K.data,jobBands:J.data,nationalities:ne.data,workTypes:H.data,shiftTypes:te.data,leaveGroups:Y.data,weeklyOffPolicies:le.data,timeTypes:je.data,attendanceTrackingPolicies:Z.data}),$(ae.data)}catch(Q){console.error("Failed to fetch dropdown data",Q),R("Could not load necessary data for the form. Please try again.")}})()},[e,C]),reactExports.useEffect(()=>{if(e&&l){g(!0),R("");const Q={Authorization:`Bearer ${localStorage.getItem("token")}`};(async()=>{try{const[G,K]=await Promise.all([axios.get(`${C}/employee-profiles/${l.employeeCode}`,{headers:Q}).catch(J=>(console.warn("Failed to fetch employee profile for edit:",J),{data:{}})),axios.get(`${C}/time-attendence/${l.employeeCode}`,{headers:Q}).catch(J=>(console.warn("Failed to fetch time attendance for edit:",J),{data:{}}))]);j({user:{name:`${l.firstName||""} ${l.lastName||""}`.trim(),email:l.emailWork||"",password:"",confirmPassword:""},employee:{...l,locationId:l.location?.id||null},profile:G.data,jobDetails:l.jobDetails||{},timeAttendence:K.data})}catch(G){R("Failed to load employee details for editing."),console.error("Error fetching full employee details for edit:",G)}finally{g(!1)}})()}else e&&!l&&(j(L()),m(1))},[e,l,C]);const I=async V=>{if(V.preventDefault(),g(!0),R(""),p.user.password!==p.user.confirmPassword){R("Passwords do not match."),g(!1);return}try{const ee={Authorization:`Bearer ${localStorage.getItem("token")}`};let G=p.employee.employeeCode;if(l)await axios.put(`${C}/employees/${G}`,{...p.employee,locationId:p.employee.locationId||null},{headers:ee}),p.user.password&&await axios.put(`${C}/users/password/${l.emailWork}`,{newPassword:p.user.password},{headers:ee});else{await axios.post(`${C}/users/register`,{name:p.user.name,email:p.user.email,password:p.user.password,roles:["EMPLOYEE"],isActive:!0,isLocked:!1},{headers:ee});const K={email:p.user.email,...p.employee,locationId:p.employee.locationId||null};await axios.post(`${C}/employees/register`,K,{headers:ee}),G=p.employee.employeeCode}o||await axios.put(`${C}/employee-profiles/${G}`,p.profile,{headers:ee}),await axios.put(`${C}/job-details/${G}`,p.jobDetails,{headers:ee}),o||await axios.put(`${C}/time-attendence/${G}`,p.timeAttendence,{headers:ee}),alert("Employee added successfully!"),n&&n(),t()}catch(Q){console.error("Error adding employee:",Q);let ee="An error occurred. Please check the console.";Q.response?.data&&(ee=typeof Q.response.data=="string"?Q.response.data:Q.response.data.message||JSON.stringify(Q.response.data)),R(ee),alert(`Error: ${ee}`)}finally{g(!1)}},L=()=>({user:{name:"",email:"",password:"",confirmPassword:""},employee:{employeeCode:"",firstName:"",middleName:"",lastName:"",emailWork:"",emailPersonal:"",phonePrimary:"",dob:"",locationId:null,gender:"",martialStatus:"",status:"ACTIVE"},profile:{address:"",city:"",state:"",country:"",postalCode:"",emergencyContactName:"",emergencyContactRelation:"",emergencyContactPhone:"",bankName:"",bankAccountNumber:"",ifscCode:"",bloodGroup:"",notes:""},jobDetails:{location:"",actualLocation:"",department:"",designation:"",jobBand:"",reportsTo:"",dateOfJoining:"",probationEndDate:"",loginId:"",profileName:"",employeeNumber:"",legalEntity:""},timeAttendence:{timeTypeId:null,workTypeId:null,shiftTypeId:null,weeklyOffPolicyId:null,leaveGroupId:null,attendenceCaptureScheme:"",attendancePolicyId:null,holidayList:"",expensePolicy:"",recruitmentPolicy:"",isRosterBasedEmployee:!1}});if(!e)return null;const F=o?[{title:"User & Core Employee Details"},{title:"Job Details"}]:[{title:"User & Basic Info"},{title:"Personal & Contact"},{title:"Job & Attendance"},{title:"Profile Details"}],B=!!l,q=()=>{switch(u){case 1:return jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx("h3",{className:"col-span-full font-semibold text-lg mb-2",children:"User Account"}),jsxRuntimeExports.jsx(EditField$5,{label:"Full Name",name:"name",value:p.user.name,onChange:A("user"),type:"text",required:!0,disabled:B}),jsxRuntimeExports.jsx(EditField$5,{label:"Login Email",name:"email",value:p.user.email,onChange:A("user"),type:"email",required:!0,disabled:B}),jsxRuntimeExports.jsx(EditField$5,{label:"Password",name:"password",value:p.user.password,onChange:A("user"),type:"password",required:!B,placeholder:B?"Leave blank to keep current":""}),jsxRuntimeExports.jsx(EditField$5,{label:"Confirm Password",name:"confirmPassword",value:p.user.confirmPassword,onChange:A("user"),type:"password",required:!B}),jsxRuntimeExports.jsx("h3",{className:"col-span-full font-semibold text-lg mt-4 mb-2",children:"Core Employee Details"}),jsxRuntimeExports.jsx(EditField$5,{label:"Employee Code",name:"employeeCode",value:p.employee.employeeCode,onChange:A("employee"),required:!0,disabled:B}),jsxRuntimeExports.jsx(EditField$5,{label:"First Name",name:"firstName",value:p.employee.firstName,onChange:A("employee"),required:!0}),jsxRuntimeExports.jsx(EditField$5,{label:"Middle Name",name:"middleName",value:p.employee.middleName,onChange:A("employee")}),jsxRuntimeExports.jsx(EditField$5,{label:"Last Name",name:"lastName",value:p.employee.lastName,onChange:A("employee"),required:!0}),jsxRuntimeExports.jsx(EditField$5,{label:"Work Email",name:"emailWork",value:p.employee.emailWork,onChange:A("employee"),type:"email"}),jsxRuntimeExports.jsx(EditField$5,{label:"Personal Email",name:"emailPersonal",value:p.employee.emailPersonal,onChange:A("employee"),type:"email"}),jsxRuntimeExports.jsx(EditField$5,{label:"Primary Phone",name:"phonePrimary",value:p.employee.phonePrimary,onChange:A("employee")}),jsxRuntimeExports.jsx(EditField$5,{label:"Date of Birth",name:"dob",value:p.employee.dob,onChange:A("employee"),type:"date"}),jsxRuntimeExports.jsx(EditField$5,{label:"Gender",name:"gender",value:p.employee.gender,onChange:A("employee"),type:"select",options:[{value:"MALE",label:"Male"},{value:"FEMALE",label:"Female"},{value:"OTHER",label:"Other"}]}),jsxRuntimeExports.jsx(EditField$5,{label:"Marital Status",name:"martialStatus",value:p.employee.martialStatus,onChange:A("employee"),type:"select",options:[{value:"SINGLE",label:"Single"},{value:"MARRIED",label:"Married"}]})]});case 2:return jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx("h3",{className:"col-span-full font-semibold text-lg mb-2",children:"Job Details"}),jsxRuntimeExports.jsx(EditField$5,{label:"Department",name:"department",value:p.jobDetails.department,onChange:A("jobDetails"),type:"select",options:v.departments.map(V=>({value:V.name,label:V.name}))}),jsxRuntimeExports.jsx(EditField$5,{label:"Designation",name:"designation",value:p.jobDetails.designation,onChange:A("jobDetails"),type:"select",options:v.designations.map(V=>({value:V.title,label:`${V.title} (${V.departmentName})`}))}),jsxRuntimeExports.jsx(EditField$5,{label:"Job Band",name:"jobBand",value:p.jobDetails.jobBand,onChange:A("jobDetails"),type:"select",options:v.jobBands.map(V=>({value:V.name,label:`${V.name} (${V.designationTitle})`}))}),jsxRuntimeExports.jsx(EditField$5,{label:"Date of Joining",name:"dateOfJoining",value:p.jobDetails.dateOfJoining,onChange:A("jobDetails"),type:"date"}),jsxRuntimeExports.jsx(EditField$5,{label:"Probation End Date",name:"probationEndDate",value:p.jobDetails.probationEndDate,onChange:A("jobDetails"),type:"date"}),jsxRuntimeExports.jsx(EditField$5,{label:"Reports To",name:"reportsTo",value:p.jobDetails.reportsTo,onChange:A("jobDetails")}),jsxRuntimeExports.jsx(EditField$5,{label:"Location",name:"locationId",value:p.employee.locationId,onChange:A("employee"),type:"select",options:S.map(V=>({value:V.id,label:V.name}))}),jsxRuntimeExports.jsx(EditField$5,{label:"Actual Location",name:"actualLocation",value:p.jobDetails.actualLocation,onChange:A("jobDetails")}),jsxRuntimeExports.jsx(EditField$5,{label:"Legal Entity",name:"legalEntity",value:p.jobDetails.legalEntity,onChange:A("jobDetails")}),jsxRuntimeExports.jsx(EditField$5,{label:"Login ID",name:"loginId",value:p.jobDetails.loginId,onChange:A("jobDetails")}),jsxRuntimeExports.jsx(EditField$5,{label:"Profile Name",name:"profileName",value:p.jobDetails.profileName,onChange:A("jobDetails")}),jsxRuntimeExports.jsx(EditField$5,{label:"Employee Number",name:"employeeNumber",value:p.jobDetails.employeeNumber,onChange:A("jobDetails")}),jsxRuntimeExports.jsx(EditField$5,{label:"Contract Type",name:"contractType",value:p.jobDetails.contractType,onChange:A("jobDetails"),type:"select",options:[{value:"LIMITED",label:"Limited"},{value:"UNLIMITED",label:"Unlimited"}]})]});default:return null}},z=()=>{switch(u){case 1:return jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx("h3",{className:"col-span-full font-semibold text-lg mb-2",children:"User Account"}),jsxRuntimeExports.jsx(EditField$5,{label:"Full Name",name:"name",value:p.user.name,onChange:A("user"),type:"text",required:!0,disabled:B}),jsxRuntimeExports.jsx(EditField$5,{label:"Login Email",name:"email",value:p.user.email,onChange:A("user"),type:"email",required:!0,disabled:B}),jsxRuntimeExports.jsx(EditField$5,{label:"Password",name:"password",value:p.user.password,onChange:A("user"),type:"password",required:!B,placeholder:B?"Leave blank to keep current":""}),jsxRuntimeExports.jsx(EditField$5,{label:"Confirm Password",name:"confirmPassword",value:p.user.confirmPassword,onChange:A("user"),type:"password",required:!B}),jsxRuntimeExports.jsx("h3",{className:"col-span-full font-semibold text-lg mt-4 mb-2",children:"Employee Information"}),jsxRuntimeExports.jsx(EditField$5,{label:"Employee Code",name:"employeeCode",value:p.employee.employeeCode,onChange:A("employee"),required:!0,disabled:B}),jsxRuntimeExports.jsx(EditField$5,{label:"First Name",name:"firstName",value:p.employee.firstName,onChange:A("employee"),required:!0}),jsxRuntimeExports.jsx(EditField$5,{label:"Middle Name",name:"middleName",value:p.employee.middleName,onChange:A("employee")}),jsxRuntimeExports.jsx(EditField$5,{label:"Last Name",name:"lastName",value:p.employee.lastName,onChange:A("employee"),required:!0})]});case 2:return jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx("h3",{className:"col-span-full font-semibold text-lg mb-2",children:"Personal Details"}),jsxRuntimeExports.jsx(EditField$5,{label:"Date of Birth",name:"dob",value:p.employee.dob,onChange:A("employee"),type:"date"}),jsxRuntimeExports.jsx(EditField$5,{label:"Gender",name:"gender",value:p.employee.gender,onChange:A("employee"),type:"select",options:[{value:"MALE",label:"Male"},{value:"FEMALE",label:"Female"},{value:"OTHER",label:"Other"}]}),jsxRuntimeExports.jsx(EditField$5,{label:"Marital Status",name:"martialStatus",value:p.employee.martialStatus,onChange:A("employee"),type:"select",options:[{value:"SINGLE",label:"Single"},{value:"MARRIED",label:"Married"}]}),jsxRuntimeExports.jsx(EditField$5,{label:"Blood Group",name:"bloodGroup",value:p.profile.bloodGroup,onChange:A("profile")}),jsxRuntimeExports.jsx("h3",{className:"col-span-full font-semibold text-lg mt-4 mb-2",children:"Contact Information"}),jsxRuntimeExports.jsx(EditField$5,{label:"Work Email",name:"emailWork",value:p.employee.emailWork,onChange:A("employee"),type:"email"}),jsxRuntimeExports.jsx(EditField$5,{label:"Personal Email",name:"emailPersonal",value:p.employee.emailPersonal,onChange:A("employee"),type:"email"}),jsxRuntimeExports.jsx(EditField$5,{label:"Primary Phone",name:"phonePrimary",value:p.employee.phonePrimary,onChange:A("employee")}),jsxRuntimeExports.jsx("div",{className:"md:col-span-2",children:jsxRuntimeExports.jsx(EditField$5,{label:"Address",name:"address",value:p.profile.address,onChange:A("profile")})}),jsxRuntimeExports.jsx(EditField$5,{label:"City",name:"city",value:p.profile.city,onChange:A("profile")}),jsxRuntimeExports.jsx(EditField$5,{label:"State",name:"state",value:p.profile.state,onChange:A("profile")}),jsxRuntimeExports.jsx(EditField$5,{label:"Country",name:"country",value:p.profile.country,onChange:A("profile"),type:"select",options:v.nationalities.map(V=>({value:V.name,label:V.name}))}),jsxRuntimeExports.jsx(EditField$5,{label:"Postal Code",name:"postalCode",value:p.profile.postalCode,onChange:A("profile")})]});case 3:return jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx("h3",{className:"col-span-full font-semibold text-lg mb-2",children:"Job Details"}),jsxRuntimeExports.jsx(EditField$5,{label:"Department",name:"department",value:p.jobDetails.department,onChange:A("jobDetails"),type:"select",options:v.departments.map(V=>({value:V.name,label:V.name}))}),jsxRuntimeExports.jsx(EditField$5,{label:"Designation",name:"designation",value:p.jobDetails.designation,onChange:A("jobDetails"),type:"select",options:v.designations.map(V=>({value:V.title,label:`${V.title} (${V.departmentName})`}))}),jsxRuntimeExports.jsx(EditField$5,{label:"Job Band",name:"jobBand",value:p.jobDetails.jobBand,onChange:A("jobDetails"),type:"select",options:v.jobBands.map(V=>({value:V.name,label:`${V.name} (${V.designationTitle})`}))}),jsxRuntimeExports.jsx(EditField$5,{label:"Date of Joining",name:"dateOfJoining",value:p.jobDetails.dateOfJoining,onChange:A("jobDetails"),type:"date"}),jsxRuntimeExports.jsx(EditField$5,{label:"Probation End Date",name:"probationEndDate",value:p.jobDetails.probationEndDate,onChange:A("jobDetails"),type:"date"}),jsxRuntimeExports.jsx(EditField$5,{label:"Reports To",name:"reportsTo",value:p.jobDetails.reportsTo,onChange:A("jobDetails")}),jsxRuntimeExports.jsx(EditField$5,{label:"Location",name:"locationId",value:p.employee.locationId,onChange:A("employee"),type:"select",options:S.map(V=>({value:V.id,label:V.name}))}),jsxRuntimeExports.jsx(EditField$5,{label:"Actual Location",name:"actualLocation",value:p.jobDetails.actualLocation,onChange:A("jobDetails")}),jsxRuntimeExports.jsx(EditField$5,{label:"Legal Entity",name:"legalEntity",value:p.jobDetails.legalEntity,onChange:A("jobDetails")}),jsxRuntimeExports.jsx(EditField$5,{label:"Login ID",name:"loginId",value:p.jobDetails.loginId,onChange:A("jobDetails")}),jsxRuntimeExports.jsx(EditField$5,{label:"Profile Name",name:"profileName",value:p.jobDetails.profileName,onChange:A("jobDetails")}),jsxRuntimeExports.jsx(EditField$5,{label:"Employee Number",name:"employeeNumber",value:p.jobDetails.employeeNumber,onChange:A("jobDetails")}),jsxRuntimeExports.jsx(EditField$5,{label:"Contract Type",name:"contractType",value:p.jobDetails.contractType,onChange:A("jobDetails"),type:"select",options:[{value:"LIMITED",label:"Limited"},{value:"UNLIMITED",label:"Unlimited"}]}),jsxRuntimeExports.jsx("h3",{className:"col-span-full font-semibold text-lg mt-4 mb-2",children:"Time & Attendance Policy"}),jsxRuntimeExports.jsx(EditField$5,{label:"Time Type",name:"timeTypeId",value:p.timeAttendence.timeTypeId,onChange:A("timeAttendence"),type:"select",options:v.timeTypes.map(V=>({value:V.id,label:V.name}))}),jsxRuntimeExports.jsx(EditField$5,{label:"Work Type",name:"workTypeId",value:p.timeAttendence.workTypeId,onChange:A("timeAttendence"),type:"select",options:v.workTypes.map(V=>({value:V.id,label:V.name}))}),jsxRuntimeExports.jsx(EditField$5,{label:"Shift Type",name:"shiftTypeId",value:p.timeAttendence.shiftTypeId,onChange:A("timeAttendence"),type:"select",options:v.shiftTypes.map(V=>({value:V.id,label:`${V.name} (${V.startTime} - ${V.endTime})`}))}),jsxRuntimeExports.jsx(EditField$5,{label:"Weekly Off Policy",name:"weeklyOffPolicyId",value:p.timeAttendence.weeklyOffPolicyId,onChange:A("timeAttendence"),type:"select",options:v.weeklyOffPolicies.map(V=>({value:V.id,label:V.name}))}),jsxRuntimeExports.jsx(EditField$5,{label:"Leave Group",name:"leaveGroupId",value:p.timeAttendence.leaveGroupId,onChange:A("timeAttendence"),type:"select",options:v.leaveGroups.map(V=>({value:V.id,label:V.name}))}),jsxRuntimeExports.jsx(EditField$5,{label:"Attendance Capture Scheme",name:"attendenceCaptureScheme",value:p.timeAttendence.attendenceCaptureScheme,onChange:A("timeAttendence")}),jsxRuntimeExports.jsx(EditField$5,{label:"Holiday List",name:"holidayList",value:p.timeAttendence.holidayList,onChange:A("timeAttendence")}),jsxRuntimeExports.jsx(EditField$5,{label:"Expense Policy",name:"expensePolicy",value:p.timeAttendence.expensePolicy,onChange:A("timeAttendence")}),jsxRuntimeExports.jsx(EditField$5,{label:"Attendance Tracking Policy",name:"attendancePolicyId",value:p.timeAttendence.attendancePolicyId,onChange:A("timeAttendence"),type:"select",options:v.attendanceTrackingPolicies.map(V=>({value:V.id,label:V.policyName}))}),jsxRuntimeExports.jsx(EditField$5,{label:"Recruitment Policy",name:"recruitmentPolicy",value:p.timeAttendence.recruitmentPolicy,onChange:A("timeAttendence")}),jsxRuntimeExports.jsx("div",{className:"md:col-span-2",children:jsxRuntimeExports.jsxs("label",{className:"inline-flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"isRosterBasedEmployee",checked:p.timeAttendence.isRosterBasedEmployee,onChange:A("timeAttendence"),className:"h-4 w-4 rounded"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-sm",children:"Is Roster Based Employee"})]})})]});case 4:return jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx("h3",{className:"col-span-full font-semibold text-lg mb-2",children:"Emergency Contact"}),jsxRuntimeExports.jsx(EditField$5,{label:"Contact Name",name:"emergencyContactName",value:p.profile.emergencyContactName,onChange:A("profile")}),jsxRuntimeExports.jsx(EditField$5,{label:"Relation",name:"emergencyContactRelation",value:p.profile.emergencyContactRelation,onChange:A("profile")}),jsxRuntimeExports.jsx(EditField$5,{label:"Phone",name:"emergencyContactPhone",value:p.profile.emergencyContactPhone,onChange:A("profile")}),jsxRuntimeExports.jsx("h3",{className:"col-span-full font-semibold text-lg mt-4 mb-2",children:"Bank Details"}),jsxRuntimeExports.jsx(EditField$5,{label:"Bank Name",name:"bankName",value:p.profile.bankName,onChange:A("profile")}),jsxRuntimeExports.jsx(EditField$5,{label:"Account Number",name:"bankAccountNumber",value:p.profile.bankAccountNumber,onChange:A("profile")}),jsxRuntimeExports.jsx(EditField$5,{label:"IFSC Code",name:"ifscCode",value:p.profile.ifscCode,onChange:A("profile")}),jsxRuntimeExports.jsx("h3",{className:"col-span-full font-semibold text-lg mt-4 mb-2",children:"Additional Information"}),jsxRuntimeExports.jsx("div",{className:"md:col-span-2",children:jsxRuntimeExports.jsx(EditField$5,{label:"Notes",name:"notes",value:p.profile.notes,onChange:A("profile")})})]});default:return null}};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",onClick:t,children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col",onClick:V=>V.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold",children:[B?"Edit Employee":"Add New Employee"," - ",F[u-1].title]}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:I,className:"flex-grow overflow-y-auto p-6",children:[b&&jsxRuntimeExports.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded-md mb-4",children:b}),o?q():z()]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:["Step ",u," of ",F.length]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[u>1&&jsxRuntimeExports.jsxs("button",{type:"button",onClick:D,className:"px-4 py-2 bg-slate-200 text-slate-800 rounded-lg hover:bg-slate-300 flex items-center",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"h-4 w-4 mr-2"})," Back"]}),u<F.length?jsxRuntimeExports.jsxs("button",{type:"button",onClick:T,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:["Next ",jsxRuntimeExports.jsx(ArrowRight,{className:"h-4 w-4 ml-2"})]}):jsxRuntimeExports.jsxs("button",{type:"submit",onClick:I,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center",disabled:f,children:[f?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}):jsxRuntimeExports.jsx(Check,{className:"h-4 w-4 mr-2"}),"Submit"]})]})]})]})})},BulkAddEmployeesModal=({isOpen:e,onClose:t})=>{const[n,o]=reactExports.useState(null),[l,u]=reactExports.useState(!1),[m,p]=reactExports.useState(""),[j,f]=reactExports.useState(""),[g,b]=reactExports.useState(!1),[R,v]=reactExports.useState(""),N="https://javapaas-202946-0.cloudclusters.net/api",S=A=>{o(A.target.files[0]),p(""),f("")},$=async()=>{b(!0),v("");try{const A=localStorage.getItem("token"),T=await axios.get(`${N}/employees/bulk-template`,{headers:{Authorization:`Bearer ${A}`},responseType:"blob"}),D=window.URL.createObjectURL(new Blob([T.data])),I=document.createElement("a");I.href=D,I.setAttribute("download","employee_bulk_upload_template.xlsx"),document.body.appendChild(I),I.click(),I.remove(),window.URL.revokeObjectURL(D)}catch(A){console.error("Error downloading template:",A),v("Failed to download template. Please try again.")}finally{b(!1)}},C=async A=>{if(A.preventDefault(),!n){p("Please select a file to upload.");return}u(!0),p(""),f("");const T=new FormData;T.append("file",n);try{const D=localStorage.getItem("token"),I=await axios.post(`${N}/employees/bulkEmployees`,T,{headers:{Authorization:`Bearer ${D}`,"Content-Type":"multipart/form-data"}});f(I.data),o(null)}catch(D){console.error("Error uploading bulk employees:",D);const I=D.response?.data||"Failed to upload file. Please check the file format and content.";p(I)}finally{u(!1)}};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold",children:"Bulk Add Employees"}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:C,children:[jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600 max-w-xs",children:"Upload an Excel file (.xlsx) with employee data. Download the template to see the required format."}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:$,className:"btn-secondary flex items-center gap-2 text-xs",disabled:g,children:[g?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4"}):jsxRuntimeExports.jsx(Download,{className:"h-4 w-4"})," Template"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"bulk-upload-file",className:"block text-sm font-medium text-slate-700 mb-1",children:"Excel File"}),jsxRuntimeExports.jsx("input",{id:"bulk-upload-file",type:"file",onChange:S,accept:".xlsx, .xls",className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),m&&jsxRuntimeExports.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded-md text-sm whitespace-pre-wrap",children:m}),j&&jsxRuntimeExports.jsx("div",{className:"bg-green-100 text-green-700 p-3 rounded-md text-sm",children:j})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t bg-slate-50 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:l,children:"Close"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:l||!n,children:[l?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}):jsxRuntimeExports.jsx(CloudUpload,{className:"h-4 w-4 mr-2"})," Upload"]})]})]})]})}):null},StatCard$8=({icon:e,title:t,value:n,change:o,changeType:l,color:u="blue",onClick:m})=>jsxRuntimeExports.jsxs("div",{onClick:m,className:`bg-card text-card-foreground p-6 rounded-xl shadow-sm flex items-start justify-between ${m?"cursor-pointer hover:shadow-md hover:border-border border border-transparent":""}`,children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-foreground-muted",children:t}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-foreground mt-1",children:n})]}),jsxRuntimeExports.jsx("div",{className:"bg-primary/10 text-primary p-3 rounded-lg",children:jsxRuntimeExports.jsx(e,{className:"h-6 w-6"})})]}),ActivityItem=({icon:e,iconColor:t,title:n,description:o})=>jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-4",children:[jsxRuntimeExports.jsx("div",{className:`p-2 rounded-full ${t}`,children:jsxRuntimeExports.jsx(e,{className:"h-4 w-4 text-white "})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-foreground",children:n}),jsxRuntimeExports.jsx("p",{className:"text-sm text-foreground-muted",children:o})]})]}),HrDashboard=()=>{const[e,t]=reactExports.useState(!1),[n,o]=reactExports.useState(!1),[l,u]=reactExports.useState([]),[m,p]=reactExports.useState("all"),j=useNavigate(),[f,g]=reactExports.useState(null),[b,R]=reactExports.useState(!0),[v,N]=reactExports.useState(""),S="https://javapaas-202946-0.cloudclusters.net/api",$=async()=>{R(!0),N("");try{const L={Authorization:`Bearer ${localStorage.getItem("token")}`},_=new Date().toISOString().split("T")[0],[M,F,B,q,z,V]=await Promise.all([axios.get(`${S}/employees/all`,{headers:L}),axios.get(`${S}/leave-requests`,{headers:L}),axios.get(`${S}/locations`,{headers:L}),axios.get(`${S}/attendance-records?date=${_}`,{headers:L}),axios.get(`${S}/employee-loans`,{headers:L}),axios.get(`${S}/expenses`,{headers:L})]),Q=M.data.filter(ne=>ne.status==="ACTIVE"),ee=F.data.filter(ne=>ne.status==="SUBMITTED"),G=new Set(F.data.filter(ne=>ne.status==="APPROVED"&&new Date(ne.fromDate)<=new Date(_)&&new Date(ne.toDate)>=new Date(_)).map(ne=>ne.employeeCode)),K=new Set(q.data.map(ne=>ne.employeeCode)),J=Array.from(G).filter(ne=>!K.has(ne)).length;g({totalEmployees:Q.length,pendingLeaves:ee.length,pendingLoans:z.data.filter(ne=>ne.status==="SUBMITTED").length,pendingExpenses:V.data.filter(ne=>ne.status==="SUBMITTED").length,newHiresThisMonth:Q.filter(ne=>new Date(ne.createdAt)>new Date(new Date().setDate(1))).length,recentLeaveRequests:F.data.slice(0,5),todaysAttendance:q.data,onLeaveCount:J}),u(B.data)}catch(I){N("Failed to load dashboard data."),console.error(I)}finally{R(!1)}};reactExports.useEffect(()=>{$()},[S]);const C=f?[{title:"Total Employees",value:f.totalEmployees,icon:Users,color:"blue",onClick:()=>j("/employees")},{title:"Pending Leaves",value:f.pendingLeaves,icon:CalendarClock,color:"orange",onClick:()=>j("/leave")},{title:"Pending Loans",value:f.pendingLoans,icon:HandCoins,color:"indigo",onClick:()=>j("/payroll-management")},{title:"Pending Expenses",value:f.pendingExpenses,icon:Receipt,color:"rose",onClick:()=>j("/payroll-management")}]:[],A=f?{present:f.todaysAttendance.filter(I=>I.status==="PRESENT"||I.status==="HALF_DAY").length,absent:f.todaysAttendance.filter(I=>I.status==="ABSENT").length,onLeave:f.onLeaveCount}:{present:0,absent:0,onLeave:0},T=[{title:"Present",value:A.present,icon:UserCheck,color:"green",onClick:()=>j("/attendance")},{title:"Absent",value:A.absent,icon:UserX,color:"red",onClick:()=>j("/attendance")},{title:"On Leave",value:A.onLeave,icon:Plane,color:"orange",onClick:()=>j("/leave")}],D=()=>{$()};return b?jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx("div",{className:"p-8 flex justify-center items-center h-full",children:jsxRuntimeExports.jsx(Loader,{className:"h-10 w-10 animate-spin text-blue-600"})})}):v?jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx("div",{className:"p-8 text-center text-red-500",children:jsxRuntimeExports.jsx("p",{children:v})})}):jsxRuntimeExports.jsxs(DashboardLayout,{children:[jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-6 bg-background text-foreground",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"HR Dashboard"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(MapPin,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-foreground-muted"}),jsxRuntimeExports.jsxs("select",{value:m,onChange:I=>p(I.target.value),className:"input pl-10 appearance-none bg-background-muted border-border text-foreground-muted",children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Locations"}),l.map(I=>jsxRuntimeExports.jsx("option",{value:I.id,children:I.name},I.id))]})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>o(!0),className:"btn-secondary flex items-center",children:[jsxRuntimeExports.jsx(CloudUpload,{className:"h-5 w-5 mr-2"}),"Bulk Add"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>t(!0),className:"btn-primary",children:[jsxRuntimeExports.jsx(UserPlus,{className:"h-5 w-5 mr-2"}),"Add Employee"]})]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:C.length>0&&C.map((I,L)=>jsxRuntimeExports.jsx(StatCard$8,{...I},L))}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mt-8",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 bg-card text-card-foreground p-6 rounded-xl shadow-sm h-full",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"Today's Attendance Summary"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:T.map((I,L)=>jsxRuntimeExports.jsx(StatCard$8,{...I},L))}),jsxRuntimeExports.jsxs("div",{className:"mt-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-foreground-muted mb-3",children:"Recent Check-ins"}),jsxRuntimeExports.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:f?.todaysAttendance.filter(I=>I.status==="PRESENT"||I.status==="HALF_DAY").map(I=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-3 bg-background-muted rounded-lg",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-sm",children:I.employeeName}),jsxRuntimeExports.jsx("p",{className:"text-xs text-foreground-muted",children:I.employeeCode})]}),jsxRuntimeExports.jsx("p",{className:"text-sm font-mono bg-green-100 text-green-800 px-2 py-1 rounded",children:I.checkIn})]},I.id))})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-card text-card-foreground p-6 rounded-xl shadow-sm",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"Recent Activity"}),jsxRuntimeExports.jsx("div",{className:"space-y-5",children:f?.recentLeaveRequests.map(I=>jsxRuntimeExports.jsx(ActivityItem,{icon:CalendarClock,iconColor:"bg-yellow-500",title:`${I.employeeName} requested leave`,description:`${I.leaveType} from ${new Date(I.fromDate).toLocaleDateString()}`},I.id))})]})]})]}),n&&jsxRuntimeExports.jsx(BulkAddEmployeesModal,{isOpen:n,onClose:()=>o(!1)}),jsxRuntimeExports.jsx(AddEmployeeModal,{isOpen:e,onClose:()=>t(!1),onEmployeeAdded:D})]})},InfoField$4=({label:e,value:t})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-foreground-muted",children:e}),jsxRuntimeExports.jsx("p",{className:"text-base font-medium text-foreground",children:t||"N/A"})]}),ProfileCard$1=({title:e,children:t})=>jsxRuntimeExports.jsxs("div",{className:"bg-background-muted rounded-lg p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground border-b border-border pb-3 mb-4",children:e}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-5",children:t})]}),EditField$4=({label:e,name:t,value:n,onChange:o,type:l="text",options:u=[]})=>{const m={id:t,name:t,value:n??"",onChange:o,className:"input bg-background-muted border-border text-foreground"};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-foreground-muted",children:e}),l==="select"?jsxRuntimeExports.jsx("select",{...m,children:u.map(p=>jsxRuntimeExports.jsx("option",{value:p.value,children:p.label},p.value))}):jsxRuntimeExports.jsx("input",{...m,type:l})]})},Profile=({employee:e,onUpdate:t})=>{const[n,o]=reactExports.useState(!1),[l,u]=reactExports.useState(e),[m,p]=reactExports.useState(!1),[j,f]=reactExports.useState(""),g="https://javapaas-202946-0.cloudclusters.net/api";if(reactExports.useEffect(()=>{u(e)},[e]),!e)return jsxRuntimeExports.jsx("div",{className:"text-center text-foreground-muted",children:"No employee data available."});const b=C=>{const{name:A,value:T}=C.target;u(D=>({...D,[A]:T}))},R=()=>{o(!1),u(e),f("")},v=async()=>{p(!0),f("");try{const C=localStorage.getItem("token"),A=await axios.put(`${g}/employees/${e.employeeCode}`,l,{headers:{Authorization:`Bearer ${C}`}});o(!1),t&&t(A.data),alert("Profile updated successfully!")}catch(C){console.error("Error updating profile:",C);const A=C.response?.data||"Failed to update profile. Please try again.";f(A),alert(A)}finally{p(!1)}},N=[{value:"MALE",label:"Male"},{value:"FEMALE",label:"Female"},{value:"OTHER",label:"Other"}],S=[{value:"SINGLE",label:"Single"},{value:"MARRIED",label:"Married"},{value:"DIVORCED",label:"Divorced"},{value:"WIDOWED",label:"Widowed"}],$=[{value:"ACTIVE",label:"Active"},{value:"INACTIVE",label:"Inactive"},{value:"ON_PROBATION",label:"On Probation"},{value:"TERMINATED",label:"Terminated"}];return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"flex justify-end mb-4 gap-2",children:n?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:R,className:"btn-secondary",disabled:m,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{onClick:v,className:"btn-primary flex items-center",disabled:m,children:[m?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}):jsxRuntimeExports.jsx(Check,{className:"h-4 w-4 mr-2"}),"Save"]})]}):jsxRuntimeExports.jsxs("button",{onClick:()=>o(!0),className:"btn-primary flex items-center",children:[jsxRuntimeExports.jsx(Pencil,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})}),j&&jsxRuntimeExports.jsx("div",{className:"text-center text-red-600 dark:text-red-400 p-3 bg-red-50 dark:bg-red-900/20 rounded-md mb-4",children:j}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsx(ProfileCard$1,{title:"Primary Details",children:n?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(EditField$4,{label:"First Name",name:"firstName",value:l.firstName,onChange:b}),jsxRuntimeExports.jsx(EditField$4,{label:"Middle Name",name:"middleName",value:l.middleName,onChange:b}),jsxRuntimeExports.jsx(EditField$4,{label:"Last Name",name:"lastName",value:l.lastName,onChange:b}),jsxRuntimeExports.jsx(EditField$4,{label:"Date of Birth",name:"dob",value:l.dob?.split("T")[0],onChange:b,type:"date"}),jsxRuntimeExports.jsx(EditField$4,{label:"Gender",name:"gender",value:l.gender,onChange:b,type:"select",options:N}),jsxRuntimeExports.jsx(EditField$4,{label:"Marital Status",name:"martialStatus",value:l.martialStatus,onChange:b,type:"select",options:S})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(InfoField$4,{label:"First Name",value:e.firstName}),jsxRuntimeExports.jsx(InfoField$4,{label:"Middle Name",value:e.middleName}),jsxRuntimeExports.jsx(InfoField$4,{label:"Last Name",value:e.lastName}),jsxRuntimeExports.jsx(InfoField$4,{label:"Date of Birth",value:e.dob}),jsxRuntimeExports.jsx(InfoField$4,{label:"Gender",value:e.gender}),jsxRuntimeExports.jsx(InfoField$4,{label:"Marital Status",value:e.martialStatus})]})}),jsxRuntimeExports.jsx(ProfileCard$1,{title:"Contact Details",children:n?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(EditField$4,{label:"Work Email",name:"emailWork",value:l.emailWork,onChange:b,type:"email"}),jsxRuntimeExports.jsx(EditField$4,{label:"Personal Email",name:"emailPersonal",value:l.emailPersonal,onChange:b,type:"email"}),jsxRuntimeExports.jsx(EditField$4,{label:"Primary Phone",name:"phonePrimary",value:l.phonePrimary,onChange:b})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(InfoField$4,{label:"Work Email",value:e.emailWork}),jsxRuntimeExports.jsx(InfoField$4,{label:"Personal Email",value:e.emailPersonal}),jsxRuntimeExports.jsx(InfoField$4,{label:"Primary Phone",value:e.phonePrimary})]})}),jsxRuntimeExports.jsx(ProfileCard$1,{title:"Employment Details",children:n?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(InfoField$4,{label:"Joining Date",value:e.joiningDate}),jsxRuntimeExports.jsx(InfoField$4,{label:"Exit Date",value:e.exitDate}),jsxRuntimeExports.jsx(EditField$4,{label:"Status",name:"status",value:l.status,onChange:b,type:"select",options:$})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(InfoField$4,{label:"Joining Date",value:e.joiningDate}),jsxRuntimeExports.jsx(InfoField$4,{label:"Exit Date",value:e.exitDate}),jsxRuntimeExports.jsx(InfoField$4,{label:"Status",value:e.status})]})})]})]})},statusStyles$a={PENDING:{bg:"bg-yellow-100",text:"text-yellow-800",icon:FileClock},APPROVED:{bg:"bg-green-100",text:"text-green-800",icon:Check},REJECTED:{bg:"bg-red-100",text:"text-red-800",icon:X},CANCELLED:{bg:"bg-slate-100",text:"text-slate-600",icon:X}},LeaveCard=({request:e,onUpdate:t})=>{const{id:n,leaveType:o,startDate:l,endDate:u,reason:m,status:p,createdAt:j}=e,f=p||"PENDING",g=statusStyles$a[f]?.icon||FileClock,b=R=>R?new Date(R).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"N/A";return jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-slate-200 flex flex-col justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-slate-800",children:o}),jsxRuntimeExports.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-semibold rounded-full ${statusStyles$a[f]?.bg} ${statusStyles$a[f]?.text}`,children:[jsxRuntimeExports.jsx(g,{className:"h-3.5 w-3.5"}),f.toLowerCase()]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 mt-2",children:[jsxRuntimeExports.jsx(CalendarDays,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:b(l)}),jsxRuntimeExports.jsx(ArrowRight,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:b(u)})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-slate-600 mt-3 flex items-start gap-2",children:[jsxRuntimeExports.jsx(MessageSquare,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{children:m||"No reason provided."})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 pt-3 border-t border-slate-200",children:f==="PENDING"?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>t(n,"REJECTED"),className:"px-3 py-1.5 text-sm font-medium text-red-600 bg-red-50 hover:bg-red-100 rounded-md transition-colors",children:"Reject"}),jsxRuntimeExports.jsx("button",{onClick:()=>t(n,"APPROVED"),className:"px-3 py-1.5 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md transition-colors",children:"Approve"})]}):jsxRuntimeExports.jsxs("div",{className:"text-xs text-slate-400 text-right",children:["Applied on ",b(j)]})})]})},Leave=({employee:e})=>{const[t,n]=reactExports.useState("PENDING"),[o,l]=reactExports.useState(e?.leaves||[]),[u,m]=reactExports.useState(!1),[p,j]=reactExports.useState(""),f="https://javapaas-202946-0.cloudclusters.net/api";React.useEffect(()=>{l(e?.leaves||[])},[e]);const g=async(v,N)=>{m(!0),j("");try{const S=o.map($=>$.id===v?{...$,status:N}:$);l(S),await axios.put(`${f}/leaves/${e.employeeCode}/${v}`,{status:N,approvedBy:localStorage.getItem("username")},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})}catch(S){l(e?.leaves||[]);const $=S.response?.data?.message||"Failed to update leave status.";j($),console.error("Error updating leave status:",S)}finally{m(!1)}},b=reactExports.useMemo(()=>o.filter(v=>(v.status||"PENDING")===t),[o,t]),R=["PENDING","APPROVED","REJECTED","CANCELLED"];return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"flex border-b border-slate-200 mb-6",children:R.map(v=>jsxRuntimeExports.jsx("button",{onClick:()=>n(v),className:`px-4 py-2 text-sm font-medium transition-colors ${t===v?"border-b-2 border-blue-600 text-blue-600":"border-b-2 border-transparent text-slate-500 hover:text-slate-800"}`,children:v.charAt(0)+v.slice(1).toLowerCase()},v))}),p&&jsxRuntimeExports.jsx("div",{className:"text-center text-red-600 p-4 bg-red-50 rounded-md mb-4",children:p}),u&&jsxRuntimeExports.jsx("div",{className:"text-center text-slate-500",children:"Updating..."}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.length>0?b.map(v=>jsxRuntimeExports.jsx(LeaveCard,{request:v,onUpdate:g},v.id)):jsxRuntimeExports.jsxs("div",{className:"col-span-full text-center text-slate-500 py-10",children:[jsxRuntimeExports.jsx(FileClock,{className:"mx-auto h-12 w-12 text-slate-400"}),jsxRuntimeExports.jsxs("h3",{className:"mt-2 text-sm font-semibold text-slate-900",children:["No ",t.toLowerCase()," requests"]}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"There are no leave requests with this status."})]})})]})},statusStyles$9={PROCESSED:{bg:"bg-green-100",text:"text-green-800"},PENDING:{bg:"bg-yellow-100",text:"text-yellow-800"},FAILED:{bg:"bg-red-100",text:"text-red-800"}},formatDate$2=e=>e?new Date(e).toLocaleDateString("en-IN",{month:"long",year:"numeric"}):"N/A",formatDateForInput=e=>e?e.split("T")[0]:"",formatCurrency$6=(e,t="AED")=>new Intl.NumberFormat("en-IN",{style:"currency",currency:t,minimumFractionDigits:2}).format(e||0),InfoField$3=({label:e,value:t})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-foreground-muted",children:e}),jsxRuntimeExports.jsx("p",{className:"text-base font-medium text-foreground",children:t||"N/A"})]}),EditField$3=({label:e,name:t,value:n,onChange:o,type:l="text",options:u=[]})=>{const m={id:t,name:t,value:n??"",onChange:o,className:"input bg-background-muted border-border text-foreground"};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-foreground-muted",children:e}),l==="select"?jsxRuntimeExports.jsx("select",{...m,children:u.map(p=>jsxRuntimeExports.jsx("option",{value:p.value,children:p.label},p.value))}):jsxRuntimeExports.jsx("input",{...m,type:l})]})},PayrollCard=({payroll:e,isEditing:t,onEdit:n,onSave:o,onCancel:l,onChange:u,onDownload:m})=>{const{id:p,payPeriodStart:j,payPeriodEnd:f,status:g,grossSalary:b,netSalary:R,currency:v,payoutDate:N,basicSalary:S,allowances:$,deductions:C,taxAmount:A,remarks:T}=e,D=g||"PENDING",I=[{value:"PENDING",label:"Pending"},{value:"PROCESSED",label:"Processed"},{value:"FAILED",label:"Failed"}];return jsxRuntimeExports.jsxs("div",{className:"bg-background-muted rounded-lg p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center border-b border-border pb-3 mb-4",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-foreground",children:[formatDate$2(j)," - ",formatDate$2(f)]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:t?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:()=>o(p),className:"p-1.5 rounded-md hover:bg-green-100 text-green-600",children:jsxRuntimeExports.jsx(Check,{className:"h-5 w-5"})}),jsxRuntimeExports.jsx("button",{onClick:l,className:"p-1.5 rounded-md hover:bg-red-100 text-red-600",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:()=>m(p),className:"p-1.5 rounded-md hover:bg-background-muted text-foreground-muted",children:jsxRuntimeExports.jsx(Download,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>n(e),className:"p-1.5 rounded-md hover:bg-background-muted text-foreground-muted",children:jsxRuntimeExports.jsx(Pencil,{className:"h-4 w-4"})})]})})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-x-4 gap-y-5",children:t?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(EditField$3,{label:"Gross Salary",name:"grossSalary",value:e.grossSalary,onChange:u,type:"number"}),jsxRuntimeExports.jsx(EditField$3,{label:"Net Salary",name:"netSalary",value:e.netSalary,onChange:u,type:"number"}),jsxRuntimeExports.jsx(EditField$3,{label:"Basic Salary",name:"basicSalary",value:e.basicSalary,onChange:u,type:"number"}),jsxRuntimeExports.jsx(EditField$3,{label:"Allowances",name:"allowances",value:e.allowances,onChange:u,type:"number"}),jsxRuntimeExports.jsx(EditField$3,{label:"Deductions",name:"deductions",value:e.deductions,onChange:u,type:"number"}),jsxRuntimeExports.jsx(EditField$3,{label:"Tax Amount",name:"taxAmount",value:e.taxAmount,onChange:u,type:"number"}),jsxRuntimeExports.jsx(EditField$3,{label:"Payout Date",name:"payoutDate",value:formatDateForInput(e.payoutDate),onChange:u,type:"date"}),jsxRuntimeExports.jsx(EditField$3,{label:"Status",name:"status",value:e.status,onChange:u,type:"select",options:I}),jsxRuntimeExports.jsx("div",{className:"sm:col-span-2 md:col-span-3",children:jsxRuntimeExports.jsx(EditField$3,{label:"Remarks",name:"remarks",value:e.remarks,onChange:u})})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(InfoField$3,{label:"Gross Salary",value:formatCurrency$6(b,v)}),jsxRuntimeExports.jsx(InfoField$3,{label:"Net Salary",value:formatCurrency$6(R,v)}),jsxRuntimeExports.jsx(InfoField$3,{label:"Payout Date",value:N?new Date(N).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"}):"N/A"}),jsxRuntimeExports.jsx(InfoField$3,{label:"Basic Salary",value:formatCurrency$6(S,v)}),jsxRuntimeExports.jsx(InfoField$3,{label:"Allowances",value:formatCurrency$6($,v)}),jsxRuntimeExports.jsx(InfoField$3,{label:"Deductions",value:formatCurrency$6(C,v)}),jsxRuntimeExports.jsx(InfoField$3,{label:"Tax",value:formatCurrency$6(A,v)}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-foreground-muted",children:"Status"}),jsxRuntimeExports.jsx("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-semibold rounded-full ${statusStyles$9[D]?.bg} ${statusStyles$9[D]?.text} bg-opacity-20`,children:D.toLowerCase()})]}),jsxRuntimeExports.jsx("div",{className:"sm:col-span-2 md:col-span-3",children:jsxRuntimeExports.jsx(InfoField$3,{label:"Remarks",value:T})})]})})]})},Payroll=({employee:e})=>{const[t,n]=reactExports.useState(e?.payrolls||[]),[o,l]=reactExports.useState(!1),[u,m]=reactExports.useState(""),[p,j]=reactExports.useState({payPeriodStart:"",payPeriodEnd:"",payFrequency:"MONTHLY",grossSalary:0,netSalary:0,basicSalary:0,allowances:0,deductions:0,taxAmount:0,currency:"AED",status:"PENDING",remarks:""}),[f,g]=reactExports.useState(null),[b,R]=reactExports.useState({}),[v,N]=reactExports.useState(!1),[S,$]=reactExports.useState(""),C="https://javapaas-202946-0.cloudclusters.net/api";reactExports.useEffect(()=>{n(e?.payrolls||[]),g(null)},[e]);const A=q=>{g(q.id),R(q)},T=()=>{g(null),R({})},D=q=>{const{name:z,value:V}=q.target;R(Q=>({...Q,[z]:V}))},I=async q=>{N(!0),$("");try{await axios.put(`${C}/payrolls/${e.employeeCode}/${q}`,b,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});const z=t.map(V=>V.id===q?{...V,...b}:V);n(z),alert(`Payroll ID ${q} updated successfully!`),g(null)}catch(z){console.error("Error updating payroll:",z),$("Failed to update payroll. Please try again."),alert("Failed to update payroll.")}finally{N(!1)}},L=async q=>{try{const z=await axios.get(`${C}/payrolls/${q}/payslip`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},responseType:"blob"}),V=window.URL.createObjectURL(new Blob([z.data])),Q=document.createElement("a");Q.href=V;const ee=z.headers["content-disposition"];let G=`payslip-${q}.pdf`;if(ee){const K=ee.match(/filename="?(.+)"?/);K&&K.length===2&&(G=K[1])}Q.setAttribute("download",G),document.body.appendChild(Q),Q.click(),Q.remove(),window.URL.revokeObjectURL(V)}catch(z){console.error("Error downloading payslip:",z),alert("Failed to download payslip. The record might not exist or an error occurred.")}},_=q=>{const{name:z,value:V}=q.target;j(Q=>({...Q,[z]:V}))},M=async q=>{q.preventDefault(),N(!0),$("");try{await axios.post(`${C}/payrolls/${e.employeeCode}`,p,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});const z=await axios.get(`${C}/employees/${e.employeeCode}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});n(z.data.payrolls||[]),alert("Payroll generated successfully!"),l(!1),j({payPeriodStart:"",payPeriodEnd:"",payFrequency:"MONTHLY",grossSalary:0,netSalary:0,basicSalary:0,allowances:0,deductions:0,taxAmount:0,currency:"AED",status:"PENDING",remarks:""})}catch(z){const V=z.response?.data||"Failed to generate payroll. Please try again.";$(V),alert(V)}finally{N(!1)}},F=t.filter(q=>!u||q.payPeriodStart&&q.payPeriodStart.startsWith(u)),B=[{value:"PENDING",label:"Pending"},{value:"PROCESSED",label:"Processed"},{value:"FAILED",label:"Failed"}];return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"searchDate",className:"sr-only",children:"Search by start date"}),jsxRuntimeExports.jsx("input",{id:"searchDate",type:"date",value:u,onChange:q=>m(q.target.value),className:"input w-full sm:w-56 text-sm bg-background-muted border-border text-foreground"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>l(!0),className:"btn-primary flex items-center gap-2",children:[jsxRuntimeExports.jsx(CirclePlus,{className:"h-5 w-5 mr-2"}),"Generate Payroll"]})]}),v&&jsxRuntimeExports.jsx("div",{className:"text-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-6 w-6 mx-auto text-primary"})}),S&&jsxRuntimeExports.jsx("div",{className:"text-center text-red-600 p-3 bg-red-500/10 rounded-md",children:S}),o&&jsxRuntimeExports.jsxs("div",{className:"bg-background-muted rounded-lg p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground border-b border-border pb-3 mb-4",children:"New Payroll Record"}),jsxRuntimeExports.jsxs("form",{onSubmit:M,className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-x-4 gap-y-5",children:[jsxRuntimeExports.jsx(EditField$3,{label:"Pay Period Start",name:"payPeriodStart",value:p.payPeriodStart,onChange:_,type:"date",required:!0}),jsxRuntimeExports.jsx(EditField$3,{label:"Pay Period End",name:"payPeriodEnd",value:p.payPeriodEnd,onChange:_,type:"date",required:!0}),jsxRuntimeExports.jsx(EditField$3,{label:"Gross Salary",name:"grossSalary",value:p.grossSalary,onChange:_,type:"number"}),jsxRuntimeExports.jsx(EditField$3,{label:"Net Salary",name:"netSalary",value:p.netSalary,onChange:_,type:"number"}),jsxRuntimeExports.jsx(EditField$3,{label:"Basic Salary",name:"basicSalary",value:p.basicSalary,onChange:_,type:"number"}),jsxRuntimeExports.jsx(EditField$3,{label:"Allowances",name:"allowances",value:p.allowances,onChange:_,type:"number"}),jsxRuntimeExports.jsx(EditField$3,{label:"Deductions",name:"deductions",value:p.deductions,onChange:_,type:"number"}),jsxRuntimeExports.jsx(EditField$3,{label:"Tax Amount",name:"taxAmount",value:p.taxAmount,onChange:_,type:"number"}),jsxRuntimeExports.jsx(EditField$3,{label:"Currency",name:"currency",value:p.currency,onChange:_}),jsxRuntimeExports.jsx(EditField$3,{label:"Status",name:"status",value:p.status,onChange:_,type:"select",options:B}),jsxRuntimeExports.jsx("div",{className:"sm:col-span-2 md:col-span-3",children:jsxRuntimeExports.jsx(EditField$3,{label:"Remarks",name:"remarks",value:p.remarks,onChange:_})}),jsxRuntimeExports.jsxs("div",{className:"sm:col-span-2 md:col-span-3 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>l(!1),className:"btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"btn-primary",children:"Save"})]})]})]}),F.length>0?F.map(q=>jsxRuntimeExports.jsx(PayrollCard,{payroll:f===q.id?b:q,isEditing:f===q.id,onEdit:A,onSave:I,onCancel:T,onChange:D,onDownload:L},q.id)):t.length>0?jsxRuntimeExports.jsxs("div",{className:"text-center text-foreground-muted py-10",children:[jsxRuntimeExports.jsx(Search,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-semibold text-foreground",children:"No Payroll Found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-foreground-muted",children:"No records match your search criteria."})]}):jsxRuntimeExports.jsxs("div",{className:"text-center text-foreground-muted py-10",children:[jsxRuntimeExports.jsx(FileText,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-semibold text-foreground",children:"No Payroll Data"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-foreground-muted",children:"There is no payroll history available for this employee."})]})]})},InfoField$2=({label:e,value:t})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-foreground-muted",children:e}),jsxRuntimeExports.jsx("p",{className:"text-base font-medium text-foreground",children:t||"N/A"})]}),ProfileCard=({title:e,children:t})=>jsxRuntimeExports.jsxs("div",{className:"bg-background-muted rounded-lg p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground border-b border-border pb-3 mb-4",children:e}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-5",children:t})]}),EditField$2=({label:e,name:t,value:n,onChange:o,type:l="text"})=>{const u={id:t,name:t,value:n??"",onChange:o,className:"input bg-background-muted border-border text-foreground"};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-foreground-muted",children:e}),l==="textarea"?jsxRuntimeExports.jsx("textarea",{...u,rows:"3"}):jsxRuntimeExports.jsx("input",{...u,type:l})]})},Address=({employee:e})=>{const[t,n]=reactExports.useState(!1),[o,l]=reactExports.useState(null),[u,m]=reactExports.useState({}),[p,j]=reactExports.useState(!0),[f,g]=reactExports.useState(!1),[b,R]=reactExports.useState(""),v="https://javapaas-202946-0.cloudclusters.net/api",N={address:"",city:"",state:"",country:"",postalCode:"",emergencyContactName:"",emergencyContactRelation:"",emergencyContactPhone:"",bankName:"",bankAccountNumber:"",ifscCode:"",bloodGroup:"",notes:""};if(reactExports.useEffect(()=>{(async()=>{if(e?.employeeCode){j(!0),R("");try{const D=localStorage.getItem("token"),I=await axios.get(`${v}/employee-profiles/${e.employeeCode}`,{headers:{Authorization:`Bearer ${D}`}});l(I.data),m(I.data)}catch(D){D.response&&D.response.status===404?(l(null),m(N)):(console.error("Error fetching employee profile:",D),R("Failed to load employee profile data."))}finally{j(!1)}}})()},[e,v]),!e)return jsxRuntimeExports.jsx("div",{className:"text-center text-slate-500",children:"No employee selected."});const S=T=>{const{name:D,value:I}=T.target;m(L=>({...L,[D]:I}))},$=()=>{n(!1),m(o||N),R("")},C=async()=>{g(!0),R("");try{const T=localStorage.getItem("token"),D=await axios.put(`${v}/employee-profiles/${e.employeeCode}`,u,{headers:{Authorization:`Bearer ${T}`}});l(D.data),m(D.data),n(!1),alert("Profile updated successfully!")}catch(T){console.error("Error updating profile:",T);const D=T.response?.data?.message||"Failed to update profile. Please try again.";R(D),alert(D)}finally{g(!1)}};if(p)return jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-blue-600"})});const A=t?u:o||{};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"flex justify-end mb-4 gap-2",children:t?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:$,className:"btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{onClick:C,className:"btn-primary flex items-center",disabled:f,children:[f?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}):jsxRuntimeExports.jsx(Check,{className:"h-4 w-4 mr-2"}),"Save"]})]}):jsxRuntimeExports.jsxs("button",{onClick:()=>n(!0),className:"btn-primary flex items-center",children:[jsxRuntimeExports.jsx(Pencil,{className:"h-4 w-4 mr-2"}),"Edit Details"]})}),b&&jsxRuntimeExports.jsx("div",{className:"text-center text-red-600 p-3 bg-red-500/10 rounded-md mb-4",children:b}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsx(ProfileCard,{title:"Contact & Address",children:t?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(EditField$2,{label:"Address",name:"address",value:u.address,onChange:S}),jsxRuntimeExports.jsx(EditField$2,{label:"City",name:"city",value:u.city,onChange:S}),jsxRuntimeExports.jsx(EditField$2,{label:"State",name:"state",value:u.state,onChange:S}),jsxRuntimeExports.jsx(EditField$2,{label:"Country",name:"country",value:u.country,onChange:S}),jsxRuntimeExports.jsx(EditField$2,{label:"Postal Code",name:"postalCode",value:u.postalCode,onChange:S}),jsxRuntimeExports.jsx(EditField$2,{label:"Blood Group",name:"bloodGroup",value:u.bloodGroup,onChange:S})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(InfoField$2,{label:"Address",value:A.address}),jsxRuntimeExports.jsx(InfoField$2,{label:"City",value:A.city}),jsxRuntimeExports.jsx(InfoField$2,{label:"State",value:A.state}),jsxRuntimeExports.jsx(InfoField$2,{label:"Country",value:A.country}),jsxRuntimeExports.jsx(InfoField$2,{label:"Postal Code",value:A.postalCode}),jsxRuntimeExports.jsx(InfoField$2,{label:"Blood Group",value:A.bloodGroup})]})}),jsxRuntimeExports.jsx(ProfileCard,{title:"Emergency Contact",children:t?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(EditField$2,{label:"Contact Name",name:"emergencyContactName",value:u.emergencyContactName,onChange:S}),jsxRuntimeExports.jsx(EditField$2,{label:"Relation",name:"emergencyContactRelation",value:u.emergencyContactRelation,onChange:S}),jsxRuntimeExports.jsx(EditField$2,{label:"Phone",name:"emergencyContactPhone",value:u.emergencyContactPhone,onChange:S})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(InfoField$2,{label:"Contact Name",value:A.emergencyContactName}),jsxRuntimeExports.jsx(InfoField$2,{label:"Relation",value:A.emergencyContactRelation}),jsxRuntimeExports.jsx(InfoField$2,{label:"Phone",value:A.emergencyContactPhone})]})}),jsxRuntimeExports.jsx(ProfileCard,{title:"Financial Information",children:t?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(EditField$2,{label:"Bank Name",name:"bankName",value:u.bankName,onChange:S}),jsxRuntimeExports.jsx(EditField$2,{label:"Account Number",name:"bankAccountNumber",value:u.bankAccountNumber,onChange:S}),jsxRuntimeExports.jsx(EditField$2,{label:"IFSC Code",name:"ifscCode",value:u.ifscCode,onChange:S})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(InfoField$2,{label:"Bank Name",value:A.bankName}),jsxRuntimeExports.jsx(InfoField$2,{label:"Account Number",value:A.bankAccountNumber}),jsxRuntimeExports.jsx(InfoField$2,{label:"IFSC Code",value:A.ifscCode})]})}),jsxRuntimeExports.jsx(ProfileCard,{title:"Notes",children:t?jsxRuntimeExports.jsx("div",{className:"sm:col-span-2",children:jsxRuntimeExports.jsx(EditField$2,{label:"Additional Notes",name:"notes",value:u.notes,onChange:S,type:"textarea"})}):jsxRuntimeExports.jsx("div",{className:"sm:col-span-2",children:jsxRuntimeExports.jsx(InfoField$2,{label:"Additional Notes",value:A.notes})})})]})]})},API_URL$1H="https://javapaas-202946-0.cloudclusters.net/api",UploadDocumentModal=({isOpen:e,onClose:t,onSave:n,loading:o,documentTypes:l})=>{const[u,m]=reactExports.useState(null),[p,j]=reactExports.useState(""),[f,g]=reactExports.useState(""),[b,R]=reactExports.useState(""),[v,N]=reactExports.useState(""),[S,$]=reactExports.useState(""),[C,A]=reactExports.useState("");reactExports.useEffect(()=>{e&&(m(null),j(""),g(""),R(""),N(""),$(""),A(""))},[e]);const T=I=>{m(I.target.files[0])},D=I=>{if(I.preventDefault(),!u){A("Please select a file to upload.");return}if(!p){A("Please select a document type.");return}const L=new FormData;L.append("file",u),L.append("docTypeId",p),L.append("remarks",S),f&&L.append("documentId",f),b&&L.append("registrationDate",b),v&&L.append("endDate",v),n(L)};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-card text-card-foreground rounded-lg shadow-xl w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Upload Document"}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-2 rounded-full text-foreground-muted hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:D,children:[jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"file",className:"block text-sm font-medium text-foreground-muted",children:"File"}),jsxRuntimeExports.jsx("input",{id:"file",type:"file",onChange:T,required:!0,className:"input bg-background-muted border-border text-foreground file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"docTypeId",className:"block text-sm font-medium text-foreground-muted",children:"Document Type"}),jsxRuntimeExports.jsxs("select",{id:"docTypeId",value:p,onChange:I=>j(I.target.value),required:!0,className:"input bg-background-muted border-border text-foreground",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select a type"}),l.map(I=>jsxRuntimeExports.jsx("option",{value:I.id,children:I.name},I.id))]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"documentId",className:"block text-sm font-medium text-foreground-muted",children:"Document ID (Optional)"}),jsxRuntimeExports.jsx("input",{id:"documentId",value:f,onChange:I=>g(I.target.value),className:"input bg-background-muted border-border text-foreground"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"registrationDate",className:"block text-sm font-medium text-foreground-muted",children:"Registration Date (Optional)"}),jsxRuntimeExports.jsx("input",{id:"registrationDate",type:"date",value:b,onChange:I=>R(I.target.value),className:"input bg-background-muted border-border text-foreground"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-foreground-muted",children:"End Date (Optional)"}),jsxRuntimeExports.jsx("input",{id:"endDate",type:"date",value:v,onChange:I=>N(I.target.value),className:"input bg-background-muted border-border text-foreground"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"remarks",className:"block text-sm font-medium text-foreground-muted",children:"Remarks (Optional)"}),jsxRuntimeExports.jsx("textarea",{id:"remarks",value:S,onChange:I=>$(I.target.value),rows:"3",className:"input bg-background-muted border-border text-foreground"})]}),C&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm",children:C})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t bg-slate-50 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:o,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:o,children:[o&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"})," Upload"]})]})]})]})}):null},EditDocumentModal=({isOpen:e,onClose:t,onSave:n,document:o,loading:l,documentTypes:u})=>{const[m,p]=reactExports.useState({docTypeId:"",documentId:"",registrationDate:"",endDate:"",remarks:"",verified:!1});reactExports.useEffect(()=>{o&&p({docTypeId:o.documentType?.id||"",documentId:o.documentId||"",registrationDate:o.registrationDate?o.registrationDate.split("T")[0]:"",endDate:o.endDate?o.endDate.split("T")[0]:"",remarks:o.remarks||"",verified:o.verified||!1})},[o]);const j=g=>{const{name:b,value:R,type:v,checked:N}=g.target;p(S=>({...S,[b]:v==="checkbox"?N:R}))},f=g=>{g.preventDefault(),n(m)};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-card text-card-foreground rounded-lg shadow-xl w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Edit Document Details"}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-2 rounded-full text-foreground-muted hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:f,children:[jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"edit-docTypeId",className:"block text-sm font-medium text-foreground-muted",children:"Document Type"}),jsxRuntimeExports.jsxs("select",{id:"edit-docTypeId",name:"docTypeId",value:m.docTypeId,onChange:j,className:"input bg-background-muted border-border text-foreground",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select a type"}),u.map(g=>jsxRuntimeExports.jsx("option",{value:g.id,children:g.name},g.id))]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"edit-documentId",className:"block text-sm font-medium text-foreground-muted",children:"Document ID"}),jsxRuntimeExports.jsx("input",{id:"edit-documentId",name:"documentId",value:m.documentId,onChange:j,className:"input bg-background-muted border-border text-foreground"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"edit-registrationDate",className:"block text-sm font-medium text-foreground-muted",children:"Registration Date"}),jsxRuntimeExports.jsx("input",{id:"edit-registrationDate",name:"registrationDate",type:"date",value:m.registrationDate,onChange:j,className:"input bg-background-muted border-border text-foreground"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"edit-endDate",className:"block text-sm font-medium text-foreground-muted",children:"End Date"}),jsxRuntimeExports.jsx("input",{id:"edit-endDate",name:"endDate",type:"date",value:m.endDate,onChange:j,className:"input bg-background-muted border-border text-foreground"})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("label",{className:"inline-flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"verified",checked:m.verified,onChange:j,className:"h-4 w-4 rounded border-border text-primary focus:ring-primary"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-sm text-foreground-muted",children:"Mark as Verified"})]})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"edit-remarks",className:"block text-sm font-medium text-foreground-muted",children:"Remarks"}),jsxRuntimeExports.jsx("textarea",{id:"edit-remarks",name:"remarks",value:m.remarks,onChange:j,rows:"3",className:"input bg-background-muted border-border text-foreground"})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t bg-slate-50 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:l,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:l,children:[l&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"})," Save"]})]})]})]})}):null},Documents=({employee:e})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState([]),[u,m]=reactExports.useState(!0),[p,j]=reactExports.useState(""),[f,g]=reactExports.useState(!1),[b,R]=reactExports.useState(!1),[v,N]=reactExports.useState(null),[S,$]=reactExports.useState(!1),C=async()=>{try{const M=localStorage.getItem("token"),F=await axios.get(`${API_URL$1H}/base/document-types`,{headers:{Authorization:`Bearer ${M}`}});Array.isArray(F.data)&&l(F.data)}catch(M){console.error("Failed to fetch document types",M),j("Could not load document types. Please refresh.")}},A=async()=>{if(e?.employeeCode){m(!0),j("");try{const M=localStorage.getItem("token"),F=await axios.get(`${API_URL$1H}/employee-documents/${e.employeeCode}`,{headers:{Authorization:`Bearer ${M}`}});n(F.data)}catch{j("Failed to fetch documents.")}finally{m(!1)}}};reactExports.useEffect(()=>{A(),C()},[e]);const T=async M=>{$(!0);try{const F=localStorage.getItem("token");await axios.post(`${API_URL$1H}/employee-documents/${e.employeeCode}/upload`,M,{headers:{Authorization:`Bearer ${F}`,"Content-Type":"multipart/form-data"}}),g(!1),A()}catch{alert("Upload failed. Please try again.")}finally{$(!1)}},D=async M=>{$(!0);try{const F=localStorage.getItem("token");await axios.put(`${API_URL$1H}/employee-documents/${v.id}`,M,{headers:{Authorization:`Bearer ${F}`,"Content-Type":"application/json"}}),R(!1),A()}catch{alert("Update failed. Please try again.")}finally{$(!1)}},I=async M=>{if(window.confirm("Are you sure you want to delete this document?"))try{const F=localStorage.getItem("token");await axios.delete(`${API_URL$1H}/employee-documents/${M}`,{headers:{Authorization:`Bearer ${F}`}}),A()}catch{alert("Failed to delete document.")}},L=async M=>{try{const F=localStorage.getItem("token"),B=await axios.get(`${API_URL$1H}/employee-documents/view/${M}`,{headers:{Authorization:`Bearer ${F}`},responseType:"blob"}),q=new Blob([B.data],{type:B.headers["content-type"]}),z=URL.createObjectURL(q);window.open(z)}catch(F){alert("Could not open the document for viewing."),console.error(F)}},_=async M=>{try{const F=localStorage.getItem("token"),B=await axios.get(`${API_URL$1H}/employee-documents/download/${M}`,{headers:{Authorization:`Bearer ${F}`},responseType:"blob"}),q=window.URL.createObjectURL(new Blob([B.data])),z=document.createElement("a");z.href=q;const V=B.headers["content-disposition"];let Q=`document-${M}`;if(V){const ee=V.match(/filename="?(.+)"?/);ee&&ee.length===2&&(Q=ee[1])}z.setAttribute("download",Q),document.body.appendChild(z),z.click(),z.remove(),window.URL.revokeObjectURL(q)}catch(F){alert("Could not download the document."),console.error(F)}};return e?jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsxs("button",{onClick:()=>g(!0),className:"btn-primary flex items-center",children:[jsxRuntimeExports.jsx(Plus,{className:"h-5 w-5 mr-2"})," Upload Document"]})}),u&&jsxRuntimeExports.jsx("div",{className:"flex justify-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-blue-600"})}),p&&jsxRuntimeExports.jsx("div",{className:"text-center text-red-600 dark:text-red-400 p-4 bg-red-50 dark:bg-red-900/20 rounded-md",children:p}),!u&&!p&&jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-slate-800/50 rounded-xl shadow-sm overflow-hidden border border-slate-200 dark:border-slate-700",children:jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Document Type"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Document ID"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"File Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Registration Date"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"End Date"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Verified"}),jsxRuntimeExports.jsx("th",{className:"th-cell text-right",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"text-slate-700 dark:text-slate-300",children:t.length>0?t.map(M=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium text-slate-800 dark:text-slate-100",children:M.documentType?.name||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell text-sm",children:M.documentId||"-"}),jsxRuntimeExports.jsx("td",{className:"td-cell text-sm",children:M.fileName}),jsxRuntimeExports.jsx("td",{className:"td-cell text-sm",children:M.registrationDate?new Date(M.registrationDate).toLocaleDateString():"-"}),jsxRuntimeExports.jsx("td",{className:"td-cell text-sm",children:M.endDate?new Date(M.endDate).toLocaleDateString():"-"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:M.verified?jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-5 w-5 text-green-600"}):jsxRuntimeExports.jsx(CircleX,{className:"h-5 w-5 text-slate-400"})}),jsxRuntimeExports.jsx("td",{className:"td-cell text-right",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-slate-500 dark:text-slate-400",children:[jsxRuntimeExports.jsx("button",{onClick:()=>L(M.id),className:"p-2 hover:text-blue-600 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",title:"View",children:jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>_(M.id),className:"p-2 hover:text-blue-600 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",title:"Download",children:jsxRuntimeExports.jsx(Download,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>{N(M),R(!0)},className:"p-2 hover:text-blue-600 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>I(M.id),className:"p-2 hover:text-red-600 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})})]},M.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"7",className:"text-center py-10 text-slate-500",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-foreground",children:"No documents found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-foreground-muted",children:"Upload a document to get started."})]})})})]})})}),jsxRuntimeExports.jsx(UploadDocumentModal,{isOpen:f,onClose:()=>g(!1),onSave:T,loading:S,documentTypes:o}),v&&jsxRuntimeExports.jsx(EditDocumentModal,{isOpen:b,onClose:()=>R(!1),onSave:D,document:v,loading:S,documentTypes:o})]}):jsxRuntimeExports.jsx("div",{className:"text-center text-slate-500",children:"Please select an employee to view documents."})},InfoField$1=({label:e,value:t})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-foreground-muted",children:e}),jsxRuntimeExports.jsx("p",{className:"text-base font-medium text-foreground",children:t||"N/A"})]}),EditField$1=({label:e,name:t,value:n,onChange:o,type:l="text",options:u=[]})=>{const m={id:t,name:t,value:n??"",onChange:o,className:"input bg-background-muted border-border text-foreground"};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-foreground-muted",children:e}),l==="select"?jsxRuntimeExports.jsxs("select",{...m,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select..."}),u.map(p=>jsxRuntimeExports.jsx("option",{value:p.value,children:p.label},p.value))]}):jsxRuntimeExports.jsx("input",{...m,type:l})]})},JobDetails=({employee:e})=>{const[t,n]=reactExports.useState(!1),[o,l]=reactExports.useState(null),[u,m]=reactExports.useState({}),[p,j]=reactExports.useState(!0),[f,g]=reactExports.useState(!1),[b,R]=reactExports.useState(""),[v,N]=reactExports.useState({departments:[],designations:[],jobBands:[]}),S="https://javapaas-202946-0.cloudclusters.net/api",$={location:"",actualLocation:"",department:"",designation:"",jobBand:"",reportsTo:"",dateOfJoining:"",probationEndDate:"",loginId:"",profileName:"",employeeNumber:"",legalEntity:"",contractType:""};if(reactExports.useEffect(()=>{(async()=>{if(e?.employeeCode){j(!0),R("");try{const _={Authorization:`Bearer ${localStorage.getItem("token")}`},[M,F,B,q]=await Promise.all([axios.get(`${S}/job-details/${e.employeeCode}`,{headers:_}),axios.get(`${S}/departments`,{headers:_}),axios.get(`${S}/designations`,{headers:_}),axios.get(`${S}/jobBands`,{headers:_})]);l(M.data),m(M.data),N({departments:F.data,designations:B.data,jobBands:q.data})}catch(L){L.response&&L.response.status===404?(l(null),m($),R("No job details found for this employee. You can add them now.")):(console.error("Error fetching job details:",L),R("Failed to load job details. Please try again later."))}finally{j(!1)}}})()},[e,S]),!e)return jsxRuntimeExports.jsx("div",{className:"text-center text-slate-500",children:"No employee selected."});const C=I=>{const{name:L,value:_}=I.target;m(M=>({...M,[L]:_}))},A=()=>{n(!1),m(o||$),R("")},T=async()=>{g(!0),R("");try{const I=localStorage.getItem("token"),L=await axios.put(`${S}/job-details/${e.employeeCode}`,u,{headers:{Authorization:`Bearer ${I}`}});l(L.data),m(L.data),n(!1),alert("Job details updated successfully!")}catch(I){console.error("Error updating job details:",I);const L=I.response?.data?.message||"Failed to update job details. Please try again.";R(L),alert(L)}finally{g(!1)}};if(p)return jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-blue-600"})});const D=t?u:o||{};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"flex justify-end mb-4 gap-2",children:t?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:A,className:"btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{onClick:T,className:"btn-primary flex items-center",disabled:f,children:[f?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}):jsxRuntimeExports.jsx(Check,{className:"h-4 w-4 mr-2"}),"Save"]})]}):jsxRuntimeExports.jsxs("button",{onClick:()=>n(!0),className:"btn-primary flex items-center",children:[jsxRuntimeExports.jsx(Pencil,{className:"h-4 w-4 mr-2"}),"Edit Details"]})}),b&&jsxRuntimeExports.jsx("div",{className:"text-center text-red-600 p-3 bg-red-500/10 rounded-md mb-4",children:b}),jsxRuntimeExports.jsx("div",{className:"bg-background-muted rounded-lg p-6",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-x-4 gap-y-5",children:t?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(EditField$1,{label:"Department",name:"department",value:u.department,onChange:C,type:"select",options:v.departments.map(I=>({value:I.name,label:I.name}))}),jsxRuntimeExports.jsx(EditField$1,{label:"Designation",name:"designation",value:u.designation,onChange:C,type:"select",options:v.designations.map(I=>({value:I.title,label:I.title}))}),jsxRuntimeExports.jsx(EditField$1,{label:"Job Band",name:"jobBand",value:u.jobBand,onChange:C,type:"select",options:v.jobBands.map(I=>({value:I.name,label:I.name}))}),jsxRuntimeExports.jsx(EditField$1,{label:"Reports To",name:"reportsTo",value:u.reportsTo,onChange:C}),jsxRuntimeExports.jsx(EditField$1,{label:"Date of Joining",name:"dateOfJoining",value:u.dateOfJoining?.split("T")[0],onChange:C,type:"date"}),jsxRuntimeExports.jsx(EditField$1,{label:"Probation End Date",name:"probationEndDate",value:u.probationEndDate?.split("T")[0],onChange:C,type:"date"}),jsxRuntimeExports.jsx(EditField$1,{label:"Location",name:"location",value:u.location,onChange:C}),jsxRuntimeExports.jsx(EditField$1,{label:"Actual Location",name:"actualLocation",value:u.actualLocation,onChange:C}),jsxRuntimeExports.jsx(EditField$1,{label:"Legal Entity",name:"legalEntity",value:u.legalEntity,onChange:C}),jsxRuntimeExports.jsx(EditField$1,{label:"Login ID",name:"loginId",value:u.loginId,onChange:C}),jsxRuntimeExports.jsx(EditField$1,{label:"Profile Name",name:"profileName",value:u.profileName,onChange:C}),jsxRuntimeExports.jsx(EditField$1,{label:"Employee Number",name:"employeeNumber",value:u.employeeNumber,onChange:C}),jsxRuntimeExports.jsx(EditField$1,{label:"Contract Type",name:"contractType",value:u.contractType,onChange:C,type:"select",options:[{value:"LIMITED",label:"Limited"},{value:"UNLIMITED",label:"Unlimited"}]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(InfoField$1,{label:"Department",value:D.department}),jsxRuntimeExports.jsx(InfoField$1,{label:"Designation",value:D.designation}),jsxRuntimeExports.jsx(InfoField$1,{label:"Job Band",value:D.jobBand}),jsxRuntimeExports.jsx(InfoField$1,{label:"Reports To",value:D.reportsTo}),jsxRuntimeExports.jsx(InfoField$1,{label:"Date of Joining",value:D.dateOfJoining}),jsxRuntimeExports.jsx(InfoField$1,{label:"Probation End Date",value:D.probationEndDate}),jsxRuntimeExports.jsx(InfoField$1,{label:"Location",value:D.location}),jsxRuntimeExports.jsx(InfoField$1,{label:"Actual Location",value:D.actualLocation}),jsxRuntimeExports.jsx(InfoField$1,{label:"Legal Entity",value:D.legalEntity}),jsxRuntimeExports.jsx(InfoField$1,{label:"Login ID",value:D.loginId}),jsxRuntimeExports.jsx(InfoField$1,{label:"Profile Name",value:D.profileName}),jsxRuntimeExports.jsx(InfoField$1,{label:"Employee Number",value:D.employeeNumber}),jsxRuntimeExports.jsx(InfoField$1,{label:"Contract Type",value:D.contractType})]})})})]})},InfoField=({label:e,value:t})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-foreground-muted",children:e}),jsxRuntimeExports.jsx("p",{className:"text-base font-medium text-foreground",children:t||"N/A"})]}),EditField=({label:e,name:t,value:n,onChange:o,type:l="text",options:u=[]})=>{const m={id:t,name:t,value:n??"",onChange:o,className:"input bg-background-muted border-border text-foreground"};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-foreground-muted",children:e}),l==="select"?jsxRuntimeExports.jsxs("select",{...m,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select..."}),u.map(p=>jsxRuntimeExports.jsx("option",{value:p.value,children:p.label},p.value))]}):jsxRuntimeExports.jsx("input",{...m,type:l})]})},TimeAttendence=({employee:e})=>{const[t,n]=reactExports.useState(!1),[o,l]=reactExports.useState(null),[u,m]=reactExports.useState({}),[p,j]=reactExports.useState(!0),[f,g]=reactExports.useState(!1),[b,R]=reactExports.useState(""),[v,N]=reactExports.useState({timeTypes:[],workTypes:[],shiftTypes:[],weeklyOffPolicies:[],leaveGroups:[],attendanceTrackingPolicies:[]}),S="https://javapaas-202946-0.cloudclusters.net/api",$={timeTypeId:null,workTypeId:null,shiftTypeId:null,weeklyOffPolicyId:null,leaveGroupId:null,attendenceCaptureScheme:"",holidayList:"",expensePolicy:"",attendancePolicyId:null,recruitmentPolicy:"",isRosterBasedEmployee:!1};if(reactExports.useEffect(()=>{(async()=>{if(e?.employeeCode){j(!0),R("");try{const F={Authorization:`Bearer ${localStorage.getItem("token")}`},[B,q,z,V,Q,ee,G]=await Promise.all([axios.get(`${S}/time-attendence/${e.employeeCode}`,{headers:F}).catch(J=>{if(J.response&&J.response.status===404)return{data:null};throw J}),axios.get(`${S}/time-types`,{headers:F}),axios.get(`${S}/work-types`,{headers:F}),axios.get(`${S}/shift-types`,{headers:F}),axios.get(`${S}/weekly-off-policies`,{headers:F}),axios.get(`${S}/leave-groups`,{headers:F}),axios.get(`${S}/attendance-policies`,{headers:F})]),K=B.data;l(K),m(K?{...$,...K,timeTypeId:K.timeType?.id||null,workTypeId:K.workType?.id||null,weeklyOffPolicyId:K.weeklyOffPolicy?.id||null,leaveGroupId:K.leaveGroup?.id||null,attendancePolicyId:K.attendancePolicy?.id||null}:$),N({timeTypes:q.data,workTypes:z.data,shiftTypes:V.data,weeklyOffPolicies:Q.data,leaveGroups:ee.data,attendanceTrackingPolicies:G.data})}catch(M){console.error("Error fetching time & attendance data:",M),R("Failed to load data. Please try again later.")}finally{j(!1)}}})()},[e,S]),!e)return jsxRuntimeExports.jsx("div",{className:"text-center text-slate-500",children:"No employee selected."});const C=_=>{const{name:M,value:F,type:B,checked:q}=_.target,z=B==="checkbox"?q:F;m(V=>({...V,[M]:z}))},A=()=>{n(!1),m(o?{...$,...o,timeTypeId:o.timeType?.id||null,workTypeId:o.workType?.id||null,weeklyOffPolicyId:o.weeklyOffPolicy?.id||null,leaveGroupId:o.leaveGroup?.id||null,attendancePolicyId:o.attendancePolicy?.id||null}:$),R("")},T=async()=>{g(!0),R("");try{const _=localStorage.getItem("token"),F=(await axios.put(`${S}/time-attendence/${e.employeeCode}`,u,{headers:{Authorization:`Bearer ${_}`}})).data;l(F),m({...$,...F,shiftTypeId:F.shiftType?.id||null,timeTypeId:F.timeType?.id||null,workTypeId:F.workType?.id||null,weeklyOffPolicyId:F.weeklyOffPolicy?.id||null,leaveGroupId:F.leaveGroup?.id||null,attendancePolicyId:F.attendancePolicy?.id||null}),n(!1),alert("Time & Attendance details updated successfully!")}catch(_){console.error("Error updating details:",_);const M=_.response?.data?.message||"Failed to update details. Please try again.";R(M),alert(M)}finally{g(!1)}};if(p)return jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-blue-600"})});const D=t?u:o||{},I=(_,M,F="id",B="name")=>M.find(q=>q[F]===_)?.[B]||"N/A",L=[{name:"timeTypeId",label:"Time Type",type:"select",options:v.timeTypes.map(_=>({value:_.id,label:_.name})),viewValue:I(D.timeType?.id,v.timeTypes)},{name:"workTypeId",label:"Work Type",type:"select",options:v.workTypes.map(_=>({value:_.id,label:_.name})),viewValue:I(D.workType?.id,v.workTypes)},{name:"shiftTypeId",label:"Shift Type",type:"select",options:v.shiftTypes.map(_=>({value:_.id,label:`${_.name} (${_.startTime} - ${_.endTime})`})),viewValue:I(D.shiftType?.id,v.shiftTypes)},{name:"weeklyOffPolicyId",label:"Weekly Off Policy",type:"select",options:v.weeklyOffPolicies.map(_=>({value:_.id,label:_.name})),viewValue:I(D.weeklyOffPolicy?.id,v.weeklyOffPolicies)},{name:"leaveGroupId",label:"Leave Group",type:"select",options:v.leaveGroups.map(_=>({value:_.id,label:_.name})),viewValue:I(D.leaveGroup?.id,v.leaveGroups)},{name:"attendancePolicyId",label:"Attendance Tracking Policy",type:"select",options:v.attendanceTrackingPolicies.map(_=>({value:_.id,label:_.policyName})),viewValue:I(D.attendancePolicy?.id,v.attendanceTrackingPolicies,"id","policyName")},{name:"attendenceCaptureScheme",label:"Attendance Capture Scheme"},{name:"holidayList",label:"Holiday List"},{name:"expensePolicy",label:"Expense Policy"},{name:"recruitmentPolicy",label:"Recruitment Policy"}];return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"flex justify-end mb-4 gap-2",children:t?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:A,className:"btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{onClick:T,className:"btn-primary flex items-center",disabled:f,children:[f?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}):jsxRuntimeExports.jsx(Check,{className:"h-4 w-4 mr-2"}),"Save"]})]}):jsxRuntimeExports.jsxs("button",{onClick:()=>n(!0),className:"btn-primary flex items-center",children:[jsxRuntimeExports.jsx(Pencil,{className:"h-4 w-4 mr-2"}),"Edit Policy"]})}),b&&jsxRuntimeExports.jsx("div",{className:"text-center text-red-600 p-3 bg-red-500/10 rounded-md mb-4",children:b}),jsxRuntimeExports.jsx("div",{className:"bg-background-muted rounded-lg p-6",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-x-4 gap-y-5",children:[L.map(_=>t?jsxRuntimeExports.jsx(EditField,{..._,value:u[_.name],onChange:C},_.name):_.viewValue?jsxRuntimeExports.jsx(InfoField,{label:_.label,value:_.viewValue},_.name):jsxRuntimeExports.jsx(InfoField,{label:_.label,value:D[_.name]},_.name)),t?jsxRuntimeExports.jsx("div",{className:"md:col-span-3",children:jsxRuntimeExports.jsxs("label",{className:"inline-flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"isRosterBasedEmployee",checked:u.isRosterBasedEmployee,onChange:C,className:"h-4 w-4 rounded border-border text-primary"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-sm text-foreground-muted",children:"Is Roster Based Employee"})]})}):jsxRuntimeExports.jsx(InfoField,{label:"Roster Based",value:D.isRosterBasedEmployee?"Yes":"No"})]})})]})},employeeNavLinks=[{name:"Profile",icon:User,color:"text-blue-600",bgColor:"bg-blue-100"},{name:"Job Details",icon:Briefcase,color:"text-amber-600",bgColor:"bg-amber-100"},{name:"Time & Attendance",icon:Clock,color:"text-cyan-600",bgColor:"bg-cyan-100"},{name:"Leave",icon:Calendar,color:"text-orange-600",bgColor:"bg-orange-100"},{name:"Salary",icon:DollarSign,color:"text-teal-600",bgColor:"bg-teal-100"},{name:"Address & Bank Details",icon:MapPin,color:"text-green-600",bgColor:"bg-green-100"},{name:"Documents",icon:FileText,color:"text-purple-600",bgColor:"bg-purple-100"}],Employee=()=>{const[e,t]=reactExports.useState("Profile"),[n,o]=reactExports.useState(null),[l,u]=reactExports.useState([]),[m,p]=reactExports.useState(""),[j,f]=reactExports.useState(!1),[g,b]=reactExports.useState(""),[R,v]=reactExports.useState(null),[N,S]=reactExports.useState(!1),[$,C]=reactExports.useState([]),[A,T]=reactExports.useState("all"),[D,I]=reactExports.useState([]),[L,_]=reactExports.useState("all"),[M,F]=reactExports.useState("all"),B="https://javapaas-202946-0.cloudclusters.net/api",q=async H=>{H.preventDefault(),ee.length>0?await Q(ee[0]):(b(`No employee found matching "${m}".`),setTimeout(()=>{b("")},3e3))},z=async()=>{f(!0);try{const te={Authorization:`Bearer ${localStorage.getItem("token")}`},[Y,le,je]=await Promise.all([axios.get(`${B}/employees/all`,{headers:te}),axios.get(`${B}/locations`,{headers:te}),axios.get(`${B}/departments`,{headers:te})]),ae=await Promise.all(Y.data.map(async Z=>{try{const ce=await axios.get(`${B}/job-details/${Z.employeeCode}`,{headers:te});return{...Z,jobDetails:ce.data}}catch{return{...Z,jobDetails:null}}}));u(ae),C(le.data),I(je.data)}catch(H){console.error("Error fetching initial data:",H),b("Failed to load employee and location data.")}finally{f(!1)}};reactExports.useEffect(()=>{z()},[]),reactExports.useEffect(()=>(n?.employeeCode&&n.photoPath?(async()=>{try{const te=localStorage.getItem("token"),Y=await axios.get(`${B}/employees/${n.employeeCode}/photo`,{headers:{Authorization:`Bearer ${te}`},responseType:"blob"}),le=URL.createObjectURL(Y.data);v(le)}catch(te){console.error("Could not load employee photo",te),v(null)}})():v(null),()=>{R&&URL.revokeObjectURL(R)}),[n]);const V=H=>{o(H)},Q=async H=>{f(!0);try{const Y={Authorization:`Bearer ${localStorage.getItem("token")}`},[le,je]=await Promise.all([axios.get(`${B}/employees/${H.employeeCode}`,{headers:Y}),axios.get(`${B}/job-details/${H.employeeCode}`,{headers:Y}).catch(()=>({data:null}))]),ae=le.data,Z=ae.firstName+" "+ae.lastName,ce=Z?Z.split(" ").map(oe=>oe[0]).join("").toUpperCase():"?";o({...ae,jobDetails:je.data,initials:ce})}catch(te){b("Could not fetch employee details."),console.error("Error selecting employee:",te)}finally{f(!1)}},ee=reactExports.useMemo(()=>{const H=m.toLowerCase();return l.filter(te=>{const Y=A==="all"||te.location?.id===parseInt(A),le=L==="all"||te.jobDetails?.department===L,je=M==="all"||te.gender===M;if(!m.trim())return Y&&je&&le;const ae=te.firstName&&`${te.firstName} ${te.lastName}`.toLowerCase().includes(H)||te.employeeCode&&te.employeeCode.toLowerCase().includes(H);return Y&&je&&le&&ae})},[l,A,M,m,L]),G=({emp:H,onSelect:te})=>{const[Y,le]=reactExports.useState(null),je=(H.firstName?.[0]||"")+(H.lastName?.[0]||"");return reactExports.useEffect(()=>{let ae;return H.photoPath&&(async()=>{try{const ce=localStorage.getItem("token"),oe=await axios.get(`${B}/employees/${H.employeeCode}/photo`,{headers:{Authorization:`Bearer ${ce}`},responseType:"blob"});ae=URL.createObjectURL(oe.data),le(ae)}catch{}})(),()=>{ae&&URL.revokeObjectURL(ae)}},[H.employeeCode,H.photoPath]),jsxRuntimeExports.jsxs("div",{className:"bg-card text-card-foreground rounded-xl shadow-sm border border-border hover:shadow-lg transition-all duration-300 cursor-pointer overflow-hidden group",onClick:()=>te(H),children:[jsxRuntimeExports.jsxs("div",{className:"relative bg-background-muted",style:{aspectRatio:"4 / 3"},children:[Y?jsxRuntimeExports.jsx("img",{src:Y,alt:`${H.firstName} ${H.lastName}`,className:"w-full h-full object-cover"}):jsxRuntimeExports.jsx("div",{className:"w-full h-full flex items-center justify-center bg-primary/10",children:jsxRuntimeExports.jsx("span",{className:"text-4xl font-bold text-primary opacity-70",children:je})}),jsxRuntimeExports.jsx("div",{className:`absolute top-2 right-2 px-2 py-0.5 text-xs font-semibold rounded-full capitalize ${H.status==="ACTIVE"?"bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-300":"bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-300"}`,children:H.status?.toLowerCase()})]}),jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsxs("h4",{className:"font-bold text-foreground truncate",children:[H.firstName," ",H.lastName]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-foreground-muted truncate",children:H.jobDetails?.designation||"No Designation"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-foreground-muted/80 truncate",children:H.jobDetails?.department||"No Department"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-foreground-muted/80 mt-1",children:H.employeeCode})]}),jsxRuntimeExports.jsxs("div",{className:"border-t border-border/50 px-4 pt-3 pb-4 space-y-2 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-foreground-muted",children:[jsxRuntimeExports.jsx(Mail,{size:14,className:"flex-shrink-0 text-red-500"}),jsxRuntimeExports.jsx("span",{className:"truncate text-xs",children:H.emailWork||"No work email"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-foreground-muted",children:[jsxRuntimeExports.jsx(Phone,{size:14,className:"flex-shrink-0 text-green-500"}),jsxRuntimeExports.jsx("span",{className:"truncate text-xs",children:H.phonePrimary||"No phone"})]})]})]})},K=reactExports.useCallback(({employees:H,onSelect:te})=>jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-5",children:H.map(Y=>jsxRuntimeExports.jsx(G,{emp:Y,onSelect:te},Y.employeeCode))}),[B]),J=()=>{if(!n)return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Employees (",ee.length,")"]}),j?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-64",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary"})}):ee.length>0?jsxRuntimeExports.jsx(K,{employees:ee,onSelect:Q}):jsxRuntimeExports.jsxs("div",{className:"text-center py-10 text-foreground-muted",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"No Employees Found"}),jsxRuntimeExports.jsx("p",{children:"No employees match the current filters."})]})]});switch(e){case"Profile":return jsxRuntimeExports.jsx(Profile,{employee:n,onUpdate:V});case"Job Details":return jsxRuntimeExports.jsx(JobDetails,{employee:n});case"Address & Bank Details":return jsxRuntimeExports.jsx(Address,{employee:n});case"Documents":return jsxRuntimeExports.jsx(Documents,{employee:n});case"Time & Attendance":return jsxRuntimeExports.jsx(TimeAttendence,{employee:n});case"Leave":return jsxRuntimeExports.jsx(Leave,{employee:n});case"Salary":return jsxRuntimeExports.jsx(Payroll,{employee:n});default:return jsxRuntimeExports.jsxs("div",{children:["Details for ",e]})}},ne=async H=>{const te=H.target.files[0];if(!te||!n)return;S(!0);const Y=new FormData;Y.append("file",te);try{const le=localStorage.getItem("token"),je=await axios.post(`${B}/employees/${n.employeeCode}/photo`,Y,{headers:{Authorization:`Bearer ${le}`,"Content-Type":"multipart/form-data"}});o(je.data)}catch(le){console.error("Error uploading photo:",le),alert("Failed to upload photo. Please ensure it's a valid image file.")}finally{S(!1)}};return jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full",children:[jsxRuntimeExports.jsxs("div",{className:"bg-card/80 backdrop-blur-sm shadow-sm sticky top-0 z-20",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-border flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 min-h-[100px]",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[n&&jsxRuntimeExports.jsx("button",{onClick:()=>o(null),className:"p-2 rounded-full hover:bg-primary/10 text-primary -ml-2 transition-colors",children:jsxRuntimeExports.jsx(ArrowLeft,{size:20})}),n&&jsxRuntimeExports.jsxs("div",{className:"relative group",children:[R?jsxRuntimeExports.jsx("img",{src:R,alt:"Employee",className:"w-16 h-16 rounded-full object-cover ring-4 ring-card shadow-md"}):jsxRuntimeExports.jsx("div",{className:"w-16 h-16 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-2xl font-bold ring-4 ring-card shadow-md",children:n?n.initials:"?"}),jsxRuntimeExports.jsx("label",{htmlFor:"photo-upload",className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-0 group-hover:bg-opacity-60 rounded-full cursor-pointer transition-opacity",children:N?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-6 w-6 text-white"}):jsxRuntimeExports.jsx(Camera,{className:"h-6 w-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),jsxRuntimeExports.jsx("input",{id:"photo-upload",type:"file",className:"hidden",accept:"image/*",onChange:ne})]}),jsxRuntimeExports.jsxs("div",{className:"min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl md:text-2xl font-bold text-foreground truncate",children:n?`${n.firstName} ${n.lastName}`:"Employee Details"}),n&&jsxRuntimeExports.jsx("span",{className:`inline-block px-2.5 py-1 text-xs font-semibold rounded-full capitalize ${n.status==="ACTIVE"?"bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-300":"bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-300"}`,children:n.status.toLowerCase()})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-foreground-muted",children:n?.jobDetails?.designation||(n?"No Designation":"Select an employee or search by ID")})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(MapPin,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-foreground-muted"}),jsxRuntimeExports.jsxs("select",{value:A,onChange:H=>T(H.target.value),className:"input pl-10 pr-8 appearance-none w-full sm:w-auto bg-background-muted border-border text-foreground-muted hover:border-primary",children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Locations"}),$.map(H=>jsxRuntimeExports.jsx("option",{value:H.id,children:H.name},H.id))]}),jsxRuntimeExports.jsx(ChevronDown,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-foreground-muted pointer-events-none"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Briefcase,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-foreground-muted"}),jsxRuntimeExports.jsxs("select",{value:L,onChange:H=>_(H.target.value),className:"input pl-10 pr-8 appearance-none w-full sm:w-auto bg-background-muted border-border text-foreground-muted hover:border-primary",children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Departments"}),D.map(H=>jsxRuntimeExports.jsx("option",{value:H.name,children:H.name},H.id))]}),jsxRuntimeExports.jsx(ChevronDown,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-foreground-muted pointer-events-none"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Users,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-foreground-muted"}),jsxRuntimeExports.jsxs("select",{value:M,onChange:H=>F(H.target.value),className:"input pl-10 pr-8 appearance-none w-full sm:w-auto bg-background-muted border-border text-foreground-muted hover:border-primary",children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Genders"}),jsxRuntimeExports.jsx("option",{value:"MALE",children:"Male"}),jsxRuntimeExports.jsx("option",{value:"FEMALE",children:"Female"}),jsxRuntimeExports.jsx("option",{value:"OTHER",children:"Other"})]}),jsxRuntimeExports.jsx(ChevronDown,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-foreground-muted pointer-events-none"})]}),jsxRuntimeExports.jsxs("form",{onSubmit:q,className:"relative w-full sm:w-auto flex",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by Name or ID",value:m,onChange:H=>p(H.target.value),className:"w-full sm:w-56 pl-4 pr-12 py-2 border border-border rounded-l-lg focus:outline-none focus:ring-2 focus:ring-primary transition bg-card text-foreground"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"absolute right-0 top-0 bottom-0 px-4 bg-primary text-primary-foreground rounded-r-lg hover:bg-primary/90 flex items-center justify-center",disabled:j,children:j&&!n?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-5 w-5"}):jsxRuntimeExports.jsx(Search,{className:"h-5 w-5"})})]})]})]}),n&&jsxRuntimeExports.jsx("nav",{className:"flex overflow-x-auto border-b border-border",children:employeeNavLinks.map(H=>jsxRuntimeExports.jsxs("button",{onClick:()=>t(H.name),className:`flex-shrink-0 flex items-center gap-3 px-4 py-3 text-sm font-medium transition-all duration-200 border-b-2 group ${e===H.name?"border-primary text-primary":"border-transparent text-foreground-muted hover:text-foreground hover:border-border"}`,children:[jsxRuntimeExports.jsx("div",{className:`p-1.5 rounded-lg ${H.bgColor} ${e===H.name?"shadow-sm":"opacity-70 group-hover:opacity-100"}`,children:jsxRuntimeExports.jsx(H.icon,{className:`h-4 w-4 ${H.color}`})}),jsxRuntimeExports.jsx("span",{children:H.name})]},H.name))})]}),jsxRuntimeExports.jsx("main",{className:"flex-1 p-6 md:p-8 overflow-y-auto bg-background-muted",children:jsxRuntimeExports.jsx("div",{className:"bg-card/80 backdrop-blur-sm p-6 rounded-xl shadow-md border border-border",children:g?jsxRuntimeExports.jsx("div",{className:"text-center text-red-600",children:g}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[!n&&jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"All Employees"}),J()]})})})]})})},serviceModulesOptions$1=[{value:"HRMS_CORE",label:"HRMS Core"},{value:"HRMS_ATTENDANCE",label:"HRMS Attendance"},{value:"HRMS_LEAVE",label:"HRMS Leave"},{value:"HRMS_PAYROLL",label:"HRMS Payroll"},{value:"HRMS_RECRUITMENT",label:"HRMS Recruitment"},{value:"POS",label:"Point of Sale (POS)"},{value:"CRM",label:"CRM"},{value:"PRODUCTION",label:"Production"},{value:"SALES",label:"Sales"},{value:"PURCHASE",label:"Purchase"}],adminRoleOptions$1=[{value:"SUPER_ADMIN",label:"Super Admin"},{value:"HRMS_ADMIN",label:"HRMS Admin"},{value:"HR",label:"HR"},{value:"MANAGER",label:"Manager"},{value:"EMPLOYEE",label:"Employee"},{value:"POS_ADMIN",label:"POS Admin"},{value:"POS_MANAGER",label:"POS Manager"},{value:"POS_CASHIER",label:"POS Cashier"}],InputField$b=({label:e,...t})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:t.name,className:"block text-sm font-medium text-foreground-muted",children:e}),jsxRuntimeExports.jsx("input",{id:t.name,...t,className:"input bg-background-muted border-border text-foreground placeholder-foreground-muted/70"})]}),ProvisionTenant=({onProvision:e,onCancel:t})=>{const[n,o]=reactExports.useState({tenantId:"",companyName:"",adminEmail:"",adminPassword:"",numberOfLocations:1,numberOfUsers:5,numberOfStore:1,hrmsAccessCount:5,subscriptionStartDate:new Date().toISOString().split("T")[0],subscriptionEndDate:new Date(new Date().setFullYear(new Date().getFullYear()+1)).toISOString().split("T")[0]}),[l,u]=reactExports.useState([]),[m,p]=reactExports.useState(!1),[j,f]=reactExports.useState([]),[g,b]=reactExports.useState(""),R=$=>{o({...n,[$.target.name]:$.target.value})},v=$=>{const{value:C,checked:A}=$.target;u(T=>A?[...T,C]:T.filter(D=>D!==C))},N=$=>{f(Array.from($.target.selectedOptions,C=>C.value))},S=async $=>{if($.preventDefault(),j.length===0){b("You must select at least one admin role.");return}p(!0),b("");const C={...n,serviceModules:l,adminRoles:j};try{await e(C)}catch(A){b(A.message||"An error occurred during provisioning.")}finally{p(!1)}};return jsxRuntimeExports.jsxs("div",{className:"bg-card text-card-foreground p-6 rounded-xl shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[jsxRuntimeExports.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-background-muted",children:jsxRuntimeExports.jsx(ArrowLeft,{size:20})}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Provision New Tenant"})]}),jsxRuntimeExports.jsxs("form",{onSubmit:S,children:[jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("h4",{className:"text-md font-semibold text-foreground-muted border-b border-border pb-2",children:"Tenant & Admin Details"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(InputField$b,{label:"Tenant ID",name:"tenantId",value:n.tenantId,onChange:R,placeholder:"e.g., my-company",required:!0}),jsxRuntimeExports.jsx(InputField$b,{label:"Company Name",name:"companyName",value:n.companyName,onChange:R,placeholder:"e.g., My Awesome Company",required:!0}),jsxRuntimeExports.jsx(InputField$b,{label:"Admin Email",name:"adminEmail",type:"email",value:n.adminEmail,onChange:R,placeholder:"e.g., admin@mycompany.com",required:!0}),jsxRuntimeExports.jsx(InputField$b,{label:"Admin Password",name:"adminPassword",type:"password",value:n.adminPassword,onChange:R,placeholder:"A secure password for the tenant admin",required:!0})]}),jsxRuntimeExports.jsx("h4",{className:"text-md font-semibold text-foreground-muted border-b border-border pb-2 pt-4",children:"Subscription Details"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsx(InputField$b,{label:"Locations",name:"numberOfLocations",type:"number",value:n.numberOfLocations,onChange:R,required:!0,min:"1"}),jsxRuntimeExports.jsx(InputField$b,{label:"Users",name:"numberOfUsers",type:"number",value:n.numberOfUsers,onChange:R,required:!0,min:"1"}),jsxRuntimeExports.jsx(InputField$b,{label:"Stores",name:"numberOfStore",type:"number",value:n.numberOfStore,onChange:R,required:!0,min:"1"}),jsxRuntimeExports.jsx(InputField$b,{label:"HRMS Access",name:"hrmsAccessCount",type:"number",value:n.hrmsAccessCount,onChange:R,required:!0,min:"1"}),jsxRuntimeExports.jsx(InputField$b,{label:"Start Date",name:"subscriptionStartDate",type:"date",value:n.subscriptionStartDate,onChange:R,required:!0}),jsxRuntimeExports.jsx(InputField$b,{label:"End Date",name:"subscriptionEndDate",type:"date",value:n.subscriptionEndDate,onChange:R,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 pt-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-foreground-muted",children:"Service Modules"}),jsxRuntimeExports.jsx("div",{className:"mt-2 space-y-2",children:serviceModulesOptions$1.map($=>jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",value:$.value,onChange:v,className:"h-4 w-4 rounded border-border text-primary focus:ring-primary"}),jsxRuntimeExports.jsx("span",{children:$.label})]},$.value))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"adminRoles",className:"block text-sm font-medium text-foreground-muted",children:"Admin Roles"}),jsxRuntimeExports.jsxs("select",{id:"adminRoles",multiple:!0,value:j,onChange:N,className:"input bg-background-muted border-border text-foreground",size:5,children:[jsxRuntimeExports.jsx("option",{disabled:!0,value:"",children:"Select roles..."}),adminRoleOptions$1.map($=>jsxRuntimeExports.jsx("option",{value:$.value,children:$.label},$.value))]}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-xs text-foreground-muted",children:"Hold Ctrl (or Cmd on Mac) to select multiple roles."})]})]}),g&&jsxRuntimeExports.jsx("p",{className:"text-sm text-red-500 text-center",children:g})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-8",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:m,children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"btn-primary flex items-center w-40 justify-center",disabled:m,children:m?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Check,{className:"h-4 w-4 mr-2"}),"Provision Tenant"]})})]})]})]})},serviceModulesOptions=[{value:"HRMS_CORE",label:"HRMS Core"},{value:"HRMS_ATTENDANCE",label:"HRMS Attendance"},{value:"HRMS_LEAVE",label:"HRMS Leave"},{value:"HRMS_PAYROLL",label:"HRMS Payroll"},{value:"HRMS_RECRUITMENT",label:"HRMS Recruitment"},{value:"POS",label:"Point of Sale (POS)"},{value:"CRM",label:"CRM"},{value:"PRODUCTION",label:"Production"},{value:"SALES",label:"Sales"},{value:"PURCHASE",label:"Purchase"}],adminRoleOptions=[{value:"SUPER_ADMIN",label:"Super Admin"},{value:"HRMS_ADMIN",label:"HRMS Admin"},{value:"HR",label:"HR"},{value:"MANAGER",label:"Manager"},{value:"EMPLOYEE",label:"Employee"},{value:"POS_ADMIN",label:"POS Admin"},{value:"POS_MANAGER",label:"POS Manager"},{value:"POS_CASHIER",label:"POS Cashier"}],masterRoleOptions=[{value:"MASTER_ADMIN",label:"Master Admin"}],masterNavLinks=[{name:"Dashboard",view:"dashboard",icon:LayoutDashboard,color:"text-sky-500"},{name:"Tenants",view:"tenants",icon:Building,color:"text-orange-500"},{name:"Requests",view:"requests",icon:Activity,color:"text-yellow-500"}],InputField$a=({label:e,...t})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:t.name,className:"block text-sm font-medium text-foreground-muted",children:e}),jsxRuntimeExports.jsx("input",{id:t.name,...t,className:"input bg-background-muted border-border text-foreground"})]}),UpdateTenantModal=({isOpen:e,onClose:t,onUpdate:n,tenant:o,isLoading:l})=>{const[u,m]=reactExports.useState([]),[p,j]=reactExports.useState({}),[f,g]=reactExports.useState(new Set),[b,R]=reactExports.useState("");reactExports.useEffect(()=>{o&&(m(o.serviceModules||[]),j({companyName:o.companyName||"",numberOfLocations:o.numberOfLocations||1,numberOfUsers:o.numberOfUsers||5,numberOfStore:o.numberOfStore||1,hrmsAccessCount:o.hrmsAccessCount||5,subscriptionStartDate:o.subscriptionStartDate?new Date(o.subscriptionStartDate).toISOString().split("T")[0]:"",subscriptionEndDate:o.subscriptionEndDate?new Date(o.subscriptionEndDate).toISOString().split("T")[0]:""}),g(new Set(o.adminRoles||[])))},[o]);const v=C=>{const{value:A,checked:T}=C.target;m(D=>T?[...D,A]:D.filter(I=>I!==A))},N=C=>{j(A=>({...A,[C.target.name]:C.target.value}))},S=C=>{const{value:A,checked:T}=C.target;g(D=>{const I=new Set(D);return T?I.add(A):I.delete(A),I})},$=async C=>{C.preventDefault(),R("");const A={details:p,serviceModules:u,adminRoles:Array.from(f)};try{await n(o.tenantId,A.details,{serviceModules:A.serviceModules,adminRoles:A.adminRoles}),t()}catch(T){R(T.response?.data?.message||T.message||"An error occurred during the update.")}};return!e||!o?null:jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-card text-card-foreground rounded-lg shadow-xl w-full max-w-lg",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h3",{className:"text-xl font-semibold text-foreground",children:["Update Tenant: ",o.tenantId]}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-1 rounded-full text-foreground-muted hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:$,children:[jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-4 max-h-[75vh] overflow-y-auto",children:[jsxRuntimeExports.jsx("h4",{className:"text-md font-semibold text-foreground-muted border-b border-border pb-2",children:"Tenant Details"}),jsxRuntimeExports.jsx(InputField$a,{label:"Company Name",name:"companyName",value:p.companyName,onChange:N,required:!0}),jsxRuntimeExports.jsx("h4",{className:"text-md font-semibold text-foreground-muted border-b border-border pb-2 pt-4",children:"Subscription Details"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(InputField$a,{label:"Number of Locations",name:"numberOfLocations",type:"number",value:p.numberOfLocations,onChange:N,required:!0,min:"1"}),jsxRuntimeExports.jsx(InputField$a,{label:"Number of Users",name:"numberOfUsers",type:"number",value:p.numberOfUsers,onChange:N,required:!0,min:"1"}),jsxRuntimeExports.jsx(InputField$a,{label:"Number of Stores",name:"numberOfStore",type:"number",value:p.numberOfStore,onChange:N,required:!0,min:"1"}),jsxRuntimeExports.jsx(InputField$a,{label:"HRMS Access Count",name:"hrmsAccessCount",type:"number",value:p.hrmsAccessCount,onChange:N,required:!0,min:"1"}),jsxRuntimeExports.jsx(InputField$a,{label:"Subscription Start Date",name:"subscriptionStartDate",type:"date",value:p.subscriptionStartDate,onChange:N,required:!0}),jsxRuntimeExports.jsx(InputField$a,{label:"Subscription End Date",name:"subscriptionEndDate",type:"date",value:p.subscriptionEndDate,onChange:N,required:!0})]}),jsxRuntimeExports.jsx("h4",{className:"text-md font-semibold text-foreground-muted border-b border-border pb-2 pt-4",children:"Service Modules"}),jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-foreground-muted",children:"Service Modules"}),jsxRuntimeExports.jsx("div",{className:"mt-2 space-y-2",children:serviceModulesOptions.map(C=>jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",value:C.value,checked:u.includes(C.value),onChange:v,className:"h-4 w-4 rounded border-border text-primary focus:ring-primary"}),jsxRuntimeExports.jsx("span",{children:C.label})]},C.value))}),jsxRuntimeExports.jsx("h4",{className:"text-md font-semibold text-foreground-muted border-b border-border pb-2 pt-4",children:"Admin Roles"}),jsxRuntimeExports.jsx("div",{className:"mt-2 space-y-2",children:adminRoleOptions.map(C=>jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",value:C.value,checked:f.has(C.value),onChange:S,className:"h-4 w-4 rounded border-border text-primary focus:ring-primary"}),jsxRuntimeExports.jsx("span",{children:C.label})]},C.value))}),b&&jsxRuntimeExports.jsx("p",{className:"text-sm text-red-500 text-center",children:b})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-background-muted border-t border-border flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:l,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:l,children:[l?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}):jsxRuntimeExports.jsx(Check,{className:"h-4 w-4 mr-2"})," Update Tenant"]})]})]})]})})},TenantDetailsModal=({isOpen:e,onClose:t,tenant:n,onEditClick:o})=>{if(!e||!n)return null;const l=({icon:u,label:m,value:p,isDate:j=!1})=>jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx(u,{className:"h-5 w-5 text-foreground-muted mt-0.5"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-foreground-muted",children:m}),jsxRuntimeExports.jsx("p",{className:"font-medium text-foreground",children:j&&p?new Date(p).toLocaleDateString():p??"N/A"})]})]});return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-card text-card-foreground rounded-lg shadow-xl w-full max-w-2xl",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold",children:n.companyName}),jsxRuntimeExports.jsx("p",{className:"text-sm text-foreground-muted",children:n.tenantId})]}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsx("div",{className:"p-6 max-h-[75vh] overflow-y-auto",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsx(l,{icon:Building,label:"Company Name",value:n.companyName}),jsxRuntimeExports.jsx(l,{icon:Hash,label:"Tenant ID",value:n.tenantId}),jsxRuntimeExports.jsx(l,{icon:MapPin,label:"Locations Allowed",value:n.numberOfLocations}),jsxRuntimeExports.jsx(l,{icon:Users,label:"Users Allowed",value:n.numberOfUsers}),jsxRuntimeExports.jsx(l,{icon:Store,label:"Stores Allowed",value:n.numberOfStore}),jsxRuntimeExports.jsx(l,{icon:Users,label:"HRMS Access Count",value:n.hrmsAccessCount}),jsxRuntimeExports.jsx(l,{icon:Calendar,label:"Subscription Start",value:n.subscriptionStartDate,isDate:!0}),jsxRuntimeExports.jsx(l,{icon:Calendar,label:"Subscription End",value:n.subscriptionEndDate,isDate:!0}),jsxRuntimeExports.jsx("div",{className:"md:col-span-2",children:jsxRuntimeExports.jsx(l,{icon:Activity,label:"Status",value:n.status})}),jsxRuntimeExports.jsx("div",{className:"md:col-span-2",children:jsxRuntimeExports.jsx(l,{icon:Server,label:"JDBC URL",value:n.jdbcUrl})})]})}),jsxRuntimeExports.jsx("div",{className:"p-4 border-t border-border bg-background-muted flex justify-end",children:jsxRuntimeExports.jsxs("button",{onClick:()=>o(n),className:"btn-secondary flex items-center gap-2",children:[jsxRuntimeExports.jsx(SquarePen,{size:16}),"Edit Tenant"]})})]})})},MasterUserModal=({isOpen:e,onClose:t,onSave:n,user:o,loading:l})=>{const[u,m]=reactExports.useState({username:"",password:"",confirmPassword:"",roles:new Set(["MASTER_ADMIN"])}),[p,j]=reactExports.useState("");reactExports.useEffect(()=>{m(o?{username:o.username,password:"",confirmPassword:"",roles:new Set(o.roles||["MASTER_ADMIN"])}:{username:"",password:"",confirmPassword:"",roles:new Set(["MASTER_ADMIN"])}),j("")},[o,e]);const f=R=>{const{name:v,value:N}=R.target;m(S=>({...S,[v]:N}))},g=R=>{m(v=>{const N=new Set(v.roles);return N.has(R)?N.delete(R):N.add(R),{...v,roles:N}})},b=R=>{if(R.preventDefault(),u.password!==u.confirmPassword){j("Passwords do not match.");return}if(!o&&!u.password){j("Password is required for new users.");return}n({...u,roles:Array.from(u.roles)})};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-card text-card-foreground rounded-lg shadow-xl w-full max-w-lg",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold",children:[o?"Edit":"Add"," Master User"]}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:b,children:[jsxRuntimeExports.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx("div",{className:"md:col-span-2",children:jsxRuntimeExports.jsx(InputField$a,{label:"Username",name:"username",value:u.username,onChange:f,required:!0})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(InputField$a,{label:"Password",name:"password",type:"password",value:u.password,onChange:f,required:!o,placeholder:o?"Leave blank to keep current":""})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(InputField$a,{label:"Confirm Password",name:"confirmPassword",type:"password",value:u.confirmPassword,onChange:f,required:!o||!!u.password})}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-foreground-muted",children:"Roles"}),jsxRuntimeExports.jsx("div",{className:"mt-2 flex flex-wrap gap-x-4 gap-y-2",children:masterRoleOptions.map(R=>jsxRuntimeExports.jsxs("label",{className:"inline-flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:u.roles.has(R.value),onChange:()=>g(R.value),className:"h-4 w-4 rounded border-border text-primary focus:ring-primary"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-sm text-foreground-muted",children:R.label})]},R.value))})]}),p&&jsxRuntimeExports.jsx("p",{className:"md:col-span-2 text-red-500",children:p})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t border-border bg-background-muted flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:l,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:l,children:[l&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"})," Save"]})]})]})]})}):null},MasterUsers=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState(""),[m,p]=reactExports.useState(!1),[j,f]=reactExports.useState(null),[g,b]=reactExports.useState(!1),R="https://javapaas-202946-0.cloudclusters.net/api",v=async()=>{o(!0),u("");try{const A=localStorage.getItem("token"),T=await axios.get(`${R}/master/users`,{headers:{Authorization:`Bearer ${A}`}});t(T.data)}catch(A){u("Failed to fetch master users."),console.error(A)}finally{o(!1)}};reactExports.useEffect(()=>{v()},[R]);const N=()=>{f(null),p(!0)},S=A=>{f(A),p(!0)},$=async A=>{b(!0),u("");try{const T=localStorage.getItem("token"),{confirmPassword:D,...I}=A;j?await axios.put(`${R}/master/users/${j.id}`,I,{headers:{Authorization:`Bearer ${T}`}}):await axios.post(`${R}/master/users`,I,{headers:{Authorization:`Bearer ${T}`}}),p(!1),v()}catch(T){u(T.response?.data||"Failed to save user."),console.error(T)}finally{b(!1)}},C=async A=>{if(window.confirm("Are you sure you want to delete this master user?"))try{const T=localStorage.getItem("token");await axios.delete(`${R}/master/users/${A}`,{headers:{Authorization:`Bearer ${T}`}}),v()}catch(T){u(T.response?.data||"Failed to delete user."),console.error(T)}};return jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Master Users"}),jsxRuntimeExports.jsxs("button",{onClick:N,className:"btn-primary flex items-center",children:[jsxRuntimeExports.jsx(CirclePlus,{className:"h-5 w-5 mr-2"})," Add Master User"]})]}),l&&jsxRuntimeExports.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 text-red-500 px-4 py-3 rounded relative mb-4",role:"alert",children:[jsxRuntimeExports.jsx("strong",{className:"font-bold",children:"Error: "}),jsxRuntimeExports.jsx("span",{className:"block sm:inline",children:l})]}),jsxRuntimeExports.jsx("div",{className:"bg-card text-card-foreground rounded-xl shadow-sm overflow-hidden",children:n?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-80",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-primary"})}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Username"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Roles"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"text-foreground-muted",children:e.length>0?e.map(A=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-border hover:bg-background-muted",children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium text-foreground",children:A.username}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1",children:A.roles.map(T=>jsxRuntimeExports.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-background-muted text-foreground-muted",children:T},T))})}),jsxRuntimeExports.jsxs("td",{className:"td-cell",children:[jsxRuntimeExports.jsx("button",{onClick:()=>S(A),className:"p-2 hover:text-primary hover:bg-background-muted rounded-full transition-colors",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>C(A.id),className:"p-2 hover:text-red-600 hover:bg-background-muted rounded-full transition-colors",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})]},A.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"3",className:"text-center py-10 text-foreground-muted",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-foreground",children:"No master users found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"Get started by creating a new master user."})]})})})]})})}),jsxRuntimeExports.jsx(MasterUserModal,{isOpen:m,onClose:()=>p(!1),onSave:$,user:j,loading:g})]})},MasterSidebar=({activeView:e,setActiveView:t,onLinkClick:n,theme:o,cycleTheme:l})=>{const u=useNavigate(),m=localStorage.getItem("username")||"Master Admin",p=()=>{localStorage.clear(),u("/login")},j=({item:f})=>jsxRuntimeExports.jsxs("button",{onClick:()=>{t(f.view),n&&n()},className:`flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors w-full text-left ${e===f.view?"bg-primary text-primary-foreground shadow-sm":"text-foreground-muted hover:bg-background-muted"}`,children:[jsxRuntimeExports.jsx(f.icon,{className:`h-5 w-5 mr-3 flex-shrink-0 transition-colors ${e===f.view?"text-primary-foreground":f.color}`}),jsxRuntimeExports.jsx("span",{children:f.name})]});return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full bg-card text-card-foreground",children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b border-border flex-shrink-0",children:jsxRuntimeExports.jsxs(Link$1,{to:"/master-admin",className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Sparkles,{className:"h-7 w-7 text-primary"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-xl text-foreground",children:"Master Panel"})]})}),jsxRuntimeExports.jsxs("nav",{className:"flex-1 px-4 py-4 space-y-2 overflow-y-auto",children:[masterNavLinks.map(f=>jsxRuntimeExports.jsx(j,{item:f},f.name)),jsxRuntimeExports.jsx("div",{className:"pt-4 mt-4 border-t border-border",children:jsxRuntimeExports.jsx(j,{item:{name:"Users",view:"users",icon:Users,color:"text-blue-500"}})})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t border-border flex-shrink-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center min-w-0",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center font-bold text-primary flex-shrink-0",children:m.charAt(0).toUpperCase()}),jsxRuntimeExports.jsxs("div",{className:"ml-3 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-semibold text-foreground truncate",children:m}),jsxRuntimeExports.jsx("p",{className:"text-xs text-foreground-muted",children:"Master Admin"})]})]}),jsxRuntimeExports.jsx("button",{onClick:p,className:"text-foreground-muted hover:text-red-600 ml-2 flex-shrink-0",title:"Logout",children:jsxRuntimeExports.jsx(LogOut,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex items-center justify-between capitalize",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-foreground-muted",children:[o," Mode"]}),jsxRuntimeExports.jsx("button",{onClick:l,className:"p-2 rounded-full hover:bg-background-muted text-foreground-muted",title:"Cycle Theme",children:jsxRuntimeExports.jsx(Palette,{className:"h-5 w-5"})})]})]})]})},DashboardView$1=({stats:e,loading:t,error:n})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Dashboard"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-6",children:e.map((o,l)=>jsxRuntimeExports.jsx(StatCard$7,{...o},l))})]}),TenantsView=({tenants:e,loading:t,error:n,onDelete:o,onEdit:l,onProvisionClick:u,onViewDetails:m})=>{const[p,j]=reactExports.useState(""),f=reactExports.useMemo(()=>{if(!p)return e;const g=p.toLowerCase();return e.filter(b=>b.companyName.toLowerCase().includes(g)||b.tenantId.toLowerCase().includes(g))},[e,p]);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Registered Tenants"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by name or ID...",value:p,onChange:g=>j(g.target.value),className:"input w-full sm:w-64 pr-10 bg-background-muted border-border"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-foreground-muted"})]}),jsxRuntimeExports.jsxs("button",{onClick:u,className:"btn-primary flex items-center gap-2",children:[jsxRuntimeExports.jsx(CirclePlus,{size:18})," New Tenant"]})]})]}),jsxRuntimeExports.jsx("div",{className:"bg-card text-card-foreground p-6 rounded-xl shadow-sm",children:t?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-40",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-primary"})}):n?jsxRuntimeExports.jsx("p",{className:"text-red-500 text-center",children:n}):jsxRuntimeExports.jsx(TenantList,{tenants:f,onDelete:o,onEdit:l,onViewDetails:m})})]})},RequestsView=({requests:e,loading:t,error:n,onApprove:o,onReject:l})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Pending Tenant Requests"}),jsxRuntimeExports.jsx("div",{className:"mt-6 bg-card text-card-foreground p-6 rounded-xl shadow-sm",children:t?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-40",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-primary"})}):n?jsxRuntimeExports.jsx("p",{className:"text-red-500 text-center",children:n}):jsxRuntimeExports.jsx(TenantRequestList,{requests:e,onApprove:o,onReject:l})})]}),StatCard$7=({icon:e,title:t,value:n,change:o,changeType:l})=>jsxRuntimeExports.jsxs("div",{className:"bg-card text-card-foreground p-6 rounded-xl shadow-sm flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-foreground-muted",children:t}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-foreground mt-1",children:n}),o&&jsxRuntimeExports.jsxs("div",{className:`mt-2 flex items-center text-sm ${l==="increase"?"text-green-600":"text-red-600"}`,children:[l==="increase"?jsxRuntimeExports.jsx(ArrowUpRight,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(ArrowDownRight,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:o})]})]}),jsxRuntimeExports.jsx("div",{className:"bg-primary/10 text-primary p-3 rounded-lg",children:jsxRuntimeExports.jsx(e,{className:"h-6 w-6"})})]}),TenantCard=({tenant:e,onDelete:t,onEdit:n,onViewDetails:o})=>(e.status,jsxRuntimeExports.jsxs("div",{className:"bg-background-muted rounded-lg p-4 flex flex-col justify-between shadow-sm hover:shadow-md transition-shadow",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-foreground",children:e.companyName}),jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full capitalize ${e.status==="ACTIVE"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.status.toLowerCase()})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-foreground-muted font-mono",children:e.tenantId}),jsxRuntimeExports.jsxs("div",{className:"mt-3 text-xs space-y-1 text-foreground-muted",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"DB User:"})," ",e.username]}),jsxRuntimeExports.jsxs("p",{className:"truncate",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"DB URL:"})," ",e.jdbcUrl]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end gap-1 mt-4 pt-3 border-t border-border",children:[jsxRuntimeExports.jsx("button",{onClick:()=>o(e),className:"p-2 text-foreground-muted hover:text-green-500 hover:bg-background rounded-full transition-colors",title:`View ${e.tenantId}`,children:jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>n(e),className:"p-2 text-foreground-muted hover:text-blue-500 hover:bg-background rounded-full transition-colors",title:`Edit ${e.tenantId}`,children:jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>t(e.tenantId),className:"p-2 text-foreground-muted hover:text-red-500 hover:bg-background rounded-full transition-colors",title:`Delete ${e.tenantId}`,children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})]})),TenantList=({tenants:e,onDelete:t,onEdit:n,onViewDetails:o})=>e.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-16 text-foreground-muted",children:[jsxRuntimeExports.jsx(Search,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-foreground",children:"No Tenants Found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"No tenants match your search criteria."})]}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:e.map(l=>jsxRuntimeExports.jsx(TenantCard,{tenant:l,onDelete:t,onEdit:n,onViewDetails:o},l.id))}),TenantRequestList=({requests:e,onApprove:t,onReject:n})=>jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Requested ID"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Company Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Admin Email"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Admin Password"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"text-foreground-muted",children:e.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"4",className:"text-center py-10",children:"No pending tenant requests."})}):e.map(o=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-border hover:bg-background-muted",children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium text-foreground",children:o.tenantId}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:o.companyName}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:o.adminEmail}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:o.adminPassword}),jsxRuntimeExports.jsxs("td",{className:"py-3 px-4 flex items-center gap-2",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>t(o),className:"flex items-center gap-1 px-3 py-1 bg-green-100 text-green-800 text-xs font-semibold rounded-full hover:bg-green-200 transition-colors",title:`Approve ${o.tenantId}`,children:[jsxRuntimeExports.jsx(Check,{className:"h-3 w-3"})," Approve"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>n(o.id,o.tenantId),className:"flex items-center gap-1 px-3 py-1 bg-red-100 text-red-800 text-xs font-semibold rounded-full hover:bg-red-200 transition-colors",title:`Reject ${o.tenantId}`,children:[jsxRuntimeExports.jsx(X,{className:"h-3 w-3"})," Reject"]})]})]},o.id))})]})}),MasterAdmin=()=>{const[e,t]=reactExports.useState("dashboard"),[n,o]=reactExports.useState(!1),[l,u]=reactExports.useState([]),[m,p]=reactExports.useState([]),[j,f]=reactExports.useState(!0),[g,b]=reactExports.useState(!1),[R,v]=reactExports.useState(!1),[N,S]=reactExports.useState(!1),[$,C]=reactExports.useState(!1),[A,T]=reactExports.useState(null),[D,I]=reactExports.useState(null),[L,_]=reactExports.useState(""),M="https://javapaas-202946-0.cloudclusters.net/api",F=["light","dark","greenish","blueish"],[B,q]=reactExports.useState(()=>localStorage.getItem("theme")||"light");reactExports.useEffect(()=>{const ae=document.documentElement;F.forEach(Z=>ae.classList.remove(Z)),B!=="light"&&ae.classList.add(B),localStorage.setItem("theme",B)},[B]);const z=()=>{const Z=(F.indexOf(B)+1)%F.length;q(F[Z])},V=reactExports.useMemo(()=>[{title:"Active Tenants",value:l.length,icon:Building,change:"+2 this month",changeType:"increase"},{title:"Total Users",value:"1,420",icon:Users,change:"+5.1%",changeType:"increase"},{title:"Pending Requests",value:m.length,icon:Activity,change:"Needs review",changeType:"decrease"},{title:"System Status",value:"Operational",icon:Server,change:"All systems normal",changeType:"increase"}],[l.length,m.length]),Q=async()=>{f(!0),_("");try{const Z={Authorization:`Bearer ${localStorage.getItem("token")}`},[ce,oe]=await Promise.all([axios.get(`${M}/master/tenants`,{headers:Z}),axios.get(`${M}/master/tenant-requests`,{headers:Z})]);u(ce.data),p(oe.data)}catch(ae){_("Failed to fetch data. Please try again later."),console.error("Error fetching data:",ae)}finally{f(!1)}};reactExports.useEffect(()=>{Q()},[M]);const ee=async ae=>{if(window.confirm(`Are you sure you want to delete tenant "${ae}"? This action cannot be undone.`))try{const Z=localStorage.getItem("token");await axios.delete(`${M}/master/tenants/${ae}`,{headers:{Authorization:`Bearer ${Z}`}}),u(ce=>ce.filter(oe=>oe.tenantId!==ae))}catch(Z){_(`Failed to delete tenant "${ae}". Please try again.`),console.error("Error deleting tenant:",Z)}},G=async ae=>{window.confirm(`Are you sure you want to approve and create tenant "${ae.tenantId}"?`)&&(J(ae),v(!0))},K=async(ae,Z)=>{if(window.confirm(`Are you sure you want to reject the request for tenant "${Z}"?`))try{const ce=localStorage.getItem("token");await axios.delete(`${M}/master/tenant-requests/${ae}`,{headers:{Authorization:`Bearer ${ce}`}}),p(oe=>oe.filter(me=>me.id!==ae))}catch(ce){_(`Failed to reject tenant request for "${Z}". Please try again.`),console.error("Error rejecting tenant request:",ce)}},J=ae=>{setFormData({tenantId:ae.tenantId,companyName:ae.companyName,adminEmail:ae.adminEmail,adminPassword:ae.adminPassword,numberOfLocations:1,numberOfUsers:5,numberOfStore:1,hrmsAccessCount:5,subscriptionStartDate:new Date().toISOString().split("T")[0],subscriptionEndDate:new Date(new Date().setFullYear(new Date().getFullYear()+1)).toISOString().split("T")[0]})},ne=async ae=>{try{const Z=localStorage.getItem("token");await axios.post(`${M}/master/tenants/provision`,ae,{headers:{Authorization:`Bearer ${Z}`}}),alert(`Tenant "${ae.tenantId}" has been provisioned successfully!`);const ce=m.find(oe=>oe.tenantId===ae.tenantId);ce&&await axios.delete(`${M}/master/tenant-requests/${ce.id}`,{headers:{Authorization:`Bearer ${Z}`}}),Q()}catch(Z){console.error("Tenant provisioning failed:",Z);const ce=Z.response?.data?.message||`Failed to provision tenant. The ID "${ae.tenantId}" might already be taken.`;throw new Error(ce)}},H=async(ae,Z,ce)=>{b(!0);try{const me={Authorization:`Bearer ${localStorage.getItem("token")}`},fe=[];fe.push(axios.put(`${M}/master/tenants/${ae}/services`,ce,{headers:me})),await Promise.all(fe)}catch(oe){console.error("Tenant update failed:",oe);const me=oe.response?.data?.message||"Failed to update tenant.";throw new Error(me)}},te=ae=>{I(ae),S(!0)},Y=ae=>{T(ae),C(!0)},le=ae=>{C(!1),te(ae)},je=()=>{switch(e){case"dashboard":return jsxRuntimeExports.jsx(DashboardView$1,{stats:V,loading:j,error:L});case"tenants":return jsxRuntimeExports.jsx(TenantsView,{tenants:l,loading:j,error:L,onDelete:ee,onEdit:te,onProvisionClick:()=>t("provision"),onViewDetails:Y});case"requests":return jsxRuntimeExports.jsx(RequestsView,{requests:m,loading:j,error:L,onApprove:G,onReject:K});case"users":return jsxRuntimeExports.jsx(MasterUsers,{});case"provision":return jsxRuntimeExports.jsx(ProvisionTenant,{onProvision:ne,onCancel:()=>t("tenants")});default:return jsxRuntimeExports.jsx(DashboardView$1,{stats:V,loading:j,error:L})}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-background text-foreground",children:jsxRuntimeExports.jsxs("div",{className:"flex h-screen bg-background",children:[jsxRuntimeExports.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0",children:jsxRuntimeExports.jsx("div",{className:"flex flex-col w-64 border-r border-border",children:jsxRuntimeExports.jsx(MasterSidebar,{activeView:e,setActiveView:t,theme:B,cycleTheme:z})})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[jsxRuntimeExports.jsxs("header",{className:"lg:hidden sticky top-0 z-10 flex-shrink-0 flex h-16 bg-card shadow-sm",children:[jsxRuntimeExports.jsx("button",{type:"button",className:"px-4 border-r border-border text-foreground-muted focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary",onClick:()=>o(!0),children:jsxRuntimeExports.jsx(Menu,{className:"h-6 w-6"})}),jsxRuntimeExports.jsx("div",{className:"flex-1 px-4 flex justify-between items-center",children:jsxRuntimeExports.jsxs(Link$1,{to:"/master-admin",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Sparkles,{className:"h-6 w-6 text-primary"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-lg text-foreground",children:"Master Panel"})]})})]}),jsxRuntimeExports.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto p-6 md:p-8",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto",children:je()})})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:n&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed top-0 left-0 h-full w-64 z-30",children:jsxRuntimeExports.jsx(MasterSidebar,{activeView:e,setActiveView:t,onLinkClick:()=>o(!1),theme:B,cycleTheme:z})})})}),jsxRuntimeExports.jsx(UpdateTenantModal,{isOpen:N,onClose:()=>S(!1),onUpdate:H,tenant:D,isLoading:g}),jsxRuntimeExports.jsx(TenantDetailsModal,{isOpen:$,onClose:()=>C(!1),tenant:A,onEditClick:le})]})})},StatCard$6=({icon:e,title:t,value:n,onClick:o,linkText:l,iconBgColor:u="bg-blue-100",iconTextColor:m="text-blue-600"})=>jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm flex flex-col justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-slate-500",children:t}),jsxRuntimeExports.jsx("div",{className:`p-2 rounded-lg ${u} ${m}`,children:jsxRuntimeExports.jsx(e,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-slate-800 mt-2",children:n})]}),o&&jsxRuntimeExports.jsxs("button",{onClick:o,className:"mt-4 text-sm font-medium text-blue-600 hover:text-blue-700 flex items-center text-left",children:[l," ",jsxRuntimeExports.jsx(ArrowRight,{className:"h-4 w-4 ml-1"})]})]}),DashboardView=({setActiveItem:e})=>{const[t,n]=reactExports.useState(null),[o,l]=reactExports.useState(!0),[u,m]=reactExports.useState(""),p=localStorage.getItem("username")||"Employee",j="https://javapaas-202946-0.cloudclusters.net/api";if(reactExports.useEffect(()=>{(async()=>{try{const R={Authorization:`Bearer ${localStorage.getItem("token")}`},N=(await axios.get(`${j}/employees/by-user-email/${p}`,{headers:R})).data,S=N.employeeCode;localStorage.setItem("employeeCode",S);const $=await axios.get(`${j}/job-details/${S}`,{headers:R}).catch(A=>{if(A.response&&A.response.status===404)return{data:null};throw A}),C={attendance:{today:{checkIn:"09:30 AM",status:"PRESENT"},workHours:"4h 30m"},leaveBalance:{sick:5,casual:10,earned:8},...N,jobDetails:$.data,leaves:N.leaves||[]};n(C)}catch(b){console.error("Error fetching employee data:",b),b.response?.status===404?m("Your employee profile could not be found. Please contact HR."):m("Could not load your dashboard data. Please try again later.")}finally{l(!1)}})()},[p,j]),o)return jsxRuntimeExports.jsx("div",{className:"p-8 flex justify-center items-center h-full bg-slate-50",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-blue-600"})});if(u)return jsxRuntimeExports.jsx("div",{className:"p-8 flex justify-center items-center h-full bg-slate-50",children:jsxRuntimeExports.jsxs("div",{className:"text-center text-red-600",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-red-400"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-lg font-medium",children:"Something went wrong"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:u})]})});if(!t)return jsxRuntimeExports.jsx("div",{className:"p-8 bg-slate-50",children:"No employee data found."});const f=t.leaves?.filter(g=>g.status==="PENDING").length||0;return jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-8 space-y-6 bg-slate-50",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h1",{className:"text-3xl font-bold text-slate-800",children:["Welcome, ",t.firstName,"!"]}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-slate-600",children:"Here's a summary of your day."})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsx(StatCard$6,{icon:Calendar,title:"Pending Leaves",value:f,onClick:()=>e("Leaves"),linkText:"View Leaves",iconBgColor:"bg-yellow-100",iconTextColor:"text-yellow-600"}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Today's Attendance"}),jsxRuntimeExports.jsx("div",{className:"bg-green-100 text-green-600 p-2 rounded-lg",children:jsxRuntimeExports.jsx(Clock,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"mt-2",children:[jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-slate-800",children:t.attendance.today.checkIn}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-500",children:"Checked-in"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>e("Attendance"),className:"mt-4 w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"View Attendance"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Your Profile"}),jsxRuntimeExports.jsx("div",{className:"bg-purple-100 text-purple-600 p-2 rounded-lg",children:jsxRuntimeExports.jsx(User,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"mt-2",children:[jsxRuntimeExports.jsxs("p",{className:"text-xl font-bold text-slate-800",children:[t.firstName," ",t.lastName]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-500",children:t.jobDetails?.designation||"N/A"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Leave Balance"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("p",{className:"text-slate-600",children:"Sick Leave"}),jsxRuntimeExports.jsxs("p",{className:"font-bold text-slate-800",children:[t.leaveBalance.sick," ",jsxRuntimeExports.jsx("span",{className:"text-sm font-normal text-slate-500",children:"days"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("p",{className:"text-slate-600",children:"Casual Leave"}),jsxRuntimeExports.jsxs("p",{className:"font-bold text-slate-800",children:[t.leaveBalance.casual," ",jsxRuntimeExports.jsx("span",{className:"text-sm font-normal text-slate-500",children:"days"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("p",{className:"text-slate-600",children:"Earned Leave"}),jsxRuntimeExports.jsxs("p",{className:"font-bold text-slate-800",children:[t.leaveBalance.earned," ",jsxRuntimeExports.jsx("span",{className:"text-sm font-normal text-slate-500",children:"days"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Quick Actions"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>e("Leaves"),className:"w-full text-left flex justify-between items-center p-3 bg-slate-50 hover:bg-slate-100 rounded-lg transition-colors",children:[jsxRuntimeExports.jsx("span",{children:"Request a Leave"}),jsxRuntimeExports.jsx(ArrowRight,{className:"h-5 w-5 text-slate-400"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>e("Payroll"),className:"w-full text-left flex justify-between items-center p-3 bg-slate-50 hover:bg-slate-100 rounded-lg transition-colors",children:[jsxRuntimeExports.jsx("span",{children:"View Payslips"}),jsxRuntimeExports.jsx(ArrowRight,{className:"h-5 w-5 text-slate-400"})]})]})]})]})]})},InputField$9=({label:e,id:t,type:n="text",children:o,...l})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-foreground-muted",children:e}),n==="select"?jsxRuntimeExports.jsx("select",{id:t,...l,className:"input bg-background-muted border-border text-foreground",children:o}):jsxRuntimeExports.jsx("input",{id:t,type:n,...l,className:"input bg-background-muted border-border text-foreground"})]}),InfoDisplay$7=({label:e,value:t})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-foreground-muted",children:e}),jsxRuntimeExports.jsx("p",{className:"font-medium text-foreground",children:t||jsxRuntimeExports.jsx("span",{className:"text-foreground-muted/50",children:"N/A"})})]}),formatCurrency$5=(e,t="AED")=>new Intl.NumberFormat("en-IN",{style:"currency",currency:t,minimumFractionDigits:2}).format(e||0),formatDate$1=e=>e?new Date(e).toLocaleDateString("en-IN",{month:"long",year:"numeric"}):"N/A",statusStyles$8={PROCESSED:{bg:"bg-green-100",text:"text-green-800"},PENDING:{bg:"bg-yellow-100",text:"text-yellow-800"},FAILED:{bg:"bg-red-100",text:"text-red-800"}},loanAndExpenseStatusStyles={SUBMITTED:{bg:"bg-yellow-100",text:"text-yellow-800"},APPROVED:{bg:"bg-green-100",text:"text-green-800"},REJECTED:{bg:"bg-red-100",text:"text-red-800"},ACTIVE:{bg:"bg-blue-100",text:"text-blue-800"},COMPLETED:{bg:"bg-gray-100",text:"text-gray-800"}},Modal$k=({isOpen:e,onClose:t,title:n,children:o})=>e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-card text-card-foreground rounded-lg shadow-xl p-6 w-full max-w-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground",children:n}),jsxRuntimeExports.jsx("button",{onClick:t,className:"text-foreground-muted hover:text-foreground",children:""})]}),o]})}):null,PayrollHistoryCard=({payroll:e,onDownload:t,isDownloading:n})=>{const{id:o,payDate:l,netSalary:u,status:m,currency:p}=e,j=m||"PENDING";return jsxRuntimeExports.jsxs("div",{className:"bg-card p-6 rounded-xl shadow-sm border border-border flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground",children:formatDate$1(l)}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-foreground mt-1",children:formatCurrency$5(u,p)}),jsxRuntimeExports.jsx("p",{className:"text-sm text-foreground-muted",children:"Net Salary"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:items-end gap-3",children:[jsxRuntimeExports.jsx("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-semibold rounded-full ${statusStyles$8[j]?.bg} ${statusStyles$8[j]?.text}`,children:j.toLowerCase()}),jsxRuntimeExports.jsxs("button",{onClick:()=>t(o),disabled:n,className:"flex items-center justify-center px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors text-sm font-medium disabled:bg-foreground-muted/50",children:[n?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}):jsxRuntimeExports.jsx(Download,{className:"h-4 w-4 mr-2"}),"Download Payslip"]})]})]})},PayslipsTab$1=({payrolls:e,onDownload:t,downloadingId:n})=>{const[o,l]=reactExports.useState("all"),u=reactExports.useMemo(()=>{if(!e.length)return[new Date().getFullYear().toString()];const p=new Set(e.map(j=>new Date(j.payPeriodStart).getFullYear()).filter(j=>!isNaN(j)).map(String));return["all",...Array.from(p).sort((j,f)=>f-j)]},[e]),m=reactExports.useMemo(()=>o==="all"?e:e.filter(p=>new Date(p.payPeriodStart).getFullYear().toString()===o),[e,o]);return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"flex justify-end mb-6",children:jsxRuntimeExports.jsx("select",{id:"year-filter",value:o,onChange:p=>l(p.target.value),className:"input w-full sm:w-40 text-sm bg-background-muted border-border text-foreground",children:u.map(p=>jsxRuntimeExports.jsx("option",{value:p,children:p},p))})}),jsxRuntimeExports.jsx("div",{className:"space-y-6",children:m.length>0?m.map(p=>jsxRuntimeExports.jsx(PayrollHistoryCard,{payroll:p,onDownload:t,isDownloading:n===p.id},p.id)):jsxRuntimeExports.jsx("div",{className:"text-center text-foreground-muted py-16 bg-background-muted rounded-xl",children:e.length>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Search,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-semibold text-foreground",children:"No Payroll Found"}),jsxRuntimeExports.jsxs("p",{className:"mt-1 text-sm",children:["No records match your search for the year ",o,"."]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FileText,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-semibold text-foreground",children:"No Payroll Data"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"Your payroll history will appear here."})]})})})]})},BankAccountTab$1=({employee:e})=>{const[t,n]=reactExports.useState(null),[o,l]=reactExports.useState(!1),[u,m]=reactExports.useState(!0),[p,j]=reactExports.useState(!1),[f,g]=reactExports.useState(""),b="https://javapaas-202946-0.cloudclusters.net/api",R={bankName:"",accountNumber:"",ifscCode:"",accountHolderName:"",primary:!0},[v,N]=reactExports.useState(R),S=reactExports.useCallback(()=>{if(!e?.employeeCode)return;m(!0),g("");const A=localStorage.getItem("token");axios.get(`${b}/employee-bank-accounts/${e.employeeCode}`,{headers:{Authorization:`Bearer ${A}`}}).then(T=>{n(T.data),N(T.data)}).catch(T=>{T.response&&T.response.status===404?(n(null),N(R)):g("Failed to load bank account details.")}).finally(()=>m(!1))},[b,e?.employeeCode]);reactExports.useEffect(()=>{S()},[S]);const $=A=>{const{name:T,value:D,type:I,checked:L}=A.target;N(_=>({..._,[T]:I==="checkbox"?L:D}))},C=A=>{A.preventDefault(),j(!0);const T=localStorage.getItem("token");axios.put(`${b}/employee-bank-accounts/${e.employeeCode}`,v,{headers:{Authorization:`Bearer ${T}`}}).then(D=>{n(D.data),N(D.data),l(!1),alert("Bank account details saved successfully!")}).catch(D=>{alert(D.response?.data?.message||"Failed to save bank account details.")}).finally(()=>j(!1))};return u?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-blue-600"})}):f?jsxRuntimeExports.jsx("div",{className:"text-center text-red-600 p-4 bg-red-50 rounded-md",children:f}):!o&&!t?jsxRuntimeExports.jsxs("div",{className:"text-center py-10 border-2 border-dashed border-slate-300 rounded-lg",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium text-slate-900",children:"No Bank Account Found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Add your bank account details for salary processing."}),jsxRuntimeExports.jsx("div",{className:"mt-6",children:jsxRuntimeExports.jsx("button",{onClick:()=>l(!0),className:"btn-primary",children:"Add Account Details"})})]}):jsxRuntimeExports.jsxs("div",{className:"bg-card p-6 rounded-xl shadow-sm",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"Bank Account for Salary"}),!o&&jsxRuntimeExports.jsx("div",{className:"flex justify-end mb-4",children:jsxRuntimeExports.jsxs("button",{onClick:()=>l(!0),className:"btn-secondary flex items-center gap-2",children:[jsxRuntimeExports.jsx(SquarePen,{size:16})," Edit"]})}),o?jsxRuntimeExports.jsxs("form",{onSubmit:C,className:"space-y-4 max-w-lg",children:[jsxRuntimeExports.jsx(InputField$9,{label:"Bank Name",id:"bankName",name:"bankName",value:v.bankName,onChange:$,required:!0}),jsxRuntimeExports.jsx(InputField$9,{label:"Account Holder Name",id:"accountHolderName",name:"accountHolderName",value:v.accountHolderName,onChange:$,required:!0}),jsxRuntimeExports.jsx(InputField$9,{label:"Account Number",id:"accountNumber",name:"accountNumber",value:v.accountNumber,onChange:$,required:!0}),jsxRuntimeExports.jsx(InputField$9,{label:"IFSC Code",id:"ifscCode",name:"ifscCode",value:v.ifscCode,onChange:$,required:!0}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",id:"isPrimary",name:"primary",checked:v.primary,onChange:$,className:"h-4 w-4 rounded border-border text-primary focus:ring-primary"}),jsxRuntimeExports.jsx("label",{htmlFor:"isPrimary",className:"ml-2 text-sm text-foreground-muted",children:"This is my primary account"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>l(!1),className:"btn-secondary",disabled:p,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:p,children:[p&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"})," Save"]})]})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-4 max-w-lg",children:[jsxRuntimeExports.jsx(InfoDisplay$7,{label:"Bank Name",value:t.bankName}),jsxRuntimeExports.jsx(InfoDisplay$7,{label:"Account Holder Name",value:t.accountHolderName}),jsxRuntimeExports.jsx(InfoDisplay$7,{label:"Account Number",value:t.accountNumber}),jsxRuntimeExports.jsx(InfoDisplay$7,{label:"IFSC Code",value:t.ifscCode}),jsxRuntimeExports.jsx(InfoDisplay$7,{label:"Primary Account",value:t.primary?"Yes":"No"})]})]})},LoanRequestModal=({isOpen:e,onClose:t,employeeCode:n,onLoanRequested:o})=>{const[l,u]=reactExports.useState([]),[m,p]=reactExports.useState(!0),[j,f]=reactExports.useState(""),[g,b]=reactExports.useState({loanProductId:"",requestedAmount:"",installments:""}),[R,v]=reactExports.useState(!1),N="https://javapaas-202946-0.cloudclusters.net/api";reactExports.useEffect(()=>{if(e){p(!0),f("");const A=localStorage.getItem("token");axios.get(`${N}/loan-products`,{headers:{Authorization:`Bearer ${A}`}}).then(T=>{const D=T.data.filter(I=>I.active);u(D),D.length>0&&b(I=>({...I,loanProductId:D[0].id}))}).catch(()=>f("Could not load available loan products.")).finally(()=>p(!1))}},[e,N]);const S=A=>{const{name:T,value:D}=A.target;b(I=>({...I,[T]:D}))},$=async A=>{A.preventDefault(),v(!0),f("");try{const T=localStorage.getItem("token"),D={...g,employeeCode:n,requestedAmount:parseFloat(g.requestedAmount),installments:parseInt(g.installments,10)};await axios.post(`${N}/employee-loans/request`,D,{headers:{Authorization:`Bearer ${T}`}}),alert("Loan request submitted successfully!"),o(),t()}catch(T){f(T.response?.data?.message||"Failed to submit loan request.")}finally{v(!1)}},C=l.find(A=>A.id==g.loanProductId);return jsxRuntimeExports.jsx(Modal$k,{isOpen:e,onClose:t,title:"Request a New Loan",children:m?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary"})}):jsxRuntimeExports.jsxs("form",{onSubmit:$,className:"space-y-4",children:[jsxRuntimeExports.jsx(InputField$9,{label:"Loan Type",id:"loanProductId",name:"loanProductId",type:"select",value:g.loanProductId,onChange:S,required:!0,children:l.length>0?l.map(A=>jsxRuntimeExports.jsx("option",{value:A.id,children:A.productName},A.id)):jsxRuntimeExports.jsx("option",{disabled:!0,children:"No loan products available"})}),C&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-foreground-muted bg-background-muted p-2 rounded",children:["Max Amount: ",formatCurrency$5(C.maxLoanAmount)," | Max Installments: ",C.maxInstallments," | Interest: ",C.interestRate,"%"]}),jsxRuntimeExports.jsx(InputField$9,{label:"Amount Requested",id:"requestedAmount",name:"requestedAmount",type:"number",value:g.requestedAmount,onChange:S,required:!0,max:C?.maxLoanAmount}),jsxRuntimeExports.jsx(InputField$9,{label:"Number of Installments",id:"installments",name:"installments",type:"number",value:g.installments,onChange:S,required:!0,max:C?.maxInstallments}),j&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm",children:j}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:R,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:R||!C,children:[R&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"})," Submit Request"]})]})]})})},LoansTab$1=({employee:e})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState(!0),[u,m]=reactExports.useState(""),[p,j]=reactExports.useState(!1),f="https://javapaas-202946-0.cloudclusters.net/api",g=reactExports.useCallback(()=>{if(!e?.employeeCode)return;l(!0),m("");const b=localStorage.getItem("token");axios.get(`${f}/employee-loans/employee/${e.employeeCode}`,{headers:{Authorization:`Bearer ${b}`}}).then(R=>n(R.data)).catch(()=>m("Could not fetch loan history.")).finally(()=>l(!1))},[f,e?.employeeCode]);return reactExports.useEffect(()=>{g()},[g]),o?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary"})}):u?jsxRuntimeExports.jsx("div",{className:"text-center text-red-600 p-4 bg-red-500/10 rounded-md",children:u}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold",children:"My Loans"}),jsxRuntimeExports.jsxs("button",{onClick:()=>j(!0),className:"btn-primary flex items-center gap-2",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Request New Loan"]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-border rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Product"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Amount"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"EMI"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Installments"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Requested On"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-card divide-y divide-border text-foreground-muted",children:t.length>0?t.map(b=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:b.loanProductName}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:formatCurrency$5(b.loanAmount)}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:formatCurrency$5(b.emiAmount)}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:[b.remainingInstallments,"/",b.totalInstallments]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:jsxRuntimeExports.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold capitalize ${loanAndExpenseStatusStyles[b.status]?.bg||"bg-background-muted"} ${loanAndExpenseStatusStyles[b.status]?.text||"text-foreground"}`,children:b.status.toLowerCase()})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:new Date(b.requestedAt).toLocaleDateString()})]},b.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"6",className:"text-center py-10 text-slate-500",children:"No loan history found."})})})]})}),jsxRuntimeExports.jsx(LoanRequestModal,{isOpen:p,onClose:()=>j(!1),employeeCode:e.employeeCode,onLoanRequested:g})]})},ExpenseRequestModal=({isOpen:e,onClose:t,employeeCode:n,onExpenseSubmitted:o})=>{const[l,u]=reactExports.useState({expenseDate:new Date().toISOString().split("T")[0],category:"",amount:"",description:"",billNumber:"",merchentName:""}),[m,p]=reactExports.useState(null),[j,f]=reactExports.useState(!1),[g,b]=reactExports.useState(""),R="https://javapaas-202946-0.cloudclusters.net/api",v=$=>{const{name:C,value:A}=$.target;u(T=>({...T,[C]:A}))},N=$=>{p($.target.files)},S=async $=>{$.preventDefault(),f(!0),b("");try{const C=localStorage.getItem("token"),A={...l,employeeCode:n,amount:parseFloat(l.amount)},T=new FormData;if(T.append("expense",new Blob([JSON.stringify(A)],{type:"application/json"})),m&&m.length>0)for(let D=0;D<m.length;D++)T.append("files",m[D]);await axios.post(`${R}/expenses`,T,{headers:{Authorization:`Bearer ${C}`,"Content-Type":"multipart/form-data"}}),alert("Expense submitted successfully!"),o(),t()}catch(C){b(C.response?.data?.message||"Failed to submit expense.")}finally{f(!1)}};return jsxRuntimeExports.jsx(Modal$k,{isOpen:e,onClose:t,title:"Submit New Expense",children:jsxRuntimeExports.jsxs("form",{onSubmit:S,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(InputField$9,{label:"Expense Date",id:"expenseDate",name:"expenseDate",type:"date",value:l.expenseDate,onChange:v,required:!0,className:"input bg-background-muted border-border text-foreground"}),jsxRuntimeExports.jsx(InputField$9,{label:"Category",id:"category",name:"category",type:"text",value:l.category,onChange:v,required:!0,placeholder:"e.g., Travel, Food"})]}),jsxRuntimeExports.jsx(InputField$9,{label:"Amount",id:"amount",name:"amount",type:"number",value:l.amount,onChange:v,required:!0,placeholder:"e.g., 1500.50"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(InputField$9,{label:"Bill Number",id:"billNumber",name:"billNumber",type:"text",value:l.billNumber,onChange:v,placeholder:"e.g., INV-123"}),jsxRuntimeExports.jsx(InputField$9,{label:"Merchant Name",id:"merchentName",name:"merchentName",type:"text",value:l.merchentName,onChange:v,placeholder:"e.g., Starbucks"})]}),jsxRuntimeExports.jsx(InputField$9,{label:"Description",id:"description",name:"description",type:"text",value:l.description,onChange:v,required:!0}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"receiptFile",className:"block text-sm font-medium text-foreground-muted",children:"Receipt(s) (Optional)"}),jsxRuntimeExports.jsx("input",{id:"receiptFile",name:"receiptFile",type:"file",onChange:N,multiple:!0,className:"mt-1 block w-full text-sm text-foreground-muted file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20"})]}),g&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm",children:g}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:j,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:j,children:[j&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"})," Submit Expense"]})]})]})})},ExpensesTab$1=({employee:e})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState(!0),[u,m]=reactExports.useState(""),[p,j]=reactExports.useState(!1),[f,g]=reactExports.useState(null),b="https://javapaas-202946-0.cloudclusters.net/api",R=reactExports.useCallback(()=>{if(!e?.employeeCode)return;l(!0),m("");const v=localStorage.getItem("token");axios.get(`${b}/expenses/employee/${e.employeeCode}`,{headers:{Authorization:`Bearer ${v}`}}).then(N=>n(N.data)).catch(()=>m("Could not fetch expense history.")).finally(()=>l(!1))},[b,e?.employeeCode]);return reactExports.useEffect(()=>{R()},[R]),o?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-blue-600"})}):u?jsxRuntimeExports.jsx("div",{className:"text-center text-red-600 p-4 bg-red-50 rounded-md",children:u}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold",children:"My Expenses"}),jsxRuntimeExports.jsxs("button",{onClick:()=>j(!0),className:"btn-primary flex items-center gap-2",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Submit New Expense"]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-border rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Amount"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Description"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Receipt"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-card divide-y divide-border text-foreground-muted",children:t.length>0?t.map(v=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:new Date(v.expenseDate).toLocaleDateString()}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:v.category}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:formatCurrency$5(v.amount)}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm truncate max-w-xs",children:v.description}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:jsxRuntimeExports.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold capitalize ${loanAndExpenseStatusStyles[v.status]?.bg||"bg-slate-100"} ${loanAndExpenseStatusStyles[v.status]?.text||"text-slate-800"}`,children:v.status.toLowerCase()})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm space-y-1",children:v.attachments&&v.attachments.map(N=>jsxRuntimeExports.jsxs("a",{href:N.viewUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-xs flex items-center gap-1 w-full truncate",children:[jsxRuntimeExports.jsx(Eye,{size:14})," ",jsxRuntimeExports.jsx("span",{className:"truncate",children:N.originalFilename})]},N.id))})]},v.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"6",className:"text-center py-10 text-foreground-muted",children:"No expense claims found."})})})]})}),jsxRuntimeExports.jsx(ExpenseRequestModal,{isOpen:p,onClose:()=>j(!1),employeeCode:e.employeeCode,onExpenseSubmitted:R})]})},subTabs$2=[{name:"Payslips",icon:FileText,component:PayslipsTab$1},{name:"Bank Account",icon:Landmark,component:BankAccountTab$1},{name:"Loans",icon:HandCoins,component:LoansTab$1},{name:"Expenses",icon:Receipt,component:ExpensesTab$1}],PayrollView=({employee:e,setActiveItem:t})=>{const[n,o]=reactExports.useState("Payslips"),[l,u]=reactExports.useState([]),[m,p]=reactExports.useState(null),[j,f]=reactExports.useState(""),g="https://javapaas-202946-0.cloudclusters.net/api";reactExports.useEffect(()=>{(async()=>{if(e?.employeeCode)try{const S=localStorage.getItem("token"),$=await axios.get(`${g}/payslips/employee/${e.employeeCode}`,{headers:{Authorization:`Bearer ${S}`}});u($.data)}catch{f("Could not load your payslip history.")}})()},[e]);const b=async N=>{p(N),f("");try{const S=localStorage.getItem("token"),$=await axios.get(`${g}/payslips/${N}/download`,{headers:{Authorization:`Bearer ${S}`},responseType:"blob"}),C=window.URL.createObjectURL(new Blob([$.data])),A=document.createElement("a");A.href=C;const T=$.headers["content-disposition"];let D=`payslip-${N}.pdf`;if(T){const I=T.match(/filename\*?=['"]?(?:UTF-\d['"]*)?([^;\r\n"']*)['"]?/);I&&I[1]&&(D=I[1])}A.setAttribute("download",D),document.body.appendChild(A),A.click(),A.remove(),window.URL.revokeObjectURL(C)}catch(S){console.error("Error downloading payslip:",S);const $="Failed to download payslip. The record might not exist or an error occurred.";f($),alert($)}finally{p(null)}},R=subTabs$2.find(N=>N.name===n)?.component,v=()=>R?n==="Payslips"?jsxRuntimeExports.jsx(PayslipsTab$1,{payrolls:l,onDownload:b,downloadingId:m}):jsxRuntimeExports.jsx(R,{employee:e}):null;return jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-6",children:"Payroll"}),jsxRuntimeExports.jsx("div",{className:"border-b border-border mb-6",children:jsxRuntimeExports.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Sub-tabs",children:subTabs$2.map(N=>jsxRuntimeExports.jsxs("button",{onClick:()=>o(N.name),className:`whitespace-nowrap flex items-center py-3 px-1 border-b-2 font-medium text-sm transition-colors ${n===N.name?"border-primary text-primary":"border-transparent text-foreground-muted hover:text-foreground hover:border-border"}`,children:[jsxRuntimeExports.jsx(N.icon,{className:"mr-2 h-5 w-5"}),N.name]},N.name))})}),j&&jsxRuntimeExports.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 text-red-600 px-4 py-3 rounded relative mb-4",role:"alert",children:[jsxRuntimeExports.jsx("strong",{className:"font-bold",children:"Error: "}),jsxRuntimeExports.jsx("span",{className:"block sm:inline",children:j})]}),jsxRuntimeExports.jsx("div",{children:v()})]})},RecruitmentView=()=>jsxRuntimeExports.jsx("div",{}),API_URL$1G="https://javapaas-202946-0.cloudclusters.net/api",getAuthHeaders$6=()=>{const e=localStorage.getItem("token");if(!e)throw new Error("No authentication token found.");return{Authorization:`Bearer ${e}`}},api$4=axios.create({baseURL:API_URL$1G});api$4.interceptors.request.use(e=>{try{e.headers={...e.headers,...getAuthHeaders$6()}}catch(t){console.error(t.message)}return e});const getAllLeaveTypes=()=>api$4.get("/leave-types"),createLeaveType=e=>api$4.post("/leave-types",e),updateLeaveType=(e,t)=>api$4.put(`/leave-types/${e}`,t),deleteLeaveType=e=>api$4.delete(`/leave-types/${e}`),getAllLeavePolicies=()=>api$4.get("/leave-policies"),createLeavePolicy=e=>api$4.post("/leave-policies",e),updateLeavePolicy=(e,t)=>api$4.put(`/leave-policies/${e}`,t),deleteLeavePolicy=e=>api$4.delete(`/leave-policies/${e}`),addLeaveTypePolicyToPolicy=(e,t)=>api$4.post(`/leave-type-policies/policy/${e}`,t),updateLeaveTypePolicy=(e,t)=>api$4.put(`/leave-type-policies/${e}`,t),deleteLeaveTypePolicy=e=>api$4.delete(`/leave-type-policies/${e}`),createLeaveRequest=e=>api$4.post("/leave-requests",e),getAllLeaveRequests=()=>api$4.get("/leave-requests"),getLeaveRequestsForEmployee=e=>api$4.get(`/leave-requests/employee/${e}`),cancelLeaveRequest=e=>api$4.put(`/leave-requests/${e}/cancel`),processLeaveApproval=e=>api$4.post("/leave-approvals/process",e),RequestLeaveModal=({isOpen:e,onClose:t,onSubmit:n,loading:o,leaveTypes:l=[]})=>{const[u,m]=reactExports.useState({leaveType:"",fromDate:"",toDate:"",reason:""}),[p,j]=reactExports.useState("");reactExports.useEffect(()=>{e&&(m({leaveType:l[0]?.leaveType||"",fromDate:"",toDate:"",reason:""}),j(""))},[e,l]);const f=b=>{const{name:R,value:v}=b.target;m(N=>({...N,[R]:v}))},g=b=>{if(b.preventDefault(),!u.fromDate||!u.toDate||!u.reason){j("All fields are required.");return}if(new Date(u.fromDate)>new Date(u.toDate)){j("Start date cannot be after end date.");return}j(""),n(u)};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-card text-card-foreground rounded-lg shadow-xl w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Request Leave"}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-2 rounded-full text-foreground-muted hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:g,children:[jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"leaveType",className:"block text-sm font-medium text-foreground-muted",children:"Leave Type"}),jsxRuntimeExports.jsx("select",{id:"leaveType",name:"leaveType",value:u.leaveType,onChange:f,required:!0,className:"input bg-background-muted border-border text-foreground",children:l.length>0?l.map(b=>jsxRuntimeExports.jsx("option",{value:b.leaveType,children:b.leaveType.replace("_"," ")},b.id)):jsxRuntimeExports.jsx("option",{value:"",disabled:!0,children:"No leave types available"})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-foreground-muted",children:"Start Date"}),jsxRuntimeExports.jsx("input",{type:"date",id:"fromDate",name:"fromDate",value:u.fromDate,onChange:f,required:!0,className:"input bg-background-muted border-border text-foreground"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-foreground-muted",children:"End Date"}),jsxRuntimeExports.jsx("input",{type:"date",id:"toDate",name:"toDate",value:u.toDate,onChange:f,required:!0,className:"input bg-background-muted border-border text-foreground"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"reason",className:"block text-sm font-medium text-foreground-muted",children:"Reason"}),jsxRuntimeExports.jsx("textarea",{id:"reason",name:"reason",value:u.reason,onChange:f,rows:"3",required:!0,className:"input bg-background-muted border-border text-foreground",placeholder:"Please provide a reason for your leave..."})]}),p&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm",children:p})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t border-border bg-background-muted flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:o,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary",disabled:o,children:[o&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}),"Submit Request"]})]})]})]})}):null},statusStyles$7={SUBMITTED:{bg:"bg-yellow-100",text:"text-yellow-800",icon:FileClock},APPROVED:{bg:"bg-green-100",text:"text-green-800",icon:Check},REJECTED:{bg:"bg-red-100",text:"text-red-800",icon:X},CANCELLED:{bg:"bg-slate-100",text:"text-slate-600",icon:X}},LeaveHistoryCard=({request:e,onCancel:t})=>{const{id:n,leaveType:o,fromDate:l,toDate:u,reason:m,status:p,leaveApprovals:j}=e,f=p||"SUBMITTED",g=statusStyles$7[f]?.icon||FileClock,b=R=>R?new Date(R).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"N/A";return jsxRuntimeExports.jsxs("div",{className:"bg-card p-4 rounded-lg shadow-sm border border-border flex flex-col justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-foreground",children:(typeof o=="object"&&o!==null?o.leaveType:o||"").replace("_"," ")}),jsxRuntimeExports.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-semibold rounded-full ${statusStyles$7[f]?.bg} ${statusStyles$7[f]?.text}`,children:[jsxRuntimeExports.jsx(g,{className:"h-3.5 w-3.5"}),f.toLowerCase()]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-foreground-muted mt-2",children:[jsxRuntimeExports.jsx(Calendar,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:b(l)}),jsxRuntimeExports.jsx(ArrowRight,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:b(u)})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-foreground-muted mt-3 flex items-start gap-2",children:[jsxRuntimeExports.jsx(MessageSquare,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{children:m||"No reason provided."})]}),(p==="APPROVED"||p==="REJECTED")&&j&&j.length>0&&jsxRuntimeExports.jsx("div",{className:"mt-3 pt-3 border-t border-slate-100 text-xs text-slate-500 space-y-2",children:j.map(R=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:`font-semibold ${R.action==="APPROVED"?"text-green-700":"text-red-700"}`,children:R.action})," by ",jsxRuntimeExports.jsx("span",{className:"font-semibold",children:R.approverName||"Admin"})," on ",b(R.actionAt)]}),R.comment&&jsxRuntimeExports.jsxs("p",{className:"italic mt-0.5",children:["Note: ",R.comment]})]},R.id))})]}),f==="SUBMITTED"&&jsxRuntimeExports.jsx("div",{className:"mt-4 pt-3 border-t border-slate-200 flex justify-end",children:jsxRuntimeExports.jsxs("button",{onClick:()=>t(n),className:"flex items-center px-3 py-1.5 text-sm font-medium text-red-600 bg-red-50 hover:bg-red-100 rounded-md transition-colors",children:[jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4 mr-1.5"}),"Cancel Request"]})})]})},LeavesView=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState([]),[m,p]=reactExports.useState(""),[j,f]=reactExports.useState(!1),[g,b]=reactExports.useState(!1),[R,v]=reactExports.useState("ALL"),N="https://javapaas-202946-0.cloudclusters.net/api",S=localStorage.getItem("employeeCode"),$=async()=>{if(!S){p("Employee code not found. Cannot fetch leave data."),o(!1);return}o(!0),p("");try{const L=(await getLeaveRequestsForEmployee(S)).data.sort((_,M)=>new Date(M.createdAt)-new Date(_.createdAt));t(L)}catch(I){p("Failed to fetch leave history. Please try again later."),console.error(I)}finally{o(!1)}};reactExports.useEffect(()=>{const I=async()=>{try{const L=await getAllLeaveTypes();u(L.data.filter(_=>_.isPaid))}catch(L){console.error("Failed to fetch leave types",L)}};$(),I()},[N,S]);const C=async I=>{b(!0);try{const L=new Date(I.fromDate),M=(new Date(I.toDate)-L)/(1e3*60*60*24)+1,F={employeeCode:S,leaveType:I.leaveType,fromDate:I.fromDate,toDate:I.toDate,reason:I.reason,daysRequested:M,partialDayInfo:null};await createLeaveRequest(F),f(!1),$(),alert("Leave request submitted successfully!")}catch(L){const _=L.response?.data?.message||L.response?.data||"Failed to submit leave request. Please try again.";alert(`Error: ${_}`),console.error(L)}finally{b(!1)}},A=async I=>{if(window.confirm("Are you sure you want to cancel this leave request?")){o(!0),p("");try{await cancelLeaveRequest(I),$(),alert("Leave request cancelled successfully.")}catch(L){const _=L.response?.data?.message||"Failed to cancel leave request.";p(_),console.error(L)}finally{o(!1)}}},T=reactExports.useMemo(()=>R==="ALL"?e:e.filter(I=>(I.status||"SUBMITTED")===R),[e,R]),D=["ALL","SUBMITTED","APPROVED","REJECTED","CANCELLED"];return jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"My Leaves"}),jsxRuntimeExports.jsxs("button",{onClick:()=>f(!0),className:"btn-primary",children:[jsxRuntimeExports.jsx(Plus,{className:"h-5 w-5 mr-2"}),"Request Leave"]})]}),jsxRuntimeExports.jsx("div",{className:"flex border-b border-border mb-6",children:D.map(I=>jsxRuntimeExports.jsx("button",{onClick:()=>v(I),className:`px-4 py-2 text-sm font-medium transition-colors ${R===I?"border-b-2 border-primary text-primary":"border-b-2 border-transparent text-foreground-muted hover:text-foreground"}`,children:I.charAt(0)+I.slice(1).toLowerCase()},I))}),m&&jsxRuntimeExports.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 text-red-600 px-4 py-3 rounded relative mb-4",role:"alert",children:[jsxRuntimeExports.jsx("strong",{className:"font-bold",children:"Error: "}),jsxRuntimeExports.jsx("span",{className:"block sm:inline",children:m})]}),n?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-64",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-primary"})}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.length>0?T.map(I=>jsxRuntimeExports.jsx(LeaveHistoryCard,{request:I,onCancel:A},I.id)):jsxRuntimeExports.jsxs("div",{className:"col-span-full text-center text-slate-500 py-10",children:[jsxRuntimeExports.jsx(FileClock,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-semibold text-foreground",children:"No leave requests"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-foreground-muted",children:R==="ALL"?"You haven't requested any leaves yet.":`You have no ${R.toLowerCase()} leave requests.`})]})}),jsxRuntimeExports.jsx(RequestLeaveModal,{isOpen:j,onClose:()=>f(!1),onSubmit:C,loading:g,leaveTypes:l})]})},InputField$8=({label:e,id:t,type:n="text",...o})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-slate-700",children:e}),jsxRuntimeExports.jsx("input",{id:t,type:n,...o,className:"input mt-1"})]}),MissingAttendanceRequestModal=({isOpen:e,onClose:t,onSubmit:n,loading:o})=>{const[l,u]=reactExports.useState({attendanceDate:new Date().toISOString().split("T")[0],requestedCheckIn:"",requestedCheckOut:"",reason:""}),[m,p]=reactExports.useState(null),[j,f]=reactExports.useState(""),g=v=>{const{name:N,value:S}=v.target;u($=>({...$,[N]:S}))},b=v=>{p(v.target.files[0])},R=v=>{if(v.preventDefault(),!l.requestedCheckIn&&!l.requestedCheckOut){f("You must provide at least a Check In or Check Out time.");return}f("");const N=new FormData;N.append("request",new Blob([JSON.stringify(l)],{type:"application/json"})),m&&N.append("file",m),n(N)};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold",children:"Request Attendance Regularization"}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:R,children:[jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-4",children:[jsxRuntimeExports.jsx(InputField$8,{label:"Attendance Date",name:"attendanceDate",type:"date",value:l.attendanceDate,onChange:g,required:!0}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(InputField$8,{label:"Requested Check In",name:"requestedCheckIn",type:"time",value:l.requestedCheckIn,onChange:g}),jsxRuntimeExports.jsx(InputField$8,{label:"Requested Check Out",name:"requestedCheckOut",type:"time",value:l.requestedCheckOut,onChange:g})]}),jsxRuntimeExports.jsx(InputField$8,{label:"Reason",name:"reason",type:"textarea",value:l.reason,onChange:g,required:!0}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"attachment",className:"block text-sm font-medium text-slate-700",children:"Attachment (Optional)"}),jsxRuntimeExports.jsx("input",{id:"attachment",type:"file",onChange:b,className:"input mt-1"})]}),j&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm",children:j})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t bg-slate-50 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:o,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:o,children:[o&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"})," Submit Request"]})]})]})]})}):null},API_URL$1F="https://javapaas-202946-0.cloudclusters.net/api",statusStyles$6={PENDING:{bg:"bg-yellow-100",text:"text-yellow-800",icon:FileClock},APPROVED:{bg:"bg-green-100",text:"text-green-800",icon:Check},REJECTED:{bg:"bg-red-100",text:"text-red-800",icon:X},CANCELLED:{bg:"bg-slate-100",text:"text-slate-600",icon:X}},MyMissingRequestsTab=({employeeCode:e})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState(!0),[u,m]=reactExports.useState(""),[p,j]=reactExports.useState(null),f=reactExports.useCallback(async()=>{if(e){l(!0),m("");try{const b=localStorage.getItem("token"),v=(await axios.get(`${API_URL$1F}/missing-attendance/requests`,{headers:{Authorization:`Bearer ${b}`}})).data.filter(N=>N.employee?.employeeCode===e).sort((N,S)=>new Date(S.requestDate)-new Date(N.requestDate));n(v)}catch(b){m("Failed to fetch your requests."),console.error("Fetch Error:",b)}finally{l(!1)}}},[e]);reactExports.useEffect(()=>{f()},[f]);const g=async b=>{if(b.attachmentPath)try{const R=localStorage.getItem("token"),v=await axios.get(`${API_URL$1F}/missing-attendance/requests/${b.id}/attachment`,{headers:{Authorization:`Bearer ${R}`},responseType:"blob"}),N=URL.createObjectURL(new Blob([v.data],{type:v.headers["content-type"]}));j(N)}catch{alert("Could not load the attachment.")}};return o?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-blue-600"})}):u?jsxRuntimeExports.jsx("div",{className:"text-center text-red-500 p-4 bg-red-50 rounded-md",children:u}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-white",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Requested Times"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Reason"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Approver Remarks"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Attachment"})]})}),jsxRuntimeExports.jsx("tbody",{children:t.length>0?t.map(b=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-slate-200 hover:bg-slate-50",children:[jsxRuntimeExports.jsx("td",{className:"td-cell",children:new Date(b.attendanceDate).toLocaleDateString()}),jsxRuntimeExports.jsxs("td",{className:"td-cell text-sm font-mono",children:[b.requestedCheckIn||"-"," to ",b.requestedCheckOut||"-"]}),jsxRuntimeExports.jsx("td",{className:"td-cell text-sm max-w-xs truncate",title:b.reason,children:b.reason}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-0.5 text-xs font-semibold rounded-full ${statusStyles$6[b.status]?.bg} ${statusStyles$6[b.status]?.text}`,children:[React.createElement(statusStyles$6[b.status].icon,{className:"h-3 w-3"}),b.status.toLowerCase()]})}),jsxRuntimeExports.jsx("td",{className:"td-cell text-xs italic text-slate-500",children:b.approverRemarks}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:b.attachmentPath&&jsxRuntimeExports.jsxs("button",{onClick:()=>g(b),className:"text-primary hover:underline text-xs flex items-center gap-1",children:[jsxRuntimeExports.jsx(Eye,{size:14})," View"]})})]},b.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"6",className:"text-center py-10 text-slate-500",children:[jsxRuntimeExports.jsx(FileClock,{className:"mx-auto h-12 w-12 text-slate-400"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-semibold text-slate-900",children:"No Requests Found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"You have not submitted any regularization requests."})]})})})]})}),p&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/75 z-50 flex justify-center items-center p-4",onClick:()=>j(null),children:jsxRuntimeExports.jsxs("div",{className:"bg-card p-2 rounded-lg max-w-4xl max-h-[90vh]",onClick:b=>b.stopPropagation(),children:[jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsx("button",{onClick:()=>j(null),className:"p-2 rounded-full text-foreground-muted hover:bg-background-muted -mr-2 -mt-2 mb-2",children:jsxRuntimeExports.jsx(X,{size:20})})}),jsxRuntimeExports.jsx("img",{src:p,alt:"Attachment",className:"max-w-full max-h-[80vh] object-contain"})]})})]})},formatTime$1=e=>{if(!e)return"-";const[t,n]=e.split(":"),o=new Date;return o.setHours(parseInt(t,10),parseInt(n,10)),o.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})},calculateDuration=(e,t)=>{if(!e||!t)return"-";try{const n=new Date(`1970-01-01T${e}`),o=new Date(`1970-01-01T${t}`);if(isNaN(n.getTime())||isNaN(o.getTime())||o<n)return"-";let l=o.getTime()-n.getTime();const u=Math.floor(l/(1e3*60*60));l-=u*(1e3*60*60);const m=Math.floor(l/(1e3*60));return`${u}h ${m}m`}catch{return"-"}},StatCard$5=({icon:e,title:t,value:n,color:o})=>jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:`p-3 rounded-lg ${o}`,children:jsxRuntimeExports.jsx(e,{className:"h-6 w-6 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-slate-500",children:t}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-slate-800",children:n})]})]}),StatusBadge$2=({status:e})=>{const t={PRESENT:{label:"Present",style:"bg-green-100 text-green-700"},ABSENT:{label:"Absent",style:"bg-red-100 text-red-700"},ON_LEAVE:{label:"On Leave",style:"bg-yellow-100 text-yellow-700"},HALF_DAY:{label:"Half Day",style:"bg-orange-100 text-orange-700"},HOLIDAY:{label:"Holiday",style:"bg-purple-100 text-purple-700"},WEEKLY_OFF:{label:"Weekly Off",style:"bg-blue-100 text-blue-700"}},{label:n,style:o}=t[e]||{label:e,style:"bg-slate-100 text-slate-600"};return jsxRuntimeExports.jsx("span",{className:`px-2.5 py-1 text-xs font-semibold rounded-full ${o}`,children:n})},AttendanceView=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(new Date),[l,u]=reactExports.useState(null),[m,p]=reactExports.useState(!0),[j,f]=reactExports.useState(""),[g,b]=reactExports.useState("Log"),[R,v]=reactExports.useState(!1),[N,S]=reactExports.useState(null),$="https://javapaas-202946-0.cloudclusters.net/api",C=localStorage.getItem("employeeCode");reactExports.useEffect(()=>{if(!C){f("Employee code not found. Please log in again."),p(!1);return}(async()=>{p(!0);try{const q={Authorization:`Bearer ${localStorage.getItem("token")}`},[z,V]=await Promise.all([axios.get(`${$}/time-attendence/${C}`,{headers:q}).catch(()=>({data:null})),axios.get(`${$}/job-details/${C}`,{headers:q}).catch(()=>({data:null}))]);S({...z.data,jobDetails:V.data})}catch(B){console.error("Failed to fetch employee details",B),f("Could not load employee profile information.")}finally{p(!1)}})()},[C,$]),reactExports.useEffect(()=>{const F=async()=>{p(!0),f("");try{const q={Authorization:`Bearer ${localStorage.getItem("token")}`},z=n.getFullYear(),V=n.getMonth(),Q=new Date(z,V,1).toISOString().slice(0,10),ee=new Date(z,V+1,0).toISOString().slice(0,10),K=(await axios.get(`${$}/attendance-records/employee/${C}`,{params:{startDate:Q,endDate:ee},headers:q})).data.sort((H,te)=>new Date(te.attendanceDate)-new Date(H.attendanceDate));t(K);const J=new Date().toISOString().slice(0,10),ne=K.find(H=>H.attendanceDate===J);u(ne||null)}catch(B){console.error("Failed to fetch attendance data",B),f("Could not load your attendance data.")}finally{p(!1)}};N?.jobDetails&&F()},[n,N]);const A=reactExports.useMemo(()=>({present:e.filter(F=>F.status==="PRESENT").length,absent:e.filter(F=>F.status==="ABSENT").length,onLeave:e.filter(F=>F.status==="ON_LEAVE").length,halfDay:e.filter(F=>F.status==="HALF_DAY").length,late:e.filter(F=>F.isLate).length,overtime:e.reduce((F,B)=>F+(B.overtimeMinutes||0),0)}),[e]),T=`${Math.floor(A.overtime/60)}h ${A.overtime%60}m`,D=F=>{o(B=>{const q=new Date(B);return q.setMonth(q.getMonth()+F),q})},I=async F=>{p(!0);try{const B=localStorage.getItem("token");await axios.post(`${$}/missing-attendance/request/${C}`,F,{headers:{Authorization:`Bearer ${B}`,"Content-Type":"multipart/form-data"}}),alert("Your request has been submitted successfully."),v(!1)}catch(B){console.error("Failed to submit missing attendance request",B),alert(B.response?.data?.message||"An error occurred while submitting your request.")}finally{p(!1)}},L=async()=>{p(!0);const B={Authorization:`Bearer ${localStorage.getItem("token")}`},q=new Date,z=q.toTimeString().split(" ")[0],V=q.toISOString().slice(0,10);try{if(l&&l.checkIn&&!l.checkOut){const H={employeeCode:C,attendanceDate:l.attendanceDate,checkIn:l.checkIn,checkOut:z,attendancePolicyId:N?.attendancePolicy?.id||null},te=await axios.put(`${$}/attendance-records/${l.id}`,H,{headers:B});u(te.data)}else{const H={employeeCode:C,attendancePolicyId:N?.attendancePolicy?.id||null,attendanceDate:V,checkIn:z,status:"PRESENT"},te=await axios.post(`${$}/attendance-records`,H,{headers:B});u(te.data)}const Q=n.getFullYear(),ee=n.getMonth(),G=`${Q}-${String(ee+1).padStart(2,"0")}-01`,K=new Date(Q,ee+1,0).getDate(),J=`${Q}-${String(ee+1).padStart(2,"0")}-${String(K).padStart(2,"0")}`,ne=await axios.get(`${$}/attendance-records/employee/${C}`,{params:{startDate:G,endDate:J},headers:B});t(ne.data.sort((H,te)=>new Date(H.attendanceDate)-new Date(te.attendanceDate)))}catch(Q){console.error("Failed to mark attendance",Q),f(Q.response?.data?.message||"An error occurred while marking attendance.")}finally{p(!1)}},_=()=>m?jsxRuntimeExports.jsxs("button",{className:"btn-secondary cursor-not-allowed flex items-center gap-2",disabled:!0,children:[jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4"})," Loading..."]}):!l||!l.checkIn?jsxRuntimeExports.jsxs("button",{onClick:L,className:"btn-primary flex items-center gap-2",children:[jsxRuntimeExports.jsx(LogIn,{size:18})," Check In"]}):l.checkIn&&!l.checkOut?jsxRuntimeExports.jsxs("button",{onClick:L,className:"btn-danger flex items-center gap-2",children:[jsxRuntimeExports.jsx(LogOut,{size:18})," Check Out"]}):jsxRuntimeExports.jsx("button",{className:"btn-secondary cursor-not-allowed flex items-center gap-2",disabled:!0,children:"Checked Out"});if(!m&&!N?.jobDetails)return jsxRuntimeExports.jsxs("div",{className:"p-8 text-center",children:[jsxRuntimeExports.jsx(AlertCircle,{className:"mx-auto h-12 w-12 text-slate-400"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-lg font-medium text-slate-900",children:"Configuration Missing"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-slate-500",children:j||"Your Time & Attendance settings have not been configured. Please contact HR."})]});const M=[{name:"Log",icon:BookOpen},{name:"My Requests",icon:CircleQuestionMark}];return jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-8 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"My Attendance"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>v(!0),className:"btn-secondary flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleQuestionMark,{size:16})," Request Regularization"]}),_(),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 bg-white p-1 rounded-lg shadow-sm",children:[jsxRuntimeExports.jsx("button",{onClick:()=>D(-1),className:"p-2 rounded-md hover:bg-slate-100",children:jsxRuntimeExports.jsx(ChevronsLeft,{className:"h-5 w-5"})}),jsxRuntimeExports.jsx("span",{className:"font-semibold text-slate-700 w-32 text-center",children:n.toLocaleString("default",{month:"long",year:"numeric"})}),jsxRuntimeExports.jsx("button",{onClick:()=>D(1),className:"p-2 rounded-md hover:bg-slate-100",children:jsxRuntimeExports.jsx(ChevronsRight,{className:"h-5 w-5"})})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsx(StatCard$5,{icon:UserCheck,title:"Present",value:A.present,color:"bg-green-500"}),jsxRuntimeExports.jsx(StatCard$5,{icon:UserMinus,title:"Half Days",value:A.halfDay,color:"bg-orange-500"}),jsxRuntimeExports.jsx(StatCard$5,{icon:Plane,title:"On Leave",value:A.onLeave,color:"bg-yellow-500"}),jsxRuntimeExports.jsx(StatCard$5,{icon:UserX,title:"Absent",value:A.absent,color:"bg-red-500"}),jsxRuntimeExports.jsx(StatCard$5,{icon:TriangleAlert,title:"Late Comings",value:A.late,color:"bg-orange-500"}),jsxRuntimeExports.jsx(StatCard$5,{icon:Clock,title:"Overtime",value:T,color:"bg-blue-500"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[jsxRuntimeExports.jsx("div",{className:"border-b border-slate-200",children:jsxRuntimeExports.jsx("nav",{className:"-mb-px flex space-x-6 px-6","aria-label":"Tabs",children:M.map(F=>jsxRuntimeExports.jsxs("button",{onClick:()=>b(F.name),className:`whitespace-nowrap flex items-center gap-2 py-3 px-1 border-b-2 font-medium text-sm transition-colors ${g===F.name?"border-blue-600 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:[jsxRuntimeExports.jsx(F.icon,{className:"h-5 w-5"}),F.name]},F.name))})}),jsxRuntimeExports.jsxs("div",{className:"p-6",children:[g==="Log"&&jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:m?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-64",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-blue-600"})}):j?jsxRuntimeExports.jsx("div",{className:"text-center py-10 text-red-500",children:j}):jsxRuntimeExports.jsxs("table",{className:"w-full text-sm text-left text-slate-500",children:[jsxRuntimeExports.jsx("thead",{className:"text-xs text-slate-700 uppercase bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"th-cell text-center",children:"Check In"}),jsxRuntimeExports.jsx("th",{className:"th-cell text-center",children:"Check Out"}),jsxRuntimeExports.jsx("th",{className:"th-cell text-center",children:"Work Hours"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Remarks"})]})}),jsxRuntimeExports.jsx("tbody",{className:"text-slate-700",children:e.map(F=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-slate-200 hover:bg-slate-50",children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium",children:new Date(F.attendanceDate).toLocaleDateString("en-GB",{weekday:"short",day:"2-digit",month:"short"})}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsx(StatusBadge$2,{status:F.status})}),jsxRuntimeExports.jsxs("td",{className:"td-cell text-center font-mono",children:[formatTime$1(F.checkIn),F.isLate&&jsxRuntimeExports.jsx("span",{className:"ml-2 text-xs font-semibold bg-red-100 text-red-700 px-1.5 py-0.5 rounded",children:"Late"})]}),jsxRuntimeExports.jsx("td",{className:"td-cell text-center font-mono",children:formatTime$1(F.checkOut)}),jsxRuntimeExports.jsx("td",{className:"td-cell text-center font-mono",children:calculateDuration(F.checkIn,F.checkOut)}),jsxRuntimeExports.jsx("td",{className:"td-cell text-xs text-slate-500",children:F.remarks})]},F.id))})]})}),g==="My Requests"&&jsxRuntimeExports.jsx(MyMissingRequestsTab,{employeeCode:C})]})]}),jsxRuntimeExports.jsx(MissingAttendanceRequestModal,{isOpen:R,onClose:()=>v(!1),onSubmit:I,loading:m})]})},BalanceCard=({title:e,balance:t})=>{const{available:n=0,pending:o=0,used:l=0,totalAllocated:u=0}=t||{};return jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:e.replace("_"," ")}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"h-5 w-5 text-green-500"}),jsxRuntimeExports.jsx("span",{children:"Available"})]}),jsxRuntimeExports.jsxs("p",{className:"font-bold text-slate-800",children:[n," ",jsxRuntimeExports.jsx("span",{className:"text-sm font-normal text-slate-500",children:"days"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[jsxRuntimeExports.jsx(Hourglass,{className:"h-5 w-5 text-yellow-500"}),jsxRuntimeExports.jsx("span",{children:"Pending Approval"})]}),jsxRuntimeExports.jsxs("p",{className:"font-bold text-slate-800",children:[o," ",jsxRuntimeExports.jsx("span",{className:"text-sm font-normal text-slate-500",children:"days"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[jsxRuntimeExports.jsx(TrendingDown,{className:"h-5 w-5 text-red-500"}),jsxRuntimeExports.jsx("span",{children:"Used"})]}),jsxRuntimeExports.jsxs("p",{className:"font-bold text-slate-800",children:[l," ",jsxRuntimeExports.jsx("span",{className:"text-sm font-normal text-slate-500",children:"days"})]})]}),jsxRuntimeExports.jsxs("div",{className:"border-t border-slate-200 mt-3 pt-3 flex justify-between items-center",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-slate-600",children:"Total Allotted"}),jsxRuntimeExports.jsxs("p",{className:"font-bold text-lg text-blue-600",children:[u," ",jsxRuntimeExports.jsx("span",{className:"text-sm font-normal text-slate-500",children:"days"})]})]})]})]})},LeaveBalanceView=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState(""),m="https://javapaas-202946-0.cloudclusters.net/api",p=localStorage.getItem("employeeCode");return reactExports.useEffect(()=>{(async()=>{if(!p){u("Employee code not found. Cannot fetch leave balances."),o(!1);return}o(!0),u("");try{const f=localStorage.getItem("token"),g=await axios.get(`${m}/leave-balances/employee/${p}`,{headers:{Authorization:`Bearer ${f}`}});t(g.data)}catch(f){f.response&&f.response.status===404?u("No leave balance records found for this employee."):u("Failed to fetch leave balances. Please try again later."),console.error(f)}finally{o(!1)}})()},[m,p]),n?jsxRuntimeExports.jsx("div",{className:"p-8 flex justify-center items-center h-64",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-blue-600"})}):l?jsxRuntimeExports.jsxs("div",{className:"p-8 text-center text-red-600",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-red-400"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-lg font-medium",children:"Error"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:l})]}):jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-6",children:"My Leave Balances"}),e.length>0?jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(j=>jsxRuntimeExports.jsx(BalanceCard,{title:j.leaveType.leaveType,balance:j},j.id))}):jsxRuntimeExports.jsxs("div",{className:"text-center text-slate-500 py-10 bg-white rounded-xl shadow-sm",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-slate-400"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-semibold text-slate-900",children:"No Leave Balances Found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Your leave balances will appear here once they are configured by HR."})]})]})},PolicyDetail=({label:e,value:t,isBool:n=!1})=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center py-2 text-sm",children:[jsxRuntimeExports.jsx("dt",{className:"text-foreground-muted",children:e}),jsxRuntimeExports.jsx("dd",{className:"font-medium text-foreground text-right",children:n?t?jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-5 w-5 text-green-500"}):jsxRuntimeExports.jsx(CircleX,{className:"h-5 w-5 text-red-500"}):t||"N/A"})]}),LeaveTypePolicyDetails=({ltp:e})=>{const[t,n]=reactExports.useState(!1),o=l=>typeof l=="string"?l.replace(/_/g," "):l;return jsxRuntimeExports.jsxs("div",{className:"bg-background-muted rounded-lg border border-border/50",children:[jsxRuntimeExports.jsxs("button",{className:"w-full flex justify-between items-center p-4 text-left",onClick:()=>n(!t),children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-primary",children:e.leaveType?.leaveType.replace("_"," ")}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-bold text-foreground",children:e.quotaLimitType==="UNLIMITED"?"Unlimited":`${e.quotaDays||0} days / year`}),t?jsxRuntimeExports.jsx(ChevronUp,{className:"h-5 w-5 text-foreground-muted"}):jsxRuntimeExports.jsx(ChevronDown,{className:"h-5 w-5 text-foreground-muted"})]})]}),t&&jsxRuntimeExports.jsx("div",{className:"px-4 pb-4 border-t border-border",children:jsxRuntimeExports.jsxs("dl",{className:"divide-y divide-border/50",children:[jsxRuntimeExports.jsx(PolicyDetail,{label:"Annual Quota",value:e.quotaLimitType==="UNLIMITED"?"Unlimited":`${e.quotaDays} days`}),jsxRuntimeExports.jsx(PolicyDetail,{label:"Accrual Type",value:o(e.accrualType)}),e.accrualType==="PERIODIC"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(PolicyDetail,{label:"Accrual Interval",value:o(e.accrualInterval)}),jsxRuntimeExports.jsx(PolicyDetail,{label:"Accrual Amount",value:`${e.accrualAmountDays} days`})]}),jsxRuntimeExports.jsx(PolicyDetail,{label:"Allow Half-Day",value:e.applicationSettings?.allowHalfDay,isBool:!0}),jsxRuntimeExports.jsx(PolicyDetail,{label:"Requires Comment",value:e.applicationSettings?.requireComment,isBool:!0}),jsxRuntimeExports.jsx(PolicyDetail,{label:"Requires Attachment if leave exceeds",value:`${e.applicationSettings?.attachmentIfExceedsDays||"N/A"} days`}),jsxRuntimeExports.jsx(PolicyDetail,{label:"Allow Back-dated Application",value:e.applicationSettings?.allowBackdatedApplication,isBool:!0}),e.applicationSettings?.allowBackdatedApplication&&jsxRuntimeExports.jsx(PolicyDetail,{label:"Max Back-dated Days",value:`${e.applicationSettings?.backdatedMaxDays} days`}),jsxRuntimeExports.jsx(PolicyDetail,{label:"Allowed in Notice Period",value:e.restrictionSettings?.allowedInNoticePeriod,isBool:!0}),jsxRuntimeExports.jsx(PolicyDetail,{label:"Max Consecutive Days",value:e.restrictionSettings?.limitConsecutiveDays?`${e.restrictionSettings?.maxConsecutiveDays} days`:"No Limit"}),jsxRuntimeExports.jsx(PolicyDetail,{label:"Requires Approval",value:e.approvalFlow?.approvalRequired,isBool:!0}),e.approvalFlow?.approvalRequired&&jsxRuntimeExports.jsx(PolicyDetail,{label:"Approval Levels",value:e.approvalLevels?.length||1}),jsxRuntimeExports.jsx(PolicyDetail,{label:"Year-End Unused Balance",value:o(e.yearEndProcessing?.positiveBalanceAction)})]})})]})},LeavePolicyView=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState(""),m=reactExports.useCallback(async()=>{o(!0),u("");try{const j=(await getAllLeavePolicies()).data.sort((f,g)=>g.defaultPolicy-f.defaultPolicy);t(j)}catch(p){u("Failed to fetch leave policies."),console.error(p)}finally{o(!1)}},[]);return reactExports.useEffect(()=>{m()},[m]),n?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-64",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-blue-600"})}):l?jsxRuntimeExports.jsxs("div",{className:"p-8 text-center text-red-500",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12"}),l]}):jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-8 space-y-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Leave Policies"}),e.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-10 text-slate-500 dark:text-slate-400",children:[jsxRuntimeExports.jsx(BookOpen,{className:"mx-auto h-12 w-12 text-slate-400 dark:text-slate-500"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-slate-900 dark:text-slate-300",children:"No Policies Found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"No leave policies have been configured by HR."})]}):jsxRuntimeExports.jsx("div",{className:"space-y-8",children:e.map(p=>jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-xl shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-slate-800 dark:text-slate-100",children:p.name}),p.defaultPolicy&&jsxRuntimeExports.jsx("span",{className:"text-xs bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-300 font-medium px-2 py-0.5 rounded-full ml-2",children:"Default Policy"})]}),jsxRuntimeExports.jsx("div",{className:"p-4",children:p.leaveTypePolicies&&p.leaveTypePolicies.length>0?jsxRuntimeExports.jsx("div",{className:"space-y-3",children:p.leaveTypePolicies.map(j=>jsxRuntimeExports.jsx(LeaveTypePolicyDetails,{ltp:j},j.id))}):jsxRuntimeExports.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"No specific leave type rules are defined for this policy."})})]},p.id))})]})},Leaves=()=>{const[e,t]=reactExports.useState("Leave Requests"),n=[{name:"Leave Requests",icon:FileClock,component:jsxRuntimeExports.jsx(LeavesView,{}),color:"text-amber-500"},{name:"Leave Balances",icon:Wallet,component:jsxRuntimeExports.jsx(LeaveBalanceView,{}),color:"text-green-500"},{name:"Leave Policy",icon:BookOpen,component:jsxRuntimeExports.jsx(LeavePolicyView,{}),color:"text-purple-500"}],o="border-blue-600 text-blue-600 font-semibold",l="border-transparent text-slate-500 hover:text-blue-600 hover:border-blue-300";return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full",children:[jsxRuntimeExports.jsx("div",{className:"border-b border-slate-200 px-6 md:px-8 bg-white",children:jsxRuntimeExports.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:n.map(u=>jsxRuntimeExports.jsxs("button",{onClick:()=>t(u.name),className:`whitespace-nowrap flex items-center gap-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors group ${e===u.name?o:l}`,children:[jsxRuntimeExports.jsx(u.icon,{className:`h-5 w-5 ${u.color} ${e!==u.name&&"opacity-70 group-hover:opacity-100"}`}),u.name]},u.name))})}),jsxRuntimeExports.jsx("div",{className:"flex-grow bg-slate-50",children:n.find(u=>u.name===e)?.component})]})},navLinks$1=[{name:"Dashboard",icon:LayoutDashboard,Component:DashboardView,module:"HRMS_CORE"},{name:"Attendance",icon:Clock,Component:AttendanceView,module:"HRMS_ATTENDANCE"},{name:"Leaves",icon:Calendar,Component:Leaves,module:"HRMS_LEAVE"},{name:"Payroll",icon:DollarSign,Component:PayrollView,module:"HRMS_PAYROLL"},{name:"Recruitment",icon:DollarSign,Component:RecruitmentView,module:"HRMS_RECRUITMENT"}],NavItem$1=({item:e,isActive:t,onClick:n})=>jsxRuntimeExports.jsxs("button",{onClick:n,className:`flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors w-full text-left ${t?"bg-primary text-primary-foreground shadow-sm":"text-foreground-muted hover:bg-background-muted"}`,children:[jsxRuntimeExports.jsx(e.icon,{className:"h-5 w-5 mr-3 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{children:e.name})]}),SidebarContent$7=({activeItem:e,setActiveItem:t,onLinkClick:n,accessibleNavLinks:o})=>{const l=useNavigate(),u=localStorage.getItem("username")||"Employee",m=()=>{localStorage.clear(),l("/login")};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full bg-card text-card-foreground",children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b border-border flex-shrink-0",children:jsxRuntimeExports.jsxs(Link$1,{to:"/employee-dashboard",className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Sparkles,{className:"h-7 w-7 text-primary"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-xl text-foreground",children:"Enterprise HRMS"})]})}),jsxRuntimeExports.jsx("nav",{className:"flex-1 px-4 py-4 space-y-2 overflow-y-auto",children:o.map(p=>jsxRuntimeExports.jsx(NavItem$1,{item:p,isActive:e===p.name,onClick:()=>{t(p.name),n&&n()}},p.name))}),jsxRuntimeExports.jsx("div",{className:"p-4 border-t border-border flex-shrink-0",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center min-w-0",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center font-bold text-primary flex-shrink-0",children:u.charAt(0).toUpperCase()}),jsxRuntimeExports.jsxs("div",{className:"ml-3 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-semibold text-foreground truncate",children:u}),jsxRuntimeExports.jsx("p",{className:"text-xs text-foreground-muted",children:"Employee"})]})]}),jsxRuntimeExports.jsx("button",{onClick:m,className:"text-foreground-muted hover:text-red-600 ml-2 flex-shrink-0",title:"Logout",children:jsxRuntimeExports.jsx(LogOut,{className:"h-5 w-5"})})]})})]})},EmployeeDashboard=()=>{const[e,t]=reactExports.useState(!1),[n,o]=reactExports.useState(null),[l,u]=reactExports.useState(!0),[m,p]=reactExports.useState(""),j=localStorage.getItem("username")||"Employee",f="https://javapaas-202946-0.cloudclusters.net/api",{hasModule:g}=useTenant(),b=reactExports.useMemo(()=>JSON.parse(localStorage.getItem("roles")||"[]"),[]);reactExports.useMemo(()=>b.includes("SUPER_ADMIN"),[b]);const R=reactExports.useMemo(()=>g("HRMS_CORE")&&g("HRMS_ATTENDANCE")&&g("HRMS_LEAVE")&&g("HRMS_PAYROLL")&&g("POS")?navLinks$1:navLinks$1.filter(C=>!C.module||g(C.module)),[g]),[v,N]=reactExports.useState("Dashboard");reactExports.useEffect(()=>{R.some(C=>C.name===v)||N("Dashboard")},[R,v]),reactExports.useEffect(()=>{(async()=>{try{const C=localStorage.getItem("token"),A=await axios.get(`${f}/employees/by-user-email/${j}`,{headers:{Authorization:`Bearer ${C}`}});localStorage.setItem("employeeCode",A.data.employeeCode);const T={attendance:{today:{checkIn:"09:30 AM",status:"PRESENT"},workHours:"4h 30m"},leaveBalance:{sick:5,casual:10,earned:8},...A.data,leaves:A.data.leaves||[]};o(T)}catch(C){console.error("Error fetching employee data:",C),C.response?.status===404?p("Your employee profile could not be found. Please contact HR."):p("Could not load your dashboard data. Please try again later.")}finally{u(!1)}})()},[j,f]);const S=()=>{const $=R.find(A=>A.name===v)||R[0];if(!$)return jsxRuntimeExports.jsx("div",{className:"p-8 text-center text-foreground-muted",children:"No modules are accessible for your account. Please contact support."});const C=$.Component;return jsxRuntimeExports.jsx(C,{setActiveItem:N,employee:n},v)};return jsxRuntimeExports.jsxs("div",{className:"flex h-screen bg-background text-foreground",children:[jsxRuntimeExports.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0",children:jsxRuntimeExports.jsx("div",{className:"flex flex-col w-64 border-r border-border",children:jsxRuntimeExports.jsx(SidebarContent$7,{activeItem:v,setActiveItem:N,accessibleNavLinks:R})})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[jsxRuntimeExports.jsxs("header",{className:"lg:hidden sticky top-0 z-10 flex-shrink-0 flex h-16 bg-card shadow-sm",children:[jsxRuntimeExports.jsx("button",{type:"button",className:"px-4 border-r border-border text-foreground-muted focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary",onClick:()=>t(!0),children:jsxRuntimeExports.jsx(Menu,{className:"h-6 w-6"})}),jsxRuntimeExports.jsx("div",{className:"flex-1 px-4 flex justify-between items-center",children:jsxRuntimeExports.jsxs(Link$1,{to:"/employee-dashboard",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Sparkles,{className:"h-6 w-6 text-primary"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-lg text-foreground",children:"HRMS"})]})})]}),jsxRuntimeExports.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-background-muted",children:l?jsxRuntimeExports.jsx("div",{className:"p-8 flex justify-center items-center h-full",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-primary"})}):m?jsxRuntimeExports.jsx("div",{className:"p-8 flex justify-center items-center h-full",children:jsxRuntimeExports.jsxs("div",{className:"text-center text-red-600",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-red-400"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-lg font-medium",children:"Something went wrong"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:m})]})}):n?S():jsxRuntimeExports.jsx("div",{className:"p-8 bg-background-muted text-foreground-muted",children:"No employee data found."})})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:e&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden",onClick:()=>t(!1)}),jsxRuntimeExports.jsx(motion.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 left-0 h-full w-64 z-30",children:jsxRuntimeExports.jsx(SidebarContent$7,{activeItem:v,setActiveItem:N,accessibleNavLinks:R,onLinkClick:()=>t(!1)})})]})})]})},HRMS_ROLES=["HRMS_ADMIN","HR","MANAGER","EMPLOYEE"],UserModal=({isOpen:e,onClose:t,onSave:n,user:o,loading:l})=>{const[u,m]=reactExports.useState({name:"",email:"",password:"",confirmPassword:"",roles:new Set(["EMPLOYEE"]),isActive:!0,isLocked:!1,locationId:null}),[p,j]=reactExports.useState(""),[f,g]=reactExports.useState([]),b="https://javapaas-202946-0.cloudclusters.net/api";reactExports.useEffect(()=>{m(o?{name:o.name,email:o.email,password:"",confirmPassword:"",roles:new Set(o.roles||["EMPLOYEE"]),isActive:o.isActive,isLocked:o.isLocked,locationId:o.locationId}:{name:"",email:"",password:"",confirmPassword:"",roles:new Set(["EMPLOYEE"]),isActive:!0,isLocked:!1,locationId:null}),j(""),(async()=>{if(e)try{const C={Authorization:`Bearer ${localStorage.getItem("token")}`},[A]=await Promise.all([axios.get(`${b}/locations`,{headers:C}).catch(()=>({data:[]}))]);g(A.data)}catch{j("Failed to load locations.")}})()},[o,e]);const R=S=>{const{name:$,value:C,type:A,checked:T}=S.target;m(D=>({...D,[$]:A==="checkbox"?T:C}))},v=S=>{m($=>{const C=new Set($.roles);return C.has(S)?C.delete(S):C.add(S),{...$,roles:C}})},N=S=>{if(S.preventDefault(),u.password!==u.confirmPassword){j("Passwords do not match.");return}if(!o&&!u.password){j("Password is required for new users.");return}const $={...u,roles:Array.from(u.roles)};$.locationId===""&&($.locationId=null),n($)};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold",children:[o?"Edit":"Add"," User"]}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:N,children:[jsxRuntimeExports.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-4 max-h-[70vh] overflow-y-auto",children:[jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-700",children:"Name"}),jsxRuntimeExports.jsx("input",{id:"name",name:"name",value:u.name,onChange:R,required:!0,className:"mt-1 block w-full input"})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700",children:"Email"}),jsxRuntimeExports.jsx("input",{id:"email",name:"email",type:"email",value:u.email,onChange:R,required:!0,className:"mt-1 block w-full input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700",children:"Password"}),jsxRuntimeExports.jsx("input",{id:"password",name:"password",type:"password",value:u.password,onChange:R,required:!o,className:"mt-1 block w-full input",placeholder:o?"Leave blank to keep current":""})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-slate-700",children:"Confirm Password"}),jsxRuntimeExports.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",value:u.confirmPassword,onChange:R,required:!o||!!u.password,className:"mt-1 block w-full input"})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Roles"}),jsxRuntimeExports.jsx("div",{className:"mt-2 flex flex-wrap gap-x-4 gap-y-2",children:HRMS_ROLES.map(S=>jsxRuntimeExports.jsxs("label",{className:"inline-flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:u.roles.has(S),onChange:()=>v(S),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})," ",jsxRuntimeExports.jsx("span",{className:"ml-2 text-sm text-slate-600",children:S})]},S))})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("label",{className:"inline-flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"isActive",checked:u.isActive,onChange:R,className:"h-4 w-4 rounded"})," ",jsxRuntimeExports.jsx("span",{className:"ml-2 text-sm",children:"Is Active"})]}),jsxRuntimeExports.jsxs("label",{className:"inline-flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"isLocked",checked:u.isLocked,onChange:R,className:"h-4 w-4 rounded"})," ",jsxRuntimeExports.jsx("span",{className:"ml-2 text-sm",children:"Is Locked"})]})]}),p&&jsxRuntimeExports.jsx("p",{className:"md:col-span-2 text-red-500 text-sm",children:p}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2 pt-2 border-t",children:[jsxRuntimeExports.jsx("label",{htmlFor:"locationId",className:"block text-sm font-medium text-slate-700",children:"Assign to Location (Optional)"}),jsxRuntimeExports.jsxs("select",{id:"locationId",name:"locationId",value:u.locationId||"",onChange:R,className:"mt-1 block w-full input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"No specific location"}),f.map(S=>jsxRuntimeExports.jsx("option",{value:S.id,children:S.name},S.id))]})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t bg-slate-50 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:l,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:l,children:[l&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"})," Save"]})]})]})]})}):null},BulkUserModal=({isOpen:e,onClose:t,onUpload:n,loading:o})=>{const[l,u]=reactExports.useState(null),[m,p]=reactExports.useState(""),j=g=>{u(g.target.files[0]),p("")},f=g=>{if(g.preventDefault(),!l){p("Please select a file to upload.");return}n(l)};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold",children:"Bulk Add Users"}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:f,children:[jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600",children:"Upload an Excel file with user data. Required columns: Name, Email, Password, Roles (comma-separated), IsActive, IsLocked."}),jsxRuntimeExports.jsx("input",{type:"file",onChange:j,accept:".xlsx, .xls",className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),m&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm",children:m})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t bg-slate-50 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:o,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:o,children:[o&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"})," Upload"]})]})]})]})}):null},UsersDetails=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState(""),[m,p]=reactExports.useState(!1),[j,f]=reactExports.useState(!1),[g,b]=reactExports.useState(null),[R,v]=reactExports.useState(!1),[N,S]=reactExports.useState([]),$="https://javapaas-202946-0.cloudclusters.net/api",C=async()=>{o(!0),u("");try{const _=localStorage.getItem("token"),M=await axios.get(`${$}/users`,{headers:{Authorization:`Bearer ${_}`}}),[F]=await Promise.all([axios.get(`${$}/locations`,{headers:{Authorization:`Bearer ${_}`}}).catch(()=>({data:[]}))]);t(M.data),S(F.data)}catch(_){u("Failed to fetch users. Please try again later."),console.error(_)}finally{o(!1)}};reactExports.useEffect(()=>{C()},[]);const A=_=>{b(_),p(!0)},T=async _=>{v(!0),u("");try{const M=localStorage.getItem("token"),{confirmPassword:F,...B}=_;g?await axios.put(`${$}/users/${g.id}`,B,{headers:{Authorization:`Bearer ${M}`}}):await axios.post(`${$}/users/register`,B,{headers:{Authorization:`Bearer ${M}`}}),p(!1),C()}catch(M){u(M.response?.data?.message||"Failed to save user. The email might already exist."),console.error(M)}finally{v(!1)}},D=async _=>{v(!0),u("");const M=new FormData;M.append("file",_);try{const F=localStorage.getItem("token"),B=await axios.post(`${$}/users/bulkUsers`,M,{headers:{Authorization:`Bearer ${F}`,"Content-Type":"multipart/form-data"}});alert(B.data),f(!1),C()}catch(F){const B=F.response?.data||"Failed to upload file.";u(B),alert(`Upload failed:
${B}`)}finally{v(!1)}},I=reactExports.useMemo(()=>{const _=new Set(["HRMS_ADMIN","HR","MANAGER","EMPLOYEE"]);return e.filter(M=>M.roles.some(F=>_.has(F)))},[e]),L=reactExports.useMemo(()=>new Map(N.map(_=>[_.id,_.name])),[N]);return jsxRuntimeExports.jsxs(DashboardLayout,{children:[jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-8",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center mb-6",children:jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Users"})}),l&&jsxRuntimeExports.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:[jsxRuntimeExports.jsx("strong",{className:"font-bold",children:"Error: "}),jsxRuntimeExports.jsx("span",{className:"block sm:inline whitespace-pre-wrap",children:l})]}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:n?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-80",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-blue-600"})}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-white",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Email"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Roles"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Location"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"text-slate-700",children:I.length>0?I.map(_=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-slate-200 hover:bg-slate-50",children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium",children:_.name}),jsxRuntimeExports.jsx("td",{className:"td-cell text-sm text-slate-500",children:_.email}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1",children:_.roles.map(M=>jsxRuntimeExports.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-slate-100 text-slate-700",children:M},M))})}),jsxRuntimeExports.jsx("td",{className:"td-cell text-sm text-slate-500",children:_.locationId?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5",children:[jsxRuntimeExports.jsx(MapPin,{size:14}),jsxRuntimeExports.jsx("span",{children:L.get(_.locationId)||"N/A"})]}):"-"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[_.isActive?jsxRuntimeExports.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Active"}):jsxRuntimeExports.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-slate-100 text-slate-600",children:"Inactive"}),_.isLocked&&jsxRuntimeExports.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-red-100 text-red-800",children:"Locked"})]})}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsx("button",{onClick:()=>A(_),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-100 rounded-full transition-colors",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4"})})})]},_.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"6",className:"text-center py-10 text-slate-500",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-slate-400"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-slate-900",children:"No users found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Get started by creating a new user."})]})})})]})})})]}),jsxRuntimeExports.jsx(UserModal,{isOpen:m,onClose:()=>p(!1),onSave:T,user:g,loading:R}),jsxRuntimeExports.jsx(BulkUserModal,{isOpen:j,onClose:()=>f(!1),onUpload:D,loading:R})]})},SidebarContent$6=({onLinkClick:e})=>{useLocation();const t=localStorage.getItem("username")||"Admin",n=useNavigate(),{hasModule:o}=useTenant(),l=()=>{localStorage.clear(),n("/login")},u=[{name:"Dashboard",icon:LayoutDashboard,href:"/company-dashboard",color:"text-indigo-500"},{name:"HRMS",icon:Users,href:"/hrdashboard",module:"HRMS_CORE",color:"text-blue-500"},{name:"POS",icon:ShoppingCart,href:"/pos-dashboard",module:"POS",color:"text-green-500"},{name:"Sales",icon:DollarSign,href:"/sales-dashboard",module:"SALES",color:"text-emerald-500"},{name:"Purchases",icon:ShoppingCart,href:"/purchase-dashboard",module:"PURCHASE",color:"text-orange-500"},{name:"CRM",icon:Users,href:"/crm-dashboard",module:"CRM",color:"text-rose-500"},{name:"Account",icon:Landmark,href:"/account-dashboard",color:"text-amber-500"},{name:"Production",icon:Building,href:"/production-dashboard",module:"PRODUCTION",color:"text-cyan-500"},{name:"Settings",icon:Settings$1,href:"/company-settings",color:"text-slate-500"}],m=reactExports.useMemo(()=>u.filter(j=>!j.module||o(j.module)),[o]),p=({item:j})=>jsxRuntimeExports.jsx(NavLink,{to:j.href,onClick:e,className:({isActive:f})=>`flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors group ${f?"bg-primary text-primary-foreground shadow-sm":"text-foreground-muted hover:bg-background-muted"}`,children:({isActive:f})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(j.icon,{className:`h-5 w-5 mr-3 flex-shrink-0 transition-colors ${f?"text-primary-foreground":`${j.color} group-hover:text-primary`}`}),jsxRuntimeExports.jsx("span",{children:j.name})]})});return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full bg-card text-card-foreground",children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b border-border flex-shrink-0",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Sparkles,{className:"h-7 w-7 text-primary"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-xl text-foreground",children:"Company Hub"})]})}),jsxRuntimeExports.jsx("nav",{className:"flex-1 px-4 py-4 space-y-2 overflow-y-auto",children:m.map(j=>jsxRuntimeExports.jsx(p,{item:j},j.name))}),jsxRuntimeExports.jsx("div",{className:"p-4 border-t border-border flex-shrink-0",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-foreground-muted",children:["Welcome, ",jsxRuntimeExports.jsx("span",{className:"font-semibold text-foreground",children:t})]}),jsxRuntimeExports.jsx("button",{onClick:l,className:"text-foreground-muted hover:text-red-600",title:"Logout",children:jsxRuntimeExports.jsx(LogOut,{className:"h-5 w-5"})})]})})]})},CompanyHubLayout=({children:e})=>{const[t,n]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("div",{className:"flex h-screen bg-background text-foreground",children:[jsxRuntimeExports.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0",children:jsxRuntimeExports.jsx("div",{className:"flex flex-col w-64 border-r border-border",children:jsxRuntimeExports.jsx(SidebarContent$6,{})})}),jsxRuntimeExports.jsx(AnimatePresence,{children:t&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black/50 z-20 lg:hidden",onClick:()=>n(!1)}),jsxRuntimeExports.jsx(motion.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 left-0 h-full w-64 z-30 bg-card text-card-foreground",children:jsxRuntimeExports.jsx(SidebarContent$6,{onLinkClick:()=>n(!1)})})]})}),jsxRuntimeExports.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[jsxRuntimeExports.jsxs("header",{className:"lg:hidden sticky top-0 z-10 flex-shrink-0 flex h-16 bg-white dark:bg-slate-800 shadow-sm items-center px-4",children:[jsxRuntimeExports.jsx("button",{type:"button",className:"text-slate-500 dark:text-slate-400",onClick:()=>n(!0),children:jsxRuntimeExports.jsx(Menu,{className:"h-6 w-6"})}),jsxRuntimeExports.jsx("div",{className:"flex-1 flex justify-center items-center",children:jsxRuntimeExports.jsx("span",{className:"font-bold text-lg dark:text-slate-100",children:"Company Hub"})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 bg-slate-50 dark:bg-slate-900/50",children:e})]})]})},allSettingsSections=[{name:"HRMS",path:"/hrms-settings",icon:SlidersHorizontal,module:"HRMS_CORE",color:"text-blue-500"},{name:"Account",path:"/account-settings",icon:Landmark,color:"text-cyan-500"},{name:"POS",path:"/pos-settings",icon:Store,module:"POS",color:"text-orange-500"},{name:"CRM",path:"/crm-settings",icon:Users,module:"CRM",color:"text-green-500"},{name:"PartyType",path:"/company-settings/party-type",icon:BookUser,color:"text-indigo-500"},{name:"Production",path:"/production-settings",icon:Factory,module:"PRODUCTION",color:"text-purple-500"}],Settings=()=>{const{hasModule:e}=useTenant(),t=["light","dark","greenish","blueish"],[n,o]=reactExports.useState(()=>localStorage.getItem("theme")||"light");reactExports.useEffect(()=>{const m=document.documentElement;t.forEach(p=>m.classList.remove(p)),n!=="light"&&m.classList.add(n),localStorage.setItem("theme",n)},[n]);const l=()=>{const p=(t.indexOf(n)+1)%t.length;o(t[p])},u=reactExports.useMemo(()=>allSettingsSections.filter(m=>!m.module||e(m.module)),[e]);return jsxRuntimeExports.jsx(CompanyHubLayout,{children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full bg-background text-foreground",children:[jsxRuntimeExports.jsx("header",{className:"bg-card text-card-foreground border-b border-border p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold",children:"Settings"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 capitalize",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-foreground-muted hidden sm:inline",children:[n," Mode"]}),jsxRuntimeExports.jsx("button",{onClick:l,className:"p-2 rounded-full hover:bg-background-muted text-foreground-muted",title:"Cycle Theme",children:jsxRuntimeExports.jsx(Palette,{className:"h-5 w-5"})})]})]})}),jsxRuntimeExports.jsx("main",{className:"flex-1 p-4 sm:p-6 md:p-8",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:u.map(m=>jsxRuntimeExports.jsxs(Link$1,{to:m.path,className:"group bg-card border border-border rounded-xl p-6 flex flex-col items-center justify-center text-center transition-all duration-300 hover:shadow-lg hover:-translate-y-1 hover:border-primary",children:[jsxRuntimeExports.jsx("div",{className:"mb-4 p-4 rounded-full bg-primary/10",children:jsxRuntimeExports.jsx(m.icon,{className:`h-8 w-8 ${m.color}`})}),jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-foreground",children:m.name}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-foreground-muted mt-1",children:["Manage ",m.name," settings"]})]},m.name))})})]})})},DepartmentModal=({isOpen:e,onClose:t,onSave:n,department:o,loading:l})=>{const[u,m]=reactExports.useState({name:"",code:"",description:""}),[p,j]=reactExports.useState("");reactExports.useEffect(()=>{m(o?{name:o.name,code:o.code,description:o.description||""}:{name:"",code:"",description:""}),j("")},[o,e]);const f=b=>{const{name:R,value:v}=b.target;m(N=>({...N,[R]:v}))},g=b=>{if(b.preventDefault(),!u.name||!u.code){j("Name and Code are required.");return}n(u)};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold",children:[o?"Edit":"Add"," Department"]}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:g,children:[jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-700",children:"Name"}),jsxRuntimeExports.jsx("input",{id:"name",name:"name",value:u.name,onChange:f,required:!0,className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-blue-600 focus:border-blue-600 sm:text-sm"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-slate-700",children:"Code"}),jsxRuntimeExports.jsx("input",{id:"code",name:"code",value:u.code,onChange:f,required:!0,className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-blue-600 focus:border-blue-600 sm:text-sm"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-700",children:"Description"}),jsxRuntimeExports.jsx("textarea",{id:"description",name:"description",value:u.description,onChange:f,rows:"3",className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-blue-600 focus:border-blue-600 sm:text-sm"})]}),p&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm",children:p})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t bg-slate-50 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:l,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:l,children:[l&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}),"Save"]})]})]})]})}):null},Department=({embedded:e=!1})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState(!0),[u,m]=reactExports.useState(!1),[p,j]=reactExports.useState(""),[f,g]=reactExports.useState(!1),[b,R]=reactExports.useState(null),v="https://javapaas-202946-0.cloudclusters.net/api",N=async()=>{l(!0),j("");try{const D=localStorage.getItem("token"),I=await axios.get(`${v}/departments`,{headers:{Authorization:`Bearer ${D}`}});n(I.data)}catch(D){j("Failed to fetch departments. Please try again later."),console.error(D)}finally{l(!1)}};reactExports.useEffect(()=>{N()},[v]);const S=()=>{R(null),g(!0)},$=D=>{R(D),g(!0)},C=async(D,I)=>{if(window.confirm(`Are you sure you want to delete the department "${I}"? This action cannot be undone.`))try{const L=localStorage.getItem("token");await axios.delete(`${v}/departments/${D}`,{headers:{Authorization:`Bearer ${L}`}}),n(t.filter(_=>_.id!==D))}catch(L){j("Failed to delete department."),console.error(L)}},A=async D=>{m(!0),j("");try{const I=localStorage.getItem("token");b?await axios.put(`${v}/departments/${b.id}`,D,{headers:{Authorization:`Bearer ${I}`}}):await axios.post(`${v}/departments`,D,{headers:{Authorization:`Bearer ${I}`}}),g(!1),N()}catch(I){j("Failed to save department. The name or code might already exist."),console.error(I)}finally{m(!1)}},T=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:e?"p-4 sm:p-6":"p-6 md:p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[!e&&jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Departments"}),jsxRuntimeExports.jsxs("button",{onClick:S,className:`btn-primary flex items-center ${e?"ml-auto":""}`,children:[jsxRuntimeExports.jsx(Plus,{className:"h-5 w-5 mr-2"}),"Add Department"]})]}),p&&jsxRuntimeExports.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:[jsxRuntimeExports.jsx("strong",{className:"font-bold",children:"Error: "}),jsxRuntimeExports.jsx("span",{className:"block sm:inline",children:p})]}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:o?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-80",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-blue-600"})}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-white",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"text-left py-3 px-4 uppercase font-semibold text-sm text-slate-600",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"text-left py-3 px-4 uppercase font-semibold text-sm text-slate-600",children:"Code"}),jsxRuntimeExports.jsx("th",{className:"text-left py-3 px-4 uppercase font-semibold text-sm text-slate-600",children:"Description"}),jsxRuntimeExports.jsx("th",{className:"text-left py-3 px-4 uppercase font-semibold text-sm text-slate-600",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"text-slate-700",children:t.length>0?t.map(D=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-slate-200 hover:bg-slate-50",children:[jsxRuntimeExports.jsx("td",{className:"py-3 px-4 font-medium",children:D.name}),jsxRuntimeExports.jsx("td",{className:"py-3 px-4 text-sm text-slate-500",children:D.code}),jsxRuntimeExports.jsx("td",{className:"py-3 px-4 text-sm text-slate-500 max-w-sm truncate",title:D.description,children:D.description}),jsxRuntimeExports.jsxs("td",{className:"py-3 px-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>$(D),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-100 rounded-full transition-colors",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>C(D.id,D.name),className:"p-2 text-slate-500 hover:text-red-600 hover:bg-red-100 rounded-full transition-colors",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})]},D.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"4",className:"text-center py-10 text-slate-500",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-slate-400"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-slate-900",children:"No departments found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Get started by creating a new department."})]})})})]})})})]}),jsxRuntimeExports.jsx(DepartmentModal,{isOpen:f,onClose:()=>g(!1),onSave:A,department:b,loading:u})]});return e?T:jsxRuntimeExports.jsx(DashboardLayout,{children:T})},DesignationModal=({isOpen:e,onClose:t,onSave:n,designation:o,loading:l,departments:u})=>{const[m,p]=reactExports.useState({title:"",level:"",description:"",departmentCode:""}),[j,f]=reactExports.useState("");reactExports.useEffect(()=>{p(o?{title:o.title||"",level:o.level||"",description:o.description||"",departmentCode:o.departmentCode||""}:{title:"",level:"",description:"",departmentCode:""}),f("")},[o,e]);const g=R=>{const{name:v,value:N}=R.target;p(S=>({...S,[v]:N}))},b=R=>{if(R.preventDefault(),!m.title.trim()||!String(m.level).trim()){f("Title and Level are required.");return}if(!o&&!m.departmentCode){f("Department is required for new designations.");return}n(m)};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold",children:[o?"Edit":"Add"," Designation"]}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:b,children:[jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-4",children:[o?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Department"}),jsxRuntimeExports.jsx("p",{className:"mt-1 block w-full px-3 py-2 bg-slate-100 border border-slate-300 rounded-md shadow-sm sm:text-sm text-slate-500",children:o.departmentName||"N/A"})]}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"departmentCode",className:"block text-sm font-medium text-slate-700",children:"Department"}),jsxRuntimeExports.jsxs("select",{id:"departmentCode",name:"departmentCode",value:m.departmentCode,onChange:g,required:!0,className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-blue-600 focus:border-blue-600 sm:text-sm",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select a department"}),u?.map(R=>jsxRuntimeExports.jsx("option",{value:R.code,children:R.name},R.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-slate-700",children:"Title"}),jsxRuntimeExports.jsx("input",{id:"title",name:"title",value:m.title,onChange:g,required:!0,className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-blue-600 focus:border-blue-600 sm:text-sm"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"level",className:"block text-sm font-medium text-slate-700",children:"Level"}),jsxRuntimeExports.jsx("input",{id:"level",name:"level",value:m.level,onChange:g,required:!0,className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-blue-600 focus:border-blue-600 sm:text-sm"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-700",children:"Description"}),jsxRuntimeExports.jsx("textarea",{id:"description",name:"description",value:m.description,onChange:g,rows:"3",className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-blue-600 focus:border-blue-600 sm:text-sm"})]}),j&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm",children:j})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t bg-slate-50 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:l,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:l,children:[l&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}),"Save"]})]})]})]})}):null},Designation=({embedded:e=!1})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState([]),[u,m]=reactExports.useState(!0),[p,j]=reactExports.useState(!1),[f,g]=reactExports.useState(""),[b,R]=reactExports.useState(!1),[v,N]=reactExports.useState(null),S="https://javapaas-202946-0.cloudclusters.net/api",$=async()=>{m(!0),g("");try{const _=localStorage.getItem("token"),M=await axios.get(`${S}/designations`,{headers:{Authorization:`Bearer ${_}`}});n(M.data)}catch(_){g("Failed to fetch designations. Please try again later."),console.error(_)}finally{m(!1)}},C=async()=>{try{const _=localStorage.getItem("token"),M=await axios.get(`${S}/departments`,{headers:{Authorization:`Bearer ${_}`}});l(M.data)}catch(_){console.error("Failed to fetch departments for modal:",_),g(M=>M?`${M} Also failed to load departments.`:"Failed to load departments.")}};reactExports.useEffect(()=>{$(),C()},[S]);const A=()=>{N(null),R(!0)},T=_=>{N(_),R(!0)},D=async(_,M)=>{if(window.confirm(`Are you sure you want to delete the designation "${M}"? This action cannot be undone.`))try{const F=localStorage.getItem("token");await axios.delete(`${S}/designations/${_}`,{headers:{Authorization:`Bearer ${F}`}}),n(t.filter(B=>B.id!==_))}catch(F){g("Failed to delete designation."),console.error(F)}},I=async _=>{j(!0),g("");try{const M=localStorage.getItem("token");if(v){const{departmentCode:F,...B}=_;await axios.put(`${S}/designations/${v.id}`,B,{headers:{Authorization:`Bearer ${M}`}})}else{const{departmentCode:F,...B}=_;await axios.post(`${S}/designations/for-department/${F}`,B,{headers:{Authorization:`Bearer ${M}`}})}R(!1),$()}catch(M){g("Failed to save designation. The title might already exist in the selected department."),console.error(M)}finally{j(!1)}},L=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:e?"p-4 sm:p-6":"p-6 md:p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[!e&&jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Designations"}),jsxRuntimeExports.jsxs("button",{onClick:A,className:`btn-primary flex items-center ${e?"ml-auto":""}`,children:[jsxRuntimeExports.jsx(Plus,{className:"h-5 w-5 mr-2"}),"Add Designation"]})]}),f&&jsxRuntimeExports.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:[jsxRuntimeExports.jsx("strong",{className:"font-bold",children:"Error: "}),jsxRuntimeExports.jsx("span",{className:"block sm:inline",children:f})]}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:u?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-80",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-blue-600"})}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-white",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"text-left py-3 px-4 uppercase font-semibold text-sm text-slate-600",children:"Title"}),jsxRuntimeExports.jsx("th",{className:"text-left py-3 px-4 uppercase font-semibold text-sm text-slate-600",children:"Department"}),jsxRuntimeExports.jsx("th",{className:"text-left py-3 px-4 uppercase font-semibold text-sm text-slate-600",children:"Level"}),jsxRuntimeExports.jsx("th",{className:"text-left py-3 px-4 uppercase font-semibold text-sm text-slate-600",children:"Description"}),jsxRuntimeExports.jsx("th",{className:"text-left py-3 px-4 uppercase font-semibold text-sm text-slate-600",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"text-slate-700",children:t.length>0?t.map(_=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-slate-200 hover:bg-slate-50",children:[jsxRuntimeExports.jsx("td",{className:"py-3 px-4 font-medium",children:_.title}),jsxRuntimeExports.jsx("td",{className:"py-3 px-4 text-sm text-slate-500",children:_.departmentName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"py-3 px-4 text-sm text-slate-500",children:_.level}),jsxRuntimeExports.jsx("td",{className:"py-3 px-4 text-sm text-slate-500 max-w-sm truncate",title:_.description,children:_.description}),jsxRuntimeExports.jsxs("td",{className:"py-3 px-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>T(_),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-100 rounded-full transition-colors",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>D(_.id,_.title),className:"p-2 text-slate-500 hover:text-red-600 hover:bg-red-100 rounded-full transition-colors",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})]},_.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"5",className:"text-center py-10 text-slate-500",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-slate-400"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-slate-900",children:"No designations found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Get started by creating a new designation."})]})})})]})})})]}),jsxRuntimeExports.jsx(DesignationModal,{isOpen:b,onClose:()=>R(!1),onSave:I,designation:v,departments:o,loading:p})]});return e?L:jsxRuntimeExports.jsx(DashboardLayout,{children:L})},JobBandModal=({isOpen:e,onClose:t,onSave:n,jobBand:o,loading:l,designations:u})=>{const[m,p]=reactExports.useState({name:"",level:"",minSalary:"",maxSalary:"",notes:"",designationId:""}),[j,f]=reactExports.useState("");reactExports.useEffect(()=>{p(o?{name:o.name||"",level:o.level||"",minSalary:o.minSalary||"",maxSalary:o.maxSalary||"",notes:o.notes||"",designationId:o.designationId||""}:{name:"",level:"",minSalary:"",maxSalary:"",notes:"",designationId:""}),f("")},[o,e]);const g=R=>{const{name:v,value:N}=R.target;p(S=>({...S,[v]:N}))},b=R=>{if(R.preventDefault(),!m.name.trim()||!m.designationId){f("Name and Designation are required.");return}n(m)};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold",children:[o?"Edit":"Add"," Job Band"]}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:b,children:[jsxRuntimeExports.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-4 max-h-[70vh] overflow-y-auto",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-700",children:"Band Name"}),jsxRuntimeExports.jsx("input",{id:"name",name:"name",value:m.name,onChange:g,required:!0,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"level",className:"block text-sm font-medium text-slate-700",children:"Level"}),jsxRuntimeExports.jsx("input",{id:"level",name:"level",type:"number",value:m.level,onChange:g,className:"input"})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{htmlFor:"designationId",className:"block text-sm font-medium text-slate-700",children:"Designation"}),jsxRuntimeExports.jsxs("select",{id:"designationId",name:"designationId",value:m.designationId,onChange:g,required:!0,className:"input",disabled:!!o,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select a designation"}),u?.map(R=>jsxRuntimeExports.jsxs("option",{value:R.id,children:[R.title," (",R.departmentName,")"]},R.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"minSalary",className:"block text-sm font-medium text-slate-700",children:"Min Salary"}),jsxRuntimeExports.jsx("input",{id:"minSalary",name:"minSalary",type:"number",value:m.minSalary,onChange:g,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"maxSalary",className:"block text-sm font-medium text-slate-700",children:"Max Salary"}),jsxRuntimeExports.jsx("input",{id:"maxSalary",name:"maxSalary",type:"number",value:m.maxSalary,onChange:g,className:"input"})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-slate-700",children:"Notes"}),jsxRuntimeExports.jsx("textarea",{id:"notes",name:"notes",value:m.notes,onChange:g,rows:"3",className:"input"})]}),j&&jsxRuntimeExports.jsx("p",{className:"md:col-span-2 text-red-500 text-sm",children:j})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t bg-slate-50 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:l,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:l,children:[l&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}),"Save"]})]})]})]})}):null},JobBand=({embedded:e=!1})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState([]),[u,m]=reactExports.useState(!0),[p,j]=reactExports.useState(!1),[f,g]=reactExports.useState(""),[b,R]=reactExports.useState(!1),[v,N]=reactExports.useState(null),S="https://javapaas-202946-0.cloudclusters.net/api",$=async()=>{m(!0),g("");try{const M=localStorage.getItem("token"),F=await axios.get(`${S}/jobBands`,{headers:{Authorization:`Bearer ${M}`}});n(F.data)}catch(M){g("Failed to fetch job bands. Please try again later."),console.error(M)}finally{m(!1)}},C=async()=>{try{const M=localStorage.getItem("token"),F=await axios.get(`${S}/designations`,{headers:{Authorization:`Bearer ${M}`}});l(F.data)}catch(M){console.error("Failed to fetch designations for modal:",M),g(F=>F?`${F} Also failed to load designations.`:"Failed to load designations.")}};reactExports.useEffect(()=>{$(),C()},[S]);const A=()=>{N(null),R(!0)},T=M=>{N(M),R(!0)},D=async(M,F)=>{if(window.confirm(`Are you sure you want to delete the job band "${F}"?`))try{const B=localStorage.getItem("token");await axios.delete(`${S}/jobBands/${M}`,{headers:{Authorization:`Bearer ${B}`}}),n(t.filter(q=>q.id!==M))}catch(B){g("Failed to delete job band."),console.error(B)}},I=async M=>{j(!0),g("");try{const F=localStorage.getItem("token");if(v){const{designationId:B,...q}=M;await axios.put(`${S}/jobBands/${v.id}`,q,{headers:{Authorization:`Bearer ${F}`}})}else{const{designationId:B,...q}=M;await axios.post(`${S}/jobBands/for-designation/${B}`,q,{headers:{Authorization:`Bearer ${F}`}})}R(!1),$()}catch(F){g(F.response?.data?.message||"Failed to save job band. The name or designation might already have a band."),console.error(F)}finally{j(!1)}},L=M=>M==null?"N/A":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(M),_=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:e?"p-4 sm:p-6":"p-6 md:p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[!e&&jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Job Bands"}),jsxRuntimeExports.jsxs("button",{onClick:A,className:`btn-primary flex items-center ${e?"ml-auto":""}`,children:[jsxRuntimeExports.jsx(Plus,{className:"h-5 w-5 mr-2"}),"Add Job Band"]})]}),f&&jsxRuntimeExports.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:[jsxRuntimeExports.jsx("strong",{className:"font-bold",children:"Error: "}),jsxRuntimeExports.jsx("span",{className:"block sm:inline",children:f})]}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:u?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-80",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-blue-600"})}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-white",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Band Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Designation"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Level"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Min Salary"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Max Salary"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"text-slate-700",children:t.length>0?t.map(M=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-slate-200 hover:bg-slate-50",children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium",children:M.name}),jsxRuntimeExports.jsx("td",{className:"td-cell text-sm text-slate-500",children:M.designationTitle||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell text-sm text-slate-500",children:M.level}),jsxRuntimeExports.jsx("td",{className:"td-cell text-sm text-slate-500",children:L(M.minSalary)}),jsxRuntimeExports.jsx("td",{className:"td-cell text-sm text-slate-500",children:L(M.maxSalary)}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>T(M),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-100 rounded-full",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>D(M.id,M.name),className:"p-2 text-slate-500 hover:text-red-600 hover:bg-red-100 rounded-full",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})})]},M.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"6",className:"text-center py-10 text-slate-500",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-slate-400"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-slate-900",children:"No job bands found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Get started by creating a new job band."})]})})})]})})})]}),jsxRuntimeExports.jsx(JobBandModal,{isOpen:b,onClose:()=>R(!1),onSave:I,jobBand:v,designations:o,loading:p})]});return e?_:jsxRuntimeExports.jsx(DashboardLayout,{children:_})},NationalityModal=({isOpen:e,onClose:t,onSave:n,nationality:o,loading:l})=>{const[u,m]=reactExports.useState({name:"",isoCode:""}),[p,j]=reactExports.useState("");reactExports.useEffect(()=>{m(o?{name:o.name||"",isoCode:o.isoCode||""}:{name:"",isoCode:""}),j("")},[o,e]);const f=b=>{const{name:R,value:v}=b.target;m(N=>({...N,[R]:v}))},g=b=>{if(b.preventDefault(),!u.name.trim()){j("Nationality name is required.");return}n(u)};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold",children:[o?"Edit":"Add"," Nationality"]}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:g,children:[jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-700",children:"Name"}),jsxRuntimeExports.jsx("input",{id:"name",name:"name",value:u.name,onChange:f,required:!0,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"isoCode",className:"block text-sm font-medium text-slate-700",children:"ISO Code (e.g., IN, US)"}),jsxRuntimeExports.jsx("input",{id:"isoCode",name:"isoCode",value:u.isoCode,onChange:f,className:"input"})]}),p&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm",children:p})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t bg-slate-50 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:l,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:l,children:[l&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}),"Save"]})]})]})]})}):null},Nationality=({embedded:e=!1})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState(!0),[u,m]=reactExports.useState(!1),[p,j]=reactExports.useState(""),[f,g]=reactExports.useState(!1),[b,R]=reactExports.useState(null),v="https://javapaas-202946-0.cloudclusters.net/api",N=async()=>{l(!0),j("");try{const D=localStorage.getItem("token"),I=await axios.get(`${v}/nationalities`,{headers:{Authorization:`Bearer ${D}`}});n(I.data)}catch(D){j("Failed to fetch nationalities. Please try again later."),console.error(D)}finally{l(!1)}};reactExports.useEffect(()=>{N()},[v]);const S=()=>{R(null),g(!0)},$=D=>{R(D),g(!0)},C=async(D,I)=>{if(window.confirm(`Are you sure you want to delete the nationality "${I}"?`))try{const L=localStorage.getItem("token");await axios.delete(`${v}/nationalities/${D}`,{headers:{Authorization:`Bearer ${L}`}}),n(t.filter(_=>_.id!==D))}catch(L){j("Failed to delete nationality."),console.error(L)}},A=async D=>{m(!0),j("");try{const I=localStorage.getItem("token");b?await axios.put(`${v}/nationalities/${b.id}`,D,{headers:{Authorization:`Bearer ${I}`}}):await axios.post(`${v}/nationalities`,D,{headers:{Authorization:`Bearer ${I}`}}),g(!1),N()}catch(I){j(I.response?.data||"Failed to save nationality. The name or ISO code might already exist."),console.error(I)}finally{m(!1)}},T=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:e?"p-4 sm:p-6":"p-6 md:p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[!e&&jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Nationalities"}),jsxRuntimeExports.jsxs("button",{onClick:S,className:`btn-primary flex items-center ${e?"ml-auto":""}`,children:[jsxRuntimeExports.jsx(Plus,{className:"h-5 w-5 mr-2"}),"Add Nationality"]})]}),p&&jsxRuntimeExports.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:[jsxRuntimeExports.jsx("strong",{className:"font-bold",children:"Error: "}),jsxRuntimeExports.jsx("span",{className:"block sm:inline",children:p})]}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:o?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-80",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-blue-600"})}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-white",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"ISO Code"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"text-slate-700",children:t.length>0?t.map(D=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-slate-200 hover:bg-slate-50",children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium",children:D.name}),jsxRuntimeExports.jsx("td",{className:"td-cell text-sm text-slate-500",children:D.isoCode||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>$(D),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-100 rounded-full",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>C(D.id,D.name),className:"p-2 text-slate-500 hover:text-red-600 hover:bg-red-100 rounded-full",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})})]},D.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"3",className:"text-center py-10 text-slate-500",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-slate-400"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-slate-900",children:"No nationalities found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Get started by creating a new nationality."})]})})})]})})})]}),jsxRuntimeExports.jsx(NationalityModal,{isOpen:f,onClose:()=>g(!1),onSave:A,nationality:b,loading:u})]});return e?T:jsxRuntimeExports.jsx(DashboardLayout,{children:T})},CategoryModal=({isOpen:e,onClose:t,onSave:n,category:o,loading:l})=>{const[u,m]=reactExports.useState({name:"",code:""}),[p,j]=reactExports.useState("");reactExports.useEffect(()=>{m(o?{name:o.name,code:o.code}:{name:"",code:""}),j("")},[o,e]);const f=b=>{const{name:R,value:v}=b.target;m(N=>({...N,[R]:v}))},g=b=>{if(b.preventDefault(),!u.name.trim()||!u.code.trim()){j("Name and Code are required.");return}n(u)};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold",children:[o?"Edit":"Add"," Category"]}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:g,children:[jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-700",children:"Name"}),jsxRuntimeExports.jsx("input",{id:"name",name:"name",value:u.name,onChange:f,required:!0,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-slate-700",children:"Code"}),jsxRuntimeExports.jsx("input",{id:"code",name:"code",value:u.code,onChange:f,required:!0,className:"input"})]}),p&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm",children:p})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t bg-slate-50 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:l,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:l,children:[l&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}),"Save"]})]})]})]})}):null},Category=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState(!1),[m,p]=reactExports.useState(""),[j,f]=reactExports.useState(!1),[g,b]=reactExports.useState(null),R="https://javapaas-202946-0.cloudclusters.net/api/base/categories",v=async()=>{o(!0),p("");try{const A=localStorage.getItem("token"),T=await axios.get(R,{headers:{Authorization:`Bearer ${A}`}});t(T.data)}catch(A){p("Failed to fetch categories. Please try again later."),console.error(A)}finally{o(!1)}};reactExports.useEffect(()=>{v()},[]);const N=()=>{b(null),f(!0)},S=A=>{b(A),f(!0)},$=async(A,T)=>{if(window.confirm(`Are you sure you want to delete the category "${T}"?`))try{const D=localStorage.getItem("token");await axios.delete(`${R}/${A}`,{headers:{Authorization:`Bearer ${D}`}}),t(e.filter(I=>I.id!==A))}catch(D){p("Failed to delete category."),console.error(D)}},C=async A=>{u(!0),p("");try{const T=localStorage.getItem("token");g?await axios.put(`${R}/${g.id}`,A,{headers:{Authorization:`Bearer ${T}`}}):await axios.post(R,A,{headers:{Authorization:`Bearer ${T}`}}),f(!1),v()}catch(T){p(T.response?.data?.message||"Failed to save category. The name or code might already exist."),console.error(T)}finally{u(!1)}};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"p-4 sm:p-6",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center mb-4",children:jsxRuntimeExports.jsxs("button",{onClick:N,className:"btn-primary flex items-center ml-auto",children:[jsxRuntimeExports.jsx(Plus,{className:"h-5 w-5 mr-2"})," Add Category"]})}),m&&jsxRuntimeExports.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:m}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:n?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-80",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-blue-600"})}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-white",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Code"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"text-slate-700",children:e.length>0?e.map(A=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-slate-200 hover:bg-slate-50",children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium",children:A.name}),jsxRuntimeExports.jsx("td",{className:"td-cell text-sm text-slate-500",children:A.code}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>S(A),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-100 rounded-full",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>$(A.id,A.name),className:"p-2 text-slate-500 hover:text-red-600 hover:bg-red-100 rounded-full",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})})]},A.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"3",className:"text-center py-10 text-slate-500",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-slate-400"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-slate-900",children:"No categories found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Get started by creating a new category."})]})})})]})})})]}),jsxRuntimeExports.jsx(CategoryModal,{isOpen:j,onClose:()=>f(!1),onSave:C,category:g,loading:l})]})},API_URL$1E="https://javapaas-202946-0.cloudclusters.net/api",DocumentTypeModal=({isOpen:e,onClose:t,onSave:n,documentType:o,loading:l})=>{const[u,m]=reactExports.useState(""),[p,j]=reactExports.useState("");reactExports.useEffect(()=>{m(o&&o.name||""),j("")},[o,e]);const f=g=>{if(g.preventDefault(),!u.trim()){j("Document type name is required.");return}n({id:o?.id,name:u})};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-center z-50 p-4",onClick:t,children:jsxRuntimeExports.jsxs("div",{className:"bg-card text-card-foreground rounded-lg shadow-xl w-full max-w-md",onClick:g=>g.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h3",{className:"text-xl font-semibold text-foreground",children:[o?"Edit":"Add"," Document Type"]}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-1 rounded-full text-foreground-muted hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:f,children:[jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"label",children:"Document Type Name"}),jsxRuntimeExports.jsx("input",{id:"name",name:"name",value:u,onChange:g=>m(g.target.value),required:!0,className:"input"})]}),p&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm",children:p})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t bg-slate-50 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:l,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:l,children:[l&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"})," Save"]})]})]})]})}):null},DocumentType=({embedded:e=!1})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState(!0),[u,m]=reactExports.useState(""),[p,j]=reactExports.useState(!1),[f,g]=reactExports.useState(null),[b,R]=reactExports.useState(!1),[v,N]=reactExports.useState(""),S=reactExports.useMemo(()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),[]),$=reactExports.useCallback(async()=>{l(!0),m("");try{const M=await axios.get(`${API_URL$1E}/base/document-types`,{headers:S});n(Array.isArray(M.data)?M.data:[])}catch(M){m("Failed to fetch document types."),console.error(M)}finally{l(!1)}},[S]);reactExports.useEffect(()=>{$()},[$]);const C=()=>{g(null),j(!0)},A=M=>{g(M),j(!0)},T=()=>{j(!1),g(null)},D=async M=>{R(!0);const F=!!M.id,B=F?`${API_URL$1E}/base/document-types/${M.id}`:`${API_URL$1E}/base/document-types`,q=F?"put":"post";try{await axios[q](B,M,{headers:S}),await $(),T()}catch(z){alert(`Error: ${z.response?.data?.message||"Failed to save document type."}`)}finally{R(!1)}},I=async M=>{if(window.confirm("Are you sure you want to delete this document type?"))try{await axios.delete(`${API_URL$1E}/base/document-types/${M}`,{headers:S}),await $()}catch(F){alert(`Error: ${F.response?.data?.message||"Failed to delete document type."}`)}},L=reactExports.useMemo(()=>t.filter(M=>!v||M.name.toLowerCase().includes(v.toLowerCase())),[t,v]),_=e?"bg-transparent":"p-6 bg-card rounded-xl shadow-sm";return jsxRuntimeExports.jsxs("div",{className:_,children:[!e&&jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center mb-4",children:jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Manage Document Types"})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end items-center mb-4 gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",value:v,onChange:M=>N(M.target.value),className:"input w-full sm:w-64 pr-10 bg-background-muted border-border"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-foreground-muted"})]}),jsxRuntimeExports.jsxs("button",{onClick:C,className:"flex items-center gap-2 btn-secondary",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Add Document Type"]})]}),u&&jsxRuntimeExports.jsx("p",{className:"text-red-500 mb-4",children:u}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-border rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Document Type Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell w-32",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-card divide-y divide-border text-foreground-muted",children:o?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"2",className:"text-center py-10",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary mx-auto"})})}):L.length>0?L.map(M=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-background-muted transition-colors",children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium text-foreground",children:M.name}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>A(M),className:"text-primary hover:text-primary/80 p-1",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>I(M.id),className:"text-red-500 hover:text-red-600 p-1",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},M.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"2",className:"text-center py-10",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-foreground",children:"No document types found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"Get started by adding a new document type."})]})})})]})}),jsxRuntimeExports.jsx(DocumentTypeModal,{isOpen:p,onClose:T,onSave:D,documentType:f,loading:b})]})},componentMap$3={Departments:jsxRuntimeExports.jsx(Department,{embedded:!0}),Designations:jsxRuntimeExports.jsx(Designation,{embedded:!0}),"Job Bands":jsxRuntimeExports.jsx(JobBand,{embedded:!0}),Categories:jsxRuntimeExports.jsx(Category,{}),Nationalities:jsxRuntimeExports.jsx(Nationality,{embedded:!0}),"Document Types":jsxRuntimeExports.jsx(DocumentType,{embedded:!0})},creationItems=[{name:"Departments",icon:Building2,action:"modal",color:"text-blue-600",bgColor:"bg-blue-100"},{name:"Designations",icon:Award,action:"modal",color:"text-green-600",bgColor:"bg-green-100"},{name:"Job Bands",icon:Layers,action:"modal",color:"text-purple-600",bgColor:"bg-purple-100"},{name:"Categories",icon:LayoutGrid,action:"modal",color:"text-amber-600",bgColor:"bg-amber-100"},{name:"Finance Business Units",icon:Landmark,path:"#",color:"text-rose-600",bgColor:"bg-rose-100"},{name:"Department Dimensions",icon:Network,path:"#",color:"text-cyan-600",bgColor:"bg-cyan-100"},{name:"Internal Coding",icon:Braces,path:"#",color:"text-indigo-600",bgColor:"bg-indigo-100"},{name:"Sub Divisions",icon:GitFork,path:"#",color:"text-teal-600",bgColor:"bg-teal-100"},{name:"Nationalities",icon:Flag,action:"modal",color:"text-orange-600",bgColor:"bg-orange-100"},{name:"Document Types",icon:FileText,action:"modal",color:"text-gray-600",bgColor:"bg-gray-100"},{name:"Airport Section",icon:Plane,path:"#",color:"text-sky-600",bgColor:"bg-sky-100"}],DepartmentCreation=()=>{const[e,t]=reactExports.useState(null),n=useNavigate(),o=l=>{const u=componentMap$3[l.name];if(u)t({name:l.name,component:u});else if(l.path){const{path:m}=l;m!=="#"?n(m):alert("This feature is not yet implemented.")}};return e?jsxRuntimeExports.jsxs("div",{className:"p-4 sm:p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-6",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>t(null),className:"btn-secondary flex items-center mr-4",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back"]}),jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold text-slate-700",children:["Manage ",e.name]})]}),e.component]}):jsxRuntimeExports.jsx("div",{className:"p-4 sm:p-6 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6",children:creationItems.map(l=>jsxRuntimeExports.jsxs("button",{onClick:()=>o(l),className:"aspect-[3/2] flex flex-col items-center justify-center bg-white p-4 rounded-full shadow-md hover:shadow-xl hover:bg-slate-50 transition-all transform hover:-translate-y-1 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[jsxRuntimeExports.jsx("div",{className:`p-3 ${l.bgColor} ${l.color} rounded-full mb-3`,children:jsxRuntimeExports.jsx(l.icon,{className:"h-6 w-6"})}),jsxRuntimeExports.jsx("span",{className:"text-center text-sm font-medium text-slate-700",children:l.name})]},l.name))})},API_URL$1D="https://javapaas-202946-0.cloudclusters.net/api",SyncPolicyModal=({isOpen:e,onClose:t,policy:n,onSync:o,entityName:l="policy"})=>{const[u,m]=reactExports.useState([]),[p,j]=reactExports.useState(!0),[f,g]=reactExports.useState(new Set),[b,R]=reactExports.useState(""),[v,N]=reactExports.useState(!1);reactExports.useEffect(()=>{e&&(async()=>{R(""),g(new Set),j(!0);try{const I=localStorage.getItem("token"),L=await axios.get(`${API_URL$1D}/employees/all`,{headers:{Authorization:`Bearer ${I}`}});m(L.data)}catch(I){console.error("Failed to fetch employees for sync:",I)}finally{j(!1)}})()},[e]);const S=reactExports.useMemo(()=>{if(!b)return u;const D=b.toLowerCase();return u.filter(I=>`${I.firstName} ${I.lastName}`.toLowerCase().includes(D)||I.employeeCode.toLowerCase().includes(D))},[u,b]),$=D=>{g(I=>{const L=new Set(I);return L.has(D)?L.delete(D):L.add(D),L})},C=D=>{if(D.target.checked){const I=new Set(S.map(L=>L.employeeCode));g(I)}else g(new Set)},A=reactExports.useMemo(()=>S.length>0&&S.every(D=>f.has(D.employeeCode)),[S,f]),T=async()=>{N(!0),await o(n,Array.from(f)),N(!1),t()};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg max-h-[80vh] flex flex-col",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold p-4 border-b",children:["Sync '",n?.policyName||n?.name||"Item","'"]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-b relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search employees...",value:b,onChange:D=>R(D.target.value),className:"input w-full pl-10"}),jsxRuntimeExports.jsx(Search,{className:"absolute left-7 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"})]}),jsxRuntimeExports.jsx("div",{className:"p-4 overflow-y-auto space-y-2",children:p?jsxRuntimeExports.jsx(Loader,{className:"animate-spin mx-auto"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 p-2 rounded bg-slate-50 cursor-pointer font-medium",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:A,onChange:C,className:"h-4 w-4 rounded"}),jsxRuntimeExports.jsx("span",{children:"Select All Visible"})]}),S.map(D=>jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 p-2 rounded hover:bg-slate-50 cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:f.has(D.employeeCode),onChange:()=>$(D.employeeCode),className:"h-4 w-4 rounded"}),jsxRuntimeExports.jsxs("span",{children:[D.firstName," ",D.lastName," (",D.employeeCode,")"]})]},D.employeeCode))]})}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:t,className:"btn-secondary",disabled:v,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{onClick:T,className:"btn-primary flex items-center gap-2",disabled:v||f.size===0,children:[v&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4"})," Sync to Selected (",f.size,")"]})]})]})}):null},ShiftPolicyModal=({isOpen:e,onClose:t,onSave:n,policy:o,loading:l})=>{const[u,m]=reactExports.useState({policyName:"",shiftStartTime:"09:30",shiftEndTime:"18:30",isDefault:!1,description:""}),[p,j]=reactExports.useState("");reactExports.useEffect(()=>{m(o?{policyName:o.policyName||"",shiftStartTime:o.shiftStartTime||"09:30",shiftEndTime:o.shiftEndTime||"18:30",isDefault:o.isDefault||!1,description:o.description||""}:{policyName:"",shiftStartTime:"09:30",shiftEndTime:"18:30",isDefault:!1,description:""}),j("")},[o,e]);const f=b=>{const{name:R,value:v,type:N,checked:S}=b.target;m($=>({...$,[R]:N==="checkbox"?S:v}))},g=b=>{if(b.preventDefault(),!u.policyName.trim()){j("Policy Name is required.");return}n(u)};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold",children:[o?"Edit":"Add"," Shift Policy"]}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:g,children:[jsxRuntimeExports.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-4 max-h-[70vh] overflow-y-auto",children:[jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{htmlFor:"policyName",className:"block text-sm font-medium text-slate-700",children:"Policy Name"}),jsxRuntimeExports.jsx("input",{id:"policyName",name:"policyName",value:u.policyName,onChange:f,required:!0,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"shiftStartTime",className:"block text-sm font-medium text-slate-700",children:"Shift Start Time"}),jsxRuntimeExports.jsx("input",{id:"shiftStartTime",name:"shiftStartTime",type:"time",value:u.shiftStartTime,onChange:f,required:!0,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"shiftEndTime",className:"block text-sm font-medium text-slate-700",children:"Shift End Time"}),jsxRuntimeExports.jsx("input",{id:"shiftEndTime",name:"shiftEndTime",type:"time",value:u.shiftEndTime,onChange:f,required:!0,className:"input"})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-700",children:"Description"}),jsxRuntimeExports.jsx("textarea",{id:"description",name:"description",value:u.description,onChange:f,rows:"3",className:"input"})]}),jsxRuntimeExports.jsx("div",{className:"md:col-span-2",children:jsxRuntimeExports.jsxs("label",{className:"inline-flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"isDefault",checked:u.isDefault,onChange:f,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-sm text-slate-600",children:"Set as Default Policy"})]})}),p&&jsxRuntimeExports.jsx("p",{className:"md:col-span-2 text-red-500 text-sm",children:p})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t bg-slate-50 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:l,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:l,children:[l&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}),"Save"]})]})]})]})}):null},ShiftPolicy=({embedded:e=!1})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState(!0),[u,m]=reactExports.useState(!1),[p,j]=reactExports.useState(""),[f,g]=reactExports.useState(!1),[b,R]=reactExports.useState(null),[v,N]=reactExports.useState(null),S="https://javapaas-202946-0.cloudclusters.net/api",$=async()=>{l(!0),j("");try{const M=localStorage.getItem("token"),F=await axios.get(`${S}/shift-policies`,{headers:{Authorization:`Bearer ${M}`}});n(F.data)}catch(M){j("Failed to fetch shift policies. Please try again later."),console.error(M)}finally{l(!1)}};reactExports.useEffect(()=>{$()},[S]);const C=()=>{R(null),g(!0)},A=M=>{R(M),g(!0)},T=async(M,F)=>{if(window.confirm(`Are you sure you want to delete the policy "${F}"?`))try{const B=localStorage.getItem("token");await axios.delete(`${S}/shift-policies/${M}`,{headers:{Authorization:`Bearer ${B}`}}),n(t.filter(q=>q.id!==M))}catch(B){j("Failed to delete policy."),console.error(B)}},D=async M=>{m(!0),j("");try{const F=localStorage.getItem("token");b?await axios.put(`${S}/shift-policies/${b.id}`,M,{headers:{Authorization:`Bearer ${F}`}}):await axios.post(`${S}/shift-policies`,M,{headers:{Authorization:`Bearer ${F}`}}),g(!1),$()}catch(F){j(F.response?.data?.message||"Failed to save policy. The name might already exist."),console.error(F)}finally{m(!1)}},I=M=>{N(M)},L=async(M,F)=>{if(F.length===0){alert("No employees selected.");return}j("");let B=0,q=0;try{const z=localStorage.getItem("token"),V="https://javapaas-202946-0.cloudclusters.net/api",Q=await axios.get(`${V}/attendance-policies`,{headers:{Authorization:`Bearer ${z}`}}),ee=Q.data.find(G=>G.shiftPolicy?.id===M.id&&G.isDefault)||Q.data.find(G=>G.shiftPolicy?.id===M.id);if(!ee){alert(`No Attendance Policy is configured to use the shift policy "${M.policyName}". Please create or update an Attendance Policy first.`);return}for(const G of F)try{const K={attendancePolicyId:ee.id};await axios.put(`${V}/time-attendence/${G}`,K,{headers:{Authorization:`Bearer ${z}`}}),B++}catch(K){console.error(`Failed to update policy for ${G}:`,K),q++}alert(`Sync complete using Attendance Policy "${ee.policyName}"!
- ${B} employees updated successfully.
- ${q} updates failed.`)}catch(z){j("An unexpected error occurred during the sync process."),console.error(z)}},_=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Shift Policies"}),jsxRuntimeExports.jsxs("button",{onClick:C,className:"btn-primary flex items-center",children:[jsxRuntimeExports.jsx(Plus,{className:"h-5 w-5 mr-2"}),"Add Policy"]})]}),p&&jsxRuntimeExports.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:[jsxRuntimeExports.jsx("strong",{className:"font-bold",children:"Error: "}),jsxRuntimeExports.jsx("span",{className:"block sm:inline",children:p})]}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:o?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-80",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-blue-600"})}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-white",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Policy Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Shift Time"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Default"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"text-slate-700",children:t.length>0?t.map(M=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-slate-200 hover:bg-slate-50",children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium",children:M.policyName}),jsxRuntimeExports.jsxs("td",{className:"td-cell text-sm text-slate-500",children:[M.shiftStartTime," - ",M.shiftEndTime]}),jsxRuntimeExports.jsx("td",{className:"td-cell text-sm text-slate-500",children:M.isDefault?"Yes":"No"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>I(M),className:"p-2 text-slate-500 hover:text-green-600 hover:bg-green-100 rounded-full",title:"Sync to employees",disabled:!!v,children:v?.id===M.id?jsxRuntimeExports.jsx(Loader,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>A(M),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-100 rounded-full",title:"Edit",disabled:!!v,children:jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>T(M.id,M.policyName),className:"p-2 text-slate-500 hover:text-red-600 hover:bg-red-100 rounded-full",title:"Delete",disabled:!!v,children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})})]},M.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"4",className:"text-center py-10 text-slate-500",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-slate-400"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-slate-900",children:"No policies found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Get started by creating a new shift policy."})]})})})]})})})]}),jsxRuntimeExports.jsx(ShiftPolicyModal,{isOpen:f,onClose:()=>g(!1),onSave:D,policy:b,loading:u}),jsxRuntimeExports.jsx(SyncPolicyModal,{isOpen:!!v,onClose:()=>N(null),policy:v,onSync:L})]});return e?_:jsxRuntimeExports.jsx(DashboardLayout,{children:_})},PolicyModal=({isOpen:e,onClose:t,onSave:n,policy:o,loading:l})=>{const u={policyName:"",isDefault:!1,effectiveFrom:new Date().toISOString().slice(0,10),shiftPolicyId:"",capturingPolicyId:"",leaveDeductionConfig:{deductForMissingSwipes:!1,deductForWorkHoursShortage:!1,deductMissingAttendance:!1,penalizeEarlyGoing:!1,penalizeLateArrival:!1}},[m,p]=reactExports.useState(u),[j,f]=reactExports.useState(""),[g,b]=reactExports.useState({shifts:[],capturing:[]});reactExports.useEffect(()=>{e&&((async()=>{try{const C={Authorization:`Bearer ${localStorage.getItem("token")}`},A="https://javapaas-202946-0.cloudclusters.net/api",[T,D]=await Promise.all([axios.get(`${A}/shift-policies`,{headers:C}),axios.get(`${A}/attendance-capturing-policies`,{headers:C})]);b({shifts:T.data,capturing:D.data})}catch($){f("Failed to load required policy options."),console.error($)}})(),p(o?{policyName:o.policyName||"",isDefault:o.isDefault||!1,effectiveFrom:o.effectiveFrom?new Date(o.effectiveFrom).toISOString().slice(0,10):"",shiftPolicyId:o.shiftPolicy?.id||"",capturingPolicyId:o.capturingPolicy?.id||"",leaveDeductionConfig:o.leaveDeductionConfig||u.leaveDeductionConfig}:u),f(""))},[o,e]);const R=S=>{const{name:$,value:C,type:A,checked:T}=S.target;p(D=>({...D,[$]:A==="checkbox"?T:C}))},v=S=>{const{name:$,checked:C}=S.target;p(A=>({...A,leaveDeductionConfig:{...A.leaveDeductionConfig,[$]:C}}))},N=S=>{if(S.preventDefault(),!m.policyName.trim()||!m.shiftPolicyId||!m.capturingPolicyId){f("Policy Name, Shift Policy, and Capturing Policy are required.");return}n(m)};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold",children:[o?"Edit":"Add"," Attendance Tracking Policy"]}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:N,children:[jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"policyName",className:"label",children:"Policy Name"}),jsxRuntimeExports.jsx("input",{id:"policyName",name:"policyName",value:m.policyName,onChange:R,required:!0,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"effectiveFrom",className:"label",children:"Effective From"}),jsxRuntimeExports.jsx("input",{id:"effectiveFrom",name:"effectiveFrom",type:"date",value:m.effectiveFrom,onChange:R,required:!0,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"shiftPolicyId",className:"label",children:"Shift Policy"}),jsxRuntimeExports.jsxs("select",{id:"shiftPolicyId",name:"shiftPolicyId",value:m.shiftPolicyId,onChange:R,required:!0,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Shift Policy"}),g.shifts.map(S=>jsxRuntimeExports.jsx("option",{value:S.id,children:S.policyName},S.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"capturingPolicyId",className:"label",children:"Capturing Policy"}),jsxRuntimeExports.jsxs("select",{id:"capturingPolicyId",name:"capturingPolicyId",value:m.capturingPolicyId,onChange:R,required:!0,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Capturing Policy"}),g.capturing.map(S=>jsxRuntimeExports.jsx("option",{value:S.id,children:S.policyName},S.id))]})]})]}),jsxRuntimeExports.jsx("div",{className:"pt-2",children:jsxRuntimeExports.jsxs("label",{className:"inline-flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"isDefault",checked:m.isDefault,onChange:R,className:"h-4 w-4 rounded"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-sm",children:"Set as Default Policy"})]})}),jsxRuntimeExports.jsxs("fieldset",{className:"border-t pt-4 mt-4",children:[jsxRuntimeExports.jsx("legend",{className:"text-md font-semibold text-slate-800 mb-2",children:"Leave Deduction Rules"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-2",children:Object.keys(m.leaveDeductionConfig).map(S=>jsxRuntimeExports.jsxs("label",{className:"inline-flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:S,checked:m.leaveDeductionConfig[S],onChange:v,className:"h-4 w-4 rounded"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-sm capitalize",children:S.replace(/([A-Z])/g," $1").trim()})]},S))})]}),j&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm",children:j})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t bg-slate-50 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:l,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:l,children:[l&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"})," Save"]})]})]})]})}):null},AttendanceTracking=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState(!1),[m,p]=reactExports.useState(""),[j,f]=reactExports.useState(!1),[g,b]=reactExports.useState(null),[R,v]=reactExports.useState(null),N="https://javapaas-202946-0.cloudclusters.net/api/attendance-policies",S=async()=>{o(!0),p("");try{const L=localStorage.getItem("token"),_=await axios.get(N,{headers:{Authorization:`Bearer ${L}`}});t(_.data)}catch(L){p("Failed to fetch policies."),console.error(L)}finally{o(!1)}};reactExports.useEffect(()=>{S()},[]);const $=()=>{v(null),f(!0)},C=L=>{v(L),f(!0)},A=async(L,_)=>{if(window.confirm(`Are you sure you want to delete the policy "${_}"?`))try{const M=localStorage.getItem("token");await axios.delete(`${N}/${L}`,{headers:{Authorization:`Bearer ${M}`}}),t(e.filter(F=>F.id!==L))}catch(M){p("Failed to delete policy."),console.error(M)}},T=async L=>{u(!0),p("");try{const _=localStorage.getItem("token");R?await axios.put(`${N}/${R.id}`,L,{headers:{Authorization:`Bearer ${_}`}}):await axios.post(N,L,{headers:{Authorization:`Bearer ${_}`}}),f(!1),S()}catch(_){p(_.response?.data?.message||"Failed to save policy."),console.error(_)}finally{u(!1)}},D=L=>{b(L)},I=async(L,_)=>{if(_.length===0){alert("No employees selected.");return}p("");let M=0,F=0;try{const B=localStorage.getItem("token"),q="https://javapaas-202946-0.cloudclusters.net/api";for(const z of _)try{const V={attendancePolicyId:L.id};await axios.put(`${q}/time-attendence/${z}`,V,{headers:{Authorization:`Bearer ${B}`}}),M++}catch(V){console.error(`Failed to update policy for ${z}:`,V),F++}alert(`Sync complete!
- ${M} employees updated successfully.
- ${F} updates failed.`)}catch{p("An unexpected error occurred during the sync process.")}};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"p-4 sm:p-6",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center mb-4",children:jsxRuntimeExports.jsxs("button",{onClick:$,className:"btn-primary flex items-center ml-auto",children:[jsxRuntimeExports.jsx(Plus,{className:"h-5 w-5 mr-2"})," Add Policy"]})}),m&&jsxRuntimeExports.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",role:"alert",children:m}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:n?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-80",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-blue-600"})}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-white",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Policy Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Shift Policy"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Capturing Policy"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Default"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"text-slate-700",children:e.length>0?e.map(L=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-slate-200 hover:bg-slate-50",children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium",children:L.policyName}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:L.shiftPolicy?.policyName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:L.capturingPolicy?.policyName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:L.isDefault?"Yes":"No"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>D(L),className:"p-2 text-slate-500 hover:text-green-600 hover:bg-green-100 rounded-full",title:"Sync to employees",disabled:!!g,children:g?.id===L.id?jsxRuntimeExports.jsx(Loader,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>C(L),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-100 rounded-full",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>A(L.id,L.policyName),className:"p-2 text-slate-500 hover:text-red-600 hover:bg-red-100 rounded-full",title:"Delete",disabled:!!g,children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})})]},L.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"5",className:"text-center py-10 text-slate-500",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-slate-400"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium",children:"No policies found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"Get started by creating a new attendance tracking policy."})]})})})]})})})]}),jsxRuntimeExports.jsx(PolicyModal,{isOpen:j,onClose:()=>f(!1),onSave:T,policy:R,loading:l}),jsxRuntimeExports.jsx(SyncPolicyModal,{isOpen:!!g,onClose:()=>b(null),policy:g,onSync:I})]})},CapturingPolicyModal=({isOpen:e,onClose:t,onSave:n,policy:o,loading:l})=>{const u={policyName:"",graceTimeMinutes:0,halfDayThresholdMinutes:0,allowMultiplePunches:!1,lateMarkRules:""},[m,p]=reactExports.useState(u),[j,f]=reactExports.useState("");reactExports.useEffect(()=>{p(o?{policyName:o.policyName||"",graceTimeMinutes:o.graceTimeMinutes||0,halfDayThresholdMinutes:o.halfDayThresholdMinutes||0,allowMultiplePunches:o.allowMultiplePunches||!1,lateMarkRules:o.lateMarkRules||""}:u),f("")},[o,e]);const g=R=>{const{name:v,value:N,type:S,checked:$}=R.target;p(C=>({...C,[v]:S==="checkbox"?$:N}))},b=R=>{if(R.preventDefault(),!m.policyName.trim()){f("Policy Name is required.");return}n(m)};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold",children:[o?"Edit":"Add"," Capturing Policy"]}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:b,children:[jsxRuntimeExports.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-4 max-h-[70vh] overflow-y-auto",children:[jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{htmlFor:"policyName",className:"label",children:"Policy Name"}),jsxRuntimeExports.jsx("input",{id:"policyName",name:"policyName",value:m.policyName,onChange:g,required:!0,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"graceTimeMinutes",className:"label",children:"Grace Time (Minutes)"}),jsxRuntimeExports.jsx("input",{id:"graceTimeMinutes",name:"graceTimeMinutes",type:"number",value:m.graceTimeMinutes,onChange:g,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"halfDayThresholdMinutes",className:"label",children:"Half-Day Threshold (Minutes)"}),jsxRuntimeExports.jsx("input",{id:"halfDayThresholdMinutes",name:"halfDayThresholdMinutes",type:"number",value:m.halfDayThresholdMinutes,onChange:g,className:"input"})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{htmlFor:"lateMarkRules",className:"label",children:"Late Mark Rules"}),jsxRuntimeExports.jsx("input",{id:"lateMarkRules",name:"lateMarkRules",value:m.lateMarkRules,onChange:g,className:"input",placeholder:"e.g., 3 lates = 1 half-day"})]}),jsxRuntimeExports.jsx("div",{className:"md:col-span-2 pt-2",children:jsxRuntimeExports.jsxs("label",{className:"inline-flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"allowMultiplePunches",checked:m.allowMultiplePunches,onChange:g,className:"h-4 w-4 rounded"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-sm",children:"Allow Multiple Punches"})]})}),j&&jsxRuntimeExports.jsx("p",{className:"md:col-span-2 text-red-500 text-sm",children:j})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t bg-slate-50 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:l,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:l,children:[l&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"})," Save"]})]})]})]})}):null},AttendanceCapturingPolicy=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState(!1),[m,p]=reactExports.useState(""),[j,f]=reactExports.useState(!1),[g,b]=reactExports.useState(null),R="https://javapaas-202946-0.cloudclusters.net/api/attendance-capturing-policies",v=async()=>{o(!0),p("");try{const A=localStorage.getItem("token"),T=await axios.get(R,{headers:{Authorization:`Bearer ${A}`}});t(T.data)}catch(A){p("Failed to fetch policies."),console.error(A)}finally{o(!1)}};reactExports.useEffect(()=>{v()},[]);const N=()=>{b(null),f(!0)},S=A=>{b(A),f(!0)},$=async(A,T)=>{if(window.confirm(`Are you sure you want to delete the policy "${T}"?`))try{const D=localStorage.getItem("token");await axios.delete(`${R}/${A}`,{headers:{Authorization:`Bearer ${D}`}}),t(e.filter(I=>I.id!==A))}catch(D){p("Failed to delete policy."),console.error(D)}},C=async A=>{u(!0),p("");try{const T=localStorage.getItem("token");g?await axios.put(`${R}/${g.id}`,A,{headers:{Authorization:`Bearer ${T}`}}):await axios.post(R,A,{headers:{Authorization:`Bearer ${T}`}}),f(!1),v()}catch(T){p(T.response?.data?.message||"Failed to save policy."),console.error(T)}finally{u(!1)}};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"p-4 sm:p-6",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center mb-4",children:jsxRuntimeExports.jsxs("button",{onClick:N,className:"btn-primary flex items-center ml-auto",children:[jsxRuntimeExports.jsx(Plus,{className:"h-5 w-5 mr-2"})," Add Policy"]})}),m&&jsxRuntimeExports.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",role:"alert",children:m}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:n?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-80",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-blue-600"})}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-white",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Policy Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Grace Time"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Multiple Punches"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"text-slate-700",children:e.length>0?e.map(A=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-slate-200 hover:bg-slate-50",children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium",children:A.policyName}),jsxRuntimeExports.jsxs("td",{className:"td-cell",children:[A.graceTimeMinutes," min"]}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:A.allowMultiplePunches?"Yes":"No"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>S(A),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-100 rounded-full",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>$(A.id,A.policyName),className:"p-2 text-slate-500 hover:text-red-600 hover:bg-red-100 rounded-full",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})})]},A.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"4",className:"text-center py-10 text-slate-500",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-slate-400"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium",children:"No policies found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"Get started by creating a new capturing policy."})]})})})]})})})]}),jsxRuntimeExports.jsx(CapturingPolicyModal,{isOpen:j,onClose:()=>f(!1),onSave:C,policy:g,loading:l})]})},componentMap$2={"Shift Policy":jsxRuntimeExports.jsx(ShiftPolicy,{embedded:!0}),"Attendance Tracking Policy":jsxRuntimeExports.jsx(AttendanceTracking,{}),"Attendance Capturing Policy":jsxRuntimeExports.jsx(AttendanceCapturingPolicy,{})},policyItems$2=[{name:"Shift Policy",icon:Clock,action:"modal",color:"text-orange-600",bgColor:"bg-orange-100"},{name:"Attendance Tracking Policy",icon:Target,action:"modal",color:"text-green-600",bgColor:"bg-green-100"},{name:"Attendance Capturing Policy",icon:Camera,action:"modal",color:"text-sky-600",bgColor:"bg-sky-100"},{name:"On-Screen Display Policy",icon:Monitor,path:"#",color:"text-indigo-600",bgColor:"bg-indigo-100"},{name:"Biometric Integration Policy",icon:Fingerprint,path:"#",color:"text-rose-600",bgColor:"bg-rose-100"},{name:"Network Policy",icon:Network,path:"#",color:"text-teal-600",bgColor:"bg-teal-100"}],AttendencePolicy=()=>{const[e,t]=reactExports.useState(null),n=o=>{const l=componentMap$2[o.name];l?t({name:o.name,component:l}):o.path&&alert("This feature is not yet implemented.")};return e?jsxRuntimeExports.jsxs("div",{className:"p-4 sm:p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-6",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>t(null),className:"btn-secondary flex items-center mr-4",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back"]}),jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold text-slate-700",children:["Manage ",e.name]})]}),e.component]}):jsxRuntimeExports.jsx("div",{className:"p-4 sm:p-6 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6",children:policyItems$2.map(o=>jsxRuntimeExports.jsxs("button",{onClick:()=>n(o),className:"aspect-[3/2] flex flex-col items-center justify-center bg-white p-4 rounded-full shadow-md hover:shadow-xl hover:bg-slate-50 transition-all transform hover:-translate-y-1 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[jsxRuntimeExports.jsx("div",{className:`p-3 ${o.bgColor} ${o.color} rounded-full mb-3`,children:jsxRuntimeExports.jsx(o.icon,{className:"h-6 w-6"})}),jsxRuntimeExports.jsx("span",{className:"text-center text-sm font-medium text-slate-700",children:o.name})]},o.name))})},Modal$j=({isOpen:e,onClose:t,title:n,children:o})=>e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold",children:n}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsx("div",{className:"p-6",children:o})]})}):null,LeaveTypes=({onSetupClick:e})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState(!0),[u,m]=reactExports.useState(""),[p,j]=reactExports.useState(!1),[f,g]=reactExports.useState(null),b=reactExports.useCallback(async()=>{try{l(!0);const $=await getAllLeaveTypes();n($.data)}catch($){m("Failed to fetch leave types."),console.error($)}finally{l(!1)}},[]);reactExports.useEffect(()=>{b()},[b]);const R=($=null)=>{g($),j(!0)},v=()=>{j(!1),g(null)},N=async $=>{if(window.confirm("Are you sure you want to delete this leave type?"))try{await deleteLeaveType($),b()}catch(C){m("Failed to delete leave type."),console.error(C)}},S=async $=>{try{f?.id?await updateLeaveType(f.id,$):await createLeaveType($),b(),v()}catch(C){console.error("Save failed:",C),alert("Failed to save leave type. Check console for details.")}};return o?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-blue-600"})}):u?jsxRuntimeExports.jsxs("div",{className:"text-red-600 bg-red-100 p-4 rounded-lg flex items-center",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mr-2"}),u]}):jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-slate-700",children:"Manage Leave Types"}),jsxRuntimeExports.jsxs("button",{onClick:()=>R(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Plus,{size:18})," Add New"]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-100",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Leave Type"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Description"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Paid"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Max Days/Year"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:t.map($=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900",children:$.leaveType}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:$.description}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:$.isPaid?"Yes":"No"}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:$.maxDaysPerYear}),jsxRuntimeExports.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-right",children:[jsxRuntimeExports.jsx("button",{onClick:()=>R($),className:"text-blue-600 hover:text-blue-800 mr-4",children:jsxRuntimeExports.jsx(SquarePen,{size:18})}),e&&jsxRuntimeExports.jsx("button",{onClick:()=>e($),className:"text-gray-600 hover:text-gray-800 mr-4",children:jsxRuntimeExports.jsx(Settings$1,{size:18})}),jsxRuntimeExports.jsx("button",{onClick:()=>N($.id),className:"text-red-600 hover:text-red-800",children:jsxRuntimeExports.jsx(Trash2,{size:18})})]})]},$.id))})]})}),p&&jsxRuntimeExports.jsx(LeaveTypeFormModal,{isOpen:p,onClose:v,onSave:S,leaveType:f})]})},LeaveTypeFormModal=({isOpen:e,onClose:t,onSave:n,leaveType:o})=>{const[l,u]=reactExports.useState({leaveType:o?.leaveType||"",description:o?.description||"",isPaid:o?.isPaid||!1,maxDaysPerYear:o?.maxDaysPerYear||0}),m=j=>{const{name:f,value:g,type:b,checked:R}=j.target;u(v=>({...v,[f]:b==="checkbox"?R:g}))},p=j=>{j.preventDefault(),n(l)};return jsxRuntimeExports.jsx(Modal$j,{isOpen:e,onClose:t,title:o?"Edit Leave Type":"Add Leave Type",children:jsxRuntimeExports.jsxs("form",{onSubmit:p,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"leaveType",className:"block text-sm font-medium text-slate-700",children:"Leave Type Name"}),jsxRuntimeExports.jsx("input",{type:"text",name:"leaveType",id:"leaveType",value:l.leaveType,onChange:m,required:!0,className:"input mt-1"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-700",children:"Description"}),jsxRuntimeExports.jsx("textarea",{name:"description",id:"description",value:l.description,onChange:m,rows:"3",className:"input mt-1"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"maxDaysPerYear",className:"block text-sm font-medium text-slate-700",children:"Max Days Per Year"}),jsxRuntimeExports.jsx("input",{type:"number",name:"maxDaysPerYear",id:"maxDaysPerYear",value:l.maxDaysPerYear,onChange:m,className:"input mt-1",placeholder:"e.g., 12"})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("label",{className:"inline-flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"isPaid",checked:l.isPaid,onChange:m,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-sm text-slate-700",children:"Is Paid Leave"})]})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-slate-200 text-slate-800 rounded-md hover:bg-slate-300",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Save"})]})]})})},Modal$i=({isOpen:e,onClose:t,children:n,title:o})=>e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[95vh] flex flex-col",onClick:l=>l.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center flex-shrink-0",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold",children:o}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(X,{size:20})})]}),n]})}):null,Field=({label:e,children:t,helpText:n})=>jsxRuntimeExports.jsxs("div",{className:"py-3",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-slate-700",children:e}),jsxRuntimeExports.jsx("div",{className:"mt-1",children:t}),n&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-xs text-slate-500",children:n})]}),TextInput=e=>jsxRuntimeExports.jsx("input",{...e,className:"input"}),NumberInput=e=>jsxRuntimeExports.jsx("input",{type:"number",...e,className:"input"}),Select$2=e=>jsxRuntimeExports.jsx("select",{...e,className:"input",children:e.children}),Checkbox=({label:e,...t})=>jsxRuntimeExports.jsxs("label",{className:"inline-flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",...t,className:"h-4 w-4 rounded"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:e})]}),STEPS=[{id:1,title:"Annual Quota"},{id:2,title:"Accrual & Rounding"},{id:3,title:"Application Rules"},{id:4,title:"Restrictions"},{id:5,title:"Holidays & Weekends"},{id:6,title:"Approvals"},{id:7,title:"Year-End Processing"}],LeavePolicySetupModal=({isOpen:e,onClose:t,onSave:n,policy:o,leaveType:l,leaveTypePolicy:u})=>{const[m,p]=reactExports.useState(1),[j,f]=reactExports.useState({}),[g,b]=reactExports.useState(!1);reactExports.useEffect(()=>{if(e){const A={leaveTypeId:l.id,leaveType:l,quotaLimitType:"LIMITED",quotaDays:0,accrualType:"ENTIRE_QUOTA",roundingPolicy:"NO_ROUNDING",applicationSettings:{allowHalfDay:!1,selfApplyAllowed:!0,requireComment:!1,...u?.applicationSettings},restrictionSettings:{allowedInNoticePeriod:!0,...u?.restrictionSettings},sandwichRules:{holidayAdjacencyPolicy:"COUNT_AS_LEAVE",weekOffAdjacencyPolicy:"COUNT_AS_LEAVE",...u?.sandwichRules},approvalFlow:{approvalRequired:!0,levels:1,selectionMode:"ROLE_BASED",...u?.approvalFlow},approvalLevels:[],yearEndProcessing:{positiveBalanceAction:"EXPIRE_OR_RESET",negativeBalancePolicy:"NULLIFY",...u?.yearEndProcessing},...u,approvalLevels:u?.approvalLevels||[]};f(A),p(1)}},[e,o,l,u]);const R=(A,T)=>D=>{const{value:I,type:L,checked:_}=D.target,M=L==="checkbox"?_:I;f(A?F=>({...F,[A]:{...F[A],[T]:M}}):F=>({...F,[T]:M}))},v=async()=>{b(!0);try{const A={...j,approvalLevels:j.approvalLevels||[]};await n(A)}catch(A){console.error("Error during save setup:",A),alert(`Error: ${A.response?.data?.message||"Could not save settings."}`)}finally{b(!1)}},N=()=>{const A={data:j,onChange:R};switch(m){case 1:return jsxRuntimeExports.jsx(Step1_AnnualQuota,{...A});case 2:return jsxRuntimeExports.jsx(Step2_Accrual,{...A});case 3:return jsxRuntimeExports.jsx(Step3_Application,{...A});case 4:return jsxRuntimeExports.jsx(Step4_Restrictions,{...A});case 5:return jsxRuntimeExports.jsx(Step5_Sandwich,{...A});case 6:return jsxRuntimeExports.jsx(Step6_Approvals,{...A});case 7:return jsxRuntimeExports.jsx(Step7_YearEnd,{...A});default:return null}},S=`Configure '${l?.leaveType}' for '${o?.name}'`,$=STEPS[m-1]?.title,C=`${S} - ${$}`;return jsxRuntimeExports.jsxs(Modal$i,{isOpen:e,onClose:t,title:C,children:[jsxRuntimeExports.jsx("div",{className:"flex-grow overflow-y-auto p-6",children:N()}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t flex justify-between items-center flex-shrink-0",children:[jsxRuntimeExports.jsxs("div",{children:["Step ",m," of ",STEPS.length]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[m>1&&jsxRuntimeExports.jsxs("button",{onClick:()=>p(A=>A-1),className:"btn-secondary flex items-center gap-2",children:[jsxRuntimeExports.jsx(ArrowLeft,{size:16})," Back"]}),m<STEPS.length&&jsxRuntimeExports.jsxs("button",{onClick:()=>p(A=>A+1),className:"btn-primary flex items-center gap-2",children:["Next ",jsxRuntimeExports.jsx(ArrowRight,{size:16})]}),m===STEPS.length&&jsxRuntimeExports.jsxs("button",{onClick:v,className:"btn-primary flex items-center gap-2",disabled:g,children:[g?jsxRuntimeExports.jsx(Loader,{className:"animate-spin",size:16}):jsxRuntimeExports.jsx(Save,{size:16})," Save"]})]})]})]})},Step1_AnnualQuota=({data:e,onChange:t})=>jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg",children:"Annual Quota"}),jsxRuntimeExports.jsx(Field,{label:"Quota Limit Type",children:jsxRuntimeExports.jsxs(Select$2,{name:"quotaLimitType",value:e.quotaLimitType,onChange:t(null,"quotaLimitType"),children:[jsxRuntimeExports.jsx("option",{value:"LIMITED",children:"Limited"}),jsxRuntimeExports.jsx("option",{value:"UNLIMITED",children:"Unlimited"})]})}),e.quotaLimitType==="LIMITED"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Field,{label:"Annual Quota (Days)",children:jsxRuntimeExports.jsx(NumberInput,{name:"quotaDays",value:e.quotaDays,onChange:t(null,"quotaDays")})}),jsxRuntimeExports.jsx(Field,{label:"Prorate Policy for Mid-Year Joiners",children:jsxRuntimeExports.jsxs(Select$2,{name:"midYearJoinProratePolicy",value:e.midYearJoinProratePolicy,onChange:t(null,"midYearJoinProratePolicy"),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Policy"}),jsxRuntimeExports.jsx("option",{value:"PRORATE_ON_JOIN_DATE",children:"Prorate based on joining date"}),jsxRuntimeExports.jsx("option",{value:"FULL_QUOTA",children:"Give full quota regardless of joining date"})]})}),e.midYearJoinProratePolicy==="PRORATE_ON_JOIN_DATE"&&jsxRuntimeExports.jsx(Field,{label:"Joining Month Cutoff Day",helpText:"No leave in joining month if joined after this day. (e.g., 15)",children:jsxRuntimeExports.jsx(NumberInput,{name:"joinMonthCutoffDay",value:e.joinMonthCutoffDay,onChange:t(null,"joinMonthCutoffDay"),placeholder:"1 to 31"})})]})]}),Step2_Accrual=({data:e,onChange:t})=>jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg",children:"Accrual & Rounding"}),jsxRuntimeExports.jsx(Field,{label:"Accrual Type",children:jsxRuntimeExports.jsxs(Select$2,{name:"accrualType",value:e.accrualType,onChange:t(null,"accrualType"),children:[jsxRuntimeExports.jsx("option",{value:"ENTIRE_QUOTA",children:"Entire quota credited at start of year"}),jsxRuntimeExports.jsx("option",{value:"PERIODIC",children:"Earned periodically"})]})}),e.accrualType==="PERIODIC"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Field,{label:"Accrual Interval",children:jsxRuntimeExports.jsxs(Select$2,{name:"accrualInterval",value:e.accrualInterval,onChange:t(null,"accrualInterval"),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Interval"}),jsxRuntimeExports.jsx("option",{value:"MONTHLY",children:"Monthly"}),jsxRuntimeExports.jsx("option",{value:"QUARTERLY",children:"Quarterly"}),jsxRuntimeExports.jsx("option",{value:"BI_ANNUALLY",children:"Bi-Annually"})]})}),jsxRuntimeExports.jsx(Field,{label:"Accrual Amount (Days per interval)",children:jsxRuntimeExports.jsx(NumberInput,{name:"accrualAmountDays",value:e.accrualAmountDays,onChange:t(null,"accrualAmountDays")})})]}),jsxRuntimeExports.jsx(Field,{label:"Rounding Policy",children:jsxRuntimeExports.jsxs(Select$2,{name:"roundingPolicy",value:e.roundingPolicy,onChange:t(null,"roundingPolicy"),children:[jsxRuntimeExports.jsx("option",{value:"NO_ROUNDING",children:"No Rounding"}),jsxRuntimeExports.jsx("option",{value:"ROUND_UP",children:"Round Up"}),jsxRuntimeExports.jsx("option",{value:"ROUND_DOWN",children:"Round Down"}),jsxRuntimeExports.jsx("option",{value:"ROUND_NEAREST",children:"Round to Nearest"})]})})]}),Step3_Application=({data:e,onChange:t})=>jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg",children:"Application Rules"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(Checkbox,{label:"Allow half-day applications",name:"allowHalfDay",checked:e.applicationSettings?.allowHalfDay,onChange:t("applicationSettings","allowHalfDay")}),jsxRuntimeExports.jsx(Checkbox,{label:"Employees can apply for this leave",name:"selfApplyAllowed",checked:e.applicationSettings?.selfApplyAllowed,onChange:t("applicationSettings","selfApplyAllowed")}),jsxRuntimeExports.jsx(Checkbox,{label:"Require a comment for requests",name:"requireComment",checked:e.applicationSettings?.requireComment,onChange:t("applicationSettings","requireComment")})]}),jsxRuntimeExports.jsx(Field,{label:"Require attachment if leave exceeds (days)",helpText:"Leave blank if not required.",children:jsxRuntimeExports.jsx(NumberInput,{name:"attachmentIfExceedsDays",value:e.applicationSettings?.attachmentIfExceedsDays,onChange:t("applicationSettings","attachmentIfExceedsDays")})}),jsxRuntimeExports.jsx(Field,{label:"Allow back-dated applications",children:jsxRuntimeExports.jsx(Checkbox,{label:"Yes, allow back-dated",name:"allowBackdatedApplication",checked:e.applicationSettings?.allowBackdatedApplication,onChange:t("applicationSettings","allowBackdatedApplication")})}),e.applicationSettings?.allowBackdatedApplication&&jsxRuntimeExports.jsx(Field,{label:"Maximum back-dated days",children:jsxRuntimeExports.jsx(NumberInput,{name:"backdatedMaxDays",value:e.applicationSettings?.backdatedMaxDays,onChange:t("applicationSettings","backdatedMaxDays")})})]}),Step4_Restrictions=({data:e,onChange:t})=>jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg",children:"Restrictions"}),jsxRuntimeExports.jsx(Field,{label:"New Joiner Eligibility",children:jsxRuntimeExports.jsxs(Select$2,{name:"eligibilityAnchor",value:e.restrictionSettings?.eligibilityAnchor,onChange:t("restrictionSettings","eligibilityAnchor"),children:[jsxRuntimeExports.jsx("option",{value:"",children:"No Restriction"}),jsxRuntimeExports.jsx("option",{value:"AFTER_PROBATION",children:"After Probation Period"}),jsxRuntimeExports.jsx("option",{value:"AFTER_JOINING",children:"After a specific number of days from joining"})]})}),e.restrictionSettings?.eligibilityAnchor==="AFTER_JOINING"&&jsxRuntimeExports.jsx(Field,{label:"Eligible after (days)",children:jsxRuntimeExports.jsx(NumberInput,{name:"eligibilityAfterDays",value:e.restrictionSettings?.eligibilityAfterDays,onChange:t("restrictionSettings","eligibilityAfterDays")})}),jsxRuntimeExports.jsx(Field,{label:"Consecutive Days Limit",children:jsxRuntimeExports.jsx(Checkbox,{label:"Limit consecutive days per request",name:"limitConsecutiveDays",checked:e.restrictionSettings?.limitConsecutiveDays,onChange:t("restrictionSettings","limitConsecutiveDays")})}),e.restrictionSettings?.limitConsecutiveDays&&jsxRuntimeExports.jsx(Field,{label:"Max consecutive days allowed",children:jsxRuntimeExports.jsx(NumberInput,{name:"maxConsecutiveDays",value:e.restrictionSettings?.maxConsecutiveDays,onChange:t("restrictionSettings","maxConsecutiveDays")})}),jsxRuntimeExports.jsx(Field,{label:"Monthly Usage Limit",children:jsxRuntimeExports.jsx(Checkbox,{label:"Limit total days taken per month",name:"limitMonthlyUsage",checked:e.restrictionSettings?.limitMonthlyUsage,onChange:t("restrictionSettings","limitMonthlyUsage")})}),e.restrictionSettings?.limitMonthlyUsage&&jsxRuntimeExports.jsx(Field,{label:"Max days allowed per month",children:jsxRuntimeExports.jsx(NumberInput,{name:"maxMonthlyDays",value:e.restrictionSettings?.maxMonthlyDays,onChange:t("restrictionSettings","maxMonthlyDays")})}),jsxRuntimeExports.jsx(Field,{label:"Notice Period",children:jsxRuntimeExports.jsx(Checkbox,{label:"Allow applying during notice period",name:"allowedInNoticePeriod",checked:e.restrictionSettings?.allowedInNoticePeriod,onChange:t("restrictionSettings","allowedInNoticePeriod")})})]}),Step5_Sandwich=({data:e,onChange:t})=>jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg",children:"Holidays & Weekends (Sandwich Rules)"}),jsxRuntimeExports.jsx(Field,{label:"Holiday Adjacency Policy",helpText:"How to treat holidays that fall between leave days.",children:jsxRuntimeExports.jsxs(Select$2,{name:"holidayAdjacencyPolicy",value:e.sandwichRules?.holidayAdjacencyPolicy,onChange:t("sandwichRules","holidayAdjacencyPolicy"),children:[jsxRuntimeExports.jsx("option",{value:"COUNT_AS_LEAVE",children:"Count as Leave"}),jsxRuntimeExports.jsx("option",{value:"DO_NOT_COUNT",children:"Do Not Count"})]})}),jsxRuntimeExports.jsx(Field,{label:"Weekend Adjacency Policy",helpText:"How to treat weekends that fall between leave days.",children:jsxRuntimeExports.jsxs(Select$2,{name:"weekOffAdjacencyPolicy",value:e.sandwichRules?.weekOffAdjacencyPolicy,onChange:t("sandwichRules","weekOffAdjacencyPolicy"),children:[jsxRuntimeExports.jsx("option",{value:"COUNT_AS_LEAVE",children:"Count as Leave"}),jsxRuntimeExports.jsx("option",{value:"DO_NOT_COUNT",children:"Do Not Count"})]})})]}),Step6_Approvals=({data:e,onChange:t})=>{const n=(u,m)=>p=>{const j=[...e.approvalLevels||[]];j[u]={...j[u],[m]:p.target.value},t({target:{name:"approvalLevels",value:j}})},o=()=>{const u={levelOrder:(e.approvalLevels?.length||0)+1,selectionMode:"ROLE_BASED",roleKey:"REPORTING_MANAGER"},m=[...e.approvalLevels||[],u];t({target:{name:"approvalLevels",value:m}})},l=u=>{const m=e.approvalLevels.filter((p,j)=>j!==u);t({target:{name:"approvalLevels",value:m}})};return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg",children:"Approval Workflow"}),jsxRuntimeExports.jsx(Field,{label:"Approval Requirement",children:jsxRuntimeExports.jsx(Checkbox,{label:"This leave type requires approval",name:"approvalRequired",checked:e.approvalFlow?.approvalRequired,onChange:t("approvalFlow","approvalRequired")})}),e.approvalFlow?.approvalRequired&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[e.approvalLevels?.map((u,m)=>jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded-md bg-slate-50 space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h4",{className:"font-semibold",children:["Level ",u.levelOrder]}),jsxRuntimeExports.jsx("button",{onClick:()=>l(m),className:"text-red-500 hover:text-red-700",children:jsxRuntimeExports.jsx(X,{size:16})})]}),jsxRuntimeExports.jsx(Field,{label:"Approver Type",children:jsxRuntimeExports.jsxs(Select$2,{value:u.selectionMode,onChange:n(m,"selectionMode"),children:[jsxRuntimeExports.jsx("option",{value:"ROLE_BASED",children:"Role Based"}),jsxRuntimeExports.jsx("option",{value:"NAMED_EMPLOYEES",children:"Specific Employee"})]})}),u.selectionMode==="ROLE_BASED"?jsxRuntimeExports.jsx(Field,{label:"Role",children:jsxRuntimeExports.jsxs(Select$2,{value:u.roleKey,onChange:n(m,"roleKey"),children:[jsxRuntimeExports.jsx("option",{value:"REPORTING_MANAGER",children:"Reporting Manager"}),jsxRuntimeExports.jsx("option",{value:"HR_MANAGER",children:"HR Manager"}),jsxRuntimeExports.jsx("option",{value:"DEPARTMENT_HEAD",children:"Department Head"})]})}):jsxRuntimeExports.jsx(Field,{label:"Employee ID",children:jsxRuntimeExports.jsx(TextInput,{value:u.employeeId,onChange:n(m,"employeeId"),placeholder:"Enter Employee ID"})})]},m)),jsxRuntimeExports.jsx("button",{onClick:o,className:"btn-secondary text-sm",children:"Add Approval Level"})]})]})},Step7_YearEnd=({data:e,onChange:t})=>jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg",children:"Year-End Processing"}),jsxRuntimeExports.jsx(Field,{label:"Positive Balance Action",helpText:"What happens to unused leave balance at the end of the year?",children:jsxRuntimeExports.jsxs(Select$2,{name:"positiveBalanceAction",value:e.yearEndProcessing?.positiveBalanceAction,onChange:t("yearEndProcessing","positiveBalanceAction"),children:[jsxRuntimeExports.jsx("option",{value:"EXPIRE_OR_RESET",children:"Expire / Reset to Zero"}),jsxRuntimeExports.jsx("option",{value:"PAY_OUT",children:"Pay Out"}),jsxRuntimeExports.jsx("option",{value:"CARRY_FORWARD",children:"Carry Forward"})]})}),e.yearEndProcessing?.positiveBalanceAction==="CARRY_FORWARD"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Field,{label:"Carry Forward Expiry",children:jsxRuntimeExports.jsx(Checkbox,{label:"Carried forward balance expires",name:"carryForwardExpires",checked:e.yearEndProcessing?.carryForwardExpires,onChange:t("yearEndProcessing","carryForwardExpires")})}),e.yearEndProcessing?.carryForwardExpires&&jsxRuntimeExports.jsx(Field,{label:"Expires after (days in next year)",children:jsxRuntimeExports.jsx(NumberInput,{name:"carryForwardExpiryDays",value:e.yearEndProcessing?.carryForwardExpiryDays,onChange:t("yearEndProcessing","carryForwardExpiryDays")})})]}),jsxRuntimeExports.jsx(Field,{label:"Negative Balance Policy",helpText:"How to handle negative leave balance at year-end.",children:jsxRuntimeExports.jsxs(Select$2,{name:"negativeBalancePolicy",value:e.yearEndProcessing?.negativeBalancePolicy,onChange:t("yearEndProcessing","negativeBalancePolicy"),children:[jsxRuntimeExports.jsx("option",{value:"DEDUCT_FROM_SALARY",children:"Deduct from Salary"}),jsxRuntimeExports.jsx("option",{value:"NULLIFY",children:"Nullify (Reset to Zero)"}),jsxRuntimeExports.jsx("option",{value:"CARRY_FORWARD_NEGATIVE",children:"Carry Forward Negative Balance"})]})})]}),AddLeaveTypeToPolicyModal=({isOpen:e,onClose:t,onSelect:n,policy:o})=>{const[l,u]=reactExports.useState([]),[m,p]=reactExports.useState(!0),[j,f]=reactExports.useState("");reactExports.useEffect(()=>{e&&(async()=>{p(!0);try{const R=await getAllLeaveTypes(),v=new Set(o.leaveTypePolicies.map(S=>S.leaveType.id)),N=R.data.filter(S=>!v.has(S.id));u(N),N.length>0&&f(N[0].id)}catch(R){console.error("Failed to fetch leave types",R)}finally{p(!1)}})()},[e,o]);const g=()=>{const b=l.find(R=>R.id.toString()===j);b&&n(b)};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold",children:['Add Leave Type to "',o.name,'"']}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsx("div",{className:"p-6 space-y-4",children:m?jsxRuntimeExports.jsx("p",{children:"Loading..."}):l.length>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("label",{htmlFor:"leaveTypeSelect",className:"block text-sm font-medium text-slate-700",children:"Select a leave type to add:"}),jsxRuntimeExports.jsxs("select",{id:"leaveTypeSelect",value:j,onChange:b=>f(b.target.value),className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",disabled:!0,children:"Select a type"}),l.map(b=>jsxRuntimeExports.jsx("option",{value:b.id,children:b.leaveType},b.id))]})]}):jsxRuntimeExports.jsx("p",{className:"text-slate-500",children:"All available leave types are already in this policy."})}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t bg-slate-50 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:g,className:"btn-primary",disabled:!j||m,children:"Configure"})]})]})}):null},CreateLeaveClassModal=({isOpen:e,onClose:t,onNext:n,policyToEdit:o,onSaveEdit:l,isSaving:u})=>{const[m,p]=reactExports.useState(""),[j,f]=reactExports.useState("All Employees"),[g,b]=reactExports.useState(""),[R,v]=reactExports.useState([]),[N,S]=reactExports.useState(!0),[$,C]=reactExports.useState(""),A=!!o;reactExports.useEffect(()=>{e&&(C(""),A?(p(o.name),f(o.appliesToExpression||"All Employees"),S(!1)):(p(""),f("All Employees"),b(""),(async()=>{S(!0);try{const L=(await getAllLeaveTypes()).data||[];v(L),L.length>0&&b(L[0].id.toString())}catch(I){console.error("Failed to fetch leave types",I),C("Could not load available leave types.")}finally{S(!1)}})()))},[e,A,o]);const T=()=>{if(!m.trim()||!A&&!g){C("Policy Name and a starting Leave Type are required.");return}const D=R.find(I=>I.id.toString()===g);A?l({name:m,appliesToExpression:j==="All Employees"?null:j,defaultPolicy:o.defaultPolicy}):n({name:m,appliesToExpression:j==="All Employees"?null:j,defaultPolicy:!1,leaveTypePolicies:[]},D)};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold",children:A?"Edit Leave Class":"Create New Leave Class"}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-4",children:[$&&jsxRuntimeExports.jsx("div",{className:"text-red-600 bg-red-100 p-3 rounded-md text-sm",children:$}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"policyName",className:"block text-sm font-medium text-slate-700",children:"Leave Class Name"}),jsxRuntimeExports.jsx("input",{type:"text",id:"policyName",value:m,onChange:D=>p(D.target.value),className:"input mt-1",placeholder:"e.g., Standard Employee Policy"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"appliesTo",className:"block text-sm font-medium text-slate-700",children:"Applicable To"}),jsxRuntimeExports.jsx("input",{type:"text",id:"appliesTo",value:j,onChange:D=>f(D.target.value),className:"input mt-1",placeholder:"e.g., All Employees, or an expression"})]}),!A&&jsxRuntimeExports.jsxs("div",{className:"border-t pt-4",children:[jsxRuntimeExports.jsx("label",{htmlFor:"leaveTypeSelect",className:"block text-sm font-medium text-slate-700",children:"Select first leave type to configure"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"You must configure at least one leave type to create a class."}),N?jsxRuntimeExports.jsx(Loader,{className:"animate-spin"}):jsxRuntimeExports.jsxs("select",{id:"leaveTypeSelect",value:g,onChange:D=>b(D.target.value),className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",disabled:!0,children:"Select a type"}),R.map(D=>jsxRuntimeExports.jsx("option",{value:D.id,children:D.leaveType},D.id))]})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t bg-slate-50 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:T,className:"btn-primary",disabled:N||u||!A&&!g,children:A?"Save Changes":"Next: Configure Rules"})]})]})}):null},LeavePolicyReviewModal=({isOpen:e,onClose:t,onSave:n,onAddAnother:o,onEdit:l,policyData:u,loading:m})=>{if(!e)return null;const{name:p,appliesToExpression:j,leaveTypePolicies:f=[]}=u;return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold",children:"Review New Leave Class"}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg",children:p}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-slate-500",children:["Applies to: ",j||"All Employees"]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("h4",{className:"font-semibold",children:["Configured Leave Types (",f.length,")"]}),f.length>0?jsxRuntimeExports.jsx("ul",{className:"border rounded-md divide-y",children:f.map((g,b)=>jsxRuntimeExports.jsxs("li",{className:"p-3 flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:g.leaveType.leaveType}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-slate-500",children:["Quota: ",g.quotaLimitType==="UNLIMITED"?"Unlimited":`${g.quotaDays} days`]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>l(g.leaveType),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-100 rounded-full",title:"Edit Rules",children:jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4"})})]},b))}):jsxRuntimeExports.jsx("p",{className:"text-slate-500 text-sm text-center py-4",children:"No leave types configured yet."})]}),jsxRuntimeExports.jsxs("button",{onClick:o,className:"w-full btn-secondary flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx(Plus,{size:16})," Add Another Leave Type"]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t bg-slate-50 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:n,className:"btn-success flex items-center gap-2",disabled:m||f.length===0,children:[m?jsxRuntimeExports.jsx(Loader,{className:"animate-spin",size:16}):jsxRuntimeExports.jsx(Save,{size:16})," Create Leave Class"]})]})]})})},LeaveCategory=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState(""),[m,p]=reactExports.useState("policies"),[j,f]=reactExports.useState(!1),[g,b]=reactExports.useState(null),[R,v]=reactExports.useState(!1),[N,S]=reactExports.useState(!1),[$,C]=reactExports.useState(!1),[A,T]=reactExports.useState(null),[D,I]=reactExports.useState(!1),[L,_]=reactExports.useState(null),[M,F]=reactExports.useState({policy:null,leaveType:null}),{policy:B,leaveType:q}=M,z=reactExports.useCallback(async()=>{if(m==="policies"){o(!0),u("");try{const Z=await getAllLeavePolicies();t(Z.data)}catch(Z){u("Failed to fetch leave policies."),console.error(Z)}finally{o(!1)}}},[m]);reactExports.useEffect(()=>{z()},[m,z]);const V=async Z=>{if(!Z.defaultPolicy&&window.confirm(`Are you sure you want to set "${Z.name}" as the default policy?`))try{await updateLeavePolicy(Z.id,{...Z,defaultPolicy:!0}),z()}catch(ce){u(ce.response?.data?.message||"Failed to set default policy."),console.error(ce)}},Q=(Z,ce)=>{F({policy:Z,leaveType:ce}),I(!0)},ee=Z=>{T(Z),S(!0)},G=Z=>{_(Z),C(!0)},K=()=>{S(!1),T(null)},J=Z=>{K(),Q(A,Z)},ne=()=>{I(!1),F({policy:null,leaveType:null})},H=async Z=>{if(M.isCreating){b(oe=>{const me={...Z,leaveType:q},fe=oe.leaveTypePolicies.findIndex(ge=>ge.leaveTypeId===me.leaveTypeId),xe=[...oe.leaveTypePolicies];return fe>-1?xe[fe]=me:xe.push(me),{...oe,leaveTypePolicies:xe}}),I(!1),f(!0);return}if(!B||!q)return;const ce=B.leaveTypePolicies.find(oe=>oe.leaveType.id===q.id);ce?await updateLeaveTypePolicy(ce.id,Z):await addLeaveTypePolicyToPolicy(B.id,Z),I(!1),z()},te=(Z,ce)=>{C(!1),b(Z),F({policy:Z,leaveType:ce,isCreating:!0}),I(!0)},Y=async Z=>{if(L){v(!0);try{await updateLeavePolicy(L.id,Z),alert("Leave Class updated successfully!"),C(!1),_(null),z()}catch(ce){alert(`Error: ${ce.response?.data?.message||"Could not update leave class."}`)}finally{v(!1)}}},le=()=>{f(!1),ee(g)},je=Z=>{f(!1);const ce=g.leaveTypePolicies.find(oe=>oe.leaveTypeId===Z.id);F({policy:g,leaveType:Z,leaveTypePolicy:ce,isCreating:!0}),I(!0)},ae=async()=>{if(!g||g.leaveTypePolicies.length===0){alert("Cannot save a leave class with no configured leave types.");return}v(!0);try{await createLeavePolicy(g),alert("Leave Class created successfully!"),f(!1),b(null),z()}catch(Z){alert(`Error: ${Z.response?.data?.message||"Could not create leave class."}`)}finally{v(!1)}};return m==="types"?jsxRuntimeExports.jsxs("div",{className:"p-4 sm:p-6",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center mb-6",children:jsxRuntimeExports.jsxs("button",{onClick:()=>p("policies"),className:"btn-secondary flex items-center mr-4",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back to Leave Classes"]})}),jsxRuntimeExports.jsx(LeaveTypes,{onSetupClick:Z=>alert(`Setup for '${Z.leaveType}' needs a policy context. Use the 'Action' button on a Leave Class.`)})]}):jsxRuntimeExports.jsxs("div",{className:"p-4 sm:p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Leave Class List"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>p("types"),className:"btn-secondary flex items-center",children:[jsxRuntimeExports.jsx(Settings$1,{className:"h-4 w-4 mr-2"})," Leave Settings"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>C(!0),className:"btn-primary flex items-center",children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-2"})," Create Leave Class"]})]})]}),l&&jsxRuntimeExports.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:l}),m==="policies"&&jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:n?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-80",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-blue-600"})}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-white",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Leave Class Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Applicable to Employee"}),jsxRuntimeExports.jsx("th",{className:"th-cell text-center",children:"No. of Leaves"}),jsxRuntimeExports.jsx("th",{className:"th-cell text-center",children:"Click to make Default"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Operations"})]})}),jsxRuntimeExports.jsx("tbody",{className:"text-slate-700",children:e.map(Z=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-slate-200 hover:bg-slate-50",children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium",children:Z.name}),jsxRuntimeExports.jsx("td",{className:"td-cell text-sm text-slate-500",children:Z.appliesToExpression||"All Employees"}),jsxRuntimeExports.jsx("td",{className:"td-cell text-center text-sm",children:Z.leaveTypePolicies?.length||0}),jsxRuntimeExports.jsx("td",{className:"td-cell text-center",children:jsxRuntimeExports.jsx("button",{onClick:()=>V(Z),title:Z.defaultPolicy?"This is the default policy":"Click to make this the default policy",disabled:Z.defaultPolicy,children:jsxRuntimeExports.jsx(Star,{className:`h-5 w-5 mx-auto ${Z.defaultPolicy?"text-yellow-500 fill-current":"text-slate-300 hover:text-yellow-400"}`})})}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsxs("select",{onChange:ce=>{const oe=ce.target.value;if(oe){const me=Z.leaveTypePolicies.find(fe=>fe.leaveType.id.toString()===oe)?.leaveType||{id:oe,leaveType:ce.target.options[ce.target.selectedIndex].text};Q(Z,me),ce.target.value=""}},className:"btn-secondary py-1 px-2 text-xs",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Configure..."}),Z.leaveTypePolicies?.map(ce=>ce&&ce.leaveType&&jsxRuntimeExports.jsxs("option",{value:ce.leaveType.id,children:["Configure ",ce.leaveType.leaveType]},ce.leaveType.id))]}),jsxRuntimeExports.jsx("button",{onClick:()=>ee(Z),className:"p-2 text-slate-500 hover:text-green-600 hover:bg-green-100 rounded-full",title:"Add Leave Type to this Class",children:jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>G(Z),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-100 rounded-full",title:"Update",children:jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4"})})]})})]},Z.id))})]})})}),N&&A&&jsxRuntimeExports.jsx(AddLeaveTypeToPolicyModal,{isOpen:N,onClose:K,onSelect:J,policy:A}),jsxRuntimeExports.jsx(CreateLeaveClassModal,{isOpen:$,onClose:()=>{C(!1),_(null)},onNext:te,onSaveEdit:Y,policyToEdit:L,isSaving:R}),g&&jsxRuntimeExports.jsx(LeavePolicyReviewModal,{isOpen:j,onClose:()=>{f(!1),b(null)},onSave:ae,onAddAnother:le,onEdit:je,policyData:g,loading:R}),D&&B&&q&&jsxRuntimeExports.jsx(LeavePolicySetupModal,{isOpen:D,onClose:ne,onSave:H,policy:B,leaveType:q,leaveTypePolicy:B.leaveTypePolicies?.find(Z=>Z.leaveType.id===q.id)})]})},API_URL$1C="https://javapaas-202946-0.cloudclusters.net/api",HolidayPolicyModal=({isOpen:e,onClose:t,onSave:n,policy:o,loading:l})=>{const[u,m]=reactExports.useState({name:"",year:new Date().getFullYear(),holidays:[]}),[p,j]=reactExports.useState("");reactExports.useEffect(()=>{m(o?{...o,holidays:o.holidays||[]}:{name:"",year:new Date().getFullYear(),holidays:[{name:"",date:"",isOptional:!1,isPaid:!0}]}),j("")},[o,e]);const f=N=>{const{name:S,value:$}=N.target;m(C=>({...C,[S]:$}))},g=(N,S)=>{const{name:$,value:C,type:A,checked:T}=S.target,D=[...u.holidays];D[N]={...D[N],[$]:A==="checkbox"?T:C},m(I=>({...I,holidays:D}))},b=()=>{m(N=>({...N,holidays:[...N.holidays,{name:"",date:"",isOptional:!1,isPaid:!0}]}))},R=N=>{m(S=>({...S,holidays:S.holidays.filter(($,C)=>C!==N)}))},v=N=>{if(N.preventDefault(),!u.name.trim()||!u.year){j("Policy Name and Year are required.");return}n(u)};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold",children:[o?"Edit":"Create"," Holiday Policy"]}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:v,className:"flex-grow overflow-y-auto",children:[jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx("input",{name:"name",value:u.name,onChange:f,placeholder:"Policy Name (e.g., UAE Holidays 2024)",className:"input",required:!0}),jsxRuntimeExports.jsx("input",{name:"year",type:"number",value:u.year,onChange:f,placeholder:"Year",className:"input",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"pt-4 border-t",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-2",children:"Holidays"}),jsxRuntimeExports.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto pr-2",children:u.holidays.map((N,S)=>jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center",children:[jsxRuntimeExports.jsx("input",{name:"name",value:N.name??"",onChange:$=>g(S,$),placeholder:"Holiday Name",className:"input col-span-4"}),jsxRuntimeExports.jsx("input",{name:"date",type:"date",value:N.date??"",onChange:$=>g(S,$),className:"input col-span-3"}),jsxRuntimeExports.jsxs("label",{className:"col-span-2 flex items-center gap-1 text-sm",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"isOptional",checked:!!N.isOptional,onChange:$=>g(S,$)})," Optional"]}),jsxRuntimeExports.jsxs("label",{className:"col-span-2 flex items-center gap-1 text-sm",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"isPaid",checked:!!N.isPaid,onChange:$=>g(S,$)})," Paid"]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>R(S),className:"p-2 text-red-500 hover:bg-red-100 rounded-full col-span-1",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]},S))}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:b,className:"btn-secondary text-sm mt-2",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16,className:"mr-2"}),"Add Holiday"]})]}),p&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm",children:p})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t bg-slate-50 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:l,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:l,children:[l&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"})," Save Policy"]})]})]})]})}):null},PolicyCard=({policy:e,onEdit:t,onDelete:n})=>{const[o,l]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer",onClick:()=>l(!o),children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:e.name}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-slate-500",children:[e.year," - ",e.holidays.length," holidays"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:u=>{u.stopPropagation(),t(e)},className:"p-1.5 text-blue-600 hover:bg-blue-100 rounded-full",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:u=>{u.stopPropagation(),n(e.id)},className:"p-1.5 text-red-600 hover:bg-red-100 rounded-full",children:jsxRuntimeExports.jsx(Trash2,{size:16})}),o?jsxRuntimeExports.jsx(ChevronUp,{className:"h-5 w-5 text-slate-500"}):jsxRuntimeExports.jsx(ChevronDown,{className:"h-5 w-5 text-slate-500"})]})]}),o&&jsxRuntimeExports.jsx("div",{className:"border-t border-slate-200 p-4",children:jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:e.holidays.map(u=>jsxRuntimeExports.jsxs("li",{className:"flex justify-between items-center p-2 bg-slate-50 rounded-md text-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-slate-700",children:u.name}),jsxRuntimeExports.jsxs("span",{className:"text-slate-500 ml-2",children:["(",new Date(u.date).toLocaleDateString("en-GB",{day:"2-digit",month:"short"}),")"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${u.isOptional===!0?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:u.isOptional===!0?"Optional":"Mandatory"}),jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${u.isPaid===!0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:u.isPaid===!0?"Paid":"Unpaid"})]})]},u.id))})})]})},HolidayPolicy=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState(""),[m,p]=reactExports.useState(!1),[j,f]=reactExports.useState(null),[g,b]=reactExports.useState(!1),R=reactExports.useCallback(async()=>{o(!0);try{const C=localStorage.getItem("token"),A=await axios.get(`${API_URL$1C}/holiday-policies`,{headers:{Authorization:`Bearer ${C}`}});t(A.data.sort((T,D)=>D.year-T.year))}catch(C){u("Failed to fetch holiday policies."),console.error(C)}finally{o(!1)}},[]);reactExports.useEffect(()=>{R()},[R]);const v=async C=>{b(!0);try{const T={Authorization:`Bearer ${localStorage.getItem("token")}`};if(j){await axios.put(`${API_URL$1C}/holiday-policies/${j.id}`,{name:C.name,year:C.year},{headers:T});const D=j.holidays||[],I=C.holidays||[],L=new Set(D.map(F=>F.id)),_=new Set(I.filter(F=>F.id).map(F=>F.id)),M=D.filter(F=>!_.has(F.id));for(const F of M)await axios.delete(`${API_URL$1C}/holidays/${F.id}`,{headers:T});for(const F of I){const B={name:F.name,date:F.date,isOptional:F.isOptional,isPaid:F.isPaid};if(F.id){const q=D.find(z=>z.id===F.id);JSON.stringify(q)!==JSON.stringify({...q,...B})&&await axios.put(`${API_URL$1C}/holidays/${F.id}`,B,{headers:T})}else await axios.post(`${API_URL$1C}/holiday-policies/${j.id}/holidays`,B,{headers:T})}}else await axios.post(`${API_URL$1C}/holiday-policies`,C,{headers:T});p(!1),R()}catch(A){alert(A.response?.data?.message||"Failed to save policy. Please check the data and try again."),console.error("Save Error:",A)}finally{b(!1)}},N=async C=>{if(window.confirm("Are you sure you want to delete this holiday policy?"))try{const A=localStorage.getItem("token");await axios.delete(`${API_URL$1C}/holiday-policies/${C}`,{headers:{Authorization:`Bearer ${A}`}}),R()}catch{alert("Failed to delete policy.")}},S=()=>{f(null),p(!0)},$=C=>{f(C),p(!0)};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Holiday Policies"}),jsxRuntimeExports.jsxs("button",{onClick:S,className:"btn-primary flex items-center gap-2",children:[jsxRuntimeExports.jsx(CirclePlus,{size:18})," Create Policy"]})]}),n?jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin"})}):l?jsxRuntimeExports.jsx("p",{className:"text-red-500",children:l}):e.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-10 text-slate-500 border-2 border-dashed rounded-lg",children:[jsxRuntimeExports.jsx(Calendar,{className:"mx-auto h-12 w-12 text-slate-400"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-slate-900",children:"No Holiday Policies Found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"Get started by creating a new holiday policy."})]}):jsxRuntimeExports.jsx("div",{className:"space-y-4",children:e.map(C=>jsxRuntimeExports.jsx(PolicyCard,{policy:C,onEdit:$,onDelete:N},C.id))}),jsxRuntimeExports.jsx(HolidayPolicyModal,{isOpen:m,onClose:()=>p(!1),onSave:v,policy:j,loading:g})]})},componentMap$1={"Leave Category":jsxRuntimeExports.jsx(LeaveCategory,{}),"Create Holiday Policy":jsxRuntimeExports.jsx(HolidayPolicy,{})},policyItems$1=[{name:"Leave Category",icon:LayoutGrid,action:"view",color:"text-purple-600",bgColor:"bg-purple-100"},{name:"Create Holiday Policy",icon:CalendarDays,action:"view",color:"text-green-600",bgColor:"bg-green-100"},{name:"Create Week Break Policy",icon:CalendarOff,path:"#",color:"text-red-600",bgColor:"bg-red-100"}],LeavePolicy=()=>{const[e,t]=reactExports.useState(null),n=o=>{const l=componentMap$1[o.name];l?t({name:o.name,component:l}):o.path&&alert(`The "${o.name}" feature is not yet implemented.`)};return e?jsxRuntimeExports.jsxs("div",{className:"p-4 sm:p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-6",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>t(null),className:"btn-secondary flex items-center mr-4",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back"]}),jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold text-slate-700",children:["Manage ",e.name]})]}),e.component]}):jsxRuntimeExports.jsx("div",{className:"p-4 sm:p-6 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6",children:policyItems$1.map(o=>jsxRuntimeExports.jsxs("button",{onClick:()=>n(o),className:"aspect-[3/2] flex flex-col items-center justify-center bg-white p-4 rounded-full shadow-md hover:shadow-xl hover:bg-slate-50 transition-all transform hover:-translate-y-1 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[jsxRuntimeExports.jsx("div",{className:`p-3 ${o.bgColor} ${o.color} rounded-full mb-3`,children:jsxRuntimeExports.jsx(o.icon,{className:"h-6 w-6"})}),jsxRuntimeExports.jsx("span",{className:"text-center text-sm font-medium text-slate-700",children:o.name})]},o.name))})},API_URL$1B="https://javapaas-202946-0.cloudclusters.net/api",getAuthHeaders$5=()=>{const e=localStorage.getItem("token");if(!e)throw new Error("No authentication token found.");return{Authorization:`Bearer ${e}`}},api$3={getTenantInfo:async()=>(await axios.get(`${API_URL$1B}/pos/tenant/current`,{headers:getAuthHeaders$5()})).data,updateTenantInfo:async e=>(await axios.put(`${API_URL$1B}/pos/tenant/current`,e,{headers:getAuthHeaders$5()})).data,uploadLogo:async e=>{const t=new FormData;return t.append("file",e),(await axios.post(`${API_URL$1B}/pos/tenant/current/logo`,t,{headers:{...getAuthHeaders$5(),"Content-Type":"multipart/form-data"}})).data}},FormField$b=({label:e,children:t})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-foreground-muted mb-1",children:e}),t]}),ReadOnlyField=({label:e,value:t})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-foreground-muted mb-1",children:e}),jsxRuntimeExports.jsx("div",{className:"w-full p-2 bg-background-muted border border-border rounded-md text-foreground-muted",children:t})]}),TenantInfo=()=>{const[e,t]=reactExports.useState({name:"",contactEmail:"",contactPhone:"",address:"",smtpHost:"",smtpPort:"",smtpUsername:"",smtpPassword:"",companyEmail:""}),[n,o]=reactExports.useState({}),[l,u]=reactExports.useState(!0),[m,p]=reactExports.useState(!1),[j,f]=reactExports.useState(""),[g,b]=reactExports.useState(null),[R,v]=reactExports.useState(null),[N,S]=reactExports.useState(!1);reactExports.useEffect(()=>{(async()=>{u(!0);try{const I=await api$3.getTenantInfo();t({name:I.name||"",contactEmail:I.contactEmail,contactPhone:I.contactPhone,address:I.address||"",smtpHost:I.smtpHost||"",smtpPort:I.smtpPort||"",smtpUsername:I.smtpUsername||"",smtpPassword:"",companyEmail:I.companyEmail||""}),v(I.logoImgUrl),o({tenantId:I.tenantId})}catch(I){console.error("Failed to fetch tenant info",I),f("Failed to load tenant information.")}finally{u(!1)}})()},[]);const $=D=>{const{name:I,value:L}=D.target;t(_=>({..._,[I]:L}))},C=D=>{const I=D.target.files[0];I&&(b(I),v(URL.createObjectURL(I)))},A=async D=>{D.preventDefault(),p(!0),f("");try{const I={...e};I.smtpPassword||delete I.smtpPassword,await api$3.updateTenantInfo(I),alert("Tenant information updated successfully!")}catch(I){const L=I.response?.data?.message||"Failed to update tenant information.";f(L),alert(`Error: ${L}`)}finally{p(!1)}},T=async()=>{if(!g){alert("Please select a logo file to upload.");return}S(!0),f("");try{const D=await api$3.uploadLogo(g);v(D.logoImgUrl),b(null),alert("Logo updated successfully!")}catch(D){const I=D.response?.data?.message||"Failed to upload logo.";f(I),alert(`Error: ${I}`)}finally{S(!1)}};return l?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-10",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin text-primary"})}):jsxRuntimeExports.jsxs("div",{className:"p-4 sm:p-6 bg-card rounded-lg shadow-sm h-full flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex-grow overflow-y-auto space-y-8 pr-2",children:[j&&jsxRuntimeExports.jsx("div",{className:"bg-red-500/10 text-red-700 p-3 rounded-md text-sm",children:j}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4 border-b border-border pb-2",children:"Company Logo"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-6",children:[R?jsxRuntimeExports.jsx("img",{src:R,alt:"Logo",className:"h-20 w-20 object-contain rounded-md border p-1 bg-card"}):jsxRuntimeExports.jsx("div",{className:"h-20 w-20 flex items-center justify-center bg-background-muted rounded-md text-foreground-muted text-sm",children:"No Logo"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:C,className:"block w-full text-sm text-foreground-muted file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20"}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:T,className:"btn-secondary mt-2 flex items-center gap-2",disabled:N||!g,children:[N?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4"}):jsxRuntimeExports.jsx(CloudUpload,{className:"h-4 w-4"}),N?"Uploading...":"Upload Logo"]})]})]})]}),jsxRuntimeExports.jsxs("form",{id:"tenant-info-form",onSubmit:A,className:"space-y-8",children:[jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4 border-b border-border pb-2",children:"Company Details"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsx(ReadOnlyField,{label:"Tenant ID",value:n.tenantId}),jsxRuntimeExports.jsx(FormField$b,{label:"Company Name",children:jsxRuntimeExports.jsx("input",{type:"text",name:"name",value:e.name,onChange:$,className:"input bg-background-muted border-border text-foreground",required:!0})}),jsxRuntimeExports.jsx(FormField$b,{label:"Primary Contact Email",children:jsxRuntimeExports.jsx("input",{type:"email",name:"contactEmail",value:e.contactEmail,onChange:$,className:"input bg-background-muted border-border text-foreground",required:!0})}),jsxRuntimeExports.jsx(FormField$b,{label:"Primary Contact Phone",children:jsxRuntimeExports.jsx("input",{type:"tel",name:"contactPhone",value:e.contactPhone,onChange:$,className:"input bg-background-muted border-border text-foreground",required:!0})}),jsxRuntimeExports.jsx("div",{className:"md:col-span-2",children:jsxRuntimeExports.jsx(FormField$b,{label:"Address",children:jsxRuntimeExports.jsx("input",{type:"text",name:"address",value:e.address,onChange:$,className:"input bg-background-muted border-border text-foreground"})})})]})]}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4 border-b border-border pb-2",children:"SMTP Settings"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsx(FormField$b,{label:"SMTP Host",children:jsxRuntimeExports.jsx("input",{type:"text",name:"smtpHost",value:e.smtpHost,onChange:$,className:"input bg-background-muted border-border text-foreground"})}),jsxRuntimeExports.jsx(FormField$b,{label:"SMTP Port",children:jsxRuntimeExports.jsx("input",{type:"number",name:"smtpPort",value:e.smtpPort,onChange:$,className:"input bg-background-muted border-border text-foreground",min:"0",max:"65535"})}),jsxRuntimeExports.jsx(FormField$b,{label:"SMTP Username",children:jsxRuntimeExports.jsx("input",{type:"text",name:"smtpUsername",value:e.smtpUsername,onChange:$,className:"input bg-background-muted border-border text-foreground"})}),jsxRuntimeExports.jsx(FormField$b,{label:"SMTP Password",children:jsxRuntimeExports.jsx("input",{type:"password",name:"smtpPassword",value:e.smtpPassword,onChange:$,placeholder:"Enter new password to update",className:"input bg-background-muted border-border text-foreground"})}),jsxRuntimeExports.jsx(FormField$b,{label:"Company 'From' Email",children:jsxRuntimeExports.jsx("input",{type:"email",name:"companyEmail",value:e.companyEmail,onChange:$,className:"input bg-background-muted border-border text-foreground"})})]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 pt-4 border-t border-border mt-4",children:jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsxs("button",{type:"submit",form:"tenant-info-form",className:"btn-primary flex items-center gap-2",disabled:m,children:[m?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4"}):jsxRuntimeExports.jsx(Save,{className:"h-4 w-4"}),m?"Saving...":"Save Changes"]})})})]})},API_URL$1A="https://javapaas-202946-0.cloudclusters.net/api",getAuthHeaders$4=()=>{const e=localStorage.getItem("token");if(!e)throw new Error("No authentication token found.");return{Authorization:`Bearer ${e}`}},api$2={getCompanyInfo:async()=>(await axios.get(`${API_URL$1A}/company-info`,{headers:getAuthHeaders$4()})).data,saveCompanyInfo:async e=>(await axios.post(`${API_URL$1A}/company-info`,e,{headers:getAuthHeaders$4()})).data,uploadLogo:async e=>{const t=new FormData;return t.append("file",e),(await axios.post(`${API_URL$1A}/company-info/logo`,t,{headers:{...getAuthHeaders$4(),"Content-Type":"multipart/form-data"}})).data}},InputField$7=({label:e,id:t,...n})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-foreground-muted mb-1",children:e}),jsxRuntimeExports.jsx("input",{id:t,...n,className:"input bg-background-muted border-border text-foreground"})]}),InfoDisplay$6=({label:e,value:t})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-foreground-muted",children:e}),jsxRuntimeExports.jsx("p",{className:"font-medium text-foreground",children:t||jsxRuntimeExports.jsx("span",{className:"text-foreground-muted/50",children:"N/A"})})]}),CompanyInfo$1=()=>{const[e,t]=reactExports.useState(null),[n,o]=reactExports.useState(!1),[l,u]=reactExports.useState(!0),[m,p]=reactExports.useState(!1),[j,f]=reactExports.useState(""),[g,b]=reactExports.useState(null),[R,v]=reactExports.useState(null),N={companyName:"",address:"",city:"",state:"",postalCode:"",country:"",phone:"",email:"",website:"",pan:"",tan:"",gstIn:"",pfRegistrationNumber:"",esiRegistrationNumber:""},[S,$]=reactExports.useState(N),C=reactExports.useCallback(()=>{u(!0),f(""),api$2.getCompanyInfo().then(L=>{L&&L.companyName?(t(L),$(L),v(L.logoUrl?`${API_URL$1A}${L.logoUrl}?t=${new Date().getTime()}`:null)):(t(null),$(N))}).catch(L=>{console.error("Error fetching company info:",L),f("Failed to load company information.")}).finally(()=>u(!1))},[]);reactExports.useEffect(()=>{C()},[C]);const A=L=>{$({...S,[L.target.name]:L.target.value})},T=L=>{const _=L.target.files[0];_&&(b(_),v(URL.createObjectURL(_)))},D=async L=>{L.preventDefault(),p(!0),f("");try{let _=await api$2.saveCompanyInfo(S);g&&(_=await api$2.uploadLogo(g)),t(_),$(_),b(null),o(!1),alert("Company information saved successfully!")}catch(_){const M=_.response?.data?.message||"Failed to save company information.";f(M),alert(`Error: ${M}`)}finally{p(!1)}},I=()=>{o(!1),$(e||N),v(e?.logoUrl?`${API_URL$1A}${e.logoUrl}?t=${new Date().getTime()}`:null)};return l?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-10",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin text-blue-600"})}):n?jsxRuntimeExports.jsxs("form",{onSubmit:D,className:"p-6 bg-white rounded-lg shadow-sm space-y-8",children:[j&&jsxRuntimeExports.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded-md text-sm",children:j}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Company Logo"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-6",children:[R?jsxRuntimeExports.jsx("img",{src:R,alt:"Logo",className:"h-20 w-20 object-contain rounded-md border p-1 bg-card"}):jsxRuntimeExports.jsx("div",{className:"h-20 w-20 flex items-center justify-center bg-background-muted rounded-md text-foreground-muted text-sm",children:"No Logo"}),jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:T,className:"block w-full text-sm text-foreground-muted file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsx(InputField$7,{label:"Company Name",id:"companyName",name:"companyName",value:S.companyName||"",onChange:A,required:!0,className:"md:col-span-3"}),jsxRuntimeExports.jsx(InputField$7,{label:"Email",id:"email",name:"email",type:"email",value:S.email||"",onChange:A}),jsxRuntimeExports.jsx(InputField$7,{label:"Phone",id:"phone",name:"phone",value:S.phone||"",onChange:A}),jsxRuntimeExports.jsx(InputField$7,{label:"Website",id:"website",name:"website",value:S.website||"",onChange:A}),jsxRuntimeExports.jsx(InputField$7,{label:"Address",id:"address",name:"address",value:S.address||"",onChange:A,className:"md:col-span-3"}),jsxRuntimeExports.jsx(InputField$7,{label:"City",id:"city",name:"city",value:S.city||"",onChange:A}),jsxRuntimeExports.jsx(InputField$7,{label:"State / Emirate",id:"state",name:"state",value:S.state||"",onChange:A}),jsxRuntimeExports.jsx(InputField$7,{label:"Postal Code / P.O. Box",id:"postalCode",name:"postalCode",value:S.postalCode||"",onChange:A}),jsxRuntimeExports.jsx(InputField$7,{label:"Country",id:"country",name:"country",value:S.country||"",onChange:A}),jsxRuntimeExports.jsx(InputField$7,{label:"PAN / TRN",id:"pan",name:"pan",value:S.pan||"",onChange:A}),jsxRuntimeExports.jsx(InputField$7,{label:"GSTIN / TAN",id:"tan",name:"tan",value:S.tan||"",onChange:A}),jsxRuntimeExports.jsx(InputField$7,{label:"PF Registration No.",id:"pfRegistrationNumber",name:"pfRegistrationNumber",value:S.pfRegistrationNumber||"",onChange:A}),jsxRuntimeExports.jsx(InputField$7,{label:"ESI Registration No.",id:"esiRegistrationNumber",name:"esiRegistrationNumber",value:S.esiRegistrationNumber||"",onChange:A})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t border-border",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:I,className:"btn-secondary",disabled:m,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center gap-2",disabled:m,children:[m?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4"}):jsxRuntimeExports.jsx(Save,{className:"h-4 w-4"}),"Save Changes"]})]})]}):e?jsxRuntimeExports.jsxs("div",{className:"p-6 bg-card rounded-lg shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-foreground",children:"Company Profile"}),jsxRuntimeExports.jsxs("button",{onClick:()=>o(!0),className:"btn-secondary flex items-center gap-2",children:[jsxRuntimeExports.jsx(SquarePen,{size:16})," Edit"]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[e.logoUrl&&jsxRuntimeExports.jsx(Section$1,{title:"Company Logo",children:jsxRuntimeExports.jsx("img",{src:`${API_URL$1A}${e.logoUrl}?t=${new Date().getTime()}`,alt:"Company Logo",className:"h-24 w-auto object-contain rounded-md border p-2 bg-white"})}),jsxRuntimeExports.jsxs(Section$1,{title:"General Information",children:[jsxRuntimeExports.jsx(InfoDisplay$6,{label:"Company Name",value:e.companyName}),jsxRuntimeExports.jsx(InfoDisplay$6,{label:"Email",value:e.email}),jsxRuntimeExports.jsx(InfoDisplay$6,{label:"Phone",value:e.phone}),jsxRuntimeExports.jsx(InfoDisplay$6,{label:"Website",value:e.website})]}),jsxRuntimeExports.jsxs(Section$1,{title:"Address",children:[jsxRuntimeExports.jsx(InfoDisplay$6,{label:"Address",value:e.address}),jsxRuntimeExports.jsx(InfoDisplay$6,{label:"City",value:e.city}),jsxRuntimeExports.jsx(InfoDisplay$6,{label:"State / Emirate",value:e.state}),jsxRuntimeExports.jsx(InfoDisplay$6,{label:"Postal Code / P.O. Box",value:e.postalCode}),jsxRuntimeExports.jsx(InfoDisplay$6,{label:"Country",value:e.country})]}),jsxRuntimeExports.jsxs(Section$1,{title:"Statutory Details",children:[jsxRuntimeExports.jsx(InfoDisplay$6,{label:"PAN / TRN",value:e.pan}),jsxRuntimeExports.jsx(InfoDisplay$6,{label:"GSTIN / TAN",value:e.tan}),jsxRuntimeExports.jsx(InfoDisplay$6,{label:"PF Registration No.",value:e.pfRegistrationNumber}),jsxRuntimeExports.jsx(InfoDisplay$6,{label:"ESI Registration No.",value:e.esiRegistrationNumber})]})]})]}):jsxRuntimeExports.jsxs("div",{className:"text-center py-16 bg-card rounded-lg shadow-sm border-2 border-dashed border-border",children:[jsxRuntimeExports.jsx(Building,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-lg font-medium text-foreground",children:"No Company Information"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-foreground-muted",children:"Get started by adding your company's details."}),jsxRuntimeExports.jsx("div",{className:"mt-6",children:jsxRuntimeExports.jsxs("button",{onClick:()=>o(!0),className:"btn-primary flex items-center mx-auto gap-2",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Add Company Details"]})})]})},Section$1=({title:e,children:t})=>jsxRuntimeExports.jsxs("div",{className:"p-4 border border-border rounded-lg bg-background-muted",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold mb-4 text-foreground-muted",children:e}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t})]}),API_URL$1z="https://javapaas-202946-0.cloudclusters.net/api",getAuthHeaders$3=()=>{const e=localStorage.getItem("token");if(!e)throw new Error("No authentication token found.");return{Authorization:`Bearer ${e}`}},api$1={getBankAccounts:async()=>(await axios.get(`${API_URL$1z}/company-bank-accounts`,{headers:getAuthHeaders$3()})).data,createBankAccount:async e=>(await axios.post(`${API_URL$1z}/company-bank-accounts`,e,{headers:getAuthHeaders$3()})).data,updateBankAccount:async(e,t)=>(await axios.put(`${API_URL$1z}/company-bank-accounts/${e}`,t,{headers:getAuthHeaders$3()})).data,deleteBankAccount:async e=>{await axios.delete(`${API_URL$1z}/company-bank-accounts/${e}`,{headers:getAuthHeaders$3()})}},Modal$h=({isOpen:e,onClose:t,title:n,children:o})=>e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:t,children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",onClick:l=>l.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold",children:n}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsx("div",{className:"p-6",children:o})]})}):null,BankAccountForm=({item:e,onSave:t,onCancel:n,saving:o})=>{const[l,u]=reactExports.useState(e||{bankName:"",accountNumber:"",ifscCode:"",accountHolderName:"",branchName:"",primary:!1}),m=j=>u({...l,[j.target.name]:j.target.type==="checkbox"?j.target.checked:j.target.value}),p=j=>{j.preventDefault(),t(l)};return jsxRuntimeExports.jsxs("form",{onSubmit:p,className:"space-y-4",children:[jsxRuntimeExports.jsx("input",{type:"text",name:"bankName",value:l.bankName,onChange:m,placeholder:"Bank Name",className:"input",required:!0}),jsxRuntimeExports.jsx("input",{type:"text",name:"accountHolderName",value:l.accountHolderName,onChange:m,placeholder:"Account Holder Name",className:"input",required:!0}),jsxRuntimeExports.jsx("input",{type:"text",name:"accountNumber",value:l.accountNumber,onChange:m,placeholder:"Account Number",className:"input",required:!0}),jsxRuntimeExports.jsx("input",{type:"text",name:"ifscCode",value:l.ifscCode,onChange:m,placeholder:"IFSC Code",className:"input",required:!0}),jsxRuntimeExports.jsx("input",{type:"text",name:"branchName",value:l.branchName,onChange:m,placeholder:"Branch Name",className:"input"}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"primary",checked:l.primary,onChange:m,className:"h-4 w-4 rounded"}),jsxRuntimeExports.jsx("span",{children:"Set as primary account"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",disabled:o,children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"btn-primary",disabled:o,children:o?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-5 w-5"}):"Save Account"})]})]})},BankDetails=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState(!1),[m,p]=reactExports.useState(""),[j,f]=reactExports.useState(!1),[g,b]=reactExports.useState(null),R=reactExports.useCallback(()=>{o(!0),api$1.getBankAccounts().then(A=>t(A)).catch(()=>p("Failed to load bank accounts.")).finally(()=>o(!1))},[]);reactExports.useEffect(()=>{R()},[R]);const v=()=>{b(null),f(!0)},N=A=>{b(A),f(!0)},S=()=>{f(!1),b(null)},$=async A=>{u(!0);try{A.id?await api$1.updateBankAccount(A.id,A):await api$1.createBankAccount(A),R(),S()}catch(T){alert(`Error: ${T.response?.data?.message||"Failed to save account."}`)}finally{u(!1)}},C=async A=>{if(window.confirm("Are you sure you want to delete this bank account?"))try{await api$1.deleteBankAccount(A),R()}catch(T){alert(`Error: ${T.response?.data?.message||"Failed to delete account."}`)}};return n?jsxRuntimeExports.jsx("div",{className:"flex justify-center p-10",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin text-blue-600"})}):m?jsxRuntimeExports.jsx("div",{className:"text-center text-red-500 p-4",children:m}):jsxRuntimeExports.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-slate-800",children:"Bank Accounts"}),jsxRuntimeExports.jsxs("button",{onClick:v,className:"btn-primary flex items-center gap-2",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Add Account"]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Bank Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Account Number"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"IFSC"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Primary"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-slate-200",children:e.map(A=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-slate-50",children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium",children:A.bankName}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:A.accountNumber}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:A.ifscCode}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:A.primary?"Yes":"No"}),jsxRuntimeExports.jsxs("td",{className:"td-cell space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>N(A),className:"p-1 text-blue-600 hover:text-blue-800",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>C(A.id),className:"p-1 text-red-600 hover:text-red-800",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})]},A.id))})]})}),jsxRuntimeExports.jsx(Modal$h,{isOpen:j,onClose:S,title:g?"Edit Bank Account":"Add Bank Account",children:jsxRuntimeExports.jsx(BankAccountForm,{item:g,onSave:$,onCancel:S,saving:l})})]})},API_URL$1y="https://javapaas-202946-0.cloudclusters.net/api",getAuthHeaders$2=()=>{const e=localStorage.getItem("token");if(!e)throw new Error("No authentication token found.");return{Authorization:`Bearer ${e}`}},api={getLocations:async()=>(await axios.get(`${API_URL$1y}/locations`,{headers:getAuthHeaders$2()})).data,createLocation:async e=>(await axios.post(`${API_URL$1y}/locations`,e,{headers:getAuthHeaders$2()})).data,updateLocation:async(e,t)=>(await axios.put(`${API_URL$1y}/locations/${e}`,t,{headers:getAuthHeaders$2()})).data,deleteLocation:async e=>{await axios.delete(`${API_URL$1y}/locations/${e}`,{headers:getAuthHeaders$2()})}},Modal$g=({isOpen:e,onClose:t,title:n,children:o})=>e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:t,children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",onClick:l=>l.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold",children:n}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsx("div",{className:"p-6",children:o})]})}):null,LocationForm=({item:e,onSave:t,onCancel:n,saving:o,error:l})=>{const[u,m]=reactExports.useState(e||{name:"",address:"",city:"",state:"",postalCode:"",country:"",primary:!1}),p=f=>m({...u,[f.target.name]:f.target.type==="checkbox"?f.target.checked:f.target.value}),j=f=>{f.preventDefault(),t(u)};return jsxRuntimeExports.jsxs("form",{onSubmit:j,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx("div",{className:"md:col-span-2",children:jsxRuntimeExports.jsx("input",{type:"text",name:"name",value:u.name,onChange:p,placeholder:"Location Name",className:"input",required:!0})}),jsxRuntimeExports.jsx("div",{className:"md:col-span-2",children:jsxRuntimeExports.jsx("input",{type:"text",name:"address",value:u.address,onChange:p,placeholder:"Address",className:"input"})}),jsxRuntimeExports.jsx("input",{type:"text",name:"city",value:u.city,onChange:p,placeholder:"City",className:"input"}),jsxRuntimeExports.jsx("input",{type:"text",name:"state",value:u.state,onChange:p,placeholder:"State",className:"input"}),jsxRuntimeExports.jsx("input",{type:"text",name:"postalCode",value:u.postalCode,onChange:p,placeholder:"Postal Code",className:"input"}),jsxRuntimeExports.jsx("input",{type:"text",name:"country",value:u.country,onChange:p,placeholder:"Country",className:"input"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"primary",checked:u.primary,onChange:p,className:"h-4 w-4 rounded"}),jsxRuntimeExports.jsx("span",{children:"Set as primary location"})]}),l&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm",children:l}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",disabled:o,children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"btn-primary",disabled:o,children:o?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-5 w-5"}):"Save Location"})]})]})},UpgradeModal$1=({isOpen:e,onClose:t,message:n})=>e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md text-center p-6",children:[jsxRuntimeExports.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-yellow-100",children:jsxRuntimeExports.jsx(ShieldAlert,{className:"h-6 w-6 text-yellow-600"})}),jsxRuntimeExports.jsx("h3",{className:"mt-4 text-lg font-semibold text-slate-900",children:"Subscription Limit Reached"}),jsxRuntimeExports.jsxs("div",{className:"mt-2 text-sm text-slate-600",children:[jsxRuntimeExports.jsx("p",{children:n}),jsxRuntimeExports.jsx("p",{className:"mt-2",children:"Please upgrade your plan to add more locations."})]}),jsxRuntimeExports.jsx("button",{onClick:t,className:"btn-primary mt-6 w-full",children:"Got it"})]})}):null,Locations=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState(!1),[m,p]=reactExports.useState(""),[j,f]=reactExports.useState(""),[g,b]=reactExports.useState(!1),[R,v]=reactExports.useState(null),[N,S]=reactExports.useState(!1),[$,C]=reactExports.useState(null),A=reactExports.useCallback(()=>{o(!0),api.getLocations().then(B=>t(B)).catch(()=>p("Failed to load locations.")).finally(()=>o(!1))},[]);reactExports.useEffect(()=>{A()},[A]);const T=()=>{v(null),b(!0)},D=B=>{v(B),b(!0)},I=()=>{b(!1),v(null),f("")},L=async B=>{u(!0),f("");try{B.id?await api.updateLocation(B.id,B):await api.createLocation(B),A(),I()}catch(q){const z=q.response?.data||"Failed to save location.";typeof z=="string"&&z.includes("limit")?(p(z),S(!0),I()):f(z)}finally{u(!1)}},_=async B=>{if(window.confirm("Are you sure you want to delete this location?"))try{await api.deleteLocation(B),A()}catch(q){p(q.response?.data?.message||"Failed to delete location.")}},M=B=>{C(B)},F=async(B,q)=>{if(q.length===0){alert("No employees selected.");return}let z=0,V=0;try{const Q=localStorage.getItem("token");for(const ee of q)try{const G={workLocationId:B.id};await axios.put(`${API_URL$1y}/time-attendence/${ee}`,G,{headers:{Authorization:`Bearer ${Q}`}}),z++}catch(G){console.error(`Failed to update location for ${ee}:`,G),V++}alert(`Sync complete!
- ${z} employees updated successfully.
- ${V} updates failed.`)}catch{alert("An unexpected error occurred during the sync process.")}};return n?jsxRuntimeExports.jsx("div",{className:"flex justify-center p-10",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin text-blue-600"})}):m&&!N?jsxRuntimeExports.jsx("div",{className:"text-center text-red-500 p-4",children:m}):jsxRuntimeExports.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-slate-800",children:"Work Locations"}),jsxRuntimeExports.jsxs("button",{onClick:T,className:"btn-primary flex items-center gap-2",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Add Location"]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Location Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"City"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Country"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Primary"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-slate-200",children:e.map(B=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-slate-50",children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium",children:B.name}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:B.city}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:B.country}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:B.primary?"Yes":"No"}),jsxRuntimeExports.jsxs("td",{className:"td-cell flex items-center gap-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>M(B),className:"p-2 text-slate-500 hover:text-green-600 hover:bg-green-100 rounded-full",title:"Sync to employees",disabled:!!$,children:jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>D(B),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-100 rounded-full",title:"Edit",disabled:!!$,children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>_(B.id),className:"p-2 text-slate-500 hover:text-red-600 hover:bg-red-100 rounded-full",title:"Delete",disabled:!!$,children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})]},B.id))})]})}),jsxRuntimeExports.jsx(Modal$g,{isOpen:g,onClose:I,title:R?"Edit Location":"Add Location",children:jsxRuntimeExports.jsx(LocationForm,{item:R,onSave:L,onCancel:I,saving:l,error:j})}),jsxRuntimeExports.jsx(UpgradeModal$1,{isOpen:N,onClose:()=>S(!1),message:m}),jsxRuntimeExports.jsx(SyncPolicyModal,{isOpen:!!$,onClose:()=>C(null),policy:$,onSync:F})]})},ManageCompany=()=>{const[e,t]=reactExports.useState("grid"),n=[{key:"tenant",label:"Tenant",icon:User,description:"Manage tenant-specific settings.",color:"text-sky-600",bgColor:"bg-sky-100",component:jsxRuntimeExports.jsx(TenantInfo,{})},{key:"companyInfo",label:"Company Info",icon:Building,description:"Update company profile and registration.",color:"text-amber-600",bgColor:"bg-amber-100",component:jsxRuntimeExports.jsx(CompanyInfo$1,{})},{key:"bankDetails",label:"Bank Details",icon:Landmark,description:"Manage company bank accounts.",color:"text-green-600",bgColor:"bg-green-100",component:jsxRuntimeExports.jsx(BankDetails,{})},{key:"locations",label:"Locations",icon:MapPin,description:"Add or edit office locations.",color:"text-rose-600",bgColor:"bg-rose-100",component:jsxRuntimeExports.jsx(Locations,{})}],o=n.find(l=>l.key===e);return jsxRuntimeExports.jsx("div",{className:"p-4 sm:p-6 bg-background-muted h-full flex flex-col",children:e==="grid"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-foreground mb-6",children:"Manage Company"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 sm:gap-6",children:n.map(l=>jsxRuntimeExports.jsxs("button",{onClick:()=>t(l.key),className:"aspect-square sm:aspect-[4/3] flex flex-col items-center justify-center bg-card p-4 rounded-lg shadow-sm border border-border hover:shadow-md hover:border-primary transition-all transform hover:-translate-y-1 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",children:[jsxRuntimeExports.jsx("div",{className:`p-3 ${l.bgColor} ${l.color} rounded-full mb-3`,children:jsxRuntimeExports.jsx(l.icon,{className:"h-6 w-6"})}),jsxRuntimeExports.jsx("span",{className:"text-center text-sm font-medium text-foreground",children:l.label})]},l.key))})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 mb-6 flex-shrink-0",children:[jsxRuntimeExports.jsx("button",{onClick:()=>t("grid"),className:"p-2 rounded-full bg-background hover:bg-background-hover transition-colors",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"h-5 w-5 text-foreground-muted"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-foreground",children:o.label}),jsxRuntimeExports.jsx("p",{className:"text-sm text-foreground-muted",children:o.description})]})]}),jsxRuntimeExports.jsx("div",{className:"flex-grow overflow-hidden",children:o.component})]})})},TimeTypeModal=({isOpen:e,onClose:t,onSave:n,timeType:o,loading:l})=>{const[u,m]=reactExports.useState({name:"",code:""}),[p,j]=reactExports.useState("");reactExports.useEffect(()=>{m(o?{name:o.name||"",code:o.code||""}:{name:"",code:""}),j("")},[o,e]);const f=b=>{const{name:R,value:v}=b.target;m(N=>({...N,[R]:v}))},g=b=>{if(b.preventDefault(),!u.name.trim()||!u.code.trim()){j("Name and Code are required.");return}n(u)};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold",children:[o?"Edit":"Add"," Time Type"]}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:g,children:[jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-700",children:"Name"}),jsxRuntimeExports.jsx("input",{id:"name",name:"name",value:u.name,onChange:f,required:!0,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-slate-700",children:"Code"}),jsxRuntimeExports.jsx("input",{id:"code",name:"code",value:u.code,onChange:f,required:!0,className:"input"})]}),p&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm",children:p})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t bg-slate-50 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:l,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:l,children:[l&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}),"Save"]})]})]})]})}):null},TimeType=({embedded:e=!1})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState(!0),[u,m]=reactExports.useState(!1),[p,j]=reactExports.useState(""),[f,g]=reactExports.useState(!1),[b,R]=reactExports.useState(null),[v,N]=reactExports.useState(null),S="https://javapaas-202946-0.cloudclusters.net/api",$=async()=>{l(!0),j("");try{const M=localStorage.getItem("token"),F=await axios.get(`${S}/time-types`,{headers:{Authorization:`Bearer ${M}`}});n(F.data)}catch(M){j("Failed to fetch time types. Please try again later."),console.error(M)}finally{l(!1)}};reactExports.useEffect(()=>{$()},[S]);const C=()=>{R(null),g(!0)},A=M=>{R(M),g(!0)},T=async(M,F)=>{if(window.confirm(`Are you sure you want to delete the time type "${F}"?`))try{const B=localStorage.getItem("token");await axios.delete(`${S}/time-types/${M}`,{headers:{Authorization:`Bearer ${B}`}}),n(t.filter(q=>q.id!==M))}catch(B){j("Failed to delete time type."),console.error(B)}},D=async M=>{m(!0),j("");try{const F=localStorage.getItem("token");b?await axios.put(`${S}/time-types/${b.id}`,M,{headers:{Authorization:`Bearer ${F}`}}):await axios.post(`${S}/time-types`,M,{headers:{Authorization:`Bearer ${F}`}}),g(!1),$()}catch(F){j(F.response?.data||"Failed to save time type. The name or code might already exist."),console.error(F)}finally{m(!1)}},I=M=>{N(M)},L=async(M,F)=>{if(F.length===0){alert("No employees selected.");return}j("");let B=0,q=0;try{const z=localStorage.getItem("token"),V="https://javapaas-202946-0.cloudclusters.net/api";for(const Q of F)try{const ee={timeTypeId:M.id};await axios.put(`${V}/time-attendence/${Q}`,ee,{headers:{Authorization:`Bearer ${z}`}}),B++}catch(ee){console.error(`Failed to update time type for ${Q}:`,ee),q++}alert(`Sync complete!
- ${B} employees updated successfully.
- ${q} updates failed.`)}catch(z){j("An unexpected error occurred during the sync process."),console.error(z)}},_=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Time Types"}),jsxRuntimeExports.jsxs("button",{onClick:C,className:"btn-primary flex items-center",children:[jsxRuntimeExports.jsx(Plus,{className:"h-5 w-5 mr-2"}),"Add Time Type"]})]}),p&&jsxRuntimeExports.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:[jsxRuntimeExports.jsx("strong",{className:"font-bold",children:"Error: "}),jsxRuntimeExports.jsx("span",{className:"block sm:inline",children:p})]}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:o?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-80",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-blue-600"})}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-white",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Code"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"text-slate-700",children:t.length>0?t.map(M=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-slate-200 hover:bg-slate-50",children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium",children:M.name}),jsxRuntimeExports.jsx("td",{className:"td-cell text-sm text-slate-500",children:M.code}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>I(M),className:"p-2 text-slate-500 hover:text-green-600 hover:bg-green-100 rounded-full",title:"Sync to employees",disabled:!!v,children:v?.id===M.id?jsxRuntimeExports.jsx(Loader,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>A(M),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-100 rounded-full",title:"Edit",disabled:!!v,children:jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>T(M.id,M.name),className:"p-2 text-slate-500 hover:text-red-600 hover:bg-red-100 rounded-full",title:"Delete",disabled:!!v,children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})})]},M.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"3",className:"text-center py-10 text-slate-500",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-slate-400"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-slate-900",children:"No time types found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Get started by creating a new time type."})]})})})]})})})]}),jsxRuntimeExports.jsx(TimeTypeModal,{isOpen:f,onClose:()=>g(!1),onSave:D,timeType:b,loading:u}),jsxRuntimeExports.jsx(SyncPolicyModal,{isOpen:!!v,onClose:()=>N(null),policy:v,onSync:L})]});return e?_:jsxRuntimeExports.jsx(DashboardLayout,{children:_})},WorkTypeModal=({isOpen:e,onClose:t,onSave:n,workType:o,loading:l})=>{const[u,m]=reactExports.useState({name:"",code:""}),[p,j]=reactExports.useState("");reactExports.useEffect(()=>{m(o?{name:o.name||"",code:o.code||""}:{name:"",code:""}),j("")},[o,e]);const f=b=>{const{name:R,value:v}=b.target;m(N=>({...N,[R]:v}))},g=b=>{if(b.preventDefault(),!u.name.trim()||!u.code.trim()){j("Name and Code are required.");return}n(u)};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold",children:[o?"Edit":"Add"," Work Type"]}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:g,children:[jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-700",children:"Name"}),jsxRuntimeExports.jsx("input",{id:"name",name:"name",value:u.name,onChange:f,required:!0,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-slate-700",children:"Code"}),jsxRuntimeExports.jsx("input",{id:"code",name:"code",value:u.code,onChange:f,required:!0,className:"input"})]}),p&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm",children:p})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t bg-slate-50 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:l,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:l,children:[l&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}),"Save"]})]})]})]})}):null},WorkType=({embedded:e=!1})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState(!0),[u,m]=reactExports.useState(!1),[p,j]=reactExports.useState(""),[f,g]=reactExports.useState(!1),[b,R]=reactExports.useState(null),[v,N]=reactExports.useState(null),S="https://javapaas-202946-0.cloudclusters.net/api",$=async()=>{l(!0),j("");try{const M=localStorage.getItem("token"),F=await axios.get(`${S}/work-types`,{headers:{Authorization:`Bearer ${M}`}});n(F.data)}catch(M){j("Failed to fetch work types. Please try again later."),console.error(M)}finally{l(!1)}};reactExports.useEffect(()=>{$()},[S]);const C=()=>{R(null),g(!0)},A=M=>{R(M),g(!0)},T=async(M,F)=>{if(window.confirm(`Are you sure you want to delete the work type "${F}"?`))try{const B=localStorage.getItem("token");await axios.delete(`${S}/work-types/${M}`,{headers:{Authorization:`Bearer ${B}`}}),n(t.filter(q=>q.id!==M))}catch(B){j("Failed to delete work type."),console.error(B)}},D=async M=>{m(!0),j("");try{const F=localStorage.getItem("token");b?await axios.put(`${S}/work-types/${b.id}`,M,{headers:{Authorization:`Bearer ${F}`}}):await axios.post(`${S}/work-types`,M,{headers:{Authorization:`Bearer ${F}`}}),g(!1),$()}catch(F){j(F.response?.data||"Failed to save work type. The name or code might already exist."),console.error(F)}finally{m(!1)}},I=M=>{N(M)},L=async(M,F)=>{if(F.length===0){alert("No employees selected.");return}j("");let B=0,q=0;try{const z=localStorage.getItem("token"),V="https://javapaas-202946-0.cloudclusters.net/api";for(const Q of F)try{const ee={workTypeId:M.id};await axios.put(`${V}/time-attendence/${Q}`,ee,{headers:{Authorization:`Bearer ${z}`}}),B++}catch(ee){console.error(`Failed to update work type for ${Q}:`,ee),q++}alert(`Sync complete!
- ${B} employees updated successfully.
- ${q} updates failed.`)}catch(z){j("An unexpected error occurred during the sync process."),console.error(z)}},_=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Work Types"}),jsxRuntimeExports.jsxs("button",{onClick:C,className:"btn-primary flex items-center",children:[jsxRuntimeExports.jsx(Plus,{className:"h-5 w-5 mr-2"}),"Add Work Type"]})]}),p&&jsxRuntimeExports.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:[jsxRuntimeExports.jsx("strong",{className:"font-bold",children:"Error: "}),jsxRuntimeExports.jsx("span",{className:"block sm:inline",children:p})]}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:o?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-80",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-blue-600"})}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-white",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Code"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"text-slate-700",children:t.length>0?t.map(M=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-slate-200 hover:bg-slate-50",children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium",children:M.name}),jsxRuntimeExports.jsx("td",{className:"td-cell text-sm text-slate-500",children:M.code}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>I(M),className:"p-2 text-slate-500 hover:text-green-600 hover:bg-green-100 rounded-full",title:"Sync to employees",disabled:!!v,children:v?.id===M.id?jsxRuntimeExports.jsx(Loader,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>A(M),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-100 rounded-full",title:"Edit",disabled:!!v,children:jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>T(M.id,M.name),className:"p-2 text-slate-500 hover:text-red-600 hover:bg-red-100 rounded-full",title:"Delete",disabled:!!v,children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})})]},M.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"3",className:"text-center py-10 text-slate-500",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-slate-400"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-slate-900",children:"No work types found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Get started by creating a new work type."})]})})})]})})})]}),jsxRuntimeExports.jsx(WorkTypeModal,{isOpen:f,onClose:()=>g(!1),onSave:D,workType:b,loading:u}),jsxRuntimeExports.jsx(SyncPolicyModal,{isOpen:!!v,onClose:()=>N(null),policy:v,onSync:L})]});return e?_:jsxRuntimeExports.jsx(DashboardLayout,{children:_})},ShiftTypeModal=({isOpen:e,onClose:t,onSave:n,shiftType:o,loading:l})=>{const[u,m]=reactExports.useState([]),[p,j]=reactExports.useState({name:"",code:"",startTime:"",endTime:"",shiftPolicyId:""}),[f,g]=reactExports.useState("");reactExports.useEffect(()=>{j(o?{name:o.name||"",code:o.code||"",startTime:o.startTime||"",endTime:o.endTime||"",shiftPolicyId:""}:{name:"",code:"",startTime:"",endTime:"",shiftPolicyId:""}),g(""),(async()=>{if(e)try{const N=localStorage.getItem("token"),$=await axios.get("https://javapaas-202946-0.cloudclusters.net/api/shift-policies",{headers:{Authorization:`Bearer ${N}`}});m($.data)}catch(N){console.error("Failed to fetch shift policies",N),g("Could not load shift policies.")}})()},[o,e]);const b=v=>{const{name:N,value:S}=v.target;if(N==="shiftPolicyId"){const $=u.find(C=>C.id===parseInt(S));$&&j(C=>({...C,startTime:$.shiftStartTime,endTime:$.shiftEndTime,[N]:S}))}else j($=>({...$,[N]:S}))},R=v=>{if(v.preventDefault(),!p.name.trim()||!p.code.trim()||!p.startTime||!p.endTime){g("All fields are required.");return}n(p)};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold",children:[o?"Edit":"Add"," Shift Type"]}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:R,children:[jsxRuntimeExports.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-700",children:"Name"}),jsxRuntimeExports.jsx("input",{id:"name",name:"name",value:p.name,onChange:b,required:!0,className:"input"})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-slate-700",children:"Code"}),jsxRuntimeExports.jsx("input",{id:"code",name:"code",value:p.code,onChange:b,required:!0,className:"input"})]}),!o&&jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{htmlFor:"shiftPolicyId",className:"block text-sm font-medium text-slate-700",children:"Select Timings from Shift Policy"}),jsxRuntimeExports.jsxs("select",{id:"shiftPolicyId",name:"shiftPolicyId",value:p.shiftPolicyId,onChange:b,required:!0,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select a policy..."}),u.map(v=>jsxRuntimeExports.jsxs("option",{value:v.id,children:[v.policyName," (",v.shiftStartTime," - ",v.shiftEndTime,")"]},v.id))]})]}),f&&jsxRuntimeExports.jsx("p",{className:"md:col-span-2 text-red-500 text-sm",children:f})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t bg-slate-50 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:l,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:l,children:[l&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}),"Save"]})]})]})]})}):null},ShiftType=({embedded:e=!1})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState(!0),[u,m]=reactExports.useState(!1),[p,j]=reactExports.useState(""),[f,g]=reactExports.useState(!1),[b,R]=reactExports.useState(null),v="https://javapaas-202946-0.cloudclusters.net/api",N=async()=>{l(!0),j("");try{const D=localStorage.getItem("token"),I=await axios.get(`${v}/shift-types`,{headers:{Authorization:`Bearer ${D}`}});n(I.data)}catch(D){j("Failed to fetch shift types. Please try again later."),console.error(D)}finally{l(!1)}};reactExports.useEffect(()=>{N()},[v]);const S=()=>{R(null),g(!0)},$=D=>{R(D),g(!0)},C=async(D,I)=>{if(window.confirm(`Are you sure you want to delete the shift type "${I}"?`))try{const L=localStorage.getItem("token");await axios.delete(`${v}/shift-types/${D}`,{headers:{Authorization:`Bearer ${L}`}}),n(t.filter(_=>_.id!==D))}catch(L){j("Failed to delete shift type."),console.error(L)}},A=async D=>{m(!0),j("");try{const I=localStorage.getItem("token");b?await axios.put(`${v}/shift-types/${b.id}`,D,{headers:{Authorization:`Bearer ${I}`}}):await axios.post(`${v}/shift-types`,D,{headers:{Authorization:`Bearer ${I}`}}),g(!1),N()}catch(I){j(I.response?.data||"Failed to save shift type. The name or code might already exist."),console.error(I)}finally{m(!1)}},T=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Shift Types"}),jsxRuntimeExports.jsxs("button",{onClick:S,className:"btn-primary flex items-center",children:[jsxRuntimeExports.jsx(Plus,{className:"h-5 w-5 mr-2"}),"Add Shift Type"]})]}),p&&jsxRuntimeExports.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:[jsxRuntimeExports.jsx("strong",{className:"font-bold",children:"Error: "}),jsxRuntimeExports.jsx("span",{className:"block sm:inline",children:p})]}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:o?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-80",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-blue-600"})}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-white",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Code"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Start Time"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"End Time"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"text-slate-700",children:t.length>0?t.map(D=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-slate-200 hover:bg-slate-50",children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium",children:D.name}),jsxRuntimeExports.jsx("td",{className:"td-cell text-sm text-slate-500",children:D.code}),jsxRuntimeExports.jsx("td",{className:"td-cell text-sm text-slate-500",children:D.startTime}),jsxRuntimeExports.jsx("td",{className:"td-cell text-sm text-slate-500",children:D.endTime}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>$(D),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-100 rounded-full",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>C(D.id,D.name),className:"p-2 text-slate-500 hover:text-red-600 hover:bg-red-100 rounded-full",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})})]},D.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"5",className:"text-center py-10 text-slate-500",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-slate-400"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-slate-900",children:"No shift types found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Get started by creating a new shift type."})]})})})]})})})]}),jsxRuntimeExports.jsx(ShiftTypeModal,{isOpen:f,onClose:()=>g(!1),onSave:A,shiftType:b,loading:u})]});return e?T:jsxRuntimeExports.jsx(DashboardLayout,{children:T})},DAYS_OF_WEEK=["SUNDAY","MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","SATURDAY"],WeekOffPolicyModal=({isOpen:e,onClose:t,onSave:n,policy:o,loading:l})=>{const[u,m]=reactExports.useState({name:"",code:"",offDays:[],rotate:!1}),[p,j]=reactExports.useState("");reactExports.useEffect(()=>{m(o?{name:o.name||"",code:o.code||"",offDays:o.offDays||[],rotate:o.rotate||!1}:{name:"",code:"",offDays:[],rotate:!1}),j("")},[o,e]);const f=R=>{const{name:v,value:N,type:S,checked:$}=R.target;m(S==="checkbox"&&v==="rotate"?C=>({...C,rotate:$}):C=>({...C,[v]:N}))},g=R=>{m(v=>{const N=v.offDays.includes(R)?v.offDays.filter(S=>S!==R):[...v.offDays,R];return{...v,offDays:N}})},b=R=>{if(R.preventDefault(),!u.name.trim()||!u.code.trim()){j("Name and Code are required.");return}if(u.offDays.length===0){j("At least one off day must be selected.");return}n(u)};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold",children:[o?"Edit":"Add"," Weekly Off Policy"]}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:b,children:[jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-700",children:"Name"}),jsxRuntimeExports.jsx("input",{id:"name",name:"name",value:u.name,onChange:f,required:!0,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-slate-700",children:"Code"}),jsxRuntimeExports.jsx("input",{id:"code",name:"code",value:u.code,onChange:f,required:!0,className:"input"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Off Days"}),jsxRuntimeExports.jsx("div",{className:"mt-2 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2",children:DAYS_OF_WEEK.map(R=>jsxRuntimeExports.jsxs("label",{className:"inline-flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:u.offDays.includes(R),onChange:()=>g(R),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-sm text-slate-600 capitalize",children:R.toLowerCase()})]},R))})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("label",{className:"inline-flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"rotate",checked:u.rotate,onChange:f,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-sm text-slate-600",children:"Rotate Weekly Off"})]})}),p&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm",children:p})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t bg-slate-50 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:l,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:l,children:[l&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}),"Save"]})]})]})]})}):null},WeekOffPolicy=({embedded:e=!1})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState(!0),[u,m]=reactExports.useState(!1),[p,j]=reactExports.useState(""),[f,g]=reactExports.useState(!1),[b,R]=reactExports.useState(null),[v,N]=reactExports.useState(null),S="https://javapaas-202946-0.cloudclusters.net/api",$=async()=>{l(!0),j("");try{const M=localStorage.getItem("token"),F=await axios.get(`${S}/weekly-off-policies`,{headers:{Authorization:`Bearer ${M}`}});n(F.data)}catch(M){j("Failed to fetch weekly off policies. Please try again later."),console.error(M)}finally{l(!1)}};reactExports.useEffect(()=>{$()},[S]);const C=()=>{R(null),g(!0)},A=M=>{R(M),g(!0)},T=async(M,F)=>{if(window.confirm(`Are you sure you want to delete the policy "${F}"?`))try{const B=localStorage.getItem("token");await axios.delete(`${S}/weekly-off-policies/${M}`,{headers:{Authorization:`Bearer ${B}`}}),n(t.filter(q=>q.id!==M))}catch(B){j("Failed to delete policy."),console.error(B)}},D=async M=>{m(!0),j("");try{const F=localStorage.getItem("token");b?await axios.put(`${S}/weekly-off-policies/${b.id}`,M,{headers:{Authorization:`Bearer ${F}`}}):await axios.post(`${S}/weekly-off-policies`,M,{headers:{Authorization:`Bearer ${F}`}}),g(!1),$()}catch(F){j(F.response?.data||"Failed to save policy. The name or code might already exist."),console.error(F)}finally{m(!1)}},I=M=>{N(M)},L=async(M,F)=>{if(F.length===0){alert("No employees selected.");return}j("");let B=0,q=0;try{const z=localStorage.getItem("token"),V="https://javapaas-202946-0.cloudclusters.net/api";for(const Q of F)try{const ee={weeklyOffPolicyId:M.id};await axios.put(`${V}/time-attendence/${Q}`,ee,{headers:{Authorization:`Bearer ${z}`}}),B++}catch(ee){console.error(`Failed to update weekly off policy for ${Q}:`,ee),q++}alert(`Sync complete!
- ${B} employees updated successfully.
- ${q} updates failed.`)}catch(z){j("An unexpected error occurred during the sync process."),console.error(z)}},_=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Weekly Off Policies"}),jsxRuntimeExports.jsxs("button",{onClick:C,className:"btn-primary flex items-center",children:[jsxRuntimeExports.jsx(Plus,{className:"h-5 w-5 mr-2"}),"Add Policy"]})]}),p&&jsxRuntimeExports.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:[jsxRuntimeExports.jsx("strong",{className:"font-bold",children:"Error: "}),jsxRuntimeExports.jsx("span",{className:"block sm:inline",children:p})]}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:o?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-80",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-blue-600"})}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-white",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Code"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Off Days"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Rotate"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"text-slate-700",children:t.length>0?t.map(M=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-slate-200 hover:bg-slate-50",children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium",children:M.name}),jsxRuntimeExports.jsx("td",{className:"td-cell text-sm text-slate-500",children:M.code}),jsxRuntimeExports.jsx("td",{className:"td-cell text-sm text-slate-500",children:M.offDays.join(", ")}),jsxRuntimeExports.jsx("td",{className:"td-cell text-sm text-slate-500",children:M.rotate?"Yes":"No"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>I(M),className:"p-2 text-slate-500 hover:text-green-600 hover:bg-green-100 rounded-full",title:"Sync to employees",disabled:!!v,children:v?.id===M.id?jsxRuntimeExports.jsx(Loader,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>A(M),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-100 rounded-full",title:"Edit",disabled:!!v,children:jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>T(M.id,M.name),className:"p-2 text-slate-500 hover:text-red-600 hover:bg-red-100 rounded-full",title:"Delete",disabled:!!v,children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})})]},M.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"5",className:"text-center py-10 text-slate-500",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-slate-400"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-slate-900",children:"No policies found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Get started by creating a new weekly off policy."})]})})})]})})})]}),jsxRuntimeExports.jsx(WeekOffPolicyModal,{isOpen:f,onClose:()=>g(!1),onSave:D,policy:b,loading:u}),jsxRuntimeExports.jsx(SyncPolicyModal,{isOpen:!!v,onClose:()=>N(null),policy:v,onSync:L})]});return e?_:jsxRuntimeExports.jsx(DashboardLayout,{children:_})},LeaveGroupModal=({isOpen:e,onClose:t,onSave:n,leaveGroup:o,loading:l})=>{const[u,m]=reactExports.useState({name:"",code:""}),[p,j]=reactExports.useState("");reactExports.useEffect(()=>{m(o?{name:o.name||"",code:o.code||""}:{name:"",code:""}),j("")},[o,e]);const f=b=>{const{name:R,value:v}=b.target;m(N=>({...N,[R]:v}))},g=b=>{if(b.preventDefault(),!u.name.trim()||!u.code.trim()){j("Name and Code are required.");return}n(u)};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold",children:[o?"Edit":"Add"," Leave Group"]}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:g,children:[jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-700",children:"Name"}),jsxRuntimeExports.jsx("input",{id:"name",name:"name",value:u.name,onChange:f,required:!0,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-slate-700",children:"Code"}),jsxRuntimeExports.jsx("input",{id:"code",name:"code",value:u.code,onChange:f,required:!0,className:"input"})]}),p&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm",children:p})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t bg-slate-50 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:l,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:l,children:[l&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}),"Save"]})]})]})]})}):null},LeaveGroup=({embedded:e=!1})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState(!0),[u,m]=reactExports.useState(!1),[p,j]=reactExports.useState(""),[f,g]=reactExports.useState(!1),[b,R]=reactExports.useState(null),[v,N]=reactExports.useState(null),S="https://javapaas-202946-0.cloudclusters.net/api",$=async()=>{l(!0),j("");try{const M=localStorage.getItem("token"),F=await axios.get(`${S}/leave-groups`,{headers:{Authorization:`Bearer ${M}`}});n(F.data)}catch(M){j("Failed to fetch leave groups. Please try again later."),console.error(M)}finally{l(!1)}};reactExports.useEffect(()=>{$()},[S]);const C=()=>{R(null),g(!0)},A=M=>{R(M),g(!0)},T=async(M,F)=>{if(window.confirm(`Are you sure you want to delete the leave group "${F}"?`))try{const B=localStorage.getItem("token");await axios.delete(`${S}/leave-groups/${M}`,{headers:{Authorization:`Bearer ${B}`}}),n(t.filter(q=>q.id!==M))}catch(B){j("Failed to delete leave group."),console.error(B)}},D=async M=>{m(!0),j("");try{const F=localStorage.getItem("token");b?await axios.put(`${S}/leave-groups/${b.id}`,M,{headers:{Authorization:`Bearer ${F}`}}):await axios.post(`${S}/leave-groups`,M,{headers:{Authorization:`Bearer ${F}`}}),g(!1),$()}catch(F){j(F.response?.data||"Failed to save leave group. The name or code might already exist."),console.error(F)}finally{m(!1)}},I=M=>{N(M)},L=async(M,F)=>{if(F.length===0){alert("No employees selected.");return}j("");let B=0,q=0;try{const z=localStorage.getItem("token"),V="https://javapaas-202946-0.cloudclusters.net/api";for(const Q of F)try{const ee={leaveGroupId:M.id};await axios.put(`${V}/time-attendence/${Q}`,ee,{headers:{Authorization:`Bearer ${z}`}}),B++}catch(ee){console.error(`Failed to update leave group for ${Q}:`,ee),q++}alert(`Sync complete!
- ${B} employees updated successfully.
- ${q} updates failed.`)}catch(z){j("An unexpected error occurred during the sync process."),console.error(z)}},_=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Leave Groups"}),jsxRuntimeExports.jsxs("button",{onClick:C,className:"btn-primary flex items-center",children:[jsxRuntimeExports.jsx(Plus,{className:"h-5 w-5 mr-2"}),"Add Leave Group"]})]}),p&&jsxRuntimeExports.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:[jsxRuntimeExports.jsx("strong",{className:"font-bold",children:"Error: "}),jsxRuntimeExports.jsx("span",{className:"block sm:inline",children:p})]}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:o?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-80",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-blue-600"})}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-white",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Code"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"text-slate-700",children:t.length>0?t.map(M=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-slate-200 hover:bg-slate-50",children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium",children:M.name}),jsxRuntimeExports.jsx("td",{className:"td-cell text-sm text-slate-500",children:M.code}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>I(M),className:"p-2 text-slate-500 hover:text-green-600 hover:bg-green-100 rounded-full",title:"Sync to employees",disabled:!!v,children:v?.id===M.id?jsxRuntimeExports.jsx(Loader,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>A(M),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-100 rounded-full",title:"Edit",disabled:!!v,children:jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>T(M.id,M.name),className:"p-2 text-slate-500 hover:text-red-600 hover:bg-red-100 rounded-full",title:"Delete",disabled:!!v,children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})})]},M.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"3",className:"text-center py-10 text-slate-500",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-slate-400"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-slate-900",children:"No leave groups found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Get started by creating a new leave group."})]})})})]})})})]}),jsxRuntimeExports.jsx(LeaveGroupModal,{isOpen:f,onClose:()=>g(!1),onSave:D,leaveGroup:b,loading:u}),jsxRuntimeExports.jsx(SyncPolicyModal,{isOpen:!!v,onClose:()=>N(null),policy:v,onSync:L})]});return e?_:jsxRuntimeExports.jsx(DashboardLayout,{children:_})},componentMap={"Time Type":jsxRuntimeExports.jsx(TimeType,{embedded:!0}),"Work Type":jsxRuntimeExports.jsx(WorkType,{embedded:!0}),"Shift Type":jsxRuntimeExports.jsx(ShiftType,{embedded:!0}),"Weekly Off Policy":jsxRuntimeExports.jsx(WeekOffPolicy,{embedded:!0}),"Leave Group":jsxRuntimeExports.jsx(LeaveGroup,{embedded:!0})},policyItems=[{name:"Time Type",icon:Clock,color:"text-orange-600",bgColor:"bg-orange-100"},{name:"Work Type",icon:Briefcase,color:"text-sky-600",bgColor:"bg-sky-100"},{name:"Shift Type",icon:Repeat,color:"text-green-600",bgColor:"bg-green-100"},{name:"Weekly Off Policy",icon:CalendarOff,color:"text-rose-600",bgColor:"bg-rose-100"},{name:"Leave Group",icon:Users,color:"text-indigo-600",bgColor:"bg-indigo-100"}],EmployeePolicy=()=>{const[e,t]=reactExports.useState(null),n=o=>{const l=componentMap[o.name];l&&t({name:o.name,component:l})};return e?jsxRuntimeExports.jsxs("div",{className:"p-4 sm:p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-6",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>t(null),className:"btn-secondary flex items-center mr-4",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back"]}),jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold text-slate-700",children:["Manage ",e.name]})]}),e.component]}):jsxRuntimeExports.jsx("div",{className:"p-4 sm:p-6 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6",children:policyItems.map(o=>jsxRuntimeExports.jsxs("button",{onClick:()=>n(o),className:"aspect-[3/2] flex flex-col items-center justify-center bg-white p-4 rounded-full shadow-md hover:shadow-xl hover:bg-slate-50 transition-all transform hover:-translate-y-1 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[jsxRuntimeExports.jsx("div",{className:`p-3 ${o.bgColor} ${o.color} rounded-full mb-3`,children:jsxRuntimeExports.jsx(o.icon,{className:"h-6 w-6"})}),jsxRuntimeExports.jsx("span",{className:"text-center text-sm font-medium text-slate-700",children:o.name})]},o.name))})},PlaceholderComponent$1=({title:e})=>jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-slate-700",children:e}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-slate-500",children:"Configuration for this section will be displayed here."})]}),allTabs$1=[{name:"Department Creation",icon:Building2,color:"text-cyan-500",component:jsxRuntimeExports.jsx(DepartmentCreation,{embedded:!0}),module:"HRMS_CORE"},{name:"Leave Policy",icon:CalendarCheck,color:"text-purple-500",component:jsxRuntimeExports.jsx(LeavePolicy,{title:"Leave Policy"}),module:"HRMS_LEAVE"},{name:"Attendance Policy",icon:Clock,color:"text-orange-500",component:jsxRuntimeExports.jsx(AttendencePolicy,{title:"Attendance Policy"}),module:"HRMS_ATTENDANCE"},{name:"Employment Policy",icon:FileBadge,color:"text-rose-500",component:jsxRuntimeExports.jsx(EmployeePolicy,{title:"Employment Policy"}),module:"HRMS_CORE"},{name:"Payroll Policy",icon:DollarSign,color:"text-green-500",component:jsxRuntimeExports.jsx(PlaceholderComponent$1,{title:"Payroll Policy"}),module:"HRMS_PAYROLL"},{name:"Opening Leave Balance",icon:BookUser,color:"text-indigo-500",component:jsxRuntimeExports.jsx(PlaceholderComponent$1,{title:"Opening Leave Balance"}),module:"HRMS_LEAVE"},{name:"Announcement",icon:Megaphone,color:"text-yellow-500",component:jsxRuntimeExports.jsx(PlaceholderComponent$1,{title:"Announcement"}),module:"HRMS_CORE"},{name:"Manage Company",icon:Building,color:"text-sky-500",component:jsxRuntimeExports.jsx(ManageCompany,{title:"Manage Company"})},{name:"License",icon:ShieldCheck,color:"text-lime-500",component:jsxRuntimeExports.jsx(PlaceholderComponent$1,{title:"License Details"})}],HrmsSettings=()=>{const{hasModule:e}=useTenant(),t=useNavigate(),[n,o]=reactExports.useState(!1),l=reactExports.useMemo(()=>allTabs$1.filter(g=>!g.module||e(g.module)),[e]),[u,m]=reactExports.useState(l.length>0?l[0].name:""),p="bg-blue-50 border-l-4 border-blue-600 text-blue-700 font-semibold",j="border-l-4 border-transparent text-slate-600 hover:bg-slate-50 hover:text-slate-800",f=l.find(g=>g.name===u)?.component;return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full bg-slate-50",children:[jsxRuntimeExports.jsx("header",{className:"bg-white shadow-sm p-4 border-b border-slate-200 z-20",children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"h-5 w-5 text-slate-600"})}),jsxRuntimeExports.jsx("button",{onClick:()=>o(!0),className:"md:hidden p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(Menu,{className:"h-5 w-5 text-slate-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold text-slate-800",children:"HRMS Configuration"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-500",children:"Manage company-wide settings for the HRMS module."})]})]})})}),jsxRuntimeExports.jsxs("div",{className:"flex-grow flex",children:[n&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 md:hidden",onClick:()=>o(!1)}),jsxRuntimeExports.jsxs("aside",{className:`fixed inset-y-0 left-0 z-40 w-64 bg-white border-r border-slate-200 p-4 md:p-6 transform transition-transform duration-300 ease-in-out md:relative md:translate-x-0 ${n?"translate-x-0":"-translate-x-full"}`,children:[jsxRuntimeExports.jsx("button",{onClick:()=>o(!1),className:"md:hidden p-2 rounded-full hover:bg-slate-100 absolute top-2 right-2",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5 text-slate-600"})}),jsxRuntimeExports.jsx("nav",{className:"flex flex-col space-y-2",children:l.map(g=>jsxRuntimeExports.jsxs("button",{onClick:()=>{m(g.name),o(!1)},className:`flex items-center gap-3 px-3 py-2.5 rounded-md text-sm font-medium transition-all ${u===g.name?p:j}`,children:[jsxRuntimeExports.jsx(g.icon,{className:`h-5 w-5 ${g.color}`}),jsxRuntimeExports.jsx("span",{children:g.name})]},g.name))})]}),jsxRuntimeExports.jsx("main",{className:"flex-grow p-6 md:p-8 w-full md:w-auto",children:f||jsxRuntimeExports.jsx("p",{children:"Select a setting from the sidebar."})})]})]})},formatTime=e=>{if(!e)return"-";const[t,n]=e.split(":"),o=new Date;return o.setHours(parseInt(t,10),parseInt(n,10)),o.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})},toYYYYMMDD=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${o}`},getEmployeeName=e=>e?`${e.firstName||""} ${e.lastName||""}`.trim():"Unknown",StatCard$4=({icon:e,title:t,value:n,color:o})=>jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:`p-3 rounded-lg ${o}`,children:jsxRuntimeExports.jsx(e,{className:"h-6 w-6 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-slate-500",children:t}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-slate-800",children:n})]})]}),StatusBadge$1=({status:e})=>{const t={PRESENT:{label:"Present",style:"bg-green-100 text-green-700"},ABSENT:{label:"Absent",style:"bg-red-100 text-red-700"},ON_LEAVE:{label:"On Leave",style:"bg-yellow-100 text-yellow-700"},HALF_DAY:{label:"Half Day",style:"bg-orange-100 text-orange-700"}},{label:n,style:o}=t[e]||{label:e,style:"bg-slate-100 text-slate-600"};return jsxRuntimeExports.jsx("span",{className:`px-2.5 py-1 text-xs font-semibold rounded-full ${o}`,children:n})},AttendanceLog=()=>{const[e,t]=reactExports.useState(""),[n,o]=reactExports.useState("All"),[l,u]=reactExports.useState(new Date().toISOString().slice(0,10)),[m,p]=reactExports.useState([]),[j,f]=reactExports.useState([]),[g,b]=reactExports.useState(!0),[R,v]=reactExports.useState(""),N="https://javapaas-202946-0.cloudclusters.net/api";reactExports.useEffect(()=>{(async()=>{if(l){b(!0),v("");try{const L={Authorization:`Bearer ${localStorage.getItem("token")}`},[_,M]=await Promise.all([axios.get(`${N}/attendance-records`,{params:{date:l},headers:L}),axios.get(`${N}/employees/all`,{headers:L})]),F=new Map(M.data.map(q=>[q.employeeCode,q])),B=await Promise.all(_.data.map(async q=>{const z=F.get(q.employeeCode)||{employeeCode:q.employeeCode};try{const V=await axios.get(`${N}/job-details/${q.employeeCode}`,{headers:L});z.jobDetails=V.data}catch{z.jobDetails=null}return{...q,employee:z}}));p(B),f(M.data)}catch(I){console.error("Failed to fetch attendance data",I),v("Failed to load attendance data. Please try again.")}finally{b(!1)}}})()},[l,N]);const S=new Date(l+"T00:00:00"),$=reactExports.useMemo(()=>{const D=new Date(l+"T00:00:00"),I=new Date(D);I.setDate(D.getDate()-D.getDay());const L=[];for(let _=0;_<7;_++){const M=new Date(I);M.setDate(I.getDate()+_),L.push(M)}return L},[l]),C=reactExports.useMemo(()=>m.filter(D=>{const I=getEmployeeName(D.employee),L=D.employee?.employeeCode||"",_=I.toLowerCase().includes(e.toLowerCase())||L.toLowerCase().includes(e.toLowerCase()),M=n==="All"||D.status===n;return _&&M}),[e,n,m]),A=reactExports.useMemo(()=>({present:m.filter(D=>D.status==="PRESENT"||D.status==="HALF_DAY").length,absent:m.filter(D=>D.status==="ABSENT").length,onLeave:m.filter(D=>D.status==="ON_LEAVE").length,halfDay:m.filter(D=>D.status==="HALF_DAY").length}),[m]),T=async(D,I)=>{if(window.confirm(`Are you sure you want to delete the attendance record for ${I}?`))try{const L=localStorage.getItem("token");await axios.delete(`${N}/attendance-records/${D}`,{headers:{Authorization:`Bearer ${L}`}}),p(_=>_.filter(M=>M.id!==D))}catch(L){console.error("Failed to delete attendance record",L),v(L.response?.data?.message||"Failed to delete the record.")}};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4",children:[jsxRuntimeExports.jsxs("h2",{className:"text-2xl font-bold text-slate-800",children:["Daily Attendance Log for ",S.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Calendar,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),jsxRuntimeExports.jsx("input",{type:"date",value:l,onChange:D=>u(D.target.value),className:"input pl-10"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>{const D=new Date(S);D.setDate(D.getDate()-7),u(toYYYYMMDD(D))},className:"p-2 rounded-md hover:bg-slate-100 border bg-white shadow-sm",children:jsxRuntimeExports.jsx(ChevronLeft,{className:"h-5 w-5"})}),jsxRuntimeExports.jsx("button",{onClick:()=>{const D=new Date(S);D.setDate(D.getDate()+7),u(toYYYYMMDD(D))},className:"p-2 rounded-md hover:bg-slate-100 border bg-white shadow-sm",children:jsxRuntimeExports.jsx(ChevronRight,{className:"h-5 w-5"})})]})]}),jsxRuntimeExports.jsx("div",{className:"bg-white p-3 rounded-xl shadow-sm",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-7 gap-2",children:$.map(D=>{const I=toYYYYMMDD(D),L=I===l;return jsxRuntimeExports.jsxs("button",{onClick:()=>u(I),className:`text-center p-2 rounded-lg transition-colors ${L?"bg-blue-600 text-white font-bold shadow":"hover:bg-blue-50"}`,children:[jsxRuntimeExports.jsx("p",{className:"text-xs opacity-80",children:D.toLocaleDateString("en-US",{weekday:"short"})}),jsxRuntimeExports.jsx("p",{className:"font-semibold text-lg",children:D.getDate()})]},I)})})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsx(StatCard$4,{icon:UserCheck,title:"Present",value:A.present,color:"bg-green-500"}),jsxRuntimeExports.jsx(StatCard$4,{icon:UserX,title:"Absent",value:A.absent,color:"bg-red-500"}),jsxRuntimeExports.jsx(StatCard$4,{icon:Plane,title:"On Leave / Half Day",value:A.onLeave+A.halfDay,color:"bg-yellow-500"}),jsxRuntimeExports.jsx(StatCard$4,{icon:Briefcase,title:"Total Records",value:m.length,color:"bg-blue-500"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search employee...",value:e,onChange:D=>t(D.target.value),className:"input pl-10"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("select",{value:n,onChange:D=>o(D.target.value),className:"input appearance-none pr-8",children:[jsxRuntimeExports.jsx("option",{value:"All",children:"All Statuses"}),jsxRuntimeExports.jsx("option",{value:"PRESENT",children:"Present"}),jsxRuntimeExports.jsx("option",{value:"ABSENT",children:"Absent"}),jsxRuntimeExports.jsx("option",{value:"ON_LEAVE",children:"On Leave"}),jsxRuntimeExports.jsx("option",{value:"HALF_DAY",children:"Half Day"})]}),jsxRuntimeExports.jsx(ChevronDown,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400 pointer-events-none"})]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:g?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-64",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-blue-600"})}):R?jsxRuntimeExports.jsx("div",{className:"text-center py-10 text-red-500",children:R}):jsxRuntimeExports.jsxs("table",{className:"w-full text-sm text-left text-slate-500",children:[jsxRuntimeExports.jsx("thead",{className:"text-xs text-slate-700 uppercase bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{scope:"col",className:"px-6 py-3",children:"Employee"}),jsxRuntimeExports.jsx("th",{scope:"col",className:"px-6 py-3",children:"Department"}),jsxRuntimeExports.jsx("th",{scope:"col",className:"px-6 py-3",children:"Status"}),jsxRuntimeExports.jsx("th",{scope:"col",className:"px-6 py-3 text-center",children:"Check In"}),jsxRuntimeExports.jsx("th",{scope:"col",className:"px-6 py-3 text-center",children:"Check Out"}),jsxRuntimeExports.jsx("th",{scope:"col",className:"px-6 py-3 text-center",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{children:C.map(D=>jsxRuntimeExports.jsxs("tr",{className:"bg-white border-b hover:bg-slate-50",children:[jsxRuntimeExports.jsxs("td",{className:"px-6 py-4 font-medium text-slate-900 whitespace-nowrap",children:[jsxRuntimeExports.jsx("div",{className:"font-bold",children:getEmployeeName(D.employee)}),jsxRuntimeExports.jsx("div",{className:"text-xs text-slate-500",children:D.employee?.employeeCode||"N/A"})]}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:D.employee?.jobDetails?.department||"N/A"}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsx(StatusBadge$1,{status:D.status})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-center font-mono",children:formatTime(D.checkIn)}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-center font-mono",children:formatTime(D.checkOut)}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-center",children:jsxRuntimeExports.jsx("button",{onClick:()=>T(D.id,getEmployeeName(D.employee)),className:"p-2 text-slate-500 hover:text-red-600 hover:bg-red-100 rounded-full",title:"Delete Record",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})})]},D.id))})]})})]})]})},API_URL$1x="https://javapaas-202946-0.cloudclusters.net/api",DeviceModal=({isOpen:e,onClose:t,onSave:n,device:o,loading:l})=>{const[u,m]=reactExports.useState({name:"",deviceIdentifier:"",location:"",isActive:!0}),[p,j]=reactExports.useState("");reactExports.useEffect(()=>{m(o?{name:o.name||"",deviceIdentifier:o.deviceIdentifier||"",location:o.location||"",isActive:o.isActive??!0}:{name:"",deviceIdentifier:"",location:"",isActive:!0}),j("")},[o,e]);const f=b=>{const{name:R,value:v,type:N,checked:S}=b.target;m($=>({...$,[R]:N==="checkbox"?S:v}))},g=b=>{if(b.preventDefault(),!u.name.trim()||!u.deviceIdentifier.trim()){j("Device Name and Identifier are required.");return}n(u)};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold",children:[o?"Edit":"Add"," Biometric Device"]}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:g,children:[jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-700",children:"Device Name"}),jsxRuntimeExports.jsx("input",{id:"name",name:"name",value:u.name,onChange:f,required:!0,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"deviceIdentifier",className:"block text-sm font-medium text-slate-700",children:"Device Identifier"}),jsxRuntimeExports.jsx("input",{id:"deviceIdentifier",name:"deviceIdentifier",value:u.deviceIdentifier,onChange:f,required:!0,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-slate-700",children:"Location"}),jsxRuntimeExports.jsx("input",{id:"location",name:"location",value:u.location,onChange:f,className:"input"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",id:"isActive",name:"isActive",checked:u.isActive,onChange:f,className:"h-4 w-4 rounded"}),jsxRuntimeExports.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-slate-700",children:"Device is Active"})]}),p&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm",children:p})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t bg-slate-50 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:l,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:l,children:[l&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}),"Save"]})]})]})]})}):null},BiometricDevices=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState(!1),[m,p]=reactExports.useState(""),[j,f]=reactExports.useState(!1),[g,b]=reactExports.useState(null),R=async()=>{o(!0),p("");try{const C=localStorage.getItem("token"),A=await axios.get(`${API_URL$1x}/biometric-devices`,{headers:{Authorization:`Bearer ${C}`}});t(A.data)}catch(C){p("Failed to fetch biometric devices."),console.error(C)}finally{o(!1)}};reactExports.useEffect(()=>{R()},[]);const v=()=>{b(null),f(!0)},N=C=>{b(C),f(!0)},S=async(C,A)=>{if(window.confirm(`Are you sure you want to delete the device "${A}"?`))try{const T=localStorage.getItem("token");await axios.delete(`${API_URL$1x}/biometric-devices/${C}`,{headers:{Authorization:`Bearer ${T}`}}),t(e.filter(D=>D.id!==C))}catch(T){p("Failed to delete device."),console.error(T)}},$=async C=>{u(!0),p("");try{const T={Authorization:`Bearer ${localStorage.getItem("token")}`};g?await axios.put(`${API_URL$1x}/biometric-devices/${g.id}`,C,{headers:T}):await axios.post(`${API_URL$1x}/biometric-devices`,C,{headers:T}),f(!1),R()}catch(A){p(A.response?.data?.message||"Failed to save device."),console.error(A)}finally{u(!1)}};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"p-4 sm:p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Biometric Device Management"}),jsxRuntimeExports.jsxs("button",{onClick:v,className:"btn-primary flex items-center",children:[jsxRuntimeExports.jsx(Plus,{className:"h-5 w-5 mr-2"})," Add Device"]})]}),m&&jsxRuntimeExports.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",role:"alert",children:m}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:n?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-80",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-blue-600"})}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-white",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Device Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Identifier"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Location"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"text-slate-700",children:e.length>0?e.map(C=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-slate-200 hover:bg-slate-50",children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium",children:C.name}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:C.deviceIdentifier}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:C.location||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${C.isActive?"bg-green-100 text-green-700":"bg-slate-100 text-slate-600"}`,children:C.isActive?"Active":"Inactive"})}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>N(C),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-100 rounded-full",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>S(C.id,C.name),className:"p-2 text-slate-500 hover:text-red-600 hover:bg-red-100 rounded-full",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})})]},C.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"5",className:"text-center py-10 text-slate-500",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-slate-400"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium",children:"No devices found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"Get started by adding a new biometric device."})]})})})]})})})]}),jsxRuntimeExports.jsx(DeviceModal,{isOpen:j,onClose:()=>f(!1),onSave:$,device:g,loading:l})]})},API_URL$1w="https://javapaas-202946-0.cloudclusters.net/api",statusStyles$5={PENDING:{bg:"bg-yellow-100",text:"text-yellow-800",icon:FileClock},APPROVED:{bg:"bg-green-100",text:"text-green-800",icon:Check},REJECTED:{bg:"bg-red-100",text:"text-red-800",icon:X},CANCELLED:{bg:"bg-slate-100",text:"text-slate-600",icon:X}},MissingAttendanceRequests=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState(""),[m,p]=reactExports.useState("PENDING"),[j,f]=reactExports.useState(""),[g,b]=reactExports.useState(null),R=reactExports.useCallback(async()=>{o(!0),u("");try{const C=localStorage.getItem("token"),A=await axios.get(`${API_URL$1w}/missing-attendance/requests`,{headers:{Authorization:`Bearer ${C}`}});t(A.data.sort((T,D)=>new Date(D.requestDate)-new Date(T.requestDate)))}catch(C){u("Failed to fetch missing attendance requests."),console.error("Fetch Error:",C)}finally{o(!1)}},[]);reactExports.useEffect(()=>{R()},[R]);const v=async(C,A)=>{let T="";if(!(A==="REJECTED"&&(T=prompt("Please provide a reason for rejection (optional):"),T===null))&&window.confirm(`Are you sure you want to ${A.toLowerCase()} this request?`))try{const D=localStorage.getItem("token");await axios.post(`${API_URL$1w}/missing-attendance/requests/${C}/approval`,{status:A,approverRemarks:T},{headers:{Authorization:`Bearer ${D}`}}),R()}catch{alert(`Failed to ${A.toLowerCase()} request.`)}},N=async C=>{if(C.attachmentPath)try{const A=localStorage.getItem("token"),T=await axios.get(`${API_URL$1w}/missing-attendance/requests/${C.id}/attachment`,{headers:{Authorization:`Bearer ${A}`},responseType:"blob"}),D=URL.createObjectURL(new Blob([T.data],{type:T.headers["content-type"]}));b(D)}catch{alert("Could not load the attachment.")}},S=reactExports.useMemo(()=>{let C=e.filter(A=>A.status===m);if(j){const A=j.toLowerCase();C=C.filter(T=>(T.employee?.firstName?.toLowerCase()||"").includes(A)||(T.employee?.lastName?.toLowerCase()||"").includes(A)||(T.employee?.employeeCode?.toLowerCase()||"").includes(A))}return C},[e,m,j]),$=["PENDING","APPROVED","REJECTED"];return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"flex border-b border-slate-200",children:$.map(C=>jsxRuntimeExports.jsx("button",{onClick:()=>p(C),className:`px-3 py-2 text-sm font-medium whitespace-nowrap ${m===C?"border-b-2 border-blue-600 text-blue-600":"border-b-2 border-transparent text-slate-500 hover:text-slate-800"}`,children:C.charAt(0)+C.slice(1).toLowerCase()},C))}),jsxRuntimeExports.jsxs("div",{className:"relative w-full sm:w-64",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by employee...",value:j,onChange:C=>f(C.target.value),className:"input w-full pr-10"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"})]})]}),l&&jsxRuntimeExports.jsx("div",{className:"text-center text-red-600 p-4 bg-red-50 rounded-md mb-4",children:l}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-white",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Employee"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Requested Times"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Reason"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Attachment"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{children:n?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"7",className:"text-center py-10",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto"})})}):S.length>0?S.map(C=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-slate-200 hover:bg-slate-50",children:[jsxRuntimeExports.jsxs("td",{className:"td-cell",children:[jsxRuntimeExports.jsxs("div",{className:"font-medium",children:[C.employee?.firstName," ",C.employee?.lastName]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-slate-500",children:C.employee?.employeeCode})]}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:new Date(C.attendanceDate).toLocaleDateString()}),jsxRuntimeExports.jsxs("td",{className:"td-cell text-sm font-mono",children:[C.requestedCheckIn||"-"," to ",C.requestedCheckOut||"-"]}),jsxRuntimeExports.jsx("td",{className:"td-cell text-sm max-w-xs truncate",title:C.reason,children:C.reason}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-0.5 text-xs font-semibold rounded-full ${statusStyles$5[C.status]?.bg} ${statusStyles$5[C.status]?.text}`,children:[React.createElement(statusStyles$5[C.status].icon,{className:"h-3 w-3"}),C.status.toLowerCase()]})}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:C.attachmentPath&&jsxRuntimeExports.jsxs("button",{onClick:()=>N(C),className:"text-primary hover:underline text-xs flex items-center gap-1",children:[jsxRuntimeExports.jsx(Eye,{size:14})," View"]})}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:C.status==="PENDING"&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-foreground-muted",children:[jsxRuntimeExports.jsx("button",{onClick:()=>v(C.id,"REJECTED"),className:"p-1.5 hover:text-red-600 rounded-full hover:bg-background-muted",title:"Reject",children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>v(C.id,"APPROVED"),className:"p-1.5 hover:text-green-600 rounded-full hover:bg-background-muted",title:"Approve",children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})]})})]},C.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"7",className:"text-center py-10 text-slate-500",children:[jsxRuntimeExports.jsx(FileClock,{className:"mx-auto h-12 w-12 text-slate-400"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-semibold text-slate-900",children:"No requests found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"There are no requests matching your criteria."})]})})})]})}),g&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/75 z-50 flex justify-center items-center p-4",onClick:()=>b(null),children:jsxRuntimeExports.jsxs("div",{className:"bg-card p-2 rounded-lg max-w-4xl max-h-[90vh]",onClick:C=>C.stopPropagation(),children:[jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsx("button",{onClick:()=>b(null),className:"p-2 rounded-full text-foreground-muted hover:bg-background-muted -mr-2 -mt-2 mb-2",children:jsxRuntimeExports.jsx(X,{size:20})})}),jsxRuntimeExports.jsx("img",{src:g,alt:"Attachment",className:"max-w-full max-h-[80vh] object-contain"})]})})]})},API_URL$1v="https://javapaas-202946-0.cloudclusters.net/api",AttendanceSettings=()=>{const e=["MANUAL","BIOMETRIC","APP","GPS","RFID"],[t,n]=reactExports.useState(null),[o,l]=reactExports.useState({method:"",defaultGraceMinutes:0,autoMarkAbsentAfter:!1,absentAfterMinutes:0}),[u,m]=reactExports.useState(!0),[p,j]=reactExports.useState(!1),[f,g]=reactExports.useState("");reactExports.useEffect(()=>{(async()=>{m(!0),g("");try{const N=localStorage.getItem("token"),S=await axios.get(`${API_URL$1v}/attendance-settings`,{headers:{Authorization:`Bearer ${N}`}});if(S.data&&S.data.length>0){const $=S.data[0];n($),l({method:$.method||"",defaultGraceMinutes:$.defaultGraceMinutes||0,autoMarkAbsentAfter:$.autoMarkAbsentAfter||!1,absentAfterMinutes:$.absentAfterMinutes||0})}}catch(N){console.error("Failed to fetch attendance settings:",N),g("Could not load attendance settings.")}finally{m(!1)}})()},[]);const b=v=>{const{name:N,value:S,type:$,checked:C}=v.target;l(A=>({...A,[N]:$==="checkbox"?C:S}))},R=async v=>{v.preventDefault(),j(!0),g("");try{const S={Authorization:`Bearer ${localStorage.getItem("token")}`};let $;t&&t.id?$=await axios.put(`${API_URL$1v}/attendance-settings/${t.id}`,o,{headers:S}):$=await axios.post(`${API_URL$1v}/attendance-settings`,o,{headers:S});const C=$.data;n(C),l({method:C.method||"",defaultGraceMinutes:C.defaultGraceMinutes||0,autoMarkAbsentAfter:C.autoMarkAbsentAfter||!1,absentAfterMinutes:C.absentAfterMinutes||0}),alert("Settings saved successfully!")}catch(N){console.error("Failed to save settings:",N),g(N.response?.data?.message||"Failed to save settings.")}finally{j(!1)}};return u?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-blue-600"})}):f?jsxRuntimeExports.jsxs("div",{className:"p-8 text-center text-red-500",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12"}),jsxRuntimeExports.jsx("p",{className:"mt-2",children:f})]}):jsxRuntimeExports.jsxs("div",{className:"bg-card p-6 rounded-xl shadow-sm",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-foreground mb-6",children:"Attendance Settings"}),jsxRuntimeExports.jsxs("form",{onSubmit:R,className:"space-y-6 max-w-2xl",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"method",className:"block text-sm font-medium text-foreground-muted",children:"Attendance Method"}),jsxRuntimeExports.jsxs("select",{id:"method",name:"method",value:o.method,onChange:b,className:"input mt-1 bg-background-muted border-border text-foreground",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Method"}),e.map(v=>jsxRuntimeExports.jsx("option",{value:v,children:v},v))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"defaultGraceMinutes",className:"block text-sm font-medium text-foreground-muted",children:"Default Grace Period (minutes)"}),jsxRuntimeExports.jsx("input",{type:"number",id:"defaultGraceMinutes",name:"defaultGraceMinutes",value:o.defaultGraceMinutes,onChange:b,className:"input mt-1 bg-background-muted border-border text-foreground"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",id:"autoMarkAbsentAfter",name:"autoMarkAbsentAfter",checked:o.autoMarkAbsentAfter,onChange:b,className:"h-4 w-4 rounded border-border text-primary focus:ring-primary"}),jsxRuntimeExports.jsx("label",{htmlFor:"autoMarkAbsentAfter",className:"text-sm font-medium text-foreground-muted",children:"Automatically mark absent"})]}),o.autoMarkAbsentAfter&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"absentAfterMinutes",className:"block text-sm font-medium text-foreground-muted",children:"Mark Absent After (minutes past shift start)"}),jsxRuntimeExports.jsx("input",{type:"number",id:"absentAfterMinutes",name:"absentAfterMinutes",value:o.absentAfterMinutes,onChange:b,className:"input mt-1"})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:p,children:[p?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}):jsxRuntimeExports.jsx(Save,{className:"h-4 w-4 mr-2"}),p?"Saving...":"Save Settings"]})})]})]})},Placeholder=({title:e})=>jsxRuntimeExports.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-sm text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-foreground",children:e}),jsxRuntimeExports.jsx("p",{className:"text-foreground-muted mt-2",children:"This section is under construction."})]}),EmployeeMappings=()=>jsxRuntimeExports.jsx(Placeholder,{title:"Employee Biometric Mappings"}),attendanceNavLinks=[{name:"Log",icon:BookOpen,component:AttendanceLog},{name:"Policies",icon:Target,component:AttendencePolicy},{name:"Biometric Devices",icon:Fingerprint,component:BiometricDevices},{name:"Missing Requests",icon:CircleQuestionMark,component:MissingAttendanceRequests},{name:"Employee Mappings",icon:Link2,component:EmployeeMappings},{name:"Settings",icon:Settings$1,component:AttendanceSettings}],Attendance=()=>{const[e,t]=reactExports.useState("Log"),[n,o]=reactExports.useState(!1),l=async()=>{if(window.confirm("Are you sure you want to manually run the 'Auto-Mark Absent' task? This will check all employees and mark those as absent who haven't checked in and are past their shift time.")){o(!0);try{const m=localStorage.getItem("token"),p=await axios.post(`${API_URL$1v}/time-attendence/auto-mark-absent`,{},{headers:{Authorization:`Bearer ${m}`}});alert(p.data||"Task executed successfully.")}catch(m){console.error("Error running auto-absent task:",m),alert(m.response?.data?.message||"Failed to execute the task.")}finally{o(!1)}}},u=()=>{const m=attendanceNavLinks.find(p=>p.name===e);if(m){const p=m.component;return jsxRuntimeExports.jsx(p,{})}return jsxRuntimeExports.jsx(AttendanceLog,{})};return jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-8 bg-background text-foreground",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-4",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Attendance Management"}),jsxRuntimeExports.jsxs("button",{onClick:l,className:"btn-secondary flex items-center gap-2",disabled:n,children:[n?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4"}):jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4"}),n?"Running...":"Run Auto-Absent Task"]})]}),jsxRuntimeExports.jsx("div",{className:"bg-card rounded-xl shadow-sm mb-6",children:jsxRuntimeExports.jsx("nav",{className:"flex overflow-x-auto border-b border-border",children:attendanceNavLinks.map(m=>jsxRuntimeExports.jsxs("button",{onClick:()=>t(m.name),className:`flex-shrink-0 flex items-center gap-2 px-4 py-3 text-sm font-medium transition-colors border-b-2 ${e===m.name?"border-primary text-primary":"border-transparent text-foreground-muted hover:text-foreground hover:border-border"}`,children:[jsxRuntimeExports.jsx(m.icon,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:m.name})]},m.name))})}),u()]})})},CompanyInfo=()=>{const[e,t]=reactExports.useState("Company Details"),n=[{name:"Company Details",icon:Building,component:CompanyInfo$1},{name:"Bank Accounts",icon:Landmark,component:BankDetails}],o=n.find(l=>l.name===e)?.component;return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"border-b border-border mb-6",children:jsxRuntimeExports.jsx("nav",{className:"-mb-px flex space-x-6 text-foreground","aria-label":"Sub-tabs",children:n.map(l=>jsxRuntimeExports.jsxs("button",{onClick:()=>t(l.name),className:`whitespace-nowrap flex items-center py-3 px-1 border-b-2 font-medium text-sm transition-colors ${e===l.name?"border-primary text-primary":"border-transparent text-foreground-muted hover:text-foreground hover:border-border"}`,children:[jsxRuntimeExports.jsx(l.icon,{className:"mr-2 h-5 w-5"}),l.name]},l.name))})}),o&&jsxRuntimeExports.jsx(o,{})]})},InputField$6=({label:e,id:t,type:n="text",children:o,...l})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-slate-700",children:e}),n==="select"?jsxRuntimeExports.jsx("select",{id:t,...l,className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:o}):n==="textarea"?jsxRuntimeExports.jsx("textarea",{id:t,...l,className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"}):jsxRuntimeExports.jsx("input",{id:t,type:n,...l,className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),CheckboxField=({label:e,id:t,...n})=>jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("input",{id:t,type:"checkbox",...n,className:"h-4 w-4 text-blue-600 border-slate-300 rounded focus:ring-blue-500"}),jsxRuntimeExports.jsx("label",{htmlFor:t,className:"ml-2 block text-sm text-slate-900",children:e})]}),Modal$f=({isOpen:e,onClose:t,title:n,children:o})=>e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:n}),jsxRuntimeExports.jsx("button",{onClick:t,className:"text-slate-500 hover:text-slate-800",children:""})]}),o]})}):null,InfoDisplay$5=({label:e,value:t})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-500",children:e}),jsxRuntimeExports.jsx("p",{className:"font-medium text-slate-800",children:t||jsxRuntimeExports.jsx("span",{className:"text-slate-400",children:"N/A"})})]}),GeneralSettingsTab$1=()=>{const[e,t]=reactExports.useState(null),[n,o]=reactExports.useState(!1),[l,u]=reactExports.useState(!0),[m,p]=reactExports.useState(!1),j={payFrequency:"MONTHLY",payCycleDay:1,payslipGenerationDay:25,includeHolidaysInPayslip:!1,includeLeaveBalanceInPayslip:!1},[f,g]=reactExports.useState(j),b="https://javapaas-202946-0.cloudclusters.net/api",R=reactExports.useCallback(()=>{u(!0);const S=localStorage.getItem("token");axios.get(`${b}/payroll-settings`,{headers:{Authorization:`Bearer ${S}`}}).then($=>{$.data&&$.data.payFrequency?(t($.data),g($.data)):(t(null),g(j))}).catch($=>console.error("Error fetching payroll settings:",$)).finally(()=>u(!1))},[b]);reactExports.useEffect(()=>{R()},[R]);const v=S=>{const{name:$,value:C,type:A,checked:T}=S.target;g(D=>({...D,[$]:A==="checkbox"?T:C}))},N=S=>{S.preventDefault(),p(!0);const $=localStorage.getItem("token");axios.post(`${b}/payroll-settings`,f,{headers:{Authorization:`Bearer ${$}`}}).then(C=>{t(C.data),g(C.data),o(!1),alert("Payroll settings saved successfully!")}).catch(C=>{console.error("Error saving settings:",C),alert("Failed to save settings.")}).finally(()=>p(!1))};return l?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-blue-600"})}):n||!e?jsxRuntimeExports.jsxs("form",{onSubmit:N,className:"space-y-6 max-w-2xl",children:[!e&&jsxRuntimeExports.jsxs("div",{className:"text-center py-6 border-2 border-dashed border-slate-300 rounded-lg",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium text-slate-900",children:"No Payroll Settings Found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Configure your payroll settings for the first time."})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs(InputField$6,{label:"Pay Frequency",as:"select",name:"payFrequency",value:f.payFrequency,onChange:v,children:[jsxRuntimeExports.jsx("option",{value:"MONTHLY",children:"Monthly"}),jsxRuntimeExports.jsx("option",{value:"BI_WEEKLY",children:"Bi-Weekly"}),jsxRuntimeExports.jsx("option",{value:"WEEKLY",children:"Weekly"})]}),jsxRuntimeExports.jsx(InputField$6,{label:"Pay Cycle Day (e.g., 1 for 1st of month)",name:"payCycleDay",type:"number",value:f.payCycleDay,onChange:v,min:"1",max:"31"}),jsxRuntimeExports.jsx(InputField$6,{label:"Payslip Generation Day",name:"payslipGenerationDay",type:"number",value:f.payslipGenerationDay,onChange:v,min:"1",max:"31"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(CheckboxField,{label:"Include holidays in payslip",name:"includeHolidaysInPayslip",checked:f.includeHolidaysInPayslip,onChange:v}),jsxRuntimeExports.jsx(CheckboxField,{label:"Include leave balance in payslip",name:"includeLeaveBalanceInPayslip",checked:f.includeLeaveBalanceInPayslip,onChange:v})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[e&&jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>o(!1),className:"btn-secondary",disabled:m,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:m,children:[m&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}),"Save Settings"]})]})]}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"flex justify-end mb-4",children:jsxRuntimeExports.jsxs("button",{onClick:()=>o(!0),className:"btn-secondary flex items-center gap-2",children:[" ",jsxRuntimeExports.jsx(SquarePen,{size:16})," Edit "]})}),jsxRuntimeExports.jsxs("div",{className:"space-y-6 max-w-2xl",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded-lg",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold mb-4",children:"Payroll Cycle"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsx(InfoDisplay$5,{label:"Pay Frequency",value:e.payFrequency}),jsxRuntimeExports.jsx(InfoDisplay$5,{label:"Pay Cycle Day",value:e.payCycleDay}),jsxRuntimeExports.jsx(InfoDisplay$5,{label:"Payslip Generation Day",value:e.payslipGenerationDay})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded-lg",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold mb-4",children:"Payslip Configuration"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(InfoDisplay$5,{label:"Include Holidays",value:e.includeHolidaysInPayslip?"Yes":"No"}),jsxRuntimeExports.jsx(InfoDisplay$5,{label:"Include Leave Balance",value:e.includeLeaveBalanceInPayslip?"Yes":"No"})]})]})]})]})},CrudTable$1=({title:e,columns:t,data:n,onAdd:o,onEdit:l,onDelete:u,addLabel:m,onToggle:p,showToggle:j=!1})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:e}),jsxRuntimeExports.jsxs("button",{onClick:o,className:"flex items-center gap-2 btn-secondary",children:[" ",jsxRuntimeExports.jsx(CirclePlus,{size:16})," ",m," "]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-slate-200 rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[t.map(f=>jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:f.header},f.key)),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-slate-200 text-slate-700",children:n.map(f=>jsxRuntimeExports.jsxs("tr",{children:[t.map(g=>jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:typeof f[g.key]=="boolean"?f[g.key]?"Yes":"No":f[g.key]},g.key)),jsxRuntimeExports.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium",children:[j&&jsxRuntimeExports.jsx("button",{onClick:()=>p(f.id,f.active),className:`mr-3 p-1 rounded-full ${f.active?"text-green-600 hover:bg-green-100":"text-slate-400 hover:bg-slate-100"}`,title:f.active?"Deactivate":"Activate",children:f.active?jsxRuntimeExports.jsx(ToggleRight,{size:18}):jsxRuntimeExports.jsx(ToggleLeft,{size:18})}),jsxRuntimeExports.jsx("button",{onClick:()=>l(f),className:"text-blue-600 hover:text-blue-900 mr-3",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),u&&jsxRuntimeExports.jsx("button",{onClick:()=>u(f.id),className:"text-red-600 hover:text-red-900",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})]},f.id))})]})})]}),PayslipTemplateForm=({initialData:e,onSave:t,onCancel:n})=>{const[o,l]=reactExports.useState(e||{name:"",templateContent:"",default:!1});reactExports.useEffect(()=>{e&&l(e)},[e]);const u=p=>{const{name:j,value:f,type:g,checked:b}=p.target;l(R=>({...R,[j]:g==="checkbox"?b:f}))},m=p=>{p.preventDefault(),t(o)};return jsxRuntimeExports.jsxs("form",{onSubmit:m,className:"space-y-4",children:[jsxRuntimeExports.jsx(InputField$6,{label:"Template Name",name:"name",value:o.name,onChange:u,required:!0}),jsxRuntimeExports.jsx(InputField$6,{label:"Template HTML",name:"templateContent",type:"textarea",rows:"10",value:o.templateContent,onChange:u,required:!0,placeholder:"Enter the HTML content for the payslip..."}),jsxRuntimeExports.jsx(CheckboxField,{label:"Set as default template",id:"default",name:"default",checked:o.default,onChange:u}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"btn-primary",children:"Save Template"})]})]})},createCrudTab$1=(e,t={})=>()=>{const[n,o]=reactExports.useState([]),[l,u]=reactExports.useState(!1),[m,p]=reactExports.useState(null),[j,f]=reactExports.useState(!0),g="https://javapaas-202946-0.cloudclusters.net/api",b=reactExports.useCallback(()=>{f(!0);const C=localStorage.getItem("token");axios.get(`${g}${e.endpoints.getAll}`,{headers:{Authorization:`Bearer ${C}`}}).then(A=>o(A.data)).catch(A=>console.error(`Error fetching ${e.name}:`,A)).finally(()=>f(!1))},[e.endpoints.getAll,e.name,g]);reactExports.useEffect(()=>{b()},[b]);const R=()=>{p(null),u(!0)},v=C=>{p(C),u(!0)},N=C=>{if(window.confirm(`Are you sure you want to delete this ${e.singularName}?`)){const A=localStorage.getItem("token");axios.delete(`${g}${e.endpoints.delete}/${C}`,{headers:{Authorization:`Bearer ${A}`}}).then(b).catch(T=>console.error(`Error deleting ${e.singularName}:`,T))}},S=C=>{const A=localStorage.getItem("token");(C.id?axios.put(`${g}${e.endpoints.update}/${C.id}`,C,{headers:{Authorization:`Bearer ${A}`}}):axios.post(`${g}${e.endpoints.create}`,C,{headers:{Authorization:`Bearer ${A}`}})).then(()=>{b(),u(!1)}).catch(D=>{console.error(`Error saving ${e.singularName}:`,D),alert(`Failed to save ${e.singularName}.`)})},$={...e,...t};return j?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-blue-600"})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CrudTable$1,{title:e.title,columns:e.columns,data:n,onAdd:R,onEdit:v,onDelete:$.onDelete||N,addLabel:e.addLabel,onToggle:$.onToggle,showToggle:!!$.onToggle}),jsxRuntimeExports.jsx(Modal$f,{isOpen:l,onClose:()=>u(!1),title:m?`Edit ${e.singularName}`:`Add ${e.singularName}`,children:jsxRuntimeExports.jsx(e.FormComponent,{initialData:m,onSave:S,onCancel:()=>u(!1)})})]})},SalaryComponentForm=({initialData:e,onSave:t,onCancel:n})=>{const[o,l]=reactExports.useState(e||{name:"",code:"",type:"EARNING",calculationType:"FLAT_AMOUNT",formula:"",taxable:!0,partOfGrossSalary:!0,displayOrder:0}),u=p=>{const{name:j,value:f,type:g,checked:b}=p.target;l(R=>({...R,[j]:g==="checkbox"?b:f}))},m=p=>{p.preventDefault(),t(o)};return jsxRuntimeExports.jsxs("form",{onSubmit:m,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(InputField$6,{label:"Component Name",name:"name",value:o.name,onChange:u,required:!0}),jsxRuntimeExports.jsx(InputField$6,{label:"Code",name:"code",value:o.code,onChange:u,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs(InputField$6,{label:"Type",name:"type",type:"select",value:o.type,onChange:u,required:!0,children:[jsxRuntimeExports.jsx("option",{value:"EARNING",children:"Earning"}),jsxRuntimeExports.jsx("option",{value:"DEDUCTION",children:"Deduction"})]}),jsxRuntimeExports.jsxs(InputField$6,{label:"Calculation Type",name:"calculationType",type:"select",value:o.calculationType,onChange:u,required:!0,children:[jsxRuntimeExports.jsx("option",{value:"FLAT_AMOUNT",children:"Flat Amount"}),jsxRuntimeExports.jsx("option",{value:"PERCENTAGE_OF_BASIC",children:"Percentage of Basic"}),jsxRuntimeExports.jsx("option",{value:"PERCENTAGE_OF_GROSS",children:"Percentage of Gross"}),jsxRuntimeExports.jsx("option",{value:"FORMULA_BASED",children:"Formula Based"})]})]}),o.calculationType==="FORMULA_BASED"&&jsxRuntimeExports.jsx(InputField$6,{label:"Formula",name:"formula",type:"textarea",rows:"3",value:o.formula,onChange:u,placeholder:"e.g., (basic * 0.4)"}),jsxRuntimeExports.jsx(InputField$6,{label:"Display Order",name:"displayOrder",type:"number",value:o.displayOrder,onChange:u}),jsxRuntimeExports.jsxs("div",{className:"flex gap-6",children:[jsxRuntimeExports.jsx(CheckboxField,{label:"Taxable",id:"taxable",name:"taxable",checked:o.taxable,onChange:u}),jsxRuntimeExports.jsx(CheckboxField,{label:"Part of Gross Salary",id:"partOfGrossSalary",name:"partOfGrossSalary",checked:o.partOfGrossSalary,onChange:u})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"btn-primary",children:"Save Component"})]})]})},StatutoryRuleForm=({initialData:e,onSave:t,onCancel:n})=>{const[o,l]=reactExports.useState(e||{ruleName:"",description:"",employeeContributionRate:0,employerContributionRate:0,contributionCap:0,taxSlabsJson:"",active:!0}),u=p=>l({...o,[p.target.name]:p.target.type==="checkbox"?p.target.checked:p.target.value}),m=p=>{p.preventDefault(),t(o)};return jsxRuntimeExports.jsxs("form",{onSubmit:m,className:"space-y-4",children:[jsxRuntimeExports.jsx(InputField$6,{label:"Rule Name",name:"ruleName",value:o.ruleName,onChange:u,required:!0}),jsxRuntimeExports.jsx(InputField$6,{label:"Description",name:"description",value:o.description,onChange:u}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(InputField$6,{label:"Employee Rate (%)",name:"employeeContributionRate",type:"number",step:"0.01",value:o.employeeContributionRate,onChange:u}),jsxRuntimeExports.jsx(InputField$6,{label:"Employer Rate (%)",name:"employerContributionRate",type:"number",step:"0.01",value:o.employerContributionRate,onChange:u})]}),jsxRuntimeExports.jsx(InputField$6,{label:"Contribution Cap",name:"contributionCap",type:"number",value:o.contributionCap,onChange:u}),jsxRuntimeExports.jsx(InputField$6,{label:"Tax Slabs (JSON)",name:"taxSlabsJson",type:"textarea",rows:"4",value:o.taxSlabsJson,onChange:u}),jsxRuntimeExports.jsx(CheckboxField,{label:"Active",id:"statutoryActive",name:"active",checked:o.active,onChange:u}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"btn-primary",children:"Save Rule"})]})]})},LoanProductForm=({initialData:e,onSave:t,onCancel:n})=>{const[o,l]=reactExports.useState(e||{productName:"",description:"",interestRate:0,maxInstallments:0,maxLoanAmount:0,active:!0,availabilityStartDate:"",availabilityEndDate:"",deductFromSalary:!0}),u=p=>l({...o,[p.target.name]:p.target.type==="checkbox"?p.target.checked:p.target.value}),m=p=>{p.preventDefault(),t(o)};return jsxRuntimeExports.jsxs("form",{onSubmit:m,className:"space-y-4",children:[jsxRuntimeExports.jsx(InputField$6,{label:"Product Name",name:"productName",value:o.productName,onChange:u,required:!0}),jsxRuntimeExports.jsx(InputField$6,{label:"Description",name:"description",value:o.description,onChange:u}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(InputField$6,{label:"Interest Rate (%)",name:"interestRate",type:"number",step:"0.01",value:o.interestRate,onChange:u}),jsxRuntimeExports.jsx(InputField$6,{label:"Max Installments",name:"maxInstallments",type:"number",value:o.maxInstallments,onChange:u})]}),jsxRuntimeExports.jsx(InputField$6,{label:"Max Loan Amount",name:"maxLoanAmount",type:"number",value:o.maxLoanAmount,onChange:u}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(InputField$6,{label:"Availability Start Date",name:"availabilityStartDate",type:"date",value:o.availabilityStartDate||"",onChange:u}),jsxRuntimeExports.jsx(InputField$6,{label:"Availability End Date",name:"availabilityEndDate",type:"date",value:o.availabilityEndDate||"",onChange:u})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-6",children:[jsxRuntimeExports.jsx(CheckboxField,{label:"Active",id:"loanActive",name:"active",checked:o.active,onChange:u}),jsxRuntimeExports.jsx(CheckboxField,{label:"Deduct from Salary",id:"deductFromSalary",name:"deductFromSalary",checked:o.deductFromSalary,onChange:u})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"btn-primary",children:"Save Product"})]})]})},BenefitTypeForm=({initialData:e,onSave:t,onCancel:n})=>{const[o,l]=reactExports.useState(e||{code:"",name:"",description:"",calculationType:"FLAT_AMOUNT",valueForAccrual:0}),u=p=>{const{name:j,value:f}=p.target;l(g=>({...g,[j]:f}))},m=p=>{p.preventDefault(),t(o)};return jsxRuntimeExports.jsxs("form",{onSubmit:m,className:"space-y-4",children:[jsxRuntimeExports.jsx(InputField$6,{label:"Benefit Code",name:"code",value:o.code,onChange:u,required:!0,maxLength:"50",disabled:!!e}),jsxRuntimeExports.jsx(InputField$6,{label:"Benefit Name",name:"name",value:o.name,onChange:u,required:!0}),jsxRuntimeExports.jsx(InputField$6,{label:"Description",name:"description",type:"textarea",value:o.description,onChange:u}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs(InputField$6,{label:"Calculation Type",name:"calculationType",type:"select",value:o.calculationType,onChange:u,required:!0,children:[jsxRuntimeExports.jsx("option",{value:"FLAT_AMOUNT",children:"Flat Amount"}),jsxRuntimeExports.jsx("option",{value:"PERCENTAGE_OF_BASIC",children:"Percentage of Basic"})]}),jsxRuntimeExports.jsx(InputField$6,{label:"Value for Accrual",name:"valueForAccrual",type:"number",step:"0.01",value:o.valueForAccrual,onChange:u,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"btn-primary",children:"Save Benefit"})]})]})},StatutoryRulesTab=createCrudTab$1({name:"statutory rules",singularName:"rule",title:"Statutory Rules",addLabel:"Add Rule",columns:[{header:"Rule Name",key:"ruleName"},{header:"Employee Rate",key:"employeeContributionRate"},{header:"Employer Rate",key:"employerContributionRate"},{header:"Active",key:"active"}],endpoints:{getAll:"/statutory-rules",create:"/statutory-rules",update:"/statutory-rules",delete:"/statutory-rules"},FormComponent:StatutoryRuleForm}),SalaryComponentsTab=createCrudTab$1({name:"salary components",singularName:"component",title:"Salary Components",addLabel:"Add Component",columns:[{header:"Name",key:"name"},{header:"Code",key:"code"},{header:"Type",key:"type"},{header:"Calc Type",key:"calculationType"},{header:"Taxable",key:"taxable"}],endpoints:{getAll:"/salary-components",create:"/salary-components",update:"/salary-components",delete:"/salary-components"},FormComponent:SalaryComponentForm}),BenefitTypesTab=createCrudTab$1({name:"benefit types",singularName:"Benefit Type",title:"Benefit Types",addLabel:"Add Benefit Type",columns:[{header:"Code",key:"code"},{header:"Name",key:"name"},{header:"Description",key:"description"},{header:"Calc Type",key:"calculationType"},{header:"Accrual Value",key:"valueForAccrual"},{header:"Active",key:"active"}],endpoints:{getAll:"/benefit-types",create:"/benefit-types",update:"/benefit-types",toggle:"/benefit-types"},FormComponent:BenefitTypeForm},{onDelete:null,onToggle:(e,t)=>n=>{const o=localStorage.getItem("token");axios.patch(`https://javapaas-202946-0.cloudclusters.net/api/benefit-types/${n}/toggle-status`,{},{headers:{Authorization:`Bearer ${o}`}}).then(t).catch(l=>alert(`Failed to toggle status: ${l.response?.data?.message||l.message}`))}}),LoanProductsTab=createCrudTab$1({name:"loan products",singularName:"product",title:"Loan Products",addLabel:"Add Product",columns:[{header:"Product Name",key:"productName"},{header:"Interest Rate",key:"interestRate"},{header:"Max Installments",key:"maxInstallments"},{header:"Active",key:"active"}],endpoints:{getAll:"/loan-products",create:"/loan-products",update:"/loan-products",delete:"/loan-products"},FormComponent:LoanProductForm}),PayslipTemplatesTab=createCrudTab$1({name:"payslip templates",singularName:"Template",title:"Payslip Templates",addLabel:"Add Template",columns:[{header:"Name",key:"name"},{header:"Default",key:"default"},{header:"Last Updated",key:"updatedAt"}],endpoints:{getAll:"/payslip-templates",create:"/payslip-templates",update:"/payslip-templates",delete:"/payslip-templates",setDefault:"/payslip-templates"},FormComponent:PayslipTemplateForm}),PayrollSettings=()=>{const[e,t]=reactExports.useState("General"),n=[{name:"General",icon:Settings$1,component:GeneralSettingsTab$1},{name:"Salary Components",icon:Layers,component:SalaryComponentsTab},{name:"Statutory Rules",icon:Scale,component:StatutoryRulesTab},{name:"Benefit Types",icon:Gift,component:BenefitTypesTab},{name:"Loan Products",icon:Handshake,component:LoanProductsTab},{name:"Payslip Templates",icon:FileText,component:PayslipTemplatesTab}],o=n.find(l=>l.name===e)?.component;return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"border-b border-slate-200 mb-6",children:jsxRuntimeExports.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Sub-tabs",children:n.map(l=>jsxRuntimeExports.jsxs("button",{onClick:()=>t(l.name),className:`whitespace-nowrap flex items-center py-3 px-1 border-b-2 font-medium text-sm transition-colors ${e===l.name?"border-blue-600 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:[jsxRuntimeExports.jsx(l.icon,{className:"mr-2 h-5 w-5"}),l.name]},l.name))})}),jsxRuntimeExports.jsx("div",{children:o&&jsxRuntimeExports.jsx(o,{})})]})},InputField$5=({label:e,id:t,type:n="text",...o})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-slate-700",children:e}),jsxRuntimeExports.jsx("input",{id:t,type:n,...o,className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),SelectField$2=({label:e,id:t,children:n,...o})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-slate-700",children:e}),jsxRuntimeExports.jsx("select",{id:t,...o,className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:n})]}),EmployeeBenefitProvisionForm=({initialData:e,onSave:t,onCancel:n,employeeCode:o})=>{const[l,u]=reactExports.useState(e||{benefitTypeId:"",cycleStartDate:"",cycleEndDate:""}),[m,p]=reactExports.useState([]),[j,f]=reactExports.useState(!0),g="https://javapaas-202946-0.cloudclusters.net/api";reactExports.useEffect(()=>{(async()=>{f(!0);try{const N=localStorage.getItem("token"),S=await axios.get(`${g}/benefit-types`,{headers:{Authorization:`Bearer ${N}`}});p(S.data.filter($=>$.active))}catch(N){console.error("Failed to fetch benefit types:",N)}finally{f(!1)}})()},[g]);const b=v=>{const{name:N,value:S}=v.target;u($=>({...$,[N]:S}))},R=v=>{v.preventDefault(),t({...l,employeeCode:o})};return j?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-blue-600"})}):jsxRuntimeExports.jsxs("form",{onSubmit:R,className:"space-y-4",children:[jsxRuntimeExports.jsxs(SelectField$2,{label:"Benefit Type",name:"benefitTypeId",value:l.benefitTypeId,onChange:b,required:!0,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select a benefit"}),m.map(v=>jsxRuntimeExports.jsx("option",{value:v.id,children:v.name},v.id))]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(InputField$5,{label:"Cycle Start Date",name:"cycleStartDate",type:"date",value:l.cycleStartDate,onChange:b,required:!0}),jsxRuntimeExports.jsx(InputField$5,{label:"Cycle End Date",name:"cycleEndDate",type:"date",value:l.cycleEndDate,onChange:b,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"btn-primary",children:"Save Provision"})]})]})},InputField$4=({label:e,id:t,type:n="text",...o})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-slate-700",children:e}),jsxRuntimeExports.jsx("input",{id:t,type:n,...o,className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),SelectField$1=({label:e,id:t,children:n,...o})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-slate-700",children:e}),jsxRuntimeExports.jsx("select",{id:t,...o,className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:n})]}),ProvisionPayoutForm=({provision:e,onSave:t,onCancel:n})=>{const[o,l]=reactExports.useState({paidOutDate:new Date().toISOString().split("T")[0],paymentDetails:"",paymentMethod:"BANK_TRANSFER",paidAmount:0}),[u,m]=reactExports.useState(null);reactExports.useEffect(()=>{e&&l(g=>({...g,paidAmount:e.accruedAmount||0}))},[e]);const p=g=>{const{name:b,value:R}=g.target;l(v=>({...v,[b]:R}))},j=g=>{m(g.target.files)},f=g=>{g.preventDefault();const b=new FormData;if(b.append("payoutDetails",new Blob([JSON.stringify(o)],{type:"application/json"})),u&&u.length>0)for(let R=0;R<u.length;R++)b.append("files",u[R]);t(b)};return jsxRuntimeExports.jsxs("form",{onSubmit:f,className:"space-y-4",children:[jsxRuntimeExports.jsx(InputField$4,{label:"Paid Out Date",name:"paidOutDate",type:"date",value:o.paidOutDate,onChange:p,required:!0}),jsxRuntimeExports.jsx(InputField$4,{label:"Paid Amount",name:"paidAmount",type:"number",value:o.paidAmount,onChange:p,readOnly:!0,className:"bg-slate-100"}),jsxRuntimeExports.jsxs(SelectField$1,{label:"Payment Method",name:"paymentMethod",value:o.paymentMethod,onChange:p,required:!0,children:[jsxRuntimeExports.jsx("option",{value:"BANK_TRANSFER",children:"Bank Transfer"}),jsxRuntimeExports.jsx("option",{value:"CASH",children:"Cash"}),jsxRuntimeExports.jsx("option",{value:"CHEQUE",children:"Cheque"}),jsxRuntimeExports.jsx("option",{value:"IN_KIND",children:"In Kind (e.g., Ticket)"})]}),jsxRuntimeExports.jsx(InputField$4,{label:"Payment Details / Remarks",name:"paymentDetails",type:"textarea",value:o.paymentDetails,onChange:p,required:!0,placeholder:"e.g., Ticket booked on Emirates EK201"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"confirmationFile",className:"block text-sm font-medium text-slate-700",children:"Confirmation File (Optional)"}),jsxRuntimeExports.jsx("input",{id:"confirmationFile",name:"file",type:"file",onChange:j,multiple:!0,className:"mt-1 block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"btn-primary",children:"Confirm Payout"})]})]})},Modal$e=({isOpen:e,onClose:t,title:n,children:o})=>e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:n}),jsxRuntimeExports.jsx("button",{onClick:t,className:"text-slate-500 hover:text-slate-800",children:""})]}),o]})}):null,statusStyles$4={ACCRUING:"bg-yellow-100 text-yellow-800",PAID_OUT:"bg-green-100 text-green-800",EXPIRED:"bg-slate-100 text-slate-600",CANCELLED:"bg-red-100 text-red-600"},StatusBadge=({status:e})=>{const t=statusStyles$4[e]||"bg-gray-100 text-gray-800";return jsxRuntimeExports.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold capitalize ${t}`,children:e.replace("_"," ").toLowerCase()})},formatCurrency$4=(e,t="AED")=>new Intl.NumberFormat("en-IN",{style:"currency",currency:t,minimumFractionDigits:2}).format(e||0),EmployeeBenefitProvisionTab=({employee:e})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState(null),[u,m]=reactExports.useState([]),[p,j]=reactExports.useState(!0),[f,g]=reactExports.useState(!1),[b,R]=reactExports.useState(!1),[v,N]=reactExports.useState(null),[S,$]=reactExports.useState(null),C="https://javapaas-202946-0.cloudclusters.net/api",A=reactExports.useCallback(async()=>{j(!0);try{const z=localStorage.getItem("token"),V={Authorization:`Bearer ${z}`},[Q,ee,G]=await Promise.all([axios.get(`${C}/provisions/employee/${e.employeeCode}`,{headers:{Authorization:`Bearer ${z}`}}),axios.get(`${C}/benefit-types`,{headers:{Authorization:`Bearer ${z}`}}),axios.get(`${C}/salary-structures/employee/${e.employeeCode}`,{headers:V}).catch(()=>({data:null}))]);n(Q.data),m(ee.data),l(G.data)}catch(z){console.error("Error fetching benefit provisions:",z)}finally{j(!1)}},[e.employeeCode,C]);reactExports.useEffect(()=>{A()},[A]);const T=()=>{$(null),g(!0)},D=z=>{$({...z,cycleStartDate:z.cycleStartDate?.split("T")[0]||"",cycleEndDate:z.cycleEndDate?.split("T")[0]||""}),g(!0)},I=async z=>{if(window.confirm("Are you sure you want to delete this benefit provision?"))try{const V=localStorage.getItem("token");await axios.delete(`${C}/provisions/${z}`,{headers:{Authorization:`Bearer ${V}`}}),A()}catch{alert("Failed to delete provision.")}},L=async z=>{const V=localStorage.getItem("token"),Q=S?axios.put(`${C}/provisions/${S.id}`,z,{headers:{Authorization:`Bearer ${V}`}}):axios.post(`${C}/provisions`,z,{headers:{Authorization:`Bearer ${V}`}});try{await Q,A(),g(!1)}catch(ee){alert(ee.response?.data?.message||"Failed to save provision.")}},_=z=>{N(z),R(!0)},M=async z=>{if(!v)return;const V=localStorage.getItem("token");try{await axios.post(`${C}/provisions/${v.id}/payout`,z,{headers:{Authorization:`Bearer ${V}`,"Content-Type":"multipart/form-data"}}),A(),R(!1)}catch(Q){alert(Q.response?.data?.message||"Failed to save payout.")}},F=async z=>{try{const V=localStorage.getItem("token"),Q=await axios.get(`${C}/files/download/${z}`,{headers:{Authorization:`Bearer ${V}`},responseType:"blob"}),ee=new Blob([Q.data],{type:Q.headers["content-type"]}),G=URL.createObjectURL(ee);window.open(G,"_blank"),setTimeout(()=>URL.revokeObjectURL(G),1e4)}catch{alert("Could not load the confirmation file. It may not exist or an error occurred.")}},B=async z=>{try{const V=localStorage.getItem("token"),Q=await axios.get(`${C}/provisions/${z}/download-voucher`,{headers:{Authorization:`Bearer ${V}`},responseType:"blob"}),ee=window.URL.createObjectURL(new Blob([Q.data])),G=document.createElement("a");G.href=ee;const K=Q.headers["content-disposition"];let J=`BenefitVoucher-${z}.pdf`;if(K){const ne=K.match(/filename="?(.+)"?/);ne&&ne.length>1&&(J=ne[1])}G.setAttribute("download",J),document.body.appendChild(G),G.click(),G.remove()}catch{alert("Failed to download voucher.")}},q=z=>{const V=u.find(Q=>Q.name===z.benefitTypeName);if(!V)return 0;switch(V.calculationType){case"FLAT_AMOUNT":return V.valueForAccrual;case"PERCENTAGE_OF_BASIC":if(!o||!o.components)return 0;const Q=o.components.find(K=>K.componentCode==="BASIC");if(!Q||!Q.value)return 0;const ee=parseFloat(Q.value),G=parseFloat(V.valueForAccrual);return ee*G/100;default:return 0}};return p?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-blue-600"})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Benefit Provisions"}),jsxRuntimeExports.jsxs("button",{onClick:T,className:"btn-primary flex items-center gap-2",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Add Provision"]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-slate-200 rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Benefit"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Total Amount"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Accrued"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Cycle Dates"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Payout Info"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-slate-200 text-slate-700",children:t.map(z=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"td-cell",children:z.benefitTypeName}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:formatCurrency$4(q(z))}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:formatCurrency$4(z.accruedAmount)}),jsxRuntimeExports.jsxs("td",{className:"td-cell",children:[z.cycleStartDate," to ",z.cycleEndDate]}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsx(StatusBadge,{status:z.status})}),jsxRuntimeExports.jsxs("td",{className:"td-cell text-xs",children:[z.paidOutDate&&jsxRuntimeExports.jsxs("div",{children:["Paid: ",z.paidOutDate]}),z.paymentDetails&&jsxRuntimeExports.jsxs("div",{className:"truncate max-w-[150px]",title:z.paymentDetails,children:["Details: ",z.paymentDetails]}),z.confirmationFiles&&z.confirmationFiles.length>0&&jsxRuntimeExports.jsx("div",{className:"mt-1 space-y-1",children:z.confirmationFiles.map(V=>jsxRuntimeExports.jsxs("button",{onClick:()=>F(V.filePath),className:"text-blue-600 hover:underline flex items-center gap-1 w-full truncate",children:[jsxRuntimeExports.jsx(Eye,{size:14})," ",jsxRuntimeExports.jsx("span",{className:"truncate",children:V.originalFilename})]},V.id))})]}),jsxRuntimeExports.jsxs("td",{className:"td-cell",children:[z.status==="ACCRUING"&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>_(z),className:"p-1.5 text-green-600 hover:bg-green-100 rounded-full",title:"Pay Out",children:jsxRuntimeExports.jsx(HandCoins,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>D(z),className:"p-1.5 text-blue-600 hover:bg-blue-100 rounded-full",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>I(z.id),className:"p-1.5 text-red-600 hover:bg-red-100 rounded-full",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]}),z.status==="PAID_OUT"&&jsxRuntimeExports.jsx("button",{onClick:()=>B(z.id),className:"p-1.5 text-blue-600 hover:bg-blue-100 rounded-full",title:"Download Voucher",children:jsxRuntimeExports.jsx(Download,{size:16})})]})]},z.id))})]})}),jsxRuntimeExports.jsx(Modal$e,{isOpen:f,onClose:()=>g(!1),title:S?"Edit Provision":"Add Provision",children:jsxRuntimeExports.jsx(EmployeeBenefitProvisionForm,{initialData:S,onSave:L,onCancel:()=>g(!1),employeeCode:e.employeeCode})}),jsxRuntimeExports.jsx(Modal$e,{isOpen:b,onClose:()=>R(!1),title:`Pay Out: ${v?.benefitTypeName}`,children:jsxRuntimeExports.jsx(ProvisionPayoutForm,{provision:v,onSave:M,onCancel:()=>R(!1)})})]})},InputField$3=({label:e,id:t,type:n="text",children:o,...l})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-slate-700",children:e}),n==="select"?jsxRuntimeExports.jsx("select",{id:t,...l,className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:o}):jsxRuntimeExports.jsx("input",{id:t,type:n,...l,className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),InfoDisplay$4=({label:e,value:t,isCurrency:n=!1})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-500",children:e}),jsxRuntimeExports.jsx("p",{className:"font-medium text-slate-800",children:n?formatCurrency$3(t):t||jsxRuntimeExports.jsx("span",{className:"text-slate-400",children:"N/A"})})]}),formatCurrency$3=(e,t="AED")=>new Intl.NumberFormat("en-IN",{style:"currency",currency:t,minimumFractionDigits:2}).format(e||0),EndOfServiceTab=({employee:e})=>{const[t,n]=reactExports.useState(null),[o,l]=reactExports.useState(!0),[u,m]=reactExports.useState(""),[p,j]=reactExports.useState(!1),[f,g]=reactExports.useState({lastWorkingDay:"",terminationReason:"RESIGNATION"}),b="https://javapaas-202946-0.cloudclusters.net/api",R=reactExports.useCallback(async()=>{l(!0),m("");try{const $=localStorage.getItem("token"),C=await axios.get(`${b}/eos/${e.employeeCode}`,{headers:{Authorization:`Bearer ${$}`}});n(C.data)}catch($){$.response&&$.response.status===404?n(null):m("Failed to fetch End of Service details.")}finally{l(!1)}},[e.employeeCode,b]);reactExports.useEffect(()=>{R()},[R]);const v=$=>{const{name:C,value:A}=$.target;g(T=>({...T,[C]:A}))},N=async $=>{$.preventDefault(),j(!0),m("");try{const C=localStorage.getItem("token"),A=await axios.post(`${b}/eos/calculate/${e.employeeCode}`,f,{headers:{Authorization:`Bearer ${C}`}});n(A.data),alert("Gratuity calculated successfully!")}catch(C){m(C.response?.data?.message||"Failed to calculate gratuity.")}finally{j(!1)}},S=async()=>{try{const $=localStorage.getItem("token"),C=await axios.get(`${b}/eos/download-settlement/${e.employeeCode}`,{headers:{Authorization:`Bearer ${$}`},responseType:"blob"}),A=window.URL.createObjectURL(new Blob([C.data])),T=document.createElement("a");T.href=A,T.setAttribute("download",`Final-Settlement-${e.employeeCode}.pdf`),document.body.appendChild(T),T.click(),T.remove()}catch{alert("Failed to download settlement PDF.")}};return o?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-blue-600"})}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"p-6 border rounded-lg bg-slate-50",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Calculate Final Settlement"}),jsxRuntimeExports.jsxs("form",{onSubmit:N,className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[jsxRuntimeExports.jsx(InputField$3,{label:"Last Working Day",name:"lastWorkingDay",type:"date",value:f.lastWorkingDay,onChange:v,required:!0}),jsxRuntimeExports.jsxs(InputField$3,{label:"Reason for Leaving",name:"terminationReason",type:"select",value:f.terminationReason,onChange:v,required:!0,children:[jsxRuntimeExports.jsx("option",{value:"RESIGNATION",children:"Resignation"}),jsxRuntimeExports.jsx("option",{value:"TERMINATION",children:"Termination"}),jsxRuntimeExports.jsx("option",{value:"REDUNDANCY",children:"Redundancy"}),jsxRuntimeExports.jsx("option",{value:"TERMINATION_FOR_CAUSE",children:"Termination for Cause"})]}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary h-10 flex items-center justify-center",disabled:p,children:[p?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-5 w-5"}):jsxRuntimeExports.jsx(Calculator,{className:"h-5 w-5 mr-2"}),t?"Re-calculate":"Calculate"]})]}),u&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-2",children:u})]}),t?jsxRuntimeExports.jsxs("div",{className:"p-6 border rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Settlement Details"}),jsxRuntimeExports.jsxs("button",{onClick:S,className:"btn-secondary flex items-center gap-2",children:[jsxRuntimeExports.jsx(Download,{size:16})," Download Statement"]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsx(InfoDisplay$4,{label:"Joining Date",value:new Date(t.joiningDate).toLocaleDateString()}),jsxRuntimeExports.jsx(InfoDisplay$4,{label:"Last Working Day",value:new Date(t.lastWorkingDay).toLocaleDateString()}),jsxRuntimeExports.jsx(InfoDisplay$4,{label:"Years of Service",value:t.totalYearsOfService.toFixed(2)}),jsxRuntimeExports.jsx(InfoDisplay$4,{label:"Last Basic Salary",value:t.lastBasicSalary,isCurrency:!0}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-3 p-4 bg-blue-50 rounded-lg text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-blue-800 font-medium",children:"Calculated Gratuity Amount"}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-blue-900 mt-1",children:formatCurrency$3(t.gratuityAmount)})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-500",children:"Calculation Details"}),jsxRuntimeExports.jsx("p",{className:"font-mono text-xs bg-slate-100 p-3 rounded mt-1",children:t.calculationDetails})]}),jsxRuntimeExports.jsx(InfoDisplay$4,{label:"Paid Status",value:t.paid?`Paid on ${new Date(t.paymentDate).toLocaleDateString()}`:"Unpaid"})]})]}):jsxRuntimeExports.jsxs("div",{className:"text-center py-10 border-2 border-dashed rounded-lg",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-10 w-10 text-slate-400"}),jsxRuntimeExports.jsx("h4",{className:"mt-2 text-sm font-medium text-slate-900",children:"No Settlement Calculated"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Use the form above to calculate the final settlement for this employee."})]})]})},InputField$2=({label:e,id:t,type:n="text",...o})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-slate-700",children:e}),jsxRuntimeExports.jsx("input",{id:t,type:n,...o,className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),SelectField=({label:e,id:t,children:n,...o})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-slate-700",children:e}),jsxRuntimeExports.jsx("select",{id:t,...o,className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:n})]}),formatCurrency$2=(e,t="AED")=>new Intl.NumberFormat("en-IN",{style:"currency",currency:t,minimumFractionDigits:2}).format(e||0),SalaryStructureTab=({employee})=>{const[structure,setStructure]=reactExports.useState(null),[isEditing,setIsEditing]=reactExports.useState(!1),[loading,setLoading]=reactExports.useState(!0),[allComponents,setAllComponents]=reactExports.useState([]),[isSyncModalOpen,setIsSyncModalOpen]=reactExports.useState(!1),[formData,setFormData]=reactExports.useState({structureName:"",effectiveDate:"",components:[]}),API_URL="https://javapaas-202946-0.cloudclusters.net/api",fetchStructureAndComponents=reactExports.useCallback(async()=>{setLoading(!0);const e=localStorage.getItem("token");try{const[t,n]=await Promise.all([axios.get(`${API_URL}/salary-components`,{headers:{Authorization:`Bearer ${e}`}}),axios.get(`${API_URL}/salary-structures/employee/${employee.employeeCode}`,{headers:{Authorization:`Bearer ${e}`}}).catch(o=>{if(o.response&&o.response.status===404)return{data:null};throw o})]);setAllComponents(t.data),n.data?(setStructure(n.data),setFormData({structureName:n.data.structureName,effectiveDate:n.data.effectiveDate?.split("T")[0]||"",components:n.data.components?.map(o=>({componentCode:o.componentCode,value:o.value,formula:o.formula}))||[]})):(setStructure(null),setIsEditing(!0),setFormData({structureName:`${employee.firstName}'s Structure`,effectiveDate:new Date().toISOString().split("T")[0],components:[]}))}catch(t){console.error("Error fetching data:",t)}finally{setLoading(!1)}},[employee.employeeCode,API_URL]);reactExports.useEffect(()=>{fetchStructureAndComponents()},[fetchStructureAndComponents]);const handleAddComponent=()=>setFormData(e=>({...e,components:[...e.components,{componentCode:"",value:0,formula:""}]})),handleRemoveComponent=e=>setFormData(t=>({...t,components:t.components.filter((n,o)=>o!==e)})),handleComponentChange=(index,field,value)=>{setFormData(prev=>{const newComponents=[...prev.components];newComponents[index][field]=value;const basicComponent=newComponents.find(e=>allComponents.find(n=>n.code===e.componentCode)?.name.toLowerCase()==="basic"),basic=basicComponent?parseFloat(basicComponent.value):0;return newComponents.forEach((comp,i)=>{if(comp.formula)try{const formula=comp.formula.toLowerCase().replace(/basic/g,basic),result=eval(formula);isFinite(result)&&(newComponents[i].value=result.toFixed(2))}catch(e){console.warn(`Could not evaluate formula for ${comp.componentCode}:`,e)}}),{...prev,components:newComponents}})},handleSave=async()=>{setLoading(!0);const e=localStorage.getItem("token"),t={...formData,employeeCode:employee.employeeCode};try{structure?await axios.put(`${API_URL}/salary-structures/${structure.id}`,t,{headers:{Authorization:`Bearer ${e}`}}):await axios.post(`${API_URL}/salary-structures`,t,{headers:{Authorization:`Bearer ${e}`}}),setIsEditing(!1),fetchStructureAndComponents(),alert("Salary structure saved successfully!")}catch(n){alert(n.response?.data?.message||"Failed to save structure.")}finally{setLoading(!1)}};return loading?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-blue-600"})}):!isEditing&&structure?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:structure.structureName}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-slate-500",children:["Effective from: ",new Date(structure.effectiveDate).toLocaleDateString()]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>setIsSyncModalOpen(!0),className:"btn-secondary flex items-center gap-2",children:[jsxRuntimeExports.jsx(Share2,{size:16})," Sync Structure"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>setIsEditing(!0),className:"btn-secondary flex items-center gap-2",children:[jsxRuntimeExports.jsx(SquarePen,{size:16})," Edit"]})]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:structure.components?.map(e=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between p-2 bg-slate-50 rounded",children:[jsxRuntimeExports.jsxs("span",{children:[e.componentName," (",e.componentCode,")"]}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:formatCurrency$2(e.value)})]},e.id))}),jsxRuntimeExports.jsx(SyncStructureModal,{isOpen:isSyncModalOpen,onClose:()=>setIsSyncModalOpen(!1),structureId:structure.id,currentEmployeeCode:employee.employeeCode})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:structure?"Edit Salary Structure":"Create Salary Structure"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(InputField$2,{label:"Structure Name",value:formData.structureName,onChange:e=>setFormData(t=>({...t,structureName:e.target.value}))}),jsxRuntimeExports.jsx(InputField$2,{label:"Effective Date",type:"date",value:formData.effectiveDate,onChange:e=>setFormData(t=>({...t,effectiveDate:e.target.value}))})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium",children:"Components"}),formData.components.map((e,t)=>jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 items-end p-3 bg-slate-50 rounded-lg",children:[jsxRuntimeExports.jsxs(SelectField,{label:"Component",value:e.componentCode,onChange:n=>handleComponentChange(t,"componentCode",n.target.value),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Component"}),allComponents.map(n=>jsxRuntimeExports.jsxs("option",{value:n.code,children:[n.name," (",n.type,")"]},n.code))]}),jsxRuntimeExports.jsx(InputField$2,{label:"Value/Amount",type:"number",value:e.value,onChange:n=>handleComponentChange(t,"value",n.target.value)}),jsxRuntimeExports.jsx(InputField$2,{label:"Formula (if any)",value:e.formula,onChange:n=>handleComponentChange(t,"formula",n.target.value)}),jsxRuntimeExports.jsx("button",{onClick:()=>handleRemoveComponent(t),className:"btn-secondary bg-red-50 text-red-600 hover:bg-red-100 p-2 h-10",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]},t)),jsxRuntimeExports.jsxs("button",{onClick:handleAddComponent,className:"btn-secondary flex items-center gap-2",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Add Component"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[structure&&jsxRuntimeExports.jsx("button",{onClick:()=>setIsEditing(!1),className:"btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{onClick:handleSave,className:"btn-primary flex items-center gap-2",children:[jsxRuntimeExports.jsx(Save,{size:16})," Save Structure"]})]})]})},SyncStructureModal=({isOpen:e,onClose:t,structureId:n,currentEmployeeCode:o})=>{const[l,u]=reactExports.useState([]),[m,p]=reactExports.useState(!0),[j,f]=reactExports.useState(new Set),[g,b]=reactExports.useState(""),[R,v]=reactExports.useState(!1),N="https://javapaas-202946-0.cloudclusters.net/api";reactExports.useEffect(()=>{e&&(async()=>{b(""),p(!0);try{const I=localStorage.getItem("token"),L=await axios.get(`${N}/employees/all`,{headers:{Authorization:`Bearer ${I}`}});u(L.data.filter(_=>_.employeeCode!==o))}catch(I){console.error("Failed to fetch employees for sync:",I)}finally{p(!1)}})()},[e,N,o]);const S=reactExports.useMemo(()=>{if(!g)return l;const D=g.toLowerCase();return l.filter(I=>`${I.firstName} ${I.lastName}`.toLowerCase().includes(D)||I.employeeCode.toLowerCase().includes(D))},[l,g]),$=D=>{f(I=>{const L=new Set(I);return L.has(D)?L.delete(D):L.add(D),L})},C=D=>{if(D.target.checked){const L=new Set(S.map(_=>_.employeeCode));f(L)}else f(new Set)},A=reactExports.useMemo(()=>S.length>0&&S.every(D=>j.has(D.employeeCode)),[S,j]),T=async()=>{if(j.size===0){alert("Please select at least one employee to sync.");return}v(!0);try{const D=localStorage.getItem("token"),I={structureId:n,employeeCodes:Array.from(j)};await axios.post(`${N}/salary-structures/sync`,I,{headers:{Authorization:`Bearer ${D}`}}),alert(`Successfully synced structure to ${j.size} employee(s).`),t()}catch(D){alert(D.response?.data?.message||"Failed to sync structure.")}finally{v(!1)}};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg max-h-[80vh] flex flex-col",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold p-4 border-b",children:"Sync Salary Structure"}),jsxRuntimeExports.jsx("div",{className:"p-4 border-b",children:jsxRuntimeExports.jsx(InputField$2,{type:"text",placeholder:"Search employees...",value:g,onChange:D=>b(D.target.value)})}),jsxRuntimeExports.jsx("div",{className:"p-4 overflow-y-auto space-y-2",children:m?jsxRuntimeExports.jsx(Loader,{className:"animate-spin mx-auto"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 p-2 rounded bg-slate-50 cursor-pointer font-medium",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:A,onChange:C,className:"h-4 w-4 rounded"}),jsxRuntimeExports.jsx("span",{children:"Select All Visible"})]}),S.map(D=>jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 p-2 rounded hover:bg-slate-50 cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:j.has(D.employeeCode),onChange:()=>$(D.employeeCode),className:"h-4 w-4 rounded"}),jsxRuntimeExports.jsxs("span",{children:[D.firstName," ",D.lastName," (",D.employeeCode,")"]})]},D.employeeCode))]})}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:t,className:"btn-secondary",disabled:R,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{onClick:T,className:"btn-primary flex items-center gap-2",disabled:R,children:[R&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4"})," Sync to Selected (",j.size,")"]})]})]})}):null},PayslipsTab=({employee:e})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState(!0),[u,m]=reactExports.useState(null),p="https://javapaas-202946-0.cloudclusters.net/api",j=reactExports.useCallback(async()=>{l(!0);const g=localStorage.getItem("token");try{const b=await axios.get(`${p}/payslips/employee/${e.employeeCode}`,{headers:{Authorization:`Bearer ${g}`}});n(b.data.sort((R,v)=>new Date(v.payDate)-new Date(R.payDate)))}catch(b){console.error("Error fetching payslips:",b)}finally{l(!1)}},[e.employeeCode,p]);reactExports.useEffect(()=>{j()},[j]);const f=async g=>{m(g);const b=localStorage.getItem("token");try{const R=await axios.get(`${p}/payslips/${g}/download`,{headers:{Authorization:`Bearer ${b}`},responseType:"blob"}),v=window.URL.createObjectURL(new Blob([R.data])),N=document.createElement("a");N.href=v;const S=R.headers["content-disposition"];let $=`payslip-${g}.pdf`;if(S){const C=S.match(/filename="?(.+)"?/);C&&C.length>1&&($=C[1])}N.setAttribute("download",$),document.body.appendChild(N),N.click(),N.remove()}catch{alert("Failed to download payslip.")}finally{m(null)}};return o?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-blue-600"})}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Payslip History"}),t.length===0?jsxRuntimeExports.jsx("p",{className:"text-slate-500",children:"No payslips found for this employee."}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-slate-200 rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Pay Period"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Net Salary"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-slate-200 text-slate-700",children:t.map(g=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:[g.payDate?new Date(g.payDate).toLocaleString("default",{month:"long",year:"numeric"}):"N/A",g.gratuityPayout>0&&jsxRuntimeExports.jsx("span",{className:"ml-2 text-xs font-semibold bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full",children:"Final Settlement"})]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:formatCurrency$2(g.netSalary)}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:g.status}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:jsxRuntimeExports.jsx("button",{onClick:()=>f(g.id),className:"btn-secondary py-1 px-2 text-xs",disabled:u===g.id,children:u===g.id?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4"}):"Download"})})]},g.id))})]})})]})},EmployeePayroll=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(null),[l,u]=reactExports.useState(!0),[m,p]=reactExports.useState(""),[j,f]=reactExports.useState(""),[g,b]=reactExports.useState("Salary Structure"),R="https://javapaas-202946-0.cloudclusters.net/api";reactExports.useEffect(()=>{(async()=>{u(!0),p("");try{const D=localStorage.getItem("token"),I=await axios.get(`${R}/employees/all`,{headers:{Authorization:`Bearer ${D}`}});t(I.data)}catch(D){p("Failed to fetch employee list."),console.error(D)}finally{u(!1)}})()},[R]);const v=reactExports.useMemo(()=>{if(!j)return e;const T=j.toLowerCase();return e.filter(D=>D.firstName&&D.firstName.toLowerCase().includes(T)||D.lastName&&D.lastName.toLowerCase().includes(T)||D.employeeCode&&D.employeeCode.toLowerCase().includes(T))},[e,j]),N=T=>{o(T)},S=()=>{o(null),f("")},$=async T=>{T.preventDefault();const D=j.trim();if(D){u(!0);try{const I=localStorage.getItem("token"),L=await axios.get(`${R}/employees/${D}`,{headers:{Authorization:`Bearer ${I}`}});o(L.data)}catch{console.warn("Direct search failed, relying on filter.")}finally{u(!1)}}},C=[{name:"Salary Structure",icon:DollarSign,component:SalaryStructureTab},{name:"Payslips",icon:FileText,component:PayslipsTab},{name:"Benefit Provisions",icon:Award,component:EmployeeBenefitProvisionTab},{name:"End of Service",icon:LogOut,component:EndOfServiceTab}],A=C.find(T=>T.name===g)?.component;return jsxRuntimeExports.jsxs("div",{children:[n?jsxRuntimeExports.jsx("div",{className:"flex items-center gap-4 mb-6",children:jsxRuntimeExports.jsxs("button",{onClick:S,className:"btn-secondary p-2 flex items-center gap-2",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"h-4 w-4"})," Back to List"]})}):jsxRuntimeExports.jsxs("form",{onSubmit:$,className:"relative mb-6",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by name or employee ID...",value:j,onChange:T=>f(T.target.value),className:"input w-full pl-10"}),jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"})]}),m&&jsxRuntimeExports.jsx("div",{className:"text-center text-red-600 p-4 bg-red-50 rounded-md",children:m}),n?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-4 p-4 mb-4 bg-slate-50 rounded-lg",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"font-bold text-lg text-slate-800",children:[n.firstName," ",n.lastName]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-500",children:n.employeeCode})]})}),jsxRuntimeExports.jsx("div",{className:"border-b border-slate-200 mb-6",children:jsxRuntimeExports.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Sub-tabs",children:C.map(T=>jsxRuntimeExports.jsxs("button",{onClick:()=>b(T.name),className:`whitespace-nowrap flex items-center py-3 px-1 border-b-2 font-medium text-sm transition-colors ${g===T.name?"border-blue-600 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:[jsxRuntimeExports.jsx(T.icon,{className:"mr-2 h-5 w-5"}),T.name]},T.name))})}),jsxRuntimeExports.jsx("div",{children:A&&jsxRuntimeExports.jsx(A,{employee:n})})]}):l?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-blue-600"})}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-slate-200 rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Employee Code"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Work Email"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Status"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-slate-200 text-slate-700",children:v.length>0?v.map(T=>jsxRuntimeExports.jsxs("tr",{onClick:()=>N(T),className:"cursor-pointer hover:bg-slate-50",children:[jsxRuntimeExports.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium",children:[T.firstName," ",T.lastName]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:T.employeeCode}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:T.emailWork}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:jsxRuntimeExports.jsx("span",{className:`inline-block px-2 py-0.5 text-xs font-semibold rounded-full capitalize ${T.status==="ACTIVE"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:T.status?.toLowerCase()})})]},T.employeeCode)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"4",className:"text-center py-10 text-slate-500",children:"No employees found."})})})]})})]})},InputField$1=({label:e,id:t,...n})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-slate-700",children:e}),jsxRuntimeExports.jsx("input",{id:t,...n,className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),InfoDisplay$3=({label:e,value:t})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-500",children:e}),jsxRuntimeExports.jsx("p",{className:"font-medium text-slate-800",children:t||jsxRuntimeExports.jsx("span",{className:"text-slate-400",children:"N/A"})})]}),statusStyles$3={SUBMITTED:{bg:"bg-yellow-100",text:"text-yellow-800"},APPROVED:{bg:"bg-green-100",text:"text-green-800"},REJECTED:{bg:"bg-red-100",text:"text-red-800"},ACTIVE:{bg:"bg-blue-100",text:"text-blue-800"},COMPLETED:{bg:"bg-gray-100",text:"text-gray-800"}},BankAccountTab=({employee:e})=>{const[t,n]=reactExports.useState(null),[o,l]=reactExports.useState(!1),[u,m]=reactExports.useState(!0),[p,j]=reactExports.useState(!1),[f,g]=reactExports.useState(""),b="https://javapaas-202946-0.cloudclusters.net/api",R={bankName:"",accountNumber:"",ifscCode:"",accountHolderName:"",primary:!0},[v,N]=reactExports.useState(R),S=reactExports.useCallback(()=>{m(!0),g("");const A=localStorage.getItem("token");axios.get(`${b}/employee-bank-accounts/${e.employeeCode}`,{headers:{Authorization:`Bearer ${A}`}}).then(T=>{n(T.data),N(T.data)}).catch(T=>{T.response&&T.response.status===404?(n(null),N(R)):g("Failed to load bank account details.")}).finally(()=>m(!1))},[b,e.employeeCode]);reactExports.useEffect(()=>{S()},[S]);const $=A=>{const{name:T,value:D,type:I,checked:L}=A.target;N(_=>({..._,[T]:I==="checkbox"?L:D}))},C=A=>{A.preventDefault(),j(!0);const T=localStorage.getItem("token");axios.put(`${b}/employee-bank-accounts/${e.employeeCode}`,v,{headers:{Authorization:`Bearer ${T}`}}).then(D=>{n(D.data),N(D.data),l(!1),alert("Bank account details saved successfully!")}).catch(D=>{alert(D.response?.data?.message||"Failed to save bank account details.")}).finally(()=>j(!1))};return u?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-blue-600"})}):f?jsxRuntimeExports.jsx("div",{className:"text-center text-red-600 p-4 bg-red-50 rounded-md",children:f}):!o&&!t?jsxRuntimeExports.jsxs("div",{className:"text-center py-10 border-2 border-dashed border-slate-300 rounded-lg",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium text-slate-900",children:"No Bank Account Found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Add bank account details for this employee."}),jsxRuntimeExports.jsx("div",{className:"mt-6",children:jsxRuntimeExports.jsx("button",{onClick:()=>l(!0),className:"btn-primary",children:"Add Account Details"})})]}):jsxRuntimeExports.jsxs("div",{children:[!o&&jsxRuntimeExports.jsx("div",{className:"flex justify-end mb-4",children:jsxRuntimeExports.jsxs("button",{onClick:()=>l(!0),className:"btn-secondary flex items-center gap-2",children:[jsxRuntimeExports.jsx(SquarePen,{size:16})," Edit"]})}),o?jsxRuntimeExports.jsxs("form",{onSubmit:C,className:"space-y-4 max-w-lg",children:[jsxRuntimeExports.jsx(InputField$1,{label:"Bank Name",name:"bankName",value:v.bankName,onChange:$,required:!0}),jsxRuntimeExports.jsx(InputField$1,{label:"Account Holder Name",name:"accountHolderName",value:v.accountHolderName,onChange:$,required:!0}),jsxRuntimeExports.jsx(InputField$1,{label:"Account Number",name:"accountNumber",value:v.accountNumber,onChange:$,required:!0}),jsxRuntimeExports.jsx(InputField$1,{label:"IFSC Code",name:"ifscCode",value:v.ifscCode,onChange:$,required:!0}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",id:"isPrimary",name:"primary",checked:v.primary,onChange:$,className:"h-4 w-4"}),jsxRuntimeExports.jsx("label",{htmlFor:"isPrimary",className:"ml-2 text-sm",children:"Set as primary account"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>l(!1),className:"btn-secondary",disabled:p,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:p,children:[p&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"})," Save"]})]})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-4 max-w-lg",children:[jsxRuntimeExports.jsx(InfoDisplay$3,{label:"Bank Name",value:t.bankName}),jsxRuntimeExports.jsx(InfoDisplay$3,{label:"Account Holder Name",value:t.accountHolderName}),jsxRuntimeExports.jsx(InfoDisplay$3,{label:"Account Number",value:t.accountNumber}),jsxRuntimeExports.jsx(InfoDisplay$3,{label:"IFSC Code",value:t.ifscCode}),jsxRuntimeExports.jsx(InfoDisplay$3,{label:"Primary Account",value:t.primary?"Yes":"No"})]})]})},LoansTab=({employee:e})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState(!0),[u,m]=reactExports.useState(null),p="https://javapaas-202946-0.cloudclusters.net/api",j=reactExports.useCallback(()=>{l(!0);const g=localStorage.getItem("token");axios.get(`${p}/employee-loans/employee/${e.employeeCode}`,{headers:{Authorization:`Bearer ${g}`}}).then(b=>n(b.data)).catch(b=>console.error("Error fetching loans:",b)).finally(()=>l(!1))},[p,e.employeeCode]);reactExports.useEffect(()=>{j()},[j]);const f=async(g,b)=>{if(window.confirm(`Are you sure you want to ${b} this loan?`))try{const R=localStorage.getItem("token");await axios.put(`${p}/employee-loans/${g}/${b}`,{},{headers:{Authorization:`Bearer ${R}`}}),j()}catch{alert(`Failed to ${b} loan.`)}};return o?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-blue-600"})}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Loan History"}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-slate-200 rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Product"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Amount"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"EMI"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Installments"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-slate-200 text-slate-700",children:t.length>0?t.map(g=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:g.loanProductName}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:g.loanAmount}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:g.emiAmount}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:[g.remainingInstallments,"/",g.totalInstallments]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:jsxRuntimeExports.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold capitalize ${statusStyles$3[g.status]?.bg||"bg-slate-100"} ${statusStyles$3[g.status]?.text||"text-slate-800"}`,children:g.status.toLowerCase()})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:g.status==="SUBMITTED"&&jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>f(g.id,"approve"),className:"text-green-600 hover:underline text-xs",children:"Approve"}),jsxRuntimeExports.jsx("button",{onClick:()=>f(g.id,"reject"),className:"text-red-600 hover:underline text-xs",children:"Reject"})]})})]},g.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"6",className:"text-center py-10 text-slate-500",children:"No loan history found."})})})]})})]})},ExpensesTab=({employee:e})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState(!0),[u,m]=reactExports.useState(null),p="https://javapaas-202946-0.cloudclusters.net/api",j=reactExports.useCallback(()=>{l(!0);const R=localStorage.getItem("token");axios.get(`${p}/expenses/employee/${e.employeeCode}`,{headers:{Authorization:`Bearer ${R}`}}).then(v=>n(v.data)).catch(v=>console.error("Error fetching expenses:",v)).finally(()=>l(!1))},[p,e.employeeCode]);reactExports.useEffect(()=>{j()},[j]);const f=async(R,v)=>{if(window.confirm(`Are you sure you want to ${v} this expense?`))try{const N=localStorage.getItem("token");await axios.put(`${p}/expenses/${R}/${v}`,{},{headers:{Authorization:`Bearer ${N}`}}),j()}catch{alert(`Failed to ${v} expense.`)}},g=async R=>{if(window.confirm("Are you sure you want to delete this expense claim? This action cannot be undone."))try{const v=localStorage.getItem("token");await axios.delete(`${p}/expenses/${R}`,{headers:{Authorization:`Bearer ${v}`}}),j(),alert("Expense claim deleted successfully.")}catch(v){alert(`Failed to delete expense: ${v.response?.data?.message||"Please try again."}`)}},b=async R=>{if(R.receiptPath)try{const v=localStorage.getItem("token"),N=await axios.get(`${p}/expenses/${R.id}/receipt`,{headers:{Authorization:`Bearer ${v}`},responseType:"blob"}),S=new Blob([N.data],{type:N.headers["content-type"]}),$=URL.createObjectURL(S);m($)}catch(v){console.error("Error fetching receipt:",v),alert("Could not load the receipt. It may have been deleted.")}};return o?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-blue-600"})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Expense Claims"}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-slate-200 rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Amount"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Receipt"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Review"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Review"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-slate-200 text-slate-700",children:t.length>0?t.map(R=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:new Date(R.expenseDate).toLocaleDateString()}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:R.category}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:"AED"}).format(R.amount)}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:jsxRuntimeExports.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold capitalize ${statusStyles$3[R.status]?.bg||"bg-slate-100"} ${statusStyles$3[R.status]?.text||"text-slate-800"}`,children:R.status.toLowerCase()})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:R.receiptPath&&jsxRuntimeExports.jsxs("button",{onClick:()=>b(R),className:"text-blue-600 hover:underline text-xs flex items-center gap-1",children:[jsxRuntimeExports.jsx(Eye,{size:14})," View"]})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm space-x-2",children:R.status==="SUBMITTED"&&jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>f(R.id,"approve"),className:"p-1.5 text-green-600 hover:bg-green-100 rounded-full",title:"Approve",children:jsxRuntimeExports.jsx(Check,{size:14})}),jsxRuntimeExports.jsx("button",{onClick:()=>f(R.id,"reject"),className:"p-1.5 text-red-600 hover:bg-red-100 rounded-full",title:"Reject",children:jsxRuntimeExports.jsx(X,{size:14})})]})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:jsxRuntimeExports.jsx("button",{onClick:()=>g(R.id),className:"p-1.5 text-slate-500 hover:text-red-600 hover:bg-red-100 rounded-full",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:14})})})]},R.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"8",className:"text-center py-10 text-slate-500",children:"No expense claims found."})})})]})}),u&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex justify-center items-center p-4",onClick:()=>m(null),children:jsxRuntimeExports.jsxs("div",{className:"bg-white p-2 rounded-lg max-w-4xl max-h-[90vh]",onClick:R=>R.stopPropagation(),children:[jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsx("button",{onClick:()=>m(null),className:"p-2 rounded-full hover:bg-slate-100 -mr-2 -mt-2 mb-2",children:jsxRuntimeExports.jsx(X,{size:20})})}),jsxRuntimeExports.jsx("img",{src:u,alt:"Expense Receipt",className:"max-w-full max-h-[80vh] object-contain"})]})})]})},EmployeeDetails=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(null),[l,u]=reactExports.useState(!0),[m,p]=reactExports.useState(""),[j,f]=reactExports.useState(""),[g,b]=reactExports.useState("Bank Account"),R="https://javapaas-202946-0.cloudclusters.net/api";reactExports.useEffect(()=>{(async()=>{u(!0),p("");try{const T=localStorage.getItem("token"),D=await axios.get(`${R}/employees/all`,{headers:{Authorization:`Bearer ${T}`}});t(D.data)}catch(T){p("Failed to fetch employee list."),console.error(T)}finally{u(!1)}})()},[R]);const v=reactExports.useMemo(()=>{if(!j)return e;const A=j.toLowerCase();return e.filter(T=>T.firstName&&T.firstName.toLowerCase().includes(A)||T.lastName&&T.lastName.toLowerCase().includes(A)||T.employeeCode&&T.employeeCode.toLowerCase().includes(A))},[e,j]),N=A=>{o(A)},S=()=>{o(null),f("")},$=[{name:"Bank Account",icon:Banknote,component:BankAccountTab},{name:"Loans",icon:HandCoins,component:LoansTab},{name:"Expenses",icon:Receipt,component:ExpensesTab}],C=$.find(A=>A.name===g)?.component;return jsxRuntimeExports.jsxs("div",{children:[n?jsxRuntimeExports.jsx("div",{className:"flex items-center gap-4 mb-6",children:jsxRuntimeExports.jsxs("button",{onClick:S,className:"btn-secondary p-2 flex items-center gap-2",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"h-4 w-4"})," Back to List"]})}):jsxRuntimeExports.jsxs("div",{className:"relative mb-6",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by name or employee ID...",value:j,onChange:A=>f(A.target.value),className:"input w-full pl-10"}),jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"})]}),m&&jsxRuntimeExports.jsx("div",{className:"text-center text-red-600 p-4 bg-red-50 rounded-md",children:m}),n?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 p-4 mb-4 bg-slate-50 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"w-12 h-12 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold text-xl",children:[n.firstName.charAt(0),n.lastName.charAt(0)]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"font-bold text-lg text-slate-800",children:[n.firstName," ",n.lastName]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-500",children:n.employeeCode})]})]}),jsxRuntimeExports.jsx("div",{className:"border-b border-slate-200 mb-6",children:jsxRuntimeExports.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Sub-tabs",children:$.map(A=>jsxRuntimeExports.jsxs("button",{onClick:()=>b(A.name),className:`whitespace-nowrap flex items-center py-3 px-1 border-b-2 font-medium text-sm transition-colors ${g===A.name?"border-blue-600 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:[jsxRuntimeExports.jsx(A.icon,{className:"mr-2 h-5 w-5"}),A.name]},A.name))})}),jsxRuntimeExports.jsx("div",{children:C&&jsxRuntimeExports.jsx(C,{employee:n})})]}):l?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-blue-600"})}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-slate-200 rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Employee Code"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Work Email"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Status"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-slate-200 text-slate-700",children:v.length>0?v.map(A=>jsxRuntimeExports.jsxs("tr",{onClick:()=>N(A),className:"cursor-pointer hover:bg-slate-50",children:[jsxRuntimeExports.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium",children:[A.firstName," ",A.lastName]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:A.employeeCode}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:A.emailWork}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:jsxRuntimeExports.jsx("span",{className:`inline-block px-2 py-0.5 text-xs font-semibold rounded-full capitalize ${A.status==="ACTIVE"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:A.status?.toLowerCase()})})]},A.employeeCode)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"4",className:"text-center py-10 text-slate-500",children:"No employees found."})})})]})})]})},API_URL$1u="https://javapaas-202946-0.cloudclusters.net/api",statusIcons={GENERATED:jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-5 w-5 text-green-500"}),PENDING:jsxRuntimeExports.jsx(FileClock,{className:"h-5 w-5 text-yellow-500"}),FAILED:jsxRuntimeExports.jsx(CircleX,{className:"h-5 w-5 text-red-500"})},ProcessPayrollRun=({run:e,onBack:t,onRunComplete:n})=>{const[o,l]=reactExports.useState([]),[u,m]=reactExports.useState([]),[p,j]=reactExports.useState([]),[f,g]=reactExports.useState(!0),[b,R]=reactExports.useState(new Set),[v,N]=reactExports.useState("pending"),[S,$]=reactExports.useState(""),[C,A]=reactExports.useState("all"),T=reactExports.useCallback(async()=>{g(!0);try{const B={Authorization:`Bearer ${localStorage.getItem("token")}`},[q,z,V]=await Promise.all([axios.get(`${API_URL$1u}/employees/all`,{headers:B}),axios.get(`${API_URL$1u}/payroll-runs/${e.id}/payslips`,{headers:B}).catch(()=>({data:[]})),axios.get(`${API_URL$1u}/departments`,{headers:B})]),Q=await Promise.all(q.data.map(async ee=>{try{const G=await axios.get(`${API_URL$1u}/job-details/${ee.employeeCode}`,{headers:B});return{...ee,jobDetails:G.data}}catch{return{...ee,jobDetails:null}}}));l(Q),j(z.data),m(V.data)}catch(F){console.error("Failed to fetch employee data for payroll run",F)}finally{g(!1)}},[e.id,API_URL$1u]);reactExports.useEffect(()=>{T()},[T]);const D=async(F,B)=>{R(q=>new Set(q).add(B));try{const q=localStorage.getItem("token"),z=await axios.post(`${API_URL$1u}/payroll-runs/${e.id}/execute/employee/${F}`,{},{headers:{Authorization:`Bearer ${q}`}});j(V=>[...V,z.data])}catch{alert(`Failed to generate payslip for ${B}.`)}finally{R(q=>{const z=new Set(q);return z.delete(B),z})}},I=async()=>{const F=o.filter(q=>!p.some(z=>z.employeeCode===q.employeeCode));if(F.length===0||!window.confirm(`Are you sure you want to generate payslips for all ${F.length} pending employees?`))return;const B=F.map(q=>q.employeeCode);R(new Set(B));try{const q=localStorage.getItem("token");await axios.post(`${API_URL$1u}/payroll-runs/${e.id}/execute`,{},{headers:{Authorization:`Bearer ${q}`}}),n()}catch{alert("Failed to execute the payroll run for all employees."),R(new Set)}},L=reactExports.useMemo(()=>{const F=new Set(p.map(q=>q.employeeCode));let B=o.filter(q=>!F.has(q.employeeCode));if(C!=="all"&&(B=B.filter(q=>q.jobDetails?.department===C)),S){const q=S.toLowerCase();B=B.filter(z=>`${z.firstName} ${z.lastName}`.toLowerCase().includes(q)||z.employeeCode.toLowerCase().includes(q))}return B},[o,p,S,C]),_=reactExports.useMemo(()=>{let F=p;if(C!=="all"){const B=new Map(o.map(q=>[q.employeeCode,q]));F=F.filter(q=>B.get(q.employeeCode)?.jobDetails?.department===C)}if(S){const B=S.toLowerCase();F=F.filter(q=>q.employeeName.toLowerCase().includes(B)||q.employeeCode.toLowerCase().includes(B))}return F},[p,S,o,C]),M=()=>{if(L.length===0)return jsxRuntimeExports.jsxs("button",{className:"btn-secondary flex items-center gap-2",disabled:!0,children:[jsxRuntimeExports.jsx(CircleCheckBig,{size:16})," All Generated"]});const F=p.length>0?`Generate Remaining (${L.length})`:`Generate for All (${L.length})`;return jsxRuntimeExports.jsxs("button",{onClick:I,className:"btn-primary flex items-center gap-2",disabled:b.size>0,children:[jsxRuntimeExports.jsx(Play,{size:16})," ",F]})};return f?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-blue-600"})}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-sm font-medium text-slate-600 hover:text-slate-900 mb-2",children:[jsxRuntimeExports.jsx(ArrowLeft,{size:16})," Back to Payroll Runs"]}),jsxRuntimeExports.jsxs("h2",{className:"text-2xl font-bold",children:["Process Payroll for ",new Date(e.payPeriodStart).toLocaleString("default",{month:"long"})," ",e.year]})]}),M()]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-slate-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>N("pending"),className:`px-4 py-2 text-sm font-medium ${v==="pending"?"border-b-2 border-blue-600 text-blue-600":"text-slate-500"}`,children:["Pending (",L.length,")"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>N("completed"),className:`px-4 py-2 text-sm font-medium ${v==="completed"?"border-b-2 border-blue-600 text-blue-600":"text-slate-500"}`,children:["Completed (",_.length,")"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("select",{value:C,onChange:F=>A(F.target.value),className:"input w-48",children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Departments"}),u.map(F=>jsxRuntimeExports.jsx("option",{value:F.name,children:F.name},F.id))]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search employees...",value:S,onChange:F=>$(F.target.value),className:"input w-64 pr-10"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"overflow-x-auto border border-slate-200 rounded-lg",children:[v==="pending"&&jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Employee"}),jsxRuntimeExports.jsx("th",{className:"th-cell text-right",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-slate-200 text-slate-700",children:L.map(F=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsxs("td",{className:"td-cell",children:[jsxRuntimeExports.jsxs("div",{className:"font-medium",children:[F.firstName," ",F.lastName]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-slate-500",children:[F.employeeCode," (",F.jobDetails?.department||"No Dept",")"]})]}),jsxRuntimeExports.jsx("td",{className:"td-cell text-right",children:b.has(F.employeeCode)?jsxRuntimeExports.jsx("button",{className:"btn-secondary py-1 px-3 text-xs w-24 justify-center",disabled:!0,children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4"})}):jsxRuntimeExports.jsx("button",{onClick:()=>D(F.id,F.employeeCode),className:"btn-secondary py-1 px-3 text-xs w-24 justify-center",children:"Generate"})})]},F.employeeCode))})]}),v==="completed"&&jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Employee"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Net Salary"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Status"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-slate-200 text-slate-700",children:_.map(F=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsxs("td",{className:"td-cell",children:[jsxRuntimeExports.jsx("div",{className:"font-medium",children:F.employeeName}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-slate-500",children:[F.employeeCode," (",o.find(B=>B.employeeCode===F.employeeCode)?.jobDetails?.department||"No Dept",")"]})]}),jsxRuntimeExports.jsx("td",{className:"td-cell font-mono",children:F.netSalary}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2 text-sm capitalize",children:[statusIcons[F.status]||statusIcons.PENDING," ",F.status.toLowerCase()]})})]},F.id))})]})]})]})},InputField=({label:e,id:t,type:n="text",children:o,...l})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-slate-700",children:e}),jsxRuntimeExports.jsx("input",{id:t,type:n,...l,className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),Modal$d=({isOpen:e,onClose:t,title:n,children:o})=>e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:n}),jsxRuntimeExports.jsx("button",{onClick:t,className:"text-slate-500 hover:text-slate-800",children:""})]}),o]})}):null,statusStyles$2={DRAFT:"bg-yellow-100 text-yellow-800",PROCESSING:"bg-blue-100 text-blue-800",COMPLETED:"bg-green-100 text-green-800",PAID:"bg-green-100 text-green-800",GENERATED:"bg-green-100 text-green-800",FAILED:"bg-red-100 text-red-800"},CreateRunModal=({isOpen:e,onClose:t,onCreate:n})=>{const[o,l]=reactExports.useState(new Date().getFullYear()),[u,m]=reactExports.useState(new Date().getMonth()+1),p=j=>{j.preventDefault(),n(o,u)};return jsxRuntimeExports.jsx(Modal$d,{isOpen:e,onClose:t,title:"Create New Payroll Run",children:jsxRuntimeExports.jsxs("form",{onSubmit:p,className:"space-y-4",children:[jsxRuntimeExports.jsx(InputField,{label:"Year",type:"number",value:o,onChange:j=>l(j.target.value),required:!0}),jsxRuntimeExports.jsx(InputField,{label:"Month",type:"number",min:"1",max:"12",value:u,onChange:j=>m(j.target.value),required:!0}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"btn-primary",children:"Create Draft"})]})]})})},PayslipsModal=({isOpen:e,onClose:t,run:n,payslips:o,loading:l})=>n?jsxRuntimeExports.jsx(Modal$d,{isOpen:e,onClose:t,title:`Payslips for ${new Date(n.payPeriodStart).toLocaleString("default",{month:"long"})} ${n.year}`,children:l?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-blue-600"})}):jsxRuntimeExports.jsx("div",{className:"overflow-y-auto max-h-[60vh]",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Employee"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Net Salary"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Status"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-slate-200 text-slate-700",children:o.map(u=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:u.employeeName||u.employeeId}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:u.netSalary}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:u.status})]},u.id))})]})})}):null,PayrollRun=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState(""),[m,p]=reactExports.useState(!1),[j,f]=reactExports.useState(!1),[g,b]=reactExports.useState(null),[R,v]=reactExports.useState("list"),[N,S]=reactExports.useState([]),[$,C]=reactExports.useState(!1),A="https://javapaas-202946-0.cloudclusters.net/api",T=reactExports.useCallback((_=!0)=>{_&&o(!0),o(!0);const M=localStorage.getItem("token");axios.get(`${A}/payroll-runs`,{headers:{Authorization:`Bearer ${M}`}}).then(F=>t(F.data.sort((B,q)=>new Date(q.payPeriodStart)-new Date(B.payPeriodStart)))).catch(F=>{console.error("Error fetching payroll runs:",F),u("Failed to load payroll runs.")}).finally(()=>o(!1))},[A]);reactExports.useEffect(()=>{T()},[T]);const D=async(_,M)=>{try{const F=localStorage.getItem("token");await axios.post(`${A}/payroll-runs`,{year:_,month:M},{headers:{Authorization:`Bearer ${F}`}}),p(!1),T(),alert("Payroll run created successfully as a draft.")}catch(F){console.error("Error creating payroll run:",F),alert(F.response?.data?.message||"Failed to create payroll run.")}},I=async _=>{const M=e.find(F=>F.id===_);M&&(b(M),v("process"))},L=async _=>{b(_),f(!0),C(!0);try{const M=localStorage.getItem("token"),F=await axios.get(`${A}/payroll-runs/${_.id}/payslips`,{headers:{Authorization:`Bearer ${M}`}});S(F.data)}catch(M){console.error("Error fetching payslips:",M),alert("Failed to fetch payslips for this run.")}finally{C(!1)}};return n?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-blue-600"})}):l?jsxRuntimeExports.jsx("div",{className:"text-center text-red-600 p-4 bg-red-50 rounded-md",children:l}):R==="process"&&g?jsxRuntimeExports.jsx(ProcessPayrollRun,{run:g,onBack:()=>v("list"),onRunComplete:()=>{v("list"),T(!1)}}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Payroll Runs"}),jsxRuntimeExports.jsxs("button",{onClick:()=>p(!0),className:"btn-primary flex items-center gap-2",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Create Payroll Run"]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(_=>jsxRuntimeExports.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg shadow-sm flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("h4",{className:"text-lg font-bold text-slate-800",children:[new Date(_.payPeriodStart).toLocaleString("default",{month:"long"})," ",_.year]}),jsxRuntimeExports.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold ${statusStyles$2[_.status]||"bg-slate-100 text-slate-800"}`,children:_.status})]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Period: ",new Date(_.payPeriodStart).toLocaleDateString()," - ",new Date(_.payPeriodEnd).toLocaleDateString()]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-3 text-sm text-slate-600 flex-grow",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[_.status==="DRAFT"?jsxRuntimeExports.jsx(FileClock,{className:"h-4 w-4 text-yellow-500"}):_.status==="FAILED"?jsxRuntimeExports.jsx(TriangleAlert,{className:"h-4 w-4 text-red-500"}):jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4 text-green-500"}),jsxRuntimeExports.jsxs("span",{children:["Status: ",_.status]})]}),_.executedAt&&jsxRuntimeExports.jsxs("p",{className:"text-xs",children:["Executed on: ",new Date(_.executedAt).toLocaleString()]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-slate-50 border-t flex justify-end",children:[_.status==="DRAFT"&&jsxRuntimeExports.jsxs("button",{onClick:()=>I(_.id),className:"btn-primary py-1 px-3 text-sm flex items-center gap-2",children:[jsxRuntimeExports.jsx(Play,{size:14})," Process Payroll"]}),_.status==="PROCESSING"&&jsxRuntimeExports.jsxs("span",{className:"text-sm italic text-slate-500 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4"})," Processing..."]}),(_.status==="COMPLETED"||_.status==="PAID"||_.status==="GENERATED")&&jsxRuntimeExports.jsxs("button",{onClick:()=>L(_),className:"btn-secondary py-1 px-3 text-sm flex items-center gap-2",children:[jsxRuntimeExports.jsx(Eye,{size:14})," View Payslips"]})]})]},_.id))}),jsxRuntimeExports.jsx(CreateRunModal,{isOpen:m,onClose:()=>p(!1),onCreate:D}),jsxRuntimeExports.jsx(PayslipsModal,{isOpen:j,onClose:()=>f(!1),run:g,payslips:N,loading:$})]})},API_URL$1t="https://javapaas-202946-0.cloudclusters.net/api",statusStyles$1={SUBMITTED:{bg:"bg-yellow-100 dark:bg-yellow-900/50",text:"text-yellow-800 dark:text-yellow-300",icon:FileClock},APPROVED:{bg:"bg-green-100 dark:bg-green-900/50",text:"text-green-800 dark:text-green-300",icon:Check},REJECTED:{bg:"bg-red-100 dark:bg-red-900/50",text:"text-red-800 dark:text-red-300",icon:X},ACTIVE:{bg:"bg-blue-100 dark:bg-blue-900/50",text:"text-blue-800 dark:text-blue-300",icon:Activity},COMPLETED:{bg:"bg-gray-100 dark:bg-gray-700",text:"text-gray-800 dark:text-gray-300",icon:Check}},formatCurrency$1=(e,t="AED")=>new Intl.NumberFormat("en-IN",{style:"currency",currency:t,minimumFractionDigits:2}).format(e||0),AllLoanRequests=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState(""),[m,p]=reactExports.useState("SUBMITTED"),[j,f]=reactExports.useState(""),g=reactExports.useCallback(async()=>{o(!0),u("");try{const N=localStorage.getItem("token"),S=await axios.get(`${API_URL$1t}/employee-loans`,{headers:{Authorization:`Bearer ${N}`}});t(S.data.sort(($,C)=>new Date(C.requestedAt)-new Date($.requestedAt)))}catch(N){u("Failed to fetch loan requests."),console.error("Fetch Error:",N)}finally{o(!1)}},[]);reactExports.useEffect(()=>{g()},[g]);const b=async(N,S)=>{if(window.confirm(`Are you sure you want to ${S} this loan request?`))try{const $=localStorage.getItem("token");await axios.put(`${API_URL$1t}/employee-loans/${N}/${S}`,{},{headers:{Authorization:`Bearer ${$}`}}),g()}catch{alert(`Failed to ${S} loan request.`)}},R=reactExports.useMemo(()=>{let N=e.filter(S=>S.status===m);if(j){const S=j.toLowerCase();N=N.filter($=>($.employeeName?.toLowerCase()||"").includes(S)||($.employeeCode?.toLowerCase()||"").includes(S))}return N},[e,m,j]),v=["SUBMITTED","APPROVED","REJECTED","ACTIVE","COMPLETED"];return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"flex border-b border-slate-200 dark:border-slate-700",children:v.map(N=>jsxRuntimeExports.jsx("button",{onClick:()=>p(N),className:`px-3 py-2 text-sm font-medium whitespace-nowrap ${m===N?"border-b-2 border-blue-600 text-blue-600 dark:text-blue-400":"border-b-2 border-transparent text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200"}`,children:N.charAt(0)+N.slice(1).toLowerCase()},N))}),jsxRuntimeExports.jsxs("div",{className:"relative w-full sm:w-64",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by employee...",value:j,onChange:N=>f(N.target.value),className:"input w-full pr-10 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-200"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"})]})]}),l&&jsxRuntimeExports.jsx("div",{className:"text-center text-red-600 dark:text-red-400 p-4 bg-red-50 dark:bg-red-900/20 rounded-md mb-4",children:l}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-white dark:bg-slate-800/50",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Employee"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Loan Product"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Amount"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Installments"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"dark:text-slate-300",children:n?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"6",className:"text-center py-10",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto"})})}):R.length>0?R.map(N=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[jsxRuntimeExports.jsxs("td",{className:"td-cell",children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-slate-800 dark:text-slate-100",children:N.employeeName||"N/A"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:N.employeeCode||"N/A"})]}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:N.loanProductName}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:formatCurrency$1(N.loanAmount)}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:N.totalInstallments}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-0.5 text-xs font-semibold rounded-full ${statusStyles$1[N.status]?.bg} ${statusStyles$1[N.status]?.text}`,children:[React.createElement(statusStyles$1[N.status].icon,{className:"h-3 w-3"}),N.status.toLowerCase()]})}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:N.status==="SUBMITTED"&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400",children:[jsxRuntimeExports.jsx("button",{onClick:()=>b(N.id,"reject"),className:"p-1.5 hover:text-red-600 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",title:"Reject",children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>b(N.id,"approve"),className:"p-1.5 hover:text-green-600 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",title:"Approve",children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})]})})]},N.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"6",className:"text-center py-10 text-slate-500 dark:text-slate-400",children:[jsxRuntimeExports.jsx(FileClock,{className:"mx-auto h-12 w-12 text-slate-400 dark:text-slate-500"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-semibold dark:text-slate-300",children:"No requests found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"There are no loan requests matching your criteria."})]})})})]})})]})},API_URL$1s="https://javapaas-202946-0.cloudclusters.net/api",statusStyles={SUBMITTED:{bg:"bg-yellow-100",text:"text-yellow-800",icon:FileClock},APPROVED:{bg:"bg-green-100",text:"text-green-800",icon:Check},REJECTED:{bg:"bg-red-100",text:"text-red-800",icon:X}},formatCurrency=(e,t="AED")=>new Intl.NumberFormat("en-IN",{style:"currency",currency:t,minimumFractionDigits:2}).format(e||0),AllExpenseRequests=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState(""),[m,p]=reactExports.useState("SUBMITTED"),[j,f]=reactExports.useState(""),[g,b]=reactExports.useState(null),R=reactExports.useCallback(async()=>{o(!0),u("");try{const C=localStorage.getItem("token"),A=await axios.get(`${API_URL$1s}/expenses`,{headers:{Authorization:`Bearer ${C}`}});t(A.data.sort((T,D)=>new Date(D.createdAt)-new Date(T.createdAt)))}catch(C){u("Failed to fetch expense requests."),console.error("Fetch Error:",C)}finally{o(!1)}},[]);reactExports.useEffect(()=>{R()},[R]);const v=async(C,A)=>{if(window.confirm(`Are you sure you want to ${A} this expense?`))try{const T=localStorage.getItem("token");await axios.put(`${API_URL$1s}/expenses/${C}/${A}`,{},{headers:{Authorization:`Bearer ${T}`}}),R()}catch{alert(`Failed to ${A} expense.`)}},N=C=>{b(C)},S=reactExports.useMemo(()=>{let C=e.filter(A=>A.status===m);if(j){const A=j.toLowerCase();C=C.filter(T=>(T.employeeName?.toLowerCase()||"").includes(A)||(T.employeeCode?.toLowerCase()||"").includes(A)||(T.category?.toLowerCase()||"").includes(A))}return C},[e,m,j]),$=["SUBMITTED","APPROVED","REJECTED"];return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"flex border-b border-slate-200 dark:border-slate-700",children:$.map(C=>jsxRuntimeExports.jsx("button",{onClick:()=>p(C),className:`px-3 py-2 text-sm font-medium whitespace-nowrap ${m===C?"border-b-2 border-blue-600 text-blue-600 dark:text-blue-400":"border-b-2 border-transparent text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200"}`,children:C.charAt(0)+C.slice(1).toLowerCase()},C))}),jsxRuntimeExports.jsxs("div",{className:"relative w-full sm:w-64",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by employee...",value:j,onChange:C=>f(C.target.value),className:"input w-full pr-10 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-200"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"})]})]}),l&&jsxRuntimeExports.jsx("div",{className:"text-center text-red-600 dark:text-red-400 p-4 bg-red-50 dark:bg-red-900/20 rounded-md mb-4",children:l}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-white dark:bg-slate-800/50",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Employee"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Amount"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Receipt"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"dark:text-slate-300",children:n?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"7",className:"text-center py-10",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto"})})}):S.length>0?S.map(C=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[jsxRuntimeExports.jsxs("td",{className:"td-cell",children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-slate-800 dark:text-slate-100",children:C.employeeName}),jsxRuntimeExports.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:C.employeeCode})]}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:C.category}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:formatCurrency(C.amount)}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:new Date(C.expenseDate).toLocaleDateString()}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-0.5 text-xs font-semibold rounded-full ${statusStyles[C.status]?.bg} ${statusStyles[C.status]?.text}`,children:[React.createElement(statusStyles[C.status].icon,{className:"h-3 w-3"}),C.status.toLowerCase()]})}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:C.attachments&&C.attachments.length>0?jsxRuntimeExports.jsx("div",{className:"flex flex-col",children:C.attachments.map(A=>jsxRuntimeExports.jsxs("button",{onClick:()=>N(A.viewUrl),className:"text-primary hover:underline text-xs flex items-center gap-1",children:[jsxRuntimeExports.jsx(Eye,{size:14}),A.originalFilename]},A.id))}):jsxRuntimeExports.jsx("span",{children:"No attachments"})}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:C.status==="SUBMITTED"&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-foreground-muted",children:[jsxRuntimeExports.jsx("button",{onClick:()=>v(C.id,"reject"),className:"p-1.5 hover:text-red-600 rounded-full hover:bg-background-muted",title:"Reject",children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>v(C.id,"approve"),className:"p-1.5 hover:text-green-600 rounded-full hover:bg-background-muted",title:"Approve",children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})]})})]},C.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"7",className:"text-center py-10 text-foreground-muted",children:[jsxRuntimeExports.jsx(FileClock,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-semibold text-foreground",children:"No requests found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"There are no expense requests matching your criteria."})]})})})]})}),g&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/75 z-50 flex justify-center items-center p-4",onClick:()=>b(null),children:jsxRuntimeExports.jsxs("div",{className:"bg-card p-2 rounded-lg max-w-4xl max-h-[90vh]",onClick:C=>C.stopPropagation(),children:[jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsx("button",{onClick:()=>b(null),className:"p-2 rounded-full text-foreground-muted hover:bg-background-muted -mr-2 -mt-2 mb-2",children:jsxRuntimeExports.jsx(X,{size:20})})})," ",jsxRuntimeExports.jsx("img",{src:g,alt:"Expense Receipt",className:"max-w-full max-h-[80vh] object-contain"})]})})]})},allTabs=[{name:"Manage Employee Payroll",icon:HandCoins,component:EmployeePayroll,color:"text-green-600",bgColor:"bg-green-100",module:"HRMS_PAYROLL"},{name:"Payroll Run",icon:Play,component:PayrollRun,color:"text-cyan-600",bgColor:"bg-cyan-100",module:"HRMS_PAYROLL"},{name:"Employee Details",icon:Users,component:EmployeeDetails,color:"text-blue-600",bgColor:"bg-blue-100",module:"HRMS_CORE"},{name:"Loan Requests",icon:Hand,component:AllLoanRequests,color:"text-indigo-600",bgColor:"bg-indigo-100",module:"HRMS_PAYROLL"},{name:"Expense Requests",icon:Receipt,component:AllExpenseRequests,color:"text-rose-600",bgColor:"bg-rose-100",module:"HRMS_PAYROLL"},{name:"Company Info",icon:Building,component:CompanyInfo,color:"text-orange-600",bgColor:"bg-orange-100"},{name:"Settings",icon:SlidersHorizontal,component:PayrollSettings,color:"text-purple-600",bgColor:"bg-purple-100"}],PayrollManagement=()=>{const{hasModule:e}=useTenant(),t=reactExports.useMemo(()=>allTabs.filter(u=>!u.module||e(u.module)),[e]),[n,o]=reactExports.useState(t[0]?.name),l=t.find(u=>u.name===n)?.component;return jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-8 h-full flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Payroll Management"}),jsxRuntimeExports.jsx("p",{className:"text-slate-500 mt-1",children:"Run payroll, manage loans, and configure settings."})]}),jsxRuntimeExports.jsx("div",{className:"border-b border-slate-200",children:jsxRuntimeExports.jsx("nav",{className:"-mb-px flex space-x-6 overflow-x-auto","aria-label":"Tabs",children:t.map(u=>jsxRuntimeExports.jsxs("button",{onClick:()=>o(u.name),className:`whitespace-nowrap flex items-center gap-3 py-3 px-4 border-b-2 font-medium text-sm transition-colors group rounded-t-lg ${n===u.name?"border-blue-600 text-blue-600 bg-blue-50":"border-transparent text-slate-500 hover:text-slate-700 hover:bg-slate-50"}`,children:[jsxRuntimeExports.jsx("div",{className:`p-1.5 rounded-md ${u.bgColor} ${n===u.name?"":"opacity-80 group-hover:opacity-100"}`,children:jsxRuntimeExports.jsx(u.icon,{className:`h-4 w-4 ${u.color}`})}),u.name]},u.name))})}),jsxRuntimeExports.jsx("div",{className:"mt-6 bg-white p-6 rounded-xl shadow-sm flex-grow",children:l&&jsxRuntimeExports.jsx(l,{})})]})})},API_URL$1r="https://javapaas-202946-0.cloudclusters.net/api",Modal$c=({isOpen:e,onClose:t,title:n,children:o})=>e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-center z-50 p-4",onClick:t,children:jsxRuntimeExports.jsxs("div",{className:"bg-card text-card-foreground rounded-lg shadow-xl w-full max-w-lg",onClick:l=>l.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-foreground",children:n}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-1 rounded-full text-foreground-muted hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsx("div",{className:"p-6",children:o})]})}):null,FormField$a=({label:e,name:t,value:n,onChange:o,type:l="text",required:u=!1,...m})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-foreground-muted",children:e}),jsxRuntimeExports.jsx("input",{type:l,id:t,name:t,value:n||"",onChange:o,required:u,className:"input mt-1 bg-background-muted border-border text-foreground",...m})]}),StoreForm=({item:e,onSave:t,onCancel:n})=>{const[o,l]=reactExports.useState(e||{name:"",address:"",currency:"AED",timezone:"Asia/Dubai",vatNumber:""}),u=p=>l({...o,[p.target.name]:p.target.value}),m=p=>{p.preventDefault(),t(o)};return jsxRuntimeExports.jsxs("form",{onSubmit:m,className:"space-y-4",children:[jsxRuntimeExports.jsx(FormField$a,{label:"Store Name",name:"name",value:o.name,onChange:u,required:!0})," ",jsxRuntimeExports.jsx(FormField$a,{label:"Address",name:"address",value:o.address,onChange:u})," ",jsxRuntimeExports.jsx(FormField$a,{label:"Currency",name:"currency",value:o.currency,onChange:u})," ",jsxRuntimeExports.jsx(FormField$a,{label:"Timezone",name:"timezone",value:o.timezone,onChange:u})," ",jsxRuntimeExports.jsx(FormField$a,{label:"VAT Number",name:"vatNumber",value:o.vatNumber,onChange:u})," ",jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"btn-primary",children:"Save"})]})]})},TaxRateForm=({item:e,onSave:t,onCancel:n})=>{const[o,l]=reactExports.useState(e||{name:"",percent:0,compound:!1}),u=p=>l({...o,[p.target.name]:p.target.type==="checkbox"?p.target.checked:p.target.value}),m=p=>{p.preventDefault(),t(o)};return jsxRuntimeExports.jsxs("form",{onSubmit:m,className:"space-y-4",children:[jsxRuntimeExports.jsx(FormField$a,{label:"Tax Name",name:"name",value:o.name,onChange:u,required:!0})," ",jsxRuntimeExports.jsx(FormField$a,{label:"Percent",name:"percent",type:"number",step:"0.01",value:o.percent,onChange:u,required:!0})," ",jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 text-foreground-muted",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"compound",checked:o.compound,onChange:u,className:"h-4 w-4 rounded border-border text-primary focus:ring-primary"})," Compound Tax"]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"btn-primary",children:"Save"})]})]})},CategoryForm=({item:e,onSave:t,onCancel:n})=>{const[o,l]=reactExports.useState(e||{name:"",description:""}),u=p=>l({...o,[p.target.name]:p.target.value}),m=p=>{p.preventDefault(),t(o)};return jsxRuntimeExports.jsxs("form",{onSubmit:m,className:"space-y-4",children:[jsxRuntimeExports.jsx(FormField$a,{label:"Category Name",name:"name",value:o.name,onChange:u,required:!0})," ",jsxRuntimeExports.jsx(FormField$a,{label:"Description",name:"description",value:o.description,onChange:u})," ",jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"btn-primary",children:"Save"})]})]})},UserForm=({item:e,onSave:t,onCancel:n})=>{const[o,l]=reactExports.useState(e||{name:"",email:"",password:"",confirmPassword:"",role:"POS_CASHIER",storeId:null}),[u,m]=reactExports.useState(""),[p,j]=reactExports.useState([]),[f,g]=reactExports.useState(!0),b="https://javapaas-202946-0.cloudclusters.net/api";reactExports.useEffect(()=>{(async()=>{g(!0);try{const $=localStorage.getItem("token"),C=await axios.get(`${b}/pos/stores`,{headers:{Authorization:`Bearer ${$}`}});j(C.data)}catch($){console.error("Error fetching stores:",$),m("Failed to load stores for selection.")}finally{g(!1)}})()},[b]);const R=S=>{const{name:$,value:C}=S.target;l(A=>({...A,[$]:C})),m("")},v=S=>{if(S.preventDefault(),o.password!==o.confirmPassword){m("Passwords do not match.");return}if(!e&&!o.password){m("Password is required for new users.");return}if(o.password&&o.password.length<6){m("Password must be at least 6 characters long.");return}const $={...o};$.storeId===""&&($.storeId=null),t(e?{...$,id:e.id}:$)},N=["POS_ADMIN","POS_MANAGER","POS_CASHIER"];return jsxRuntimeExports.jsxs("form",{onSubmit:v,className:"space-y-4",children:[jsxRuntimeExports.jsx(FormField$a,{label:"Email",name:"email",type:"email",value:o.email,onChange:R,required:!0}),jsxRuntimeExports.jsx(FormField$a,{label:"Display Name",name:"name",value:o.name,onChange:R,required:!0}),jsxRuntimeExports.jsx(FormField$a,{label:"Password",name:"password",type:"password",value:o.password,onChange:R,required:!e,placeholder:e?"Leave blank to keep current":""}),jsxRuntimeExports.jsx(FormField$a,{label:"Confirm Password",name:"confirmPassword",type:"password",value:o.confirmPassword,onChange:R,required:!e||!!o.password}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-slate-700",children:"Role"}),jsxRuntimeExports.jsx("select",{id:"role",name:"role",value:o.role,onChange:R,required:!0,className:"input mt-1",children:N.map(S=>jsxRuntimeExports.jsx("option",{value:S,children:S.replace(/_/g," ")},S))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"storeId",className:"block text-sm font-medium text-slate-700",children:"Assign to Store (Optional)"}),f?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-5 w-5 text-blue-600 mt-2"}):jsxRuntimeExports.jsxs("select",{id:"storeId",name:"storeId",value:o.storeId||"",onChange:R,className:"input mt-1",children:[jsxRuntimeExports.jsx("option",{value:"",children:"No specific store"}),p.map(S=>jsxRuntimeExports.jsx("option",{value:S.id,children:S.name},S.id))]})]}),u&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm",children:u}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"btn-primary",children:"Save"})]})]})},InfoDisplay$2=({label:e,value:t})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-500",children:e}),jsxRuntimeExports.jsx("p",{className:"font-medium text-slate-800",children:t||jsxRuntimeExports.jsx("span",{className:"text-slate-400",children:"N/A"})})]}),CrudTable=({title:e,columns:t,data:n,onAdd:o,onEdit:l,onDelete:u,addLabel:m,canManage:p})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:e}),p&&jsxRuntimeExports.jsxs("button",{onClick:o,className:"flex items-center gap-2 btn-secondary",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," ",m]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-slate-200 rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[t.map(j=>jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:j.header},j.key)),p&&jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-slate-200 text-slate-700",children:n.map(j=>jsxRuntimeExports.jsxs("tr",{children:[t.map(f=>jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:typeof j[f.key]=="boolean"?j[f.key]?"Yes":"No":j[f.key]},f.key)),p&&jsxRuntimeExports.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium",children:[jsxRuntimeExports.jsx("button",{onClick:()=>l(j),className:"text-blue-600 hover:text-blue-900 mr-3",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>u(j.id),className:"text-red-600 hover:text-red-900",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})]},j.id))})]})})]}),usePosAuth$3=()=>{const e=reactExports.useMemo(()=>{try{return JSON.parse(localStorage.getItem("roles")||"[]")}catch{return[]}},[]),t=e.includes("SUPER_ADMIN"),n=e.includes("POS_ADMIN")||t,o=e.includes("POS_MANAGER");return{isPosAdmin:n,isPosManager:o,isSuperAdmin:t}},GeneralSettingsTab=()=>{const[e,t]=reactExports.useState(null),[n,o]=reactExports.useState(!1),[l,u]=reactExports.useState(!0),[m,p]=reactExports.useState({name:"",contactEmail:"",contactPhone:"",address:""}),[j,f]=reactExports.useState(null),[g,b]=reactExports.useState(!1),[R,v]=reactExports.useState(null),{isPosAdmin:N}=usePosAuth$3(),S=reactExports.useCallback(()=>{const A=localStorage.getItem("token");axios.get(`${API_URL$1r}/pos/tenant/current`,{headers:{Authorization:`Bearer ${A}`}}).then(T=>{t(T.data),p({name:T.data.name||"",contactEmail:T.data.contactEmail||"",contactPhone:T.data.contactPhone||"",address:T.data.address||""}),T.data.logoImgUrl&&v(`${T.data.logoImgUrl}`),console.log(R)}).catch(T=>console.error("Error fetching tenant info:",T)).finally(()=>u(!1))},[]);reactExports.useEffect(()=>{S()},[S]);const $=async()=>{const A=localStorage.getItem("token");b(!0);try{if(j){const D=new FormData;D.append("file",j);const I=await axios.post(`${API_URL$1r}/pos/tenant/current/logo`,D,{headers:{Authorization:`Bearer ${A}`,"Content-Type":"multipart/form-data"}})}const T=await axios.put(`${API_URL$1r}/pos/tenant/current`,m,{headers:{Authorization:`Bearer ${A}`}});o(!1),f(null),alert("Tenant information updated successfully."),S()}catch(T){console.error("Failed to update tenant:",T),alert(`Failed to update tenant information: ${T.response?.data?.message||T.message}`)}finally{b(!1)}},C=A=>{A.target.files&&A.target.files[0]&&f(A.target.files[0])};return l?jsxRuntimeExports.jsx(Loader,{className:"animate-spin"}):jsxRuntimeExports.jsxs("div",{className:"max-w-2xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"General Information"}),N&&!n&&jsxRuntimeExports.jsxs("button",{onClick:()=>o(!0),className:"btn-secondary flex items-center gap-2",children:[jsxRuntimeExports.jsx(SquarePen,{size:16})," Edit"]})]}),jsxRuntimeExports.jsx("div",{className:"p-4 border rounded-lg bg-slate-50",children:n?jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(FormField$a,{label:"Tenant/Company Name",name:"name",value:m.name,onChange:A=>p({...m,name:A.target.value})}),jsxRuntimeExports.jsx(FormField$a,{label:"Contact Email",name:"contactEmail",type:"email",value:m.contactEmail,onChange:A=>p({...m,contactEmail:A.target.value})}),jsxRuntimeExports.jsx(FormField$a,{label:"Contact Phone",name:"contactPhone",value:m.contactPhone,onChange:A=>p({...m,contactPhone:A.target.value})}),jsxRuntimeExports.jsx(FormField$a,{label:"Address",name:"address",value:m.address,onChange:A=>p({...m,address:A.target.value})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Company Logo"}),jsxRuntimeExports.jsxs("div",{className:"mt-1 flex items-center gap-4",children:[R&&!j&&jsxRuntimeExports.jsx("img",{src:R,alt:"Current Logo",className:"h-12 w-12 object-contain rounded-md border bg-white"}),j&&jsxRuntimeExports.jsx("img",{src:URL.createObjectURL(j),alt:"New Logo Preview",className:"h-12 w-12 object-contain rounded-md border bg-white"}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:C,className:"text-sm text-slate-500 file:mr-4 file:py-1.5 file:px-3 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{o(!1),f(null)},className:"btn-secondary",disabled:g,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{onClick:$,className:"btn-primary flex items-center gap-2",disabled:g,children:[g?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4"}):jsxRuntimeExports.jsx(Save,{size:16}),g?"Saving...":"Save"]})]})]}):jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsx(InfoDisplay$2,{label:"Tenant ID",value:e?.tenantId}),jsxRuntimeExports.jsx(InfoDisplay$2,{label:"Company Name",value:e?.name}),jsxRuntimeExports.jsx(InfoDisplay$2,{label:"Contact Email",value:e?.contactEmail}),jsxRuntimeExports.jsx(InfoDisplay$2,{label:"Contact Phone",value:e?.contactPhone}),jsxRuntimeExports.jsx("div",{className:"md:col-span-2",children:jsxRuntimeExports.jsx(InfoDisplay$2,{label:"Address",value:e?.address})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-500",children:"Logo"}),R?jsxRuntimeExports.jsx("img",{src:R,alt:"Logo",className:"mt-1 h-16 w-auto object-contain rounded-md border p-1 bg-white"}):jsxRuntimeExports.jsx("p",{className:"text-slate-400",children:"N/A"})]})]})})]})},createCrudTab=e=>()=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState(!0),{isPosAdmin:u}=usePosAuth$3(),m=reactExports.useCallback(()=>{l(!0);const $=localStorage.getItem("token");axios.get(`${API_URL$1r}${e.endpoints.getAll}`,{headers:{Authorization:`Bearer ${$}`}}).then(C=>{let A=C.data;if(e.name==="pos users"){const T=new Set(["POS_ADMIN","POS_MANAGER","POS_CASHIER"]);A=C.data.filter(D=>D.roles&&D.roles.some(I=>T.has(I)))}n(A)}).catch(C=>console.error(`Error fetching ${e.name}:`,C.message,C.toJSON())).finally(()=>l(!1))},[e.endpoints.getAll,e.name]);reactExports.useEffect(()=>{m()},[m]);const[p,j]=reactExports.useState(!1),[f,g]=reactExports.useState(null),b=()=>{g(null),j(!0)},R=$=>{g($),j(!0)},v=()=>{j(!1),g(null)},N=$=>{const C=localStorage.getItem("token"),A=$.id,T=A?`${API_URL$1r}${e.endpoints.update}/${$.id}`:`${API_URL$1r}${e.endpoints.create}`,D=A?"put":"post",I={...$};e.name==="pos users"&&(I.roles=[$.role],delete I.role,"confirmPassword"in I&&delete I.confirmPassword,A?I.password===""&&delete I.password:(I.isActive=!0,I.isLocked=!1)),axios[D](T,I,{headers:{Authorization:`Bearer ${C}`}}).then(()=>{m(),v()}).catch(L=>alert(`Error saving ${e.singularName}: ${L.response?.data?.message||L.response?.data||L.message}`))},S=$=>{if(window.confirm(`Are you sure you want to delete this ${e.singularName}?`)){const C=localStorage.getItem("token");axios.delete(`${API_URL$1r}${e.endpoints.delete}/${$}`,{headers:{Authorization:`Bearer ${C}`}}).then(()=>{m()}).catch(A=>alert(`Error deleting ${e.singularName}: ${A.response?.data?.message||A.message}`))}};return o?jsxRuntimeExports.jsx(Loader,{className:"animate-spin"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CrudTable,{title:e.title,columns:e.columns,data:t,onAdd:b,onEdit:R,onDelete:S,addLabel:`Add ${e.singularName}`,canManage:u}),jsxRuntimeExports.jsx(Modal$c,{isOpen:p,onClose:v,title:f?`Edit ${e.singularName}`:`Add ${e.singularName}`,children:jsxRuntimeExports.jsx(e.FormComponent,{item:f,onSave:N,onCancel:v})})]})},StoreSettingsTab=createCrudTab({name:"stores",singularName:"Store",title:"Manage Stores",columns:[{header:"Name",key:"name"},{header:"Address",key:"address"},{header:"Currency",key:"currency"},{header:"Timezone",key:"timezone"},{header:"VAT Number",key:"vatNumber"}],endpoints:{getAll:"/pos/stores",create:"/pos/stores",update:"/pos/stores",delete:"/pos/stores"},FormComponent:StoreForm}),UserSettingsTab=createCrudTab({name:"pos users",singularName:"User",title:"Manage Users",columns:[{header:"Display Name",key:"name"},{header:"Email",key:"email"},{header:"Role",key:"role"},{header:"Store ID",key:"storeId"}],endpoints:{getAll:"/users",create:"/users/register",update:"/users",delete:"/users"},FormComponent:UserForm}),TaxSettingsTab=createCrudTab({name:"tax rates",singularName:"Tax Rate",title:"Manage Tax Rates",columns:[{header:"Name",key:"name"},{header:"Percent (%)",key:"percent"},{header:"Compound",key:"compound"}],endpoints:{getAll:"/pos/tax-rates",create:"/pos/tax-rates",update:"/pos/tax-rates",delete:"/pos/tax-rates"},FormComponent:TaxRateForm}),CategorySettingsTab=createCrudTab({name:"categories",singularName:"Category",title:"Manage Categories",columns:[{header:"Name",key:"name"},{header:"Description",key:"description"}],endpoints:{getAll:"/pos/categories",create:"/pos/categories",update:"/pos/categories",delete:"/pos/categories"},FormComponent:CategoryForm}),AuditEventLogTab=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState(""),[m,p]=reactExports.useState(null),j=reactExports.useCallback(()=>{o(!0);const g=localStorage.getItem("token");axios.get(`${API_URL$1r}/pos/audit-events`,{headers:{Authorization:`Bearer ${g}`}}).then(b=>t(b.data.sort((R,v)=>new Date(v.createdAt)-new Date(R.createdAt)))).catch(b=>{console.error("Error fetching audit events:",b),u("Failed to load audit events.")}).finally(()=>o(!1))},[]);reactExports.useEffect(()=>{j()},[j]);const f=g=>new Date(g).toLocaleString();return n?jsxRuntimeExports.jsx(Loader,{className:"animate-spin"}):l?jsxRuntimeExports.jsx("p",{className:"text-red-500",children:l}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-slate-200 rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Timestamp"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actor ID"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Entity"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Action"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Payload"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-slate-200 text-slate-700",children:e.map(g=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"td-cell text-sm",children:f(g.createdAt)}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:g.actorId||"System"}),jsxRuntimeExports.jsxs("td",{className:"td-cell",children:[g.entityType," (",g.entityId,")"]}),jsxRuntimeExports.jsx("td",{className:"td-cell font-medium",children:g.action}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsx("button",{onClick:()=>p(g.payload),className:"p-1.5 text-slate-500 hover:text-blue-600 rounded-full",title:"View Payload",children:jsxRuntimeExports.jsx(Eye,{size:16})})})]},g.id))})]})}),jsxRuntimeExports.jsx(Modal$c,{isOpen:!!m,onClose:()=>p(null),title:"Event Payload",children:jsxRuntimeExports.jsx("pre",{className:"bg-slate-100 p-4 rounded-md text-sm overflow-x-auto max-h-96",children:JSON.stringify(JSON.parse(m||"{}"),null,2)})})]})},tabs$6=[{name:"General",icon:Building,component:GeneralSettingsTab},{name:"Stores",icon:Store,component:StoreSettingsTab},{name:"Users",icon:Users,component:UserSettingsTab},{name:"Taxes",icon:Percent,component:TaxSettingsTab},{name:"Categories",icon:Tag,component:CategorySettingsTab},{name:"Audit Log",icon:ClipboardList,component:AuditEventLogTab,requiredRoles:["POS_ADMIN","POS_MANAGER"]}],PosSettingsView=()=>{const[e,t]=reactExports.useState(tabs$6[0].name),{isPosAdmin:n,isPosManager:o,isSuperAdmin:l}=usePosAuth$3(),u=reactExports.useMemo(()=>tabs$6.filter(p=>l?!0:!p.requiredRoles||n&&p.requiredRoles.includes("POS_ADMIN")||o&&p.requiredRoles.includes("POS_MANAGER")),[n,o,l]),m=tabs$6.find(p=>p.name===e)?.component;return jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-8 h-full flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"POS Settings"}),jsxRuntimeExports.jsx("p",{className:"text-slate-500 mt-1",children:"Manage your point of sale system settings."})]}),jsxRuntimeExports.jsx("div",{className:"border-b border-slate-200",children:jsxRuntimeExports.jsx("nav",{className:"-mb-px flex space-x-6 overflow-x-auto","aria-label":"Tabs",children:u.map(p=>jsxRuntimeExports.jsxs("button",{onClick:()=>t(p.name),className:`whitespace-nowrap flex items-center py-4 px-1 border-b-2 font-medium text-sm transition-colors ${e===p.name?"border-blue-600 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:[jsxRuntimeExports.jsx(p.icon,{className:"mr-2 h-5 w-5"}),p.name]},p.name))})}),jsxRuntimeExports.jsx("div",{className:"mt-6 bg-white p-6 rounded-xl shadow-sm flex-grow",children:m?jsxRuntimeExports.jsx(m,{}):jsxRuntimeExports.jsx("p",{children:"Select a setting to view."})})]})},Modal$b=({isOpen:e,onClose:t,title:n,children:o})=>e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4",onClick:t,children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",onClick:l=>l.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold",children:n}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsx("div",{className:"p-6",children:o})]})}):null,API_URL$1q="https://javapaas-202946-0.cloudclusters.net/api",CustomerForm$1=({customer:e,onSave:t,onCancel:n,isSubmitting:o})=>{const[l,u]=reactExports.useState(e||{name:"",email:"",phone:""});reactExports.useEffect(()=>{u(e||{name:"",email:"",phone:""})},[e]);const m=j=>u({...l,[j.target.name]:j.target.value}),p=j=>{j.preventDefault(),t(l)};return jsxRuntimeExports.jsxs("form",{onSubmit:p,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-700",children:"Name"}),jsxRuntimeExports.jsx("input",{id:"name",name:"name",value:l.name,onChange:m,required:!0,className:"input mt-1"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700",children:"Email"}),jsxRuntimeExports.jsx("input",{id:"email",name:"email",type:"email",value:l.email,onChange:m,className:"input mt-1"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-slate-700",children:"Phone"}),jsxRuntimeExports.jsx("input",{id:"phone",name:"phone",value:l.phone,onChange:m,className:"input mt-1"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",disabled:o,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:o,children:[o&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}),"Save Customer"]})]})]})},usePosAuth$2=()=>{const e=reactExports.useMemo(()=>{try{return JSON.parse(localStorage.getItem("roles")||"[]")}catch{return[]}},[]),t=e.includes("SUPER_ADMIN"),n=e.includes("POS_ADMIN")||t,o=e.includes("POS_MANAGER")||e.includes("POS_CASHIER")||n;return{isPosAdmin:n,canManage:o}},CustomersView=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState(""),[m,p]=reactExports.useState(""),[j,f]=reactExports.useState(!1),[g,b]=reactExports.useState(null),[R,v]=reactExports.useState(!1),{isPosAdmin:N,canManage:S}=usePosAuth$2(),$=reactExports.useCallback(()=>{o(!0);const _=localStorage.getItem("token");axios.get(`${API_URL$1q}/pos/customers`,{headers:{Authorization:`Bearer ${_}`}}).then(M=>t(M.data)).catch(()=>u("Failed to fetch customers.")).finally(()=>o(!1))},[]);reactExports.useEffect(()=>{$()},[$]);const C=()=>{b(null),f(!0)},A=_=>{b(_),f(!0)},T=()=>{f(!1),b(null)},D=async _=>{v(!0);const M=localStorage.getItem("token"),F=_.id?"put":"post",B=_.id?`${API_URL$1q}/pos/customers/${_.id}`:`${API_URL$1q}/pos/customers`;try{await axios[F](B,_,{headers:{Authorization:`Bearer ${M}`}}),$(),T()}catch(q){alert(`Error: ${q.response?.data?.message||"Could not save customer."}`)}finally{v(!1)}},I=async _=>{if(window.confirm("Are you sure you want to delete this customer?")){const M=localStorage.getItem("token");try{await axios.delete(`${API_URL$1q}/pos/customers/${_}`,{headers:{Authorization:`Bearer ${M}`}}),$()}catch{alert("Failed to delete customer.")}}},L=reactExports.useMemo(()=>e.filter(_=>_.name.toLowerCase().includes(m.toLowerCase())||(_.email||"").toLowerCase().includes(m.toLowerCase())||(_.phone||"").includes(m)),[e,m]);return jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Customers"}),jsxRuntimeExports.jsx("p",{className:"text-slate-500 mt-1",children:"Manage your customer database."})]}),S&&jsxRuntimeExports.jsxs("button",{onClick:C,className:"btn-primary flex items-center gap-2",children:[jsxRuntimeExports.jsx(UserPlus,{size:18})," Add Customer"]})]}),jsxRuntimeExports.jsxs("div",{className:"relative mb-4",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by name, email, or phone...",value:m,onChange:_=>p(_.target.value),className:"input w-full max-w-sm pl-10"}),jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"})]}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Email"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Phone"}),jsxRuntimeExports.jsx("th",{className:"th-cell text-right",children:"Loyalty Points"}),S&&jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"text-slate-700",children:n?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:S?5:4,className:"text-center py-10",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto"})})}):l?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:S?5:4,className:"text-center py-10 text-red-500",children:l})}):L.length>0?L.map(_=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-slate-200 hover:bg-slate-50",children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium",children:_.name}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:_.email||"-"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:_.phone||"-"}),jsxRuntimeExports.jsx("td",{className:"td-cell text-right",children:_.loyaltyPoints}),S&&jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>A(_),className:"p-1.5 text-blue-600 hover:bg-blue-100 rounded-full",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),N&&jsxRuntimeExports.jsx("button",{onClick:()=>I(_.id),className:"p-1.5 text-red-600 hover:bg-red-100 rounded-full",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},_.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:S?5:4,className:"text-center py-10 text-slate-500",children:"No customers found."})})})]})})}),jsxRuntimeExports.jsx(Modal$b,{isOpen:j,onClose:T,title:g?"Edit Customer":"Add New Customer",children:jsxRuntimeExports.jsx(CustomerForm$1,{customer:g,onSave:D,onCancel:T,isSubmitting:R})})]})},BulkAddProductsModal=({isOpen:e,onClose:t,onUploadSuccess:n})=>{const[o,l]=reactExports.useState(null),[u,m]=reactExports.useState(!1),[p,j]=reactExports.useState(!1),[f,g]=reactExports.useState(""),[b,R]=reactExports.useState(""),[v,N]=reactExports.useState(""),S="https://javapaas-202946-0.cloudclusters.net/api",$=T=>{l(T.target.files[0]),g(""),R("")},C=async()=>{j(!0),N("");try{const T=localStorage.getItem("token"),D=await axios.get(`${S}/pos/products/bulk-template`,{headers:{Authorization:`Bearer ${T}`},responseType:"blob"}),I=window.URL.createObjectURL(new Blob([D.data])),L=document.createElement("a");L.href=I,L.setAttribute("download","product_bulk_upload_template.xlsx"),document.body.appendChild(L),L.click(),L.remove(),window.URL.revokeObjectURL(I)}catch(T){console.error("Error downloading template:",T),N("Failed to download template. Please try again.")}finally{j(!1)}},A=async T=>{if(T.preventDefault(),!o){g("Please select a file to upload.");return}m(!0),g(""),R("");const D=new FormData;D.append("file",o);try{const I=localStorage.getItem("token"),L=await axios.post(`${S}/pos/products/bulk`,D,{headers:{Authorization:`Bearer ${I}`,"Content-Type":"multipart/form-data"}});R(L.data.message||"Products uploaded successfully!"),l(null),n()}catch(I){console.error("Error uploading bulk products:",I);const L=I.response?.data?.message||"Failed to upload file. Please check the file format and content.";g(L)}finally{m(!1)}};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold",children:"Bulk Add Products"}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:A,children:[jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600 max-w-xs",children:"Upload an Excel file (.xlsx) with product data. Ensure it follows the template format."}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:C,className:"btn-secondary flex items-center gap-2 text-xs",disabled:p,children:[p?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4"}):jsxRuntimeExports.jsx(Download,{className:"h-4 w-4"})," Template"]})]}),v&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-600",children:v}),jsxRuntimeExports.jsx("input",{id:"bulk-product-upload",type:"file",onChange:$,accept:".xlsx, .xls",className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),f&&jsxRuntimeExports.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded-md text-sm whitespace-pre-wrap",children:f}),b&&jsxRuntimeExports.jsx("div",{className:"bg-green-100 text-green-700 p-3 rounded-md text-sm",children:b})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t bg-slate-50 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:u,children:"Close"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:u||!o,children:[u?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}):jsxRuntimeExports.jsx(CloudUpload,{className:"h-4 w-4 mr-2"})," Upload"]})]})]})]})}):null},API_URL$1p="https://javapaas-202946-0.cloudclusters.net/api",constructImageUrl$2=e=>{if(!e||e.startsWith("data:")||e.startsWith("http"))return e;const t=e.split("/").filter(n=>n);return t[0]==="uploads"&&t.length>=4?`${API_URL$1p}/pos/uploads/view/${t.slice(1).join("/")}`:`${API_URL$1p}${e}`},ProductForm$1=({product:e,onSave:t,onCancel:n,isSubmitting:o,onGenerateBarcode:l})=>{const[u,m]=reactExports.useState(e||{name:"",sku:"",description:"",categoryId:null,active:!0,variants:[{sku:"",barcode:"",priceCents:0,costCents:0,attributes:{},imageUrl:null,imageFile:null,taxRateId:null,active:!0}]}),[p,j]=reactExports.useState([]),[f,g]=reactExports.useState([]);reactExports.useEffect(()=>{m(e?{...e,variants:e.variants.map(L=>({...L,imageFile:null}))}:{name:"",sku:"",description:"",categoryId:null,active:!0,variants:[{sku:"",barcode:"",priceCents:0,costCents:0,attributes:{},imageUrl:null,imageFile:null,taxRateId:null,active:!0}]})},[e]),reactExports.useEffect(()=>{(async()=>{try{const _=localStorage.getItem("token"),M=await axios.get(`${API_URL$1p}/pos/tax-rates`,{headers:{Authorization:`Bearer ${_}`}});j(M.data)}catch(_){console.error("Failed to fetch tax rates:",_)}})(),(async()=>{try{const _=localStorage.getItem("token"),M=await axios.get(`${API_URL$1p}/pos/categories`,{headers:{Authorization:`Bearer ${_}`}});g(M.data)}catch(_){console.error("Failed to fetch categories:",_)}})()},[]);const b=I=>{const{name:L,value:_,type:M,checked:F}=I.target;m(B=>({...B,[L]:M==="checkbox"?F:_}))},R=(I,L)=>{const{name:_,value:M,type:F,checked:B}=L.target,q=[...u.variants];q[I][_]=F==="checkbox"?B:M,m(z=>({...z,variants:q}))},v=(I,L,_,M)=>{const F=[...u.variants];let B={...F[I].attributes};const q=Object.keys(B)[L];if(_==="key"){const z=B[q],{[q]:V,...Q}=B;B={...Q,[M]:z}}else B[q]=M;F[I].attributes=B,m(z=>({...z,variants:F}))},N=I=>{const L=[...u.variants];L[I].attributes[`new_attribute_${Object.keys(L[I].attributes).length+1}`]="",m(_=>({..._,variants:L}))},S=(I,L)=>{const _=[...u.variants],M={..._[I].attributes};delete M[L],_[I].attributes=M,m(F=>({...F,variants:_}))},$=(I,L)=>{const _=L.target.files[0];if(_){const M=[...u.variants];M[I].imageFile=_;const F=new FileReader;F.onloadend=()=>{M[I].imageUrl=F.result,m(B=>({...B,variants:M}))},F.readAsDataURL(_)}},C=async I=>{try{const L=new FormData;L.append("file",I);const _=localStorage.getItem("token");return(await axios.post(`${API_URL$1p}/pos/uploads/product-image`,L,{headers:{Authorization:`Bearer ${_}`,"Content-Type":"multipart/form-data"}})).data.imageUrl}catch(L){return console.error("Upload failed:",L),alert("Failed to upload image. Please try again."),null}},A=()=>{m(I=>({...I,variants:[...I.variants,{sku:"",barcode:"",priceCents:0,costCents:0,attributes:{},imageUrl:"",taxRateId:null,active:!0}]}))},T=I=>{m(L=>({...L,variants:L.variants.filter((_,M)=>M!==I)}))},D=I=>{I.preventDefault(),(async()=>{const _=await Promise.all((u.variants||[]).map(async F=>{if(F.imageFile){const B=await C(F.imageFile);return{...F,imageUrl:B}}return F})),M={...u,categoryId:u.categoryId===""?null:u.categoryId,variants:_};t(M)})().catch(_=>console.error("Error during product save:",_))};return jsxRuntimeExports.jsxs("form",{id:"product-form",onSubmit:D,className:"p-6 flex-grow overflow-y-auto pb-28",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-slate-800",children:"Product Details"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"label",children:"Name"}),jsxRuntimeExports.jsx("input",{id:"name",name:"name",value:u.name,onChange:b,required:!0,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"sku",className:"label",children:"SKU"}),jsxRuntimeExports.jsx("input",{id:"sku",name:"sku",value:u.sku,onChange:b,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"description",className:"label",children:"Description"}),jsxRuntimeExports.jsx("textarea",{id:"description",name:"description",value:u.description,onChange:b,rows:"3",className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"categoryId",className:"label",children:"Category"}),jsxRuntimeExports.jsxs("select",{id:"categoryId",name:"categoryId",value:u.categoryId||"",onChange:b,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Uncategorized"}),f.map(I=>jsxRuntimeExports.jsx("option",{value:I.id,children:I.name},I.id))]})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"active",checked:u.active,onChange:b,className:"h-4 w-4 rounded"})," Active"]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-slate-800",children:"Variants"}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:A,className:"btn-secondary text-xs py-1 px-2 flex items-center gap-1",children:[jsxRuntimeExports.jsx(CirclePlus,{size:14})," Add Variant"]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:u.variants.map((I,L)=>jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded-lg bg-slate-50 relative",children:[u.variants.length>1&&jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>T(L),className:"absolute top-2 right-2 p-1 text-slate-400 hover:text-red-600",children:jsxRuntimeExports.jsx(X,{size:16})}),l&&I.barcodeImageUrl&&jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>l(I),className:"absolute top-2 right-10 p-1.5 text-slate-500 hover:text-blue-600 bg-white/50 backdrop-blur-sm rounded-full",title:"View Barcode",children:jsxRuntimeExports.jsx(Barcode,{size:16})}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 mb-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-slate-600",children:"Attributes"}),Object.entries(I.attributes).map(([_,M],F)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"text",value:_,onChange:B=>v(L,F,"key",B.target.value),className:"input input-xs flex-1",placeholder:"Attribute Name"}),jsxRuntimeExports.jsx("input",{type:"text",value:M,onChange:B=>v(L,F,"value",B.target.value),className:"input input-xs flex-1",placeholder:"Attribute Value"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>S(L,_),className:"p-1 text-slate-400 hover:text-red-600",children:jsxRuntimeExports.jsx(Trash2,{size:14})})]},F)),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>N(L),className:"btn-secondary text-xs py-1 px-2 mt-2",children:"Add Attribute"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label text-xs",children:"SKU"}),jsxRuntimeExports.jsx("input",{name:"sku",value:I.sku,onChange:_=>R(L,_),className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label text-xs",children:"Barcode"}),jsxRuntimeExports.jsx("input",{name:"barcode",value:I.barcode||"",onChange:_=>R(L,_),className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label text-xs",children:"Price (in cents)"}),jsxRuntimeExports.jsx("input",{name:"priceCents",type:"number",value:I.priceCents,onChange:_=>R(L,_),className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label text-xs",children:"Cost (in cents)"}),jsxRuntimeExports.jsx("input",{name:"costCents",type:"number",value:I.costCents,onChange:_=>R(L,_),className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label text-xs",children:"Image"}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:_=>$(L,_),className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label text-xs",children:"Tax Rate"}),jsxRuntimeExports.jsxs("select",{name:"taxRateId",value:I.taxRateId||"",onChange:_=>R(L,_),className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"No Tax"}),p.map(_=>jsxRuntimeExports.jsxs("option",{value:_.id,children:[_.name," (",_.percent,"%)"]},_.id))]})]}),jsxRuntimeExports.jsx("div",{className:"col-span-2 flex items-center",children:jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"active",checked:I.active,onChange:_=>R(L,_),className:"h-4 w-4 rounded"})," Active Variant"]})}),I.imageUrl&&jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"label text-xs",children:"Image Preview"}),jsxRuntimeExports.jsx("img",{src:constructImageUrl$2(I.imageUrl),alt:"Variant Preview",className:"w-24 h-24 object-cover rounded-md border"})]})]})]},L))})]})]})},API_URL$1o="https://javapaas-202946-0.cloudclusters.net/api",BulkImageUploadModal=({isOpen:e,onClose:t})=>{const[n,o]=reactExports.useState(null),[l,u]=reactExports.useState(!1),[m,p]=reactExports.useState(!1),[j,f]=reactExports.useState(""),[g,b]=reactExports.useState(""),[R,v]=reactExports.useState(""),N=C=>{o(C.target.files),f(""),v("")},S=async()=>{p(!0),b("");try{const C=localStorage.getItem("token"),A=await axios.get(`${API_URL$1o}/pos/uploads/download-sample-text`,{headers:{Authorization:`Bearer ${C}`},responseType:"blob"}),T=window.URL.createObjectURL(new Blob([A.data])),D=document.createElement("a");D.href=T,D.setAttribute("download","sample.txt"),document.body.appendChild(D),D.click(),D.remove(),window.URL.revokeObjectURL(T)}catch(C){console.error("Error downloading sample file:",C),b("Failed to download sample file. Please try again.")}finally{p(!1)}},$=async C=>{if(C.preventDefault(),!n||n.length===0){f("Please select one or more image files to upload.");return}u(!0),f(""),v("");const A=new FormData;Array.from(n).forEach(T=>{A.append("files",T)});try{const T=localStorage.getItem("token"),D=await axios.post(`${API_URL$1o}/pos/uploads/product-image/bulk`,A,{headers:{Authorization:`Bearer ${T}`,"Content-Type":"multipart/form-data"},responseType:"blob"}),I=window.URL.createObjectURL(new Blob([D.data])),L=document.createElement("a");L.href=I,L.setAttribute("download","uploaded_image_urls.csv"),document.body.appendChild(L),L.click(),L.remove(),window.URL.revokeObjectURL(I),v(`Successfully uploaded ${n.length} image(s). A CSV file with the image URLs has been downloaded.`),o(null)}catch(T){console.error("Error uploading bulk images:",T);const D=T.response?.data?(await T.response.data.text()).replace(/"/g,""):"Failed to upload files. Please try again.";f(D)}finally{u(!1)}};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold",children:"Bulk Image Upload"}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:$,children:[jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600 max-w-prose",children:"Select multiple product images to upload. The images can be assigned to products later by referencing their filenames in the product or bulk upload sheets."}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:S,className:"btn-secondary flex items-center gap-2 text-xs",disabled:m,children:[m?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4"}):jsxRuntimeExports.jsx(Download,{className:"h-4 w-4"})," Sample"]})]}),g&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-600",children:g}),jsxRuntimeExports.jsx("input",{id:"bulk-image-upload",type:"file",onChange:N,accept:"image/*",multiple:!0,className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),j&&jsxRuntimeExports.jsxs("div",{className:"bg-red-100 text-red-700 p-3 rounded-md text-sm flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleAlert,{size:16}),j]}),R&&jsxRuntimeExports.jsx("div",{className:"bg-green-50 border border-green-200 p-3 rounded-md text-sm",children:jsxRuntimeExports.jsxs("p",{className:"font-semibold text-green-800 flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleCheckBig,{size:16}),R]})})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t bg-slate-50 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:l,children:"Close"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:l||!n,children:[l?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}):jsxRuntimeExports.jsx(CloudUpload,{className:"h-4 w-4 mr-2"})," Upload"]})]})]})]})}):null},API_URL$1n="https://javapaas-202946-0.cloudclusters.net/api",usePosAuth$1=()=>{const e=reactExports.useMemo(()=>{try{return JSON.parse(localStorage.getItem("roles")||"[]")}catch{return[]}},[]),t=e.includes("SUPER_ADMIN"),n=e.includes("POS_ADMIN")||t,o=e.includes("POS_MANAGER")||n;return{isPosAdmin:n,canManage:o}},constructImageUrl$1=e=>{if(!e||e.startsWith("data:")||e.startsWith("http"))return e;const t=e.split("/").filter(n=>n);return t[0]==="uploads"&&t.length>=4?`${API_URL$1n}/pos/uploads/view/${t.slice(1).join("/")}`:`${API_URL$1n}${e}`},BarcodeModal=({isOpen:e,onClose:t,variant:n})=>{if(!e||!n)return null;const o=()=>{const l=document.createElement("a");l.href=constructImageUrl$1(n.barcodeImageUrl),l.download=`qr-${n.sku}.png`,document.body.appendChild(l),l.click(),document.body.removeChild(l)};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",onClick:t,children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm text-center",onClick:l=>l.stopPropagation(),children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["QR Code for ",n.sku]}),jsxRuntimeExports.jsx("img",{src:constructImageUrl$1(n.barcodeImageUrl),alt:`QR Code for ${n.sku}`,className:"mx-auto border rounded-md"}),jsxRuntimeExports.jsxs("button",{onClick:o,className:"btn-primary mt-6 w-full flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx(Download,{size:16})," Download"]})]})})},ProductsView=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState(""),[m,p]=reactExports.useState(""),[j,f]=reactExports.useState(null),[g,b]=reactExports.useState(!1),[R,v]=reactExports.useState(!1),[N,S]=reactExports.useState(!1),[$,C]=reactExports.useState(!1),[A,T]=reactExports.useState(null),{isPosAdmin:D,canManage:I}=usePosAuth$1(),L=reactExports.useCallback(()=>{o(!0);const Q=localStorage.getItem("token");axios.get(`${API_URL$1n}/pos/products`,{headers:{Authorization:`Bearer ${Q}`}}).then(ee=>t(ee.data)).catch(()=>u("Failed to fetch products.")).finally(()=>o(!1))},[]);reactExports.useEffect(()=>{L()},[L]);const _=()=>{f(null),b(!0)},M=Q=>{f(Q),b(!0)},F=()=>{b(!1),f(null)},B=async Q=>{v(!0);const ee=localStorage.getItem("token"),G=Q.id?"put":"post",K=Q.id?`${API_URL$1n}/pos/products/${Q.id}`:`${API_URL$1n}/pos/products`;try{const J={...Q,variants:Q.variants.map(({imageFile:ne,...H})=>H)};await axios[G](K,J,{headers:{Authorization:`Bearer ${ee}`}}),alert(`Product ${Q.id?"updated":"saved"} successfully!`),F(),L()}catch(J){alert(`Error: ${J.response?.data?.message||"Could not save product."}`)}finally{v(!1)}},q=async Q=>{if(window.confirm("Are you sure you want to delete this product and all its variants?")){const ee=localStorage.getItem("token");try{await axios.delete(`${API_URL$1n}/pos/products/${Q}`,{headers:{Authorization:`Bearer ${ee}`}}),L()}catch{alert("Failed to delete product.")}}},z=reactExports.useMemo(()=>e.filter(Q=>Q.name.toLowerCase().includes(m.toLowerCase())||(Q.sku||"").toLowerCase().includes(m.toLowerCase())),[e,m]),V=Q=>{T(Q)};return jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-8 h-full flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Products"}),jsxRuntimeExports.jsx("p",{className:"text-slate-500 mt-1",children:"Manage your product catalog and variants."})]}),I&&jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>S(!0),className:"btn-secondary flex items-center gap-2",children:[jsxRuntimeExports.jsx(CloudUpload,{size:18})," Bulk Add Products"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>C(!0),className:"btn-secondary flex items-center gap-2",children:[jsxRuntimeExports.jsx(CloudUpload,{size:18})," Bulk Image Add"]}),jsxRuntimeExports.jsxs("button",{onClick:_,className:"btn-primary flex items-center gap-2",children:[jsxRuntimeExports.jsx(CirclePlus,{size:18})," Add Product"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"relative mb-4",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by name or SKU...",value:m,onChange:Q=>p(Q.target.value),className:"input w-full max-w-sm pl-10"}),jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"})]}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden flex-grow",children:jsxRuntimeExports.jsx("div",{className:"overflow-x-auto h-full",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50 sticky top-0",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"SKU"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"th-cell text-center",children:"Variants"}),I&&jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"text-slate-700",children:n?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:I?5:4,className:"text-center py-10",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto"})})}):l?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:I?5:4,className:"text-center py-10 text-red-500",children:l})}):z.length>0?z.map(Q=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-slate-200 hover:bg-slate-50",children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium",children:Q.name}),jsxRuntimeExports.jsx("td",{className:"td-cell text-sm text-slate-500",children:Q.sku||"-"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Q.active?"bg-green-100 text-green-800":"bg-slate-100 text-slate-600"}`,children:Q.active?"Active":"Inactive"})}),jsxRuntimeExports.jsx("td",{className:"td-cell text-center",children:Q.variants?.length||0}),I&&jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>M(Q),className:"p-1.5 text-blue-600 hover:bg-blue-100 rounded-full",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),D&&jsxRuntimeExports.jsx("button",{onClick:()=>q(Q.id),className:"p-1.5 text-red-600 hover:bg-red-100 rounded-full",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},Q.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:I?5:4,className:"text-center py-10 text-slate-500",children:[jsxRuntimeExports.jsx(Package,{className:"mx-auto h-12 w-12 text-slate-400"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-semibold text-slate-900",children:"No products found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Get started by adding a new product."})]})})})]})})}),jsxRuntimeExports.jsx(AnimatePresence,{children:g&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black bg-opacity-60 z-40",onClick:F}),jsxRuntimeExports.jsxs(motion.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 right-0 h-full w-full max-w-lg bg-white shadow-2xl z-50 flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex-shrink-0 flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:F,className:"p-1.5 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(ArrowLeft,{size:20})}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:j?"Edit Product":"Add New Product"})]}),jsxRuntimeExports.jsx(ProductForm$1,{product:j,onSave:B,onCancel:F,isSubmitting:R,onGenerateBarcode:V}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t bg-slate-50 flex-shrink-0 flex justify-end sticky gap-2 bottom-0 z-50",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:F,className:"btn-secondary",disabled:R,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{id:"product-form-submit-button",type:"submit",form:"product-form",className:"btn-primary flex items-center gap-2 w-36 justify-center",disabled:R,children:[" ",R&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4"})," ",jsxRuntimeExports.jsx(Save,{size:16})," Save Product "]})]})]})]})}),jsxRuntimeExports.jsx(BulkAddProductsModal,{isOpen:N,onClose:()=>S(!1),onUploadSuccess:()=>{L()}}),jsxRuntimeExports.jsx(BulkImageUploadModal,{isOpen:$,onClose:()=>C(!1)}),jsxRuntimeExports.jsx(BarcodeModal,{isOpen:!!A,onClose:()=>T(null),variant:A})]})},CustomerForm=({onSave:e,onCancel:t,isSubmitting:n})=>{const[o,l]=reactExports.useState({name:"",email:"",phone:""}),u=p=>l({...o,[p.target.name]:p.target.value}),m=p=>{p.preventDefault(),e(o)};return jsxRuntimeExports.jsxs("form",{onSubmit:m,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-700",children:"Name"}),jsxRuntimeExports.jsx("input",{id:"name",name:"name",value:o.name,onChange:u,required:!0,className:"input mt-1"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700",children:"Email"}),jsxRuntimeExports.jsx("input",{id:"email",name:"email",type:"email",value:o.email,onChange:u,className:"input mt-1"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-slate-700",children:"Phone"}),jsxRuntimeExports.jsx("input",{id:"phone",name:"phone",value:o.phone,onChange:u,className:"input mt-1"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:n,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:n,children:[n&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}),"Save Customer"]})]})]})},SalesHeader=({searchTerm:e,onSearchTermChange:t,barcode:n,onBarcodeChange:o,onBarcodeScan:l,selectedCategory:u,onCategoryChange:m,categories:p,selectedStore:j,onStoreChange:f,stores:g,selectedCustomer:b,onCustomerChange:R,customers:v,onAddCustomer:N,onAddProduct:S})=>jsxRuntimeExports.jsxs("div",{className:"mb-4 flex gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-grow",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search products...",value:e,onChange:$=>t($.target.value),className:"input w-full pl-10"}),jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Scan barcode...",value:n,onChange:$=>o($.target.value),onKeyDown:l,className:"input w-64 pl-10"}),jsxRuntimeExports.jsx(ScanLine,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Tag,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),jsxRuntimeExports.jsxs("select",{value:u,onChange:$=>m($.target.value),className:"input pl-10 appearance-none",children:[jsxRuntimeExports.jsx("option",{value:"All",children:"All Categories"}),p.map($=>jsxRuntimeExports.jsx("option",{value:$.name,children:$.name},$.id)),jsxRuntimeExports.jsx("option",{value:"Uncategorized",children:"Uncategorized"})]})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Store,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),jsxRuntimeExports.jsxs("select",{value:j,onChange:$=>f($.target.value),className:"input pl-10 appearance-none",required:!0,children:[jsxRuntimeExports.jsx("option",{value:"",disabled:!0,children:"Select a Store"}),g.map($=>jsxRuntimeExports.jsx("option",{value:$.id,children:$.name},$.id))]})]}),jsxRuntimeExports.jsxs("div",{className:"relative flex items-center gap-2",children:[jsxRuntimeExports.jsx(User,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),jsxRuntimeExports.jsxs("select",{value:b,onChange:$=>R($.target.value),className:"input pl-10 appearance-none w-48",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Walk-in Customer"}),v.map($=>jsxRuntimeExports.jsx("option",{value:$.id,children:$.name},$.id))]}),jsxRuntimeExports.jsx("button",{onClick:N,className:"p-2 btn-secondary",title:"Add New Customer",children:jsxRuntimeExports.jsx(UserPlus,{size:16})})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("button",{onClick:S,className:"btn-primary h-full flex items-center gap-2",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Add Product"]})})]}),API_URL$1m="https://javapaas-202946-0.cloudclusters.net/api",formatPrice$3=e=>`AED ${(e/100).toFixed(2)}`,constructImageUrl=e=>{if(!e||e.startsWith("data:")||e.startsWith("http"))return e;const t=e.split("/").filter(n=>n);return t[0]==="uploads"&&t.length>=4?`${API_URL$1m}/pos/uploads/view/${t.slice(1).join("/")}`:`${API_URL$1m}${e}`},formatVariantAttributes=e=>!e||Object.keys(e).length===0?null:Object.entries(e).map(([t,n])=>n).join(", "),ProductCard=({product:e,variant:t,onAddToCart:n,onDownloadBarcode:o})=>{const l=()=>n(e,t,t.quantity),u=t.quantity<=0;return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm text-left flex flex-col relative group",children:[jsxRuntimeExports.jsx("button",{onClick:m=>o(m,t.id,t.sku),className:"absolute top-2 right-2 z-10 p-1.5 bg-white/50 backdrop-blur-sm rounded-full text-slate-600 hover:bg-blue-100 hover:text-blue-700 transition-colors opacity-0 group-hover:opacity-100",title:"Download QR Code",children:jsxRuntimeExports.jsx(Download,{size:16})}),jsxRuntimeExports.jsxs("button",{onClick:l,className:"p-3 h-full w-full flex flex-col focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"w-full aspect-square bg-slate-100 rounded-md mb-2 overflow-hidden flex-shrink-0",children:t.imageUrl&&!u?jsxRuntimeExports.jsx("img",{src:constructImageUrl(t.imageUrl),alt:e.name,className:"w-full h-full object-cover"}):jsxRuntimeExports.jsx("div",{className:"w-full h-full bg-slate-200 flex items-center justify-center text-slate-400",children:jsxRuntimeExports.jsx(ShoppingCart,{size:24})})}),jsxRuntimeExports.jsxs("div",{className:"flex-grow",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-sm text-slate-800",title:e.name,children:e.name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-500",children:formatVariantAttributes(t.attributes)}),jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-500 mt-1 truncate",title:e.description,children:e.description||"No description"})]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-slate-400 mt-1 space-y-0.5",children:[t.barcode&&jsxRuntimeExports.jsxs("p",{children:["Barcode: ",t.barcode]}),t.taxRate&&jsxRuntimeExports.jsxs("p",{children:["Tax: ",t.taxRate.name," (",t.taxRate.percent,"%)"]})]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Quantity: ",t?.quantity]}),u?jsxRuntimeExports.jsx("p",{className:"text-sm font-bold text-red-600 mt-2",children:"Out of Stock"}):jsxRuntimeExports.jsx("p",{className:"text-sm font-bold text-blue-600 mt-2",children:formatPrice$3(t.priceCents)})]})]})},ProductGrid=({products:e,onAddToCart:t,onDownloadBarcode:n})=>jsxRuntimeExports.jsx("div",{className:"flex-grow overflow-y-auto grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:e.flatMap(o=>o.variants.map(l=>jsxRuntimeExports.jsx(ProductCard,{product:o,variant:l,onAddToCart:t,onDownloadBarcode:n},l.id)))}),Cart=({cart:e,onUpdateQuantity:t,onRemoveItem:n,onClearCart:o,onDiscountChange:l,discountCents:u,onOpenLookup:m,onOpenDiscountModal:p,onOpenBillModal:j})=>{const f=e.reduce((b,R)=>b+R.priceCents*R.quantity,0),g=e.reduce((b,R)=>{const v=R.priceCents*R.quantity;return b+(R.taxRate?Math.round(v*(R.taxRate.percent/100)):0)},0);return jsxRuntimeExports.jsxs("div",{className:"bg-white h-full flex flex-col",children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b",children:jsxRuntimeExports.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[jsxRuntimeExports.jsx(ShoppingCart,{size:20})," Cart"]})}),jsxRuntimeExports.jsx("div",{className:"flex-grow overflow-y-auto p-4 space-y-3",children:e.length===0?jsxRuntimeExports.jsx("p",{className:"text-slate-500 text-center mt-8",children:"Your cart is empty."}):e.map(b=>{const R=b.taxRate?Math.round(b.priceCents*b.quantity*(b.taxRate.percent/100)):0;return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex-grow",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-sm leading-tight",children:b.productName}),b.attributes&&Object.keys(b.attributes).length>0&&jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-500",children:formatVariantAttributes(b.attributes)}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-baseline",children:[jsxRuntimeExports.jsxs("p",{className:"text-xs text-slate-500",children:[formatPrice$3(b.priceCents)," each"]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-slate-500",children:[" Qty ",b.quantity]}),b.taxRate?jsxRuntimeExports.jsxs("p",{className:"text-xs text-slate-500",children:[" ",b.taxRate.name," ",b.taxRate.percent,"%"]}):jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-500",children:" No tax"})]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-slate-500",children:["Item tax: ",formatPrice$3(R)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 border rounded-md",children:[jsxRuntimeExports.jsx("button",{onClick:()=>t(b.productVariantId,-1),className:"px-2 py-1 text-slate-500 hover:bg-slate-100",children:jsxRuntimeExports.jsx(Minus,{size:12})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium w-6 text-center",children:b.quantity}),jsxRuntimeExports.jsx("button",{onClick:()=>t(b.productVariantId,1),className:"px-2 py-1 text-slate-500 hover:bg-slate-100",children:jsxRuntimeExports.jsx(Plus,{size:12})})]}),jsxRuntimeExports.jsx("button",{onClick:()=>n(b.productVariantId),className:"text-red-500 hover:text-red-700",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]},b.productVariantId)})}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t bg-slate-50 space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-slate-600",children:"Subtotal"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:formatPrice$3(f)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-slate-600",children:"Tax (estimated)"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:formatPrice$3(g)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-slate-600",children:"Delivery Charge"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:"AED 0"})]}),u>0&&jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm text-green-600 pt-2 border-t border-slate-200",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Discount Applied"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:["-",formatPrice$3(u)]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[jsxRuntimeExports.jsx("button",{onClick:m,className:"btn-secondary",children:"Lookup"}),jsxRuntimeExports.jsx("button",{onClick:p,className:"btn-secondary",children:"Discounts"}),jsxRuntimeExports.jsx("button",{onClick:j,disabled:e.length===0,className:"btn-primary",children:"Bill"}),jsxRuntimeExports.jsx("button",{onClick:o,disabled:e.length===0,className:"w-full btn-secondary mt-2",children:"Clear Cart"})]})]})]})},PaymentModal=({subtotal:e,tax:t,total:n,onProcessSale:o,onClose:l,loading:u})=>{const[m,p]=reactExports.useState("CASH"),[j,f]=reactExports.useState(""),g=j&&m==="CASH"?parseFloat(j)-n/100:0,b=()=>{o({method:m,amountCents:m==="CASH"&&j?parseFloat(j)*100:n,reference:m==="CARD"?"CARD_TRANSACTION":null})};return jsxRuntimeExports.jsx(Modal$b,{isOpen:!0,onClose:l,title:"Process Payment",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-slate-500",children:"Total Amount Due"}),jsxRuntimeExports.jsx("p",{className:"text-4xl font-bold",children:formatPrice$3(n)})]}),jsxRuntimeExports.jsxs("div",{className:"border-t border-dashed pt-2 space-y-1 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-slate-600",children:"Subtotal"}),jsxRuntimeExports.jsx("span",{children:formatPrice$3(e)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-slate-600",children:"Tax"}),jsxRuntimeExports.jsx("span",{children:formatPrice$3(t)})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>p("CASH"),className:`flex-1 btn-secondary flex items-center justify-center gap-2 ${m==="CASH"&&"ring-2 ring-blue-500"}`,children:[jsxRuntimeExports.jsx(DollarSign,{size:16})," Cash"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>p("CARD"),className:`flex-1 btn-secondary flex items-center justify-center gap-2 ${m==="CARD"&&"ring-2 ring-blue-500"}`,children:[jsxRuntimeExports.jsx(CreditCard,{size:16})," Card"]})]}),m==="CASH"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Amount Tendered"}),jsxRuntimeExports.jsx("input",{type:"number",value:j,onChange:R=>f(R.target.value),className:"input text-center text-lg",placeholder:"0.00"})]}),g>0&&jsxRuntimeExports.jsxs("div",{className:"text-center bg-blue-50 p-3 rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"text-slate-500",children:"Change Due"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-blue-600",children:formatPrice$3(g*100)})]}),jsxRuntimeExports.jsxs("button",{onClick:b,disabled:u,className:"w-full btn-primary flex items-center justify-center",children:[u&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-5 w-5 mr-2"}),"Confirm Sale"]})]})})},API_URL$1l="https://javapaas-202946-0.cloudclusters.net/api",TABS$1=["All Sales","On Delivery","Pending","Completed"],LookupModal=({isOpen:e,onClose:t,onResumeSale:n,onRemoveSale:o})=>{const[l,u]=reactExports.useState(TABS$1[0]),[m,p]=reactExports.useState(null),[j,f]=reactExports.useState([]),[g,b]=reactExports.useState(!0),[R,v]=reactExports.useState(""),[N,S]=reactExports.useState("");reactExports.useEffect(()=>{if(e){b(!0),v("");const D=localStorage.getItem("token");axios.get(`${API_URL$1l}/pos/sales`,{headers:{Authorization:`Bearer ${D}`}}).then(I=>{f(I.data.sort((L,_)=>new Date(_.invoiceDate)-new Date(L.invoiceDate)))}).catch(I=>{console.error("Error fetching sales:",I),v("Failed to load sales data.")}).finally(()=>b(!1))}},[e]);const $=reactExports.useMemo(()=>{let D=j;if(l==="On Delivery"?D=j.filter(L=>L.status==="delivering"):l==="Pending"?D=j.filter(L=>L.paymentStatus!=="paid"):l==="Completed"&&(D=j.filter(L=>L.status==="completed"&&L.paymentStatus==="paid")),!N.trim())return D;const I=N.toLowerCase();return D.filter(L=>L.invoiceNo&&L.invoiceNo.toLowerCase().includes(I)||L.customerName&&L.customerName.toLowerCase().includes(I))},[j,l,N]),C=async D=>{p(D);try{const I=localStorage.getItem("token"),L=await axios.get(`${API_URL$1l}/pos/sales/${D}/invoice/pdf`,{headers:{Authorization:`Bearer ${I}`},responseType:"blob"}),_=new Blob([L.data],{type:"application/pdf"}),M=URL.createObjectURL(_);window.open(M,"_blank")}catch(I){console.error("Error fetching invoice PDF:",I),alert("Could not load the invoice. Please try again.")}finally{p(null)}},A=D=>{alert(`Edit functionality for sale ID: ${D} is not yet implemented.`)};if(!e)return null;const T=()=>g?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center py-10",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-blue-600"})}):R?jsxRuntimeExports.jsxs("div",{className:"text-center text-red-500 py-10",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-8 w-8"}),jsxRuntimeExports.jsx("p",{children:R})]}):$.length===0?jsxRuntimeExports.jsx("div",{className:"text-center text-slate-500 py-10",children:jsxRuntimeExports.jsxs("p",{children:["No sales found for '",l,"'."]})}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Invoice #"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Customer"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"th-cell text-right",children:"Total"}),(l==="Completed"||l==="Pending")&&jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-slate-200 text-slate-700",children:$.map(D=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium",children:D.invoiceNo}),jsxRuntimeExports.jsx("td",{className:"td-cell text-sm",children:new Date(D.invoiceDate).toLocaleString()}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:D.customerName||"Walk-in"}),jsxRuntimeExports.jsxs("td",{className:"td-cell capitalize",children:[D.status," (",D.paymentStatus,")"]}),jsxRuntimeExports.jsx("td",{className:"td-cell text-right font-semibold",children:formatPrice$3(D.totalCents)}),l==="Completed"&&jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>C(D.id),className:"p-1.5 text-slate-500 hover:text-blue-600 rounded-full",title:"Print Invoice",disabled:m===D.id,children:m===D.id?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4"}):jsxRuntimeExports.jsx(Printer,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>A(D.id),className:"p-1.5 text-slate-500 hover:text-green-600 rounded-full",title:"Edit Sale",children:jsxRuntimeExports.jsx(SquarePen,{size:16})})]})}),l==="Pending"&&jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>n(D.id),className:"p-1.5 text-slate-500 hover:text-green-600 rounded-full",title:"Resume and Pay",children:jsxRuntimeExports.jsx(CreditCard,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>o(D.id),className:"p-1.5 text-slate-500 hover:text-red-600 rounded-full",title:"Remove Sale",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},D.id))})]})});return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",onClick:t,children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl flex flex-col max-h-[80vh]",onClick:D=>D.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center flex-shrink-0",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold",children:"Lookup Sales"}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsx("div",{className:"border-b border-slate-200 flex-shrink-0",children:jsxRuntimeExports.jsx("nav",{className:"-mb-px flex space-x-4 px-4","aria-label":"Tabs",children:TABS$1.map(D=>jsxRuntimeExports.jsx("button",{onClick:()=>u(D),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm transition-colors ${l===D?"border-blue-600 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:D},D))})}),jsxRuntimeExports.jsx("div",{className:"p-4 border-b border-slate-200 flex-shrink-0",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by Invoice # or Customer Name...",value:N,onChange:D=>S(D.target.value),className:"input w-full pl-10"}),jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"})]})}),jsxRuntimeExports.jsx("div",{className:"flex-grow overflow-y-auto p-6 pt-0",children:T()})]})})},TABS=["Percentage","Fixed Amount"],DiscountModal=({isOpen:e,onClose:t,onApplyDiscount:n,subtotal:o})=>{const[l,u]=reactExports.useState(TABS[0]),[m,p]=reactExports.useState(""),[j,f]=reactExports.useState("");if(!e)return null;const g=()=>{let v=0;l==="Percentage"&&m?v=Math.round(o*(parseFloat(m)/100)):l==="Fixed Amount"&&j&&(v=Math.round(parseFloat(j)*100)),n(v),t()},b=()=>{n(0),t()},R=()=>l==="Percentage"?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"percentage",className:"label",children:"Discount Percentage (%)"}),jsxRuntimeExports.jsx("input",{id:"percentage",type:"number",value:m,onChange:v=>p(v.target.value),className:"input",placeholder:"e.g., 10"})]}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"fixedAmount",className:"label",children:"Discount Amount"}),jsxRuntimeExports.jsx("input",{id:"fixedAmount",type:"number",value:j,onChange:v=>f(v.target.value),className:"input",placeholder:"e.g., 5.00"})]});return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",onClick:t,children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md flex flex-col",onClick:v=>v.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold",children:"Apply Discount"}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsx("div",{className:"border-b border-slate-200 flex-shrink-0",children:jsxRuntimeExports.jsx("nav",{className:"flex",children:TABS.map(v=>jsxRuntimeExports.jsxs("button",{onClick:()=>u(v),className:`flex-1 py-3 px-1 text-sm font-medium text-center transition-colors ${l===v?"border-b-2 border-blue-600 text-blue-600":"text-slate-500 hover:bg-slate-50"}`,children:[v==="Percentage"?jsxRuntimeExports.jsx(Percent,{size:16,className:"inline-block mr-2"}):jsxRuntimeExports.jsx(CircleDollarSign,{size:16,className:"inline-block mr-2"}),v]},v))})}),jsxRuntimeExports.jsx("div",{className:"p-6 space-y-4",children:R()}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-slate-50 border-t grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:b,className:"btn-danger",children:"Remove Discount"}),jsxRuntimeExports.jsx("button",{onClick:g,className:"btn-primary",children:"Apply Discount"})]})]})})},API_URL$1k="https://javapaas-202946-0.cloudclusters.net/api",SaleSuccessModal=({sale:e,onClose:t})=>{const[n,o]=reactExports.useState(!1),l=async()=>{o(!0);try{const u=localStorage.getItem("token"),m=await axios.get(`${API_URL$1k}/pos/sales/${e.id}/invoice/pdf`,{headers:{Authorization:`Bearer ${u}`},responseType:"blob"}),p=new Blob([m.data],{type:"application/pdf"}),j=URL.createObjectURL(p);window.open(j,"_blank")}catch(u){console.error("Error fetching invoice PDF:",u),alert("Could not load the invoice. Please try again.")}finally{o(!1)}};return jsxRuntimeExports.jsx(Modal$b,{isOpen:!!e,onClose:t,title:"Sale Successful",children:jsxRuntimeExports.jsxs("div",{className:"text-center p-4",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-lg",children:"The sale has been completed successfully."}),jsxRuntimeExports.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row justify-center gap-2",children:[jsxRuntimeExports.jsxs("button",{onClick:l,className:"btn-primary flex items-center justify-center",disabled:n,children:[n?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-5 w-5 mr-2"}):jsxRuntimeExports.jsx(Printer,{className:"mr-2 h-5 w-5"}),n?"Loading...":"Print Invoice"]}),jsxRuntimeExports.jsx("button",{onClick:t,className:"btn-secondary",children:"New Sale"})]})]})})},BillModal=({isOpen:e,onClose:t,cart:n,customer:o,subtotal:l,tax:u,discountCents:m,total:p,onProcessSale:j,onOpenDiscountModal:f,onParkSale:g,loading:b})=>{const[R,v]=reactExports.useState(""),[N,S]=reactExports.useState("CASH"),[$,C]=reactExports.useState("");reactExports.useEffect(()=>{e&&(v(`ORD-${Date.now().toString().slice(-6)}`),C(""))},[e]);const A=p,T=$?parseFloat($)*100-p:0,D=()=>{b||j(R,{method:N,amountCents:N==="CASH"&&$?parseFloat($)*100:p,reference:N==="CARD"?"CARD_TRANSACTION":null})},I=()=>{window.print()};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",onClick:t,children:jsxRuntimeExports.jsxs("div",{id:"bill-modal-content",className:"bg-white rounded-lg shadow-xl w-full max-w-4xl flex max-h-[90vh]",onClick:L=>L.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"w-3/5 flex flex-col border-r border-slate-200",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold",children:"Sale Summary"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center text-sm text-slate-500 mt-1",children:[jsxRuntimeExports.jsxs("span",{children:["Order ID: ",jsxRuntimeExports.jsx("span",{className:"font-medium text-slate-700",children:R})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(User,{size:14}),jsxRuntimeExports.jsx("span",{children:o?.name||"Walk-in Customer"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex-grow overflow-y-auto p-4 space-y-2",children:n.map(L=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center text-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:L.productName}),jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-500",children:formatVariantAttributes(L.attributes)})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsxs("p",{children:[L.quantity," x ",formatPrice$3(L.priceCents)]}),jsxRuntimeExports.jsx("p",{className:"font-semibold",children:formatPrice$3(L.quantity*L.priceCents)})]})]},L.productVariantId))}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t bg-slate-50 space-y-1 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-slate-600",children:"Subtotal"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:formatPrice$3(l)})]}),m>0&&jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-green-600",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Discount"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:["-",formatPrice$3(m)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-slate-600",children:"Delivery Charge"}),jsxRuntimeExports.jsx("span",{children:"AED 0.00"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-slate-600",children:"Tax (estimated)"}),jsxRuntimeExports.jsx("span",{children:formatPrice$3(u)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t mt-2",children:[jsxRuntimeExports.jsx("span",{children:"Total"}),jsxRuntimeExports.jsx("span",{children:formatPrice$3(p)})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t grid grid-cols-4 gap-2",children:[jsxRuntimeExports.jsx("button",{className:"btn-secondary text-sm",onClick:t,children:"Close"}),jsxRuntimeExports.jsx("button",{className:"btn-secondary text-sm",onClick:f,children:"Discount"}),jsxRuntimeExports.jsxs("button",{onClick:I,className:"btn-secondary text-sm flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx(Printer,{size:14})," Print Order"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>g(R),className:"btn-primary text-sm flex items-center justify-center gap-2",disabled:b,children:[jsxRuntimeExports.jsx(SquareParking,{size:14})," Park Sale"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"w-2/5 flex flex-col bg-slate-50",children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b border-slate-200 flex justify-end",children:jsxRuntimeExports.jsx("button",{className:"btn-secondary text-sm",onClick:()=>alert("New Sale clicked"),children:"New Sale"})}),jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-4 flex-grow",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Paid Amount"}),jsxRuntimeExports.jsx("p",{className:"input-display",children:formatPrice$3($?parseFloat($)*100:0)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Balance Amount"}),jsxRuntimeExports.jsx("p",{className:"input-display font-bold text-blue-600",children:formatPrice$3(A)})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Received Amount"}),jsxRuntimeExports.jsx("input",{type:"number",value:$,onChange:L=>C(L.target.value),className:"input text-lg text-center",placeholder:"0.00",disabled:N!=="CASH"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Change Amount"}),jsxRuntimeExports.jsx("p",{className:"input-display font-bold text-green-600",children:formatPrice$3(T>0?T:0)})]}),jsxRuntimeExports.jsxs("div",{className:"pt-4",children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Mode of Payment"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mt-1",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>S("CASH"),className:`flex-1 btn-secondary flex items-center justify-center gap-2 ${N==="CASH"&&"ring-2 ring-blue-500"}`,children:[jsxRuntimeExports.jsx(DollarSign,{size:16})," Cash"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>S("CARD"),className:`flex-1 btn-secondary flex items-center justify-center gap-2 ${N==="CARD"&&"ring-2 ring-blue-500"}`,children:[jsxRuntimeExports.jsx(CreditCard,{size:16})," Card"]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"p-4",children:jsxRuntimeExports.jsxs("button",{onClick:D,className:"w-full btn-primary text-lg",disabled:b,children:[b?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-5 w-5 mr-2"}):null,"Pay"]})})]})]})}):null},ProductPanel=({isOpen:e,onClose:t,onSave:n,isSubmitting:o})=>jsxRuntimeExports.jsx(AnimatePresence,{children:e&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black bg-opacity-60 z-40",onClick:t}),jsxRuntimeExports.jsxs(motion.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 right-0 h-full w-full max-w-lg bg-white shadow-2xl z-50 flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex-shrink-0 flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:t,className:"p-1.5 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(ArrowLeft,{size:20})}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Add New Product"})]}),jsxRuntimeExports.jsx("div",{className:"flex-grow overflow-y-auto",children:jsxRuntimeExports.jsx(ProductForm$1,{onSave:n,onCancel:t,isSubmitting:o})})]})]})}),API_URL$1j="https://javapaas-202946-0.cloudclusters.net/api",SalesView=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState([]),[l,u]=reactExports.useState([]),[m,p]=reactExports.useState([]),[j,f]=reactExports.useState([]),[g,b]=reactExports.useState(""),[R,v]=reactExports.useState(""),[N,S]=reactExports.useState(""),[$,C]=reactExports.useState("All"),[A,T]=reactExports.useState(""),[D,I]=reactExports.useState({products:!0,customers:!0,stores:!0,sale:!1}),[L,_]=reactExports.useState(0),[M,F]=reactExports.useState(!1),[B,q]=reactExports.useState(!1),[z,V]=reactExports.useState(null),[Q,ee]=reactExports.useState(!1),[G,K]=reactExports.useState(!1),[J,ne]=reactExports.useState(!1),[H,te]=reactExports.useState(!1),[Y,le]=reactExports.useState(!1);reactExports.useEffect(()=>{const we={Authorization:`Bearer ${localStorage.getItem("token")}`};(async()=>{try{const[ke,Ue,He,Ge]=await Promise.all([axios.get(`${API_URL$1j}/pos/products`,{headers:we}),axios.get(`${API_URL$1j}/pos/customers`,{headers:we}),axios.get(`${API_URL$1j}/pos/stores`,{headers:we}),axios.get(`${API_URL$1j}/pos/categories`,{headers:we})]);t(ke.data),o(Ue.data),p(He.data),u(Ge.data),He.data.length>0&&T(He.data[0].id)}catch(ke){console.error("Error fetching initial POS data:",ke),alert("Failed to load required data. Please refresh the page.")}finally{I({products:!1,customers:!1,stores:!1,sale:!1})}})()},[]);const je=reactExports.useCallback(async()=>{I($e=>({...$e,products:!0}));try{const $e=localStorage.getItem("token"),we=await axios.get(`${API_URL$1j}/pos/products`,{headers:{Authorization:`Bearer ${$e}`}});t(we.data)}catch($e){console.error("Error refetching products:",$e)}finally{I($e=>({...$e,products:!1}))}},[]),ae=async $e=>{le(!0);const we=localStorage.getItem("token");try{const Me={...$e,variants:$e.variants.map(({imageFile:ke,...Ue})=>Ue)};await axios.post(`${API_URL$1j}/pos/products`,Me,{headers:{Authorization:`Bearer ${we}`}}),alert("Product saved successfully!"),K(!1),je()}catch(Me){alert(`Error: ${Me.response?.data?.message||"Could not save product."}`)}finally{le(!1)}},Z=($e,we,Me)=>{f(ke=>{const Ue=ke.find(Ge=>Ge.productVariantId===we.id);if(Me<=0&&!Ue)return alert(`${$e.name} is out of stock.`),ke;const He=we.taxRateId?{id:we.taxRateId,name:we.taxRateName||"Tax",percent:Number(we.taxRatePercent||0)}:null;return Ue?Ue.quantity>=Me?(alert(`No more stock available for ${$e.name}.`),ke):ke.map(Ge=>Ge.productVariantId===we.id?{...Ge,quantity:Ge.quantity+1}:Ge):[...ke,{productVariantId:we.id,productName:$e.name,priceCents:Number(we.priceCents||0),taxRate:He,attributes:we.attributes,quantity:1,availableQuantity:Me}]})},ce=($e,we)=>{f(Me=>Me.map(ke=>{if(ke.productVariantId===$e){const Ue=ke.quantity+we;return we>0&&Ue>ke.availableQuantity?(alert(`Only ${ke.availableQuantity} units of ${ke.productName} are available.`),ke):{...ke,quantity:Math.max(1,Ue)}}return ke}))},oe=$e=>{f(we=>we.filter(Me=>Me.productVariantId!==$e))},me=()=>{f([]),_(0)},fe=$e=>{if($e.key==="Enter"&&R.trim()!==""){$e.preventDefault();let we=!1;for(const Me of e){const ke=Me.variants.find(Ue=>Ue.barcode===R.trim());if(ke){Z(Me,ke),we=!0;break}}we||alert(`Product with barcode "${R}" not found.`),v("")}},xe=async($e,we)=>{I(ke=>({...ke,sale:!0}));const Me={discountCents:L,storeId:A,customerId:N||null,orderId:$e,items:j.map(ke=>({productVariantId:ke.productVariantId,quantity:ke.quantity})),payments:[we]};try{const ke=localStorage.getItem("token"),Ue=await axios.post(`${API_URL$1j}/pos/sales`,Me,{headers:{Authorization:`Bearer ${ke}`}});f([]),S(""),_(0),q(!1),F(!1),V(Ue.data)}catch(ke){console.error("Sale creation failed:",ke),alert(`Sale failed: ${ke.response?.data?.message||ke.message||"Please try again."}`)}finally{I(ke=>({...ke,sale:!1}))}},ge=async $e=>{if(j.length===0){alert("Cannot park an empty sale.");return}I(Me=>({...Me,sale:!0}));const we={discountCents:L,storeId:A,customerId:N||null,orderId:$e,items:j.map(Me=>({productVariantId:Me.productVariantId,quantity:Me.quantity})),status:"pending",payments:[]};try{const Me=localStorage.getItem("token");await axios.post(`${API_URL$1j}/pos/sales`,we,{headers:{Authorization:`Bearer ${Me}`}}),alert("Sale has been parked and can be found in the Lookup > Pending tab."),me(),q(!1)}catch(Me){alert(`Parking sale failed: ${Me.response?.data?.message||Me.message||"Please try again."}`)}finally{I(Me=>({...Me,sale:!1}))}},Ce=async $e=>{if(!(j.length>0&&!window.confirm("This will clear your current cart. Are you sure you want to resume this sale?"))){me(),I(we=>({...we,sale:!0}));try{const we=localStorage.getItem("token"),ke=(await axios.get(`${API_URL$1j}/pos/sales/${$e}`,{headers:{Authorization:`Bearer ${we}`}})).data,Ue=ke.items.map(He=>({productVariantId:He.productVariant.id,productName:He.productVariant.product.name,priceCents:Number(He.priceCents||0),taxRate:He.productVariant.taxRate?{id:He.productVariant.taxRate.id,name:He.productVariant.taxRate.name,percent:Number(He.productVariant.taxRate.percent||0)}:null,attributes:He.productVariant.attributes,quantity:He.quantity,availableQuantity:He.productVariant.quantity}));f(Ue),S(ke.customerId||""),_(ke.discountCents||0),ne(!1),q(!0)}catch(we){alert(`Resuming sale failed: ${we.response?.data?.message||"Please try again."}`)}finally{I(we=>({...we,sale:!1}))}}},Ae=async $e=>{if(window.confirm("Are you sure you want to permanently remove this parked sale?"))try{const we=localStorage.getItem("token");await axios.delete(`${API_URL$1j}/pos/sales/${$e}`,{headers:{Authorization:`Bearer ${we}`}}),alert("Parked sale removed successfully."),ne(!1)}catch(we){alert(`Removing sale failed: ${we.response?.data?.message||"Please try again."}`)}},Le=async $e=>{I(we=>({...we,customers:!0}));try{const we=localStorage.getItem("token"),ke=(await axios.post(`${API_URL$1j}/pos/customers`,$e,{headers:{Authorization:`Bearer ${we}`}})).data;o(Ue=>[...Ue,ke].sort((He,Ge)=>He.name.localeCompare(Ge.name))),S(ke.id),ee(!1)}catch(we){console.error("Failed to save customer:",we),alert(`Error: ${we.response?.data?.message||"Could not save customer."}`)}finally{I(we=>({...we,customers:!1}))}},De=reactExports.useMemo(()=>e.filter($e=>$e&&$e.name&&($e.name.toLowerCase().includes(g.toLowerCase())||($e.sku||"").toLowerCase().includes(g.toLowerCase()))&&($==="All"||$==="Uncategorized"&&!$e.categoryName||$e.categoryName===$)),[e,g,$]),Ye=reactExports.useMemo(()=>j.reduce(($e,we)=>$e+we.priceCents*we.quantity,0),[j]),Lt=reactExports.useMemo(()=>j.reduce(($e,we)=>{const Me=we.priceCents*we.quantity;return $e+(we.taxRate?Math.round(Me*(we.taxRate.percent/100)):0)},0),[j]),ct=Ye+Lt-L,dt=()=>{if(!A){alert("Please select a store before proceeding to payment.");return}F(!0)},sr=()=>{j.length===0||!A||q(!0)},ro=async($e,we,Me)=>{$e.stopPropagation();try{const ke=localStorage.getItem("token"),Ue=await axios.get(`${API_URL$1j}/pos/barcodes/qr/variant/${we}`,{headers:{Authorization:`Bearer ${ke}`},responseType:"blob"}),He=window.URL.createObjectURL(new Blob([Ue.data])),Ge=document.createElement("a");Ge.href=He,Ge.setAttribute("download",`qr-${Me}.png`),document.body.appendChild(Ge),Ge.click(),Ge.remove(),window.URL.revokeObjectURL(He)}catch(ke){console.error("Failed to download barcode",ke),alert("Could not download barcode.")}};return jsxRuntimeExports.jsxs("div",{className:"flex h-full bg-slate-100",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col p-4",children:[jsxRuntimeExports.jsx(SalesHeader,{searchTerm:g,onSearchTermChange:b,barcode:R,onBarcodeChange:v,onBarcodeScan:fe,selectedCategory:$,onCategoryChange:C,categories:l,selectedStore:A,onStoreChange:T,stores:m,selectedCustomer:N,onCustomerChange:S,customers:n,onAddCustomer:()=>ee(!0),onAddProduct:()=>K(!0)}),D.products||D.stores?jsxRuntimeExports.jsx("div",{className:"flex-grow flex justify-center items-center",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-10 w-10 text-blue-600"})}):jsxRuntimeExports.jsx(ProductGrid,{products:De,onAddToCart:Z,onDownloadBarcode:ro})]}),jsxRuntimeExports.jsxs("div",{className:"w-80 flex-shrink-0 border-l border-slate-200 flex flex-col",children:[jsxRuntimeExports.jsx(Cart,{cart:j,onUpdateQuantity:ce,onRemoveItem:oe,onClearCart:me,discountCents:L,onOpenLookup:()=>ne(!0),onOpenDiscountModal:()=>te(!0),onOpenBillModal:sr,onDiscountChange:_}),jsxRuntimeExports.jsx("div",{className:"p-4 border-t",children:jsxRuntimeExports.jsxs("button",{onClick:dt,disabled:j.length===0||!A,className:"w-full btn-primary text-lg",children:["Place Order ",formatPrice$3(ct)]})})]}),M&&jsxRuntimeExports.jsx(PaymentModal,{subtotal:Ye,total:ct,tax:Lt,onProcessSale:xe,onClose:()=>F(!1),loading:D.sale}),B&&jsxRuntimeExports.jsx(BillModal,{isOpen:B,onClose:()=>q(!1),cart:j,customer:n.find($e=>$e.id===N),subtotal:Ye,tax:Lt,discountCents:L,total:ct,onProcessSale:xe,onOpenDiscountModal:()=>te(!0),onParkSale:ge,loading:D.sale}),z&&jsxRuntimeExports.jsx(SaleSuccessModal,{sale:z,onClose:()=>V(null)}),J&&jsxRuntimeExports.jsx(LookupModal,{isOpen:J,onClose:()=>ne(!1),onResumeSale:Ce,onRemoveSale:Ae}),H&&jsxRuntimeExports.jsx(DiscountModal,{isOpen:H,onClose:()=>te(!1),onApplyDiscount:_,subtotal:Ye}),Q&&jsxRuntimeExports.jsx(Modal$b,{isOpen:Q,onClose:()=>ee(!1),title:"Add New Customer",children:jsxRuntimeExports.jsx(CustomerForm,{onSave:Le,onCancel:()=>ee(!1),isSubmitting:D.customers})}),jsxRuntimeExports.jsx(ProductPanel,{isOpen:G,onClose:()=>K(!1),onSave:ae,isSubmitting:Y})]})},API_URL$1i="https://javapaas-202946-0.cloudclusters.net/api",usePosAuth=()=>{const e=reactExports.useMemo(()=>{try{return JSON.parse(localStorage.getItem("roles")||"[]")}catch{return[]}},[]),t=e.includes("SUPER_ADMIN"),n=e.includes("POS_ADMIN")||t,o=e.includes("POS_MANAGER")||n;return{isPosAdmin:n,canManage:o}},formatPrice$2=e=>`AED ${(e/100).toFixed(2)}`,formatDate=e=>e?new Date(e).toLocaleString():"N/A",Modal$a=({isOpen:e,onClose:t,title:n,children:o,size:l="max-w-2xl"})=>e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/60 flex justify-center items-center z-50 p-4",onClick:t,children:jsxRuntimeExports.jsxs("div",{className:`bg-card text-card-foreground rounded-lg shadow-xl w-full ${l} flex flex-col max-h-[90vh]`,onClick:u=>u.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center flex-shrink-0",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-foreground",children:n}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-1 rounded-full text-foreground-muted hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsx("div",{className:"p-6 overflow-y-auto",children:o})]})}):null,PurchaseOrderForm$1=({onSave:e,onCancel:t,stores:n,products:o})=>{const[l,u]=reactExports.useState({storeId:n[0]?.id||"",supplierName:"",status:"open",items:[{productVariantId:"",quantityOrdered:1,unitCostCents:0}]}),[m,p]=reactExports.useState(!1),j=v=>{const{name:N,value:S}=v.target;u($=>({...$,[N]:S}))},f=(v,N)=>{const{name:S,value:$}=N.target,C=[...l.items];C[v][S]=$,u(A=>({...A,items:C}))},g=()=>{u(v=>({...v,items:[...v.items,{productVariantId:"",quantityOrdered:1,unitCostCents:0}]}))},b=v=>{u(N=>({...N,items:N.items.filter((S,$)=>$!==v)}))},R=async v=>{v.preventDefault(),p(!0);try{await e(l)}catch{}finally{p(!1)}};return jsxRuntimeExports.jsxs("form",{onSubmit:R,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label text-foreground-muted",children:"Store"}),jsxRuntimeExports.jsx("select",{name:"storeId",value:l.storeId,onChange:j,className:"input bg-background-muted border-border text-foreground",required:!0,children:n.map(v=>jsxRuntimeExports.jsx("option",{value:v.id,children:v.name},v.id))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label text-foreground-muted",children:"Supplier Name"}),jsxRuntimeExports.jsx("input",{name:"supplierName",value:l.supplierName,onChange:j,className:"input bg-background-muted border-border text-foreground",required:!0})]})]}),jsxRuntimeExports.jsx("h4",{className:"font-semibold text-foreground pt-4 border-t border-border",children:"Items"}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:l.items.map((v,N)=>jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-12 gap-2 items-end",children:[jsxRuntimeExports.jsxs("div",{className:"col-span-5",children:[jsxRuntimeExports.jsx("label",{className:"label text-xs text-foreground-muted",children:"Product"}),jsxRuntimeExports.jsxs("select",{name:"productVariantId",value:v.productVariantId,onChange:S=>f(N,S),className:"input bg-background-muted border-border text-foreground",required:!0,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Product"}),o.flatMap(S=>S.variants.map($=>jsxRuntimeExports.jsxs("option",{value:$.id,children:[S.name," (",$.sku,")"]},$.id)))]})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-3",children:[jsxRuntimeExports.jsx("label",{className:"label text-xs text-foreground-muted",children:"Quantity"}),jsxRuntimeExports.jsx("input",{name:"quantityOrdered",type:"number",min:"1",value:v.quantityOrdered,onChange:S=>f(N,S),className:"input bg-background-muted border-border text-foreground"})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-3",children:[jsxRuntimeExports.jsx("label",{className:"label text-xs text-foreground-muted",children:"Unit Cost (cents)"}),jsxRuntimeExports.jsx("input",{name:"unitCostCents",type:"number",min:"0",value:v.unitCostCents,onChange:S=>f(N,S),className:"input bg-background-muted border-border text-foreground"})]}),jsxRuntimeExports.jsx("div",{className:"col-span-1",children:jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>b(N),className:"btn-secondary p-2 h-10 w-10 text-red-500",children:jsxRuntimeExports.jsx(Trash2,{size:16})})})]},N))}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:g,className:"btn-secondary text-sm",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16,className:"mr-2"}),"Add Item"]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t border-border",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary",disabled:m,children:[m&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}),"Create Purchase Order"]})]})]})},PurchaseOrdersTab=()=>{const{canManage:e}=usePosAuth(),[t,n]=reactExports.useState([]),[o,l]=reactExports.useState([]),[u,m]=reactExports.useState([]),[p,j]=reactExports.useState(!0),[f,g]=reactExports.useState(!1),[b,R]=reactExports.useState(null),[v,N]=reactExports.useState(!1),S=reactExports.useCallback(async()=>{j(!0);try{const T={Authorization:`Bearer ${localStorage.getItem("token")}`},[D,I,L]=await Promise.all([axios.get(`${API_URL$1i}/pos/purchase-orders`,{headers:T}),axios.get(`${API_URL$1i}/pos/stores`,{headers:T}),axios.get(`${API_URL$1i}/pos/products`,{headers:T})]);n(D.data),l(I.data),m(L.data)}catch(A){console.error("Failed to fetch inventory data:",A),alert("Could not load inventory data.")}finally{j(!1)}},[]);reactExports.useEffect(()=>{S()},[S]);const $=async A=>{try{const T=localStorage.getItem("token");await axios.post(`${API_URL$1i}/pos/purchase-orders`,A,{headers:{Authorization:`Bearer ${T}`}}),alert("Purchase Order created successfully!"),N(!1),S()}catch(T){throw console.error("Failed to create PO:",T),alert(`Error: ${T.response?.data?.message||"Could not create purchase order."}`),T}},C=A=>{R(A),g(!1)};return p?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-blue-600"})}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold",children:"Purchase Orders"}),e&&jsxRuntimeExports.jsxs("button",{onClick:()=>N(!0),className:"btn-primary flex items-center gap-2",children:[jsxRuntimeExports.jsx(CirclePlus,{size:18})," New Purchase Order"]})]}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"PO Number"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Store"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Supplier"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"text-slate-700",children:t.map(A=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-slate-200 hover:bg-slate-50",children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium",children:A.poNumber}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:A.store?.name}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:A.supplierName}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:A.status})}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:formatDate(A.createdAt)}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsx("button",{onClick:()=>C(A),className:"p-1.5 text-slate-500 hover:text-blue-600 rounded-full",title:"View Details",children:jsxRuntimeExports.jsx(Eye,{size:16})})})]},A.id))})]})})}),jsxRuntimeExports.jsx(Modal$a,{isOpen:v,onClose:()=>N(!1),title:"Create Purchase Order",size:"max-w-4xl",children:jsxRuntimeExports.jsx(PurchaseOrderForm$1,{onSave:$,onCancel:()=>N(!1),stores:o,products:u})}),jsxRuntimeExports.jsx(Modal$a,{isOpen:!!b,onClose:()=>R(null),title:f?`Editing PO: ${b?.poNumber}`:`PO Details: ${b?.poNumber}`,size:"max-w-4xl",children:b&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"label",children:"Supplier"}),jsxRuntimeExports.jsx("p",{children:b.supplierName})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"label",children:"Store"}),jsxRuntimeExports.jsx("p",{children:b.storeName})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"label",children:"Status"}),jsxRuntimeExports.jsx("p",{className:"capitalize",children:b.status})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"label",children:"Date"}),jsxRuntimeExports.jsx("p",{children:formatDate(b.createdAt)})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("p",{className:"label",children:"Total Cost"}),jsxRuntimeExports.jsx("p",{className:"font-semibold",children:formatPrice$2(b.totalCostCents)})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold",children:"Items"}),e&&b.status==="open"&&!f&&jsxRuntimeExports.jsxs("button",{onClick:()=>g(!0),className:"btn-secondary flex items-center gap-2",children:[jsxRuntimeExports.jsx(SquarePen,{size:16})," Edit Items"]})]}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:b.items.map(A=>jsxRuntimeExports.jsxs("li",{className:"flex justify-between items-center p-2 bg-slate-50 rounded-md",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:A.productName}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-slate-500",children:["SKU: ",A.productVariantSku||"N/A"]})]}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-slate-600",children:["Qty: ",A.quantityOrdered," @ ",formatPrice$2(A.unitCostCents)]})]},A.id))}),f&&jsxRuntimeExports.jsx("div",{className:"pt-4 border-t",children:jsxRuntimeExports.jsx("p",{className:"text-center text-sm text-slate-500",children:"Item editing functionality can be added here."})})]})})]})},StockAdjustmentForm=({onSave:e,onCancel:t,item:n,stores:o,products:l})=>{const[u,m]=reactExports.useState({storeId:n?.storeId||o[0]?.id||"",productVariantId:n?.productVariantId||"",changeQuantity:1,reason:"Manual Adjustment"}),[p,j]=reactExports.useState(!1),f=b=>{const{name:R,value:v}=b.target;m(N=>({...N,[R]:v}))},g=async b=>{b.preventDefault(),j(!0);try{await e(u)}catch{}finally{j(!1)}};return jsxRuntimeExports.jsxs("form",{onSubmit:g,className:"space-y-4",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-foreground-muted",children:["Adjust stock for: ",jsxRuntimeExports.jsxs("span",{className:"font-semibold text-foreground",children:[n?.productName," (",n?.variantSku,")"]})]}),jsxRuntimeExports.jsx("input",{type:"hidden",name:"productVariantId",value:u.productVariantId}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label text-foreground-muted",children:"Store"}),jsxRuntimeExports.jsx("select",{name:"storeId",value:u.storeId,onChange:f,className:"input bg-background-muted border-border text-foreground",required:!0,children:o.map(b=>jsxRuntimeExports.jsx("option",{value:b.id,children:b.name},b.id))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label text-foreground-muted",children:"Change Quantity"}),jsxRuntimeExports.jsx("input",{name:"changeQuantity",type:"number",value:u.changeQuantity,onChange:f,className:"input bg-background-muted border-border text-foreground",placeholder:"e.g., 10 or -5",required:!0}),jsxRuntimeExports.jsx("p",{className:"text-xs text-foreground-muted mt-1",children:"Use a positive number to add stock, a negative number to remove it."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label text-foreground-muted",children:"Reason"}),jsxRuntimeExports.jsx("input",{name:"reason",value:u.reason,onChange:f,className:"input bg-background-muted border-border text-foreground",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t border-border",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary",disabled:p,children:[p&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}),"Adjust Stock"]})]})]})},AddStockItemForm=({onSave:e,onCancel:t,stores:n,products:o,existingVariantIds:l,selectedStoreId:u})=>{const[m,p]=reactExports.useState({storeId:u||n[0]?.id||"",productVariantId:"",changeQuantity:1,reason:"Initial Stock"}),[j,f]=reactExports.useState(!1),g=reactExports.useMemo(()=>o.flatMap(v=>v.variants.filter(N=>!l.has(N.id))),[o,l]),b=v=>{const{name:N,value:S}=v.target;p($=>({...$,[N]:S}))},R=async v=>{v.preventDefault(),f(!0);try{await e(m)}catch{}finally{f(!1)}};return jsxRuntimeExports.jsxs("form",{onSubmit:R,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label text-foreground-muted",children:"Product Variant"}),jsxRuntimeExports.jsxs("select",{name:"productVariantId",value:m.productVariantId,onChange:b,className:"input bg-background-muted border-border text-foreground",required:!0,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select a product to add"}),g.map(v=>jsxRuntimeExports.jsxs("option",{value:v.id,children:[v.productName," (",v.sku,")"]},v.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label text-foreground-muted",children:"Initial Quantity"}),jsxRuntimeExports.jsx("input",{name:"changeQuantity",type:"number",min:"0",value:m.changeQuantity,onChange:b,className:"input bg-background-muted border-border text-foreground",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label text-foreground-muted",children:"Reason"}),jsxRuntimeExports.jsx("input",{name:"reason",value:m.reason,onChange:b,className:"input bg-background-muted border-border text-foreground",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t border-border",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary",disabled:j,children:[j&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"})," Add to Stock"]})]})]})},StockLevelsTab=()=>{const{canManage:e}=usePosAuth(),[t,n]=reactExports.useState([]),[o,l]=reactExports.useState({stores:!0,stock:!1}),[u,m]=reactExports.useState(""),[p,j]=reactExports.useState(!1),[f,g]=reactExports.useState(!1),[b,R]=reactExports.useState(null),[v,N]=reactExports.useState([]),[S,$]=reactExports.useState([]),[C,A]=reactExports.useState(""),T=reactExports.useCallback(async()=>{l({stores:!0,stock:!1}),m("");try{const q={Authorization:`Bearer ${localStorage.getItem("token")}`},[z,V]=await Promise.all([axios.get(`${API_URL$1i}/pos/products`,{headers:q}),axios.get(`${API_URL$1i}/pos/stores`,{headers:q})]),Q=z.data.map(ee=>({...ee,variants:ee.variants.map(G=>({...G,productName:ee.name}))}));$(Q),N(V.data),V.data.length>0&&A(V.data[0].id)}catch(B){m("Failed to load stock levels."),console.error("Error fetching stock data:",B)}finally{l(B=>({...B,stores:!1}))}},[]),D=reactExports.useCallback(async B=>{if(!B){n([]);return}l(q=>({...q,stock:!0})),m("");try{const z={Authorization:`Bearer ${localStorage.getItem("token")}`},V=await axios.get(`${API_URL$1i}/pos/inventory/store/${B}`,{headers:z});n(V.data)}catch(q){m("Failed to load stock levels for the selected store."),console.error("Error fetching stock levels:",q)}finally{l(q=>({...q,stock:!1}))}},[]);reactExports.useEffect(()=>{T()},[T]);const I=B=>{R(B),j(!0)};reactExports.useEffect(()=>{C&&D(C)},[C,D]);const L=async B=>{try{const q=localStorage.getItem("token");await axios.post(`${API_URL$1i}/pos/stock-movements`,B,{headers:{Authorization:`Bearer ${q}`}}),j(!1),D(C)}catch(q){throw alert(`Error: ${q.response?.data?.message||"Could not adjust stock."}`),q}},_=async B=>{try{const q=localStorage.getItem("token");await axios.post(`${API_URL$1i}/pos/stock-movements`,B,{headers:{Authorization:`Bearer ${q}`}}),g(!1),D(C)}catch(q){throw alert(`Error: ${q.response?.data?.message||"Could not add product to stock."}`),q}},M=reactExports.useMemo(()=>{if(!t.length||!S.length)return{};const B=new Map(S.flatMap(q=>q.variants.map(z=>[z.id,q])));return t.reduce((q,z)=>{const Q=B.get(z.productVariantId)?.category?.name||"Uncategorized";return q[Q]||(q[Q]=[]),q[Q].push(z),q},{})},[t,S]),F=reactExports.useMemo(()=>new Set(t.map(B=>B.productVariantId)),[t]);return o.stores?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary"})}):u?jsxRuntimeExports.jsx("div",{className:"text-center text-red-500 p-4 bg-red-500/10 rounded-md",children:u}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-foreground",children:"Current Stock Levels"})," ",e&&C&&jsxRuntimeExports.jsxs("button",{onClick:()=>g(!0),className:"btn-primary flex items-center gap-2",children:[jsxRuntimeExports.jsx(CirclePlus,{size:18})," Add Product to Stock"]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label text-sm text-foreground-muted",children:"Select Store"}),jsxRuntimeExports.jsxs("select",{value:C,onChange:B=>A(B.target.value),className:"input bg-background-muted border-border text-foreground",children:[jsxRuntimeExports.jsx("option",{value:"",children:"-- Select a Store --"}),v.map(B=>jsxRuntimeExports.jsx("option",{value:B.id,children:B.name},B.id))]})]})]}),o.stock?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary"})}):Object.keys(M).length===0&&C?jsxRuntimeExports.jsx("div",{className:"text-center py-10 border-2 border-dashed border-border rounded-lg bg-card text-card-foreground",children:jsxRuntimeExports.jsx("p",{className:"text-foreground-muted",children:"No stock records found for this store."})}):jsxRuntimeExports.jsx("div",{className:"space-y-6",children:Object.entries(M).map(([B,q])=>jsxRuntimeExports.jsxs("div",{className:"bg-card rounded-xl shadow-sm overflow-hidden",children:[jsxRuntimeExports.jsx("h4",{className:"px-4 py-2 bg-background-muted text-foreground-muted font-semibold text-sm border-b border-border",children:B}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Product"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"SKU"}),jsxRuntimeExports.jsx("th",{className:"th-cell text-right",children:"Quantity"}),e&&jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"text-foreground-muted",children:q.map(z=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-border hover:bg-background-muted last:border-b-0",children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium text-foreground",children:z.productName}),jsxRuntimeExports.jsx("td",{className:"td-cell text-foreground-muted",children:z.productVariantSku}),jsxRuntimeExports.jsx("td",{className:"td-cell text-right font-semibold text-foreground",children:z.quantity}),e&&jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsx("button",{onClick:()=>I(z),className:"p-1.5 text-foreground-muted hover:text-primary rounded-full",title:"Adjust Stock",children:jsxRuntimeExports.jsx(SlidersHorizontal,{size:16})})})]},z.inventoryId))})]})})]},B))}),jsxRuntimeExports.jsxs(Modal$a,{isOpen:p,onClose:()=>j(!1),title:"Adjust Stock",size:"max-w-lg",children:[" ",jsxRuntimeExports.jsx(StockAdjustmentForm,{onSave:L,onCancel:()=>j(!1),item:b,stores:v,products:S})]}),jsxRuntimeExports.jsxs(Modal$a,{isOpen:f,onClose:()=>g(!1),title:"Add Product to Stock",size:"max-w-lg",children:[" ",jsxRuntimeExports.jsx(AddStockItemForm,{onSave:_,onCancel:()=>g(!1),stores:v,products:S,existingVariantIds:F,selectedStoreId:C})]})]})},StockMovementsTab=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState(""),m=reactExports.useCallback(async()=>{o(!0),u("");try{const j={Authorization:`Bearer ${localStorage.getItem("token")}`},f=await axios.get(`${API_URL$1i}/pos/stock-movements`,{headers:j});t(f.data.sort((g,b)=>new Date(b.createdAt)-new Date(g.createdAt)))}catch(p){u("Failed to load stock movements."),console.error("Error fetching stock movements:",p)}finally{o(!1)}},[]);return reactExports.useEffect(()=>{m()},[m]),n?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary"})}):l?jsxRuntimeExports.jsx("div",{className:"text-center text-red-500 p-4 bg-red-500/10 rounded-md",children:l}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:"Stock Movement History"}),jsxRuntimeExports.jsx("div",{className:"bg-card rounded-xl shadow-sm overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Product"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"SKU"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Store"}),jsxRuntimeExports.jsx("th",{className:"th-cell text-right",children:"Quantity Change"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Reason"})]})}),jsxRuntimeExports.jsx("tbody",{className:"text-foreground-muted",children:e.map(p=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-border hover:bg-background-muted",children:[jsxRuntimeExports.jsx("td",{className:"td-cell text-sm text-foreground-muted",children:formatDate(p.createdAt)}),jsxRuntimeExports.jsx("td",{className:"td-cell font-medium text-foreground",children:p.productName}),jsxRuntimeExports.jsx("td",{className:"td-cell text-foreground-muted",children:p.variantSku}),jsxRuntimeExports.jsx("td",{className:"td-cell text-foreground-muted",children:p.storeName}),jsxRuntimeExports.jsx("td",{className:`td-cell text-right font-semibold ${p.changeQuantity>0?"text-green-600":"text-red-600"}`,children:p.changeQuantity>0?`+${p.changeQuantity}`:p.changeQuantity}),jsxRuntimeExports.jsx("td",{className:"td-cell text-sm text-foreground-muted",children:p.reason})]},p.id))})]})})})]})},InventoryView=()=>{const[e,t]=reactExports.useState("po"),n=[{id:"po",name:"Purchase Orders",icon:ShoppingCart},{id:"stock",name:"Stock Levels",icon:Package},{id:"movements",name:"Stock Movements",icon:History}];return jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-8 h-full flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"mb-6 bg-background text-foreground",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Inventory"}),jsxRuntimeExports.jsx("p",{className:"text-foreground-muted mt-1",children:"Manage purchase orders and track stock."})]}),jsxRuntimeExports.jsx("div",{className:"border-b border-border",children:jsxRuntimeExports.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:n.map(o=>jsxRuntimeExports.jsxs("button",{onClick:()=>t(o.id),className:`whitespace-nowrap flex items-center py-4 px-1 border-b-2 font-medium text-sm transition-colors ${e===o.id?"border-primary text-primary":"border-transparent text-foreground-muted hover:text-foreground hover:border-border"}`,children:[jsxRuntimeExports.jsx(o.icon,{className:"mr-2 h-5 w-5"}),o.name]},o.id))})}),jsxRuntimeExports.jsxs("div",{className:"mt-6 flex-grow",children:[e==="po"&&jsxRuntimeExports.jsx(PurchaseOrdersTab,{}),e==="stock"&&jsxRuntimeExports.jsx(StockLevelsTab,{}),e==="movements"&&jsxRuntimeExports.jsx(StockMovementsTab,{})]})]})};function r(e){var t,n,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}function clsx(){for(var e,t,n=0,o="",l=arguments.length;n<l;n++)(e=arguments[n])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o}var get$2={},isUnsafeProperty={},hasRequiredIsUnsafeProperty;function requireIsUnsafeProperty(){return hasRequiredIsUnsafeProperty||(hasRequiredIsUnsafeProperty=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(isUnsafeProperty)),isUnsafeProperty}var isDeepKey={},hasRequiredIsDeepKey;function requireIsDeepKey(){return hasRequiredIsDeepKey||(hasRequiredIsDeepKey=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(isDeepKey)),isDeepKey}var toKey={},hasRequiredToKey;function requireToKey(){return hasRequiredToKey||(hasRequiredToKey=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(toKey)),toKey}var toPath={},hasRequiredToPath;function requireToPath(){return hasRequiredToPath||(hasRequiredToPath=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const o=[],l=n.length;if(l===0)return o;let u=0,m="",p="",j=!1;for(n.charCodeAt(0)===46&&(o.push(""),u++);u<l;){const f=n[u];p?f==="\\"&&u+1<l?(u++,m+=n[u]):f===p?p="":m+=f:j?f==='"'||f==="'"?p=f:f==="]"?(j=!1,o.push(m),m=""):m+=f:f==="["?(j=!0,m&&(o.push(m),m="")):f==="."?m&&(o.push(m),m=""):m+=f,u++}return m&&o.push(m),o}e.toPath=t})(toPath)),toPath}var hasRequiredGet$1;function requireGet$1(){return hasRequiredGet$1||(hasRequiredGet$1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIsUnsafeProperty(),n=requireIsDeepKey(),o=requireToKey(),l=requireToPath();function u(p,j,f){if(p==null)return f;switch(typeof j){case"string":{if(t.isUnsafeProperty(j))return f;const g=p[j];return g===void 0?n.isDeepKey(j)?u(p,l.toPath(j),f):f:g}case"number":case"symbol":{typeof j=="number"&&(j=o.toKey(j));const g=p[j];return g===void 0?f:g}default:{if(Array.isArray(j))return m(p,j,f);if(Object.is(j?.valueOf(),-0)?j="-0":j=String(j),t.isUnsafeProperty(j))return f;const g=p[j];return g===void 0?f:g}}}function m(p,j,f){if(j.length===0)return f;let g=p;for(let b=0;b<j.length;b++){if(g==null||t.isUnsafeProperty(j[b]))return f;g=g[j[b]]}return g===void 0?f:g}e.get=u})(get$2)),get$2}var get$1,hasRequiredGet;function requireGet(){return hasRequiredGet||(hasRequiredGet=1,get$1=requireGet$1().get),get$1}var getExports=requireGet();const get=getDefaultExportFromCjs(getExports);var reactIs={exports:{}},reactIs_production={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactIs_production;function requireReactIs_production(){if(hasRequiredReactIs_production)return reactIs_production;hasRequiredReactIs_production=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function N(S){if(typeof S=="object"&&S!==null){var $=S.$$typeof;switch($){case e:switch(S=S.type,S){case n:case l:case o:case j:case f:case R:return S;default:switch(S=S&&S.$$typeof,S){case m:case p:case b:case g:return S;case u:return S;default:return $}}case t:return $}}}return reactIs_production.ContextConsumer=u,reactIs_production.ContextProvider=m,reactIs_production.Element=e,reactIs_production.ForwardRef=p,reactIs_production.Fragment=n,reactIs_production.Lazy=b,reactIs_production.Memo=g,reactIs_production.Portal=t,reactIs_production.Profiler=l,reactIs_production.StrictMode=o,reactIs_production.Suspense=j,reactIs_production.SuspenseList=f,reactIs_production.isContextConsumer=function(S){return N(S)===u},reactIs_production.isContextProvider=function(S){return N(S)===m},reactIs_production.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===e},reactIs_production.isForwardRef=function(S){return N(S)===p},reactIs_production.isFragment=function(S){return N(S)===n},reactIs_production.isLazy=function(S){return N(S)===b},reactIs_production.isMemo=function(S){return N(S)===g},reactIs_production.isPortal=function(S){return N(S)===t},reactIs_production.isProfiler=function(S){return N(S)===l},reactIs_production.isStrictMode=function(S){return N(S)===o},reactIs_production.isSuspense=function(S){return N(S)===j},reactIs_production.isSuspenseList=function(S){return N(S)===f},reactIs_production.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===l||S===o||S===j||S===f||typeof S=="object"&&S!==null&&(S.$$typeof===b||S.$$typeof===g||S.$$typeof===m||S.$$typeof===u||S.$$typeof===p||S.$$typeof===v||S.getModuleId!==void 0)},reactIs_production.typeOf=N,reactIs_production}var hasRequiredReactIs;function requireReactIs(){return hasRequiredReactIs||(hasRequiredReactIs=1,reactIs.exports=requireReactIs_production()),reactIs.exports}var reactIsExports=requireReactIs(),mathSign=e=>e===0?0:e>0?1:-1,isNan=e=>typeof e=="number"&&e!=+e,isPercent=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,isNumber=e=>(typeof e=="number"||e instanceof Number)&&!isNan(e),isNumOrStr=e=>isNumber(e)||typeof e=="string",idCounter=0,uniqueId=e=>{var t=++idCounter;return"".concat(e||"").concat(t)},getPercentValue=function e(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!isNumber(t)&&typeof t!="string")return o;var u;if(isPercent(t)){if(n==null)return o;var m=t.indexOf("%");u=n*parseFloat(t.slice(0,m))/100}else u=+t;return isNan(u)&&(u=o),l&&n!=null&&u>n&&(u=n),u},hasDuplicate=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},o=0;o<t;o++)if(!n[e[o]])n[e[o]]=!0;else return!0;return!1};function interpolate$1(e,t,n){return isNumber(e)&&isNumber(t)?e+n*(t-e):t}function findEntryInArray(e,t,n){if(!(!e||!e.length))return e.find(o=>o&&(typeof t=="function"?t(o):get(o,t))===n)}var isNullish=e=>e===null||typeof e>"u",upperFirst=e=>isNullish(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function isEventKey(e){if(typeof e!="string")return!1;var t=EventKeys;return t.includes(e)}var SVGContainerPropKeys=["viewBox","children"],PolyElementKeys=["points","pathLength"],FilteredElementKeyMap={svg:SVGContainerPropKeys,polygon:PolyElementKeys,polyline:PolyElementKeys},adaptEventHandlers=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(reactExports.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var o={};return Object.keys(n).forEach(l=>{isEventKey(l)&&(o[l]=(u=>n[l](n,u)))}),o},getEventHandlerOfChild=(e,t,n)=>o=>(e(t,n,o),null),adaptEventsOfChild=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var o=null;return Object.keys(e).forEach(l=>{var u=e[l];isEventKey(l)&&typeof u=="function"&&(o||(o={}),o[l]=getEventHandlerOfChild(u,t,n))}),o},SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function isSvgElementPropKey(e){if(typeof e!="string")return!1;var t=SVGElementPropKeys;return t.includes(e)}function svgPropertiesNoEvents(e){var t=Object.entries(e).filter(n=>{var[o]=n;return isSvgElementPropKey(o)});return Object.fromEntries(t)}var getDisplayName=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",lastChildren=null,lastResult=null,toArray$1=e=>{if(e===lastChildren&&Array.isArray(lastResult))return lastResult;var t=[];return reactExports.Children.forEach(e,n=>{isNullish(n)||(reactIsExports.isFragment(n)?t=t.concat(toArray$1(n.props.children)):t.push(n))}),lastResult=t,lastChildren=e,t};function findAllByType(e,t){var n=[],o=[];return Array.isArray(t)?o=t.map(l=>getDisplayName(l)):o=[getDisplayName(t)],toArray$1(e).forEach(l=>{var u=get(l,"type.displayName")||get(l,"type.name");o.indexOf(u)!==-1&&n.push(l)}),n}var isClipDot=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,isValidSpreadableProp=(e,t,n,o)=>{var l;if(typeof t=="symbol"||typeof t=="number")return!0;var u=(l=o&&FilteredElementKeyMap?.[o])!==null&&l!==void 0?l:[],m=t.startsWith("data-"),p=typeof e!="function"&&(!!o&&u.includes(t)||isSvgElementPropKey(t)),j=!!n&&isEventKey(t);return m||p||j},filterProps=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var o=e;if(reactExports.isValidElement(e)&&(o=e.props),typeof o!="object"&&typeof o!="function")return null;var l={};return Object.keys(o).forEach(u=>{var m;isValidSpreadableProp((m=o)===null||m===void 0?void 0:m[u],u,t,n)&&(l[u]=o[u])}),l},_excluded$n=["children","width","height","viewBox","className","style","title","desc"];function _extends$r(){return _extends$r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$r.apply(null,arguments)}function _objectWithoutProperties$n(e,t){if(e==null)return{};var n,o,l=_objectWithoutPropertiesLoose$n(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)n=u[o],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function _objectWithoutPropertiesLoose$n(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;n[o]=e[o]}return n}var Surface=reactExports.forwardRef((e,t)=>{var{children:n,width:o,height:l,viewBox:u,className:m,style:p,title:j,desc:f}=e,g=_objectWithoutProperties$n(e,_excluded$n),b=u||{width:o,height:l,x:0,y:0},R=clsx("recharts-surface",m);return reactExports.createElement("svg",_extends$r({},filterProps(g,!0,"svg"),{className:R,width:o,height:l,style:p,viewBox:"".concat(b.x," ").concat(b.y," ").concat(b.width," ").concat(b.height),ref:t}),reactExports.createElement("title",null,j),reactExports.createElement("desc",null,f),n)}),_excluded$m=["children","className"];function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$q.apply(null,arguments)}function _objectWithoutProperties$m(e,t){if(e==null)return{};var n,o,l=_objectWithoutPropertiesLoose$m(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)n=u[o],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function _objectWithoutPropertiesLoose$m(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;n[o]=e[o]}return n}var Layer=reactExports.forwardRef((e,t)=>{var{children:n,className:o}=e,l=_objectWithoutProperties$m(e,_excluded$m),u=clsx("recharts-layer",o);return reactExports.createElement("g",_extends$q({className:u},filterProps(l,!0),{ref:t}),n)}),LegendPortalContext=reactExports.createContext(null),useLegendPortal=()=>reactExports.useContext(LegendPortalContext);function constant$1(e){return function(){return e}}const cos=Math.cos,sin=Math.sin,sqrt$1=Math.sqrt,pi$1=Math.PI,tau$1=2*pi$1,pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function appendRound(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return append;const n=10**t;return function(o){this._+=o[0];for(let l=1,u=o.length;l<u;++l)this._+=Math.round(arguments[l]*n)/n+o[l]}}class Path{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?append:appendRound(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,o,l){this._append`Q${+t},${+n},${this._x1=+o},${this._y1=+l}`}bezierCurveTo(t,n,o,l,u,m){this._append`C${+t},${+n},${+o},${+l},${this._x1=+u},${this._y1=+m}`}arcTo(t,n,o,l,u){if(t=+t,n=+n,o=+o,l=+l,u=+u,u<0)throw new Error(`negative radius: ${u}`);let m=this._x1,p=this._y1,j=o-t,f=l-n,g=m-t,b=p-n,R=g*g+b*b;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(R>epsilon)if(!(Math.abs(b*j-f*g)>epsilon)||!u)this._append`L${this._x1=t},${this._y1=n}`;else{let v=o-m,N=l-p,S=j*j+f*f,$=v*v+N*N,C=Math.sqrt(S),A=Math.sqrt(R),T=u*Math.tan((pi-Math.acos((S+R-$)/(2*C*A)))/2),D=T/A,I=T/C;Math.abs(D-1)>epsilon&&this._append`L${t+D*g},${n+D*b}`,this._append`A${u},${u},0,0,${+(b*v>g*N)},${this._x1=t+I*j},${this._y1=n+I*f}`}}arc(t,n,o,l,u,m){if(t=+t,n=+n,o=+o,m=!!m,o<0)throw new Error(`negative radius: ${o}`);let p=o*Math.cos(l),j=o*Math.sin(l),f=t+p,g=n+j,b=1^m,R=m?l-u:u-l;this._x1===null?this._append`M${f},${g}`:(Math.abs(this._x1-f)>epsilon||Math.abs(this._y1-g)>epsilon)&&this._append`L${f},${g}`,o&&(R<0&&(R=R%tau+tau),R>tauEpsilon?this._append`A${o},${o},0,1,${b},${t-p},${n-j}A${o},${o},0,1,${b},${this._x1=f},${this._y1=g}`:R>epsilon&&this._append`A${o},${o},0,${+(R>=pi)},${b},${this._x1=t+o*Math.cos(u)},${this._y1=n+o*Math.sin(u)}`)}rect(t,n,o,l){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${o=+o}v${+l}h${-o}Z`}toString(){return this._}}function withPath(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const o=Math.floor(n);if(!(o>=0))throw new RangeError(`invalid digits: ${n}`);t=o}return e},()=>new Path(t)}function array(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Linear(e){this._context=e}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function curveLinear(e){return new Linear(e)}function x(e){return e[0]}function y(e){return e[1]}function shapeLine(e,t){var n=constant$1(!0),o=null,l=curveLinear,u=null,m=withPath(p);e=typeof e=="function"?e:e===void 0?x:constant$1(e),t=typeof t=="function"?t:t===void 0?y:constant$1(t);function p(j){var f,g=(j=array(j)).length,b,R=!1,v;for(o==null&&(u=l(v=m())),f=0;f<=g;++f)!(f<g&&n(b=j[f],f,j))===R&&((R=!R)?u.lineStart():u.lineEnd()),R&&u.point(+e(b,f,j),+t(b,f,j));if(v)return u=null,v+""||null}return p.x=function(j){return arguments.length?(e=typeof j=="function"?j:constant$1(+j),p):e},p.y=function(j){return arguments.length?(t=typeof j=="function"?j:constant$1(+j),p):t},p.defined=function(j){return arguments.length?(n=typeof j=="function"?j:constant$1(!!j),p):n},p.curve=function(j){return arguments.length?(l=j,o!=null&&(u=l(o)),p):l},p.context=function(j){return arguments.length?(j==null?o=u=null:u=l(o=j),p):o},p}function shapeArea(e,t,n){var o=null,l=constant$1(!0),u=null,m=curveLinear,p=null,j=withPath(f);e=typeof e=="function"?e:e===void 0?x:constant$1(+e),t=typeof t=="function"?t:constant$1(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?y:constant$1(+n);function f(b){var R,v,N,S=(b=array(b)).length,$,C=!1,A,T=new Array(S),D=new Array(S);for(u==null&&(p=m(A=j())),R=0;R<=S;++R){if(!(R<S&&l($=b[R],R,b))===C)if(C=!C)v=R,p.areaStart(),p.lineStart();else{for(p.lineEnd(),p.lineStart(),N=R-1;N>=v;--N)p.point(T[N],D[N]);p.lineEnd(),p.areaEnd()}C&&(T[R]=+e($,R,b),D[R]=+t($,R,b),p.point(o?+o($,R,b):T[R],n?+n($,R,b):D[R]))}if(A)return p=null,A+""||null}function g(){return shapeLine().defined(l).curve(m).context(u)}return f.x=function(b){return arguments.length?(e=typeof b=="function"?b:constant$1(+b),o=null,f):e},f.x0=function(b){return arguments.length?(e=typeof b=="function"?b:constant$1(+b),f):e},f.x1=function(b){return arguments.length?(o=b==null?null:typeof b=="function"?b:constant$1(+b),f):o},f.y=function(b){return arguments.length?(t=typeof b=="function"?b:constant$1(+b),n=null,f):t},f.y0=function(b){return arguments.length?(t=typeof b=="function"?b:constant$1(+b),f):t},f.y1=function(b){return arguments.length?(n=b==null?null:typeof b=="function"?b:constant$1(+b),f):n},f.lineX0=f.lineY0=function(){return g().x(e).y(t)},f.lineY1=function(){return g().x(e).y(n)},f.lineX1=function(){return g().x(o).y(t)},f.defined=function(b){return arguments.length?(l=typeof b=="function"?b:constant$1(!!b),f):l},f.curve=function(b){return arguments.length?(m=b,u!=null&&(p=m(u)),f):m},f.context=function(b){return arguments.length?(b==null?u=p=null:p=m(u=b),f):u},f}class Bump{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function bumpX(e){return new Bump(e,!0)}function bumpY(e){return new Bump(e,!1)}const symbolCircle={draw(e,t){const n=sqrt$1(t/pi$1);e.moveTo(n,0),e.arc(0,0,n,0,tau$1)}},symbolCross={draw(e,t){const n=sqrt$1(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},tan30=sqrt$1(1/3),tan30_2=tan30*2,symbolDiamond={draw(e,t){const n=sqrt$1(t/tan30_2),o=n*tan30;e.moveTo(0,-n),e.lineTo(o,0),e.lineTo(0,n),e.lineTo(-o,0),e.closePath()}},symbolSquare={draw(e,t){const n=sqrt$1(t),o=-n/2;e.rect(o,o,n,n)}},ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(e,t){const n=sqrt$1(t*ka),o=kx*n,l=ky*n;e.moveTo(0,-n),e.lineTo(o,l);for(let u=1;u<5;++u){const m=tau$1*u/5,p=cos(m),j=sin(m);e.lineTo(j*n,-p*n),e.lineTo(p*o-j*l,j*o+p*l)}e.closePath()}},sqrt3=sqrt$1(3),symbolTriangle={draw(e,t){const n=-sqrt$1(t/(sqrt3*3));e.moveTo(0,n*2),e.lineTo(-sqrt3*n,-n),e.lineTo(sqrt3*n,-n),e.closePath()}},c=-.5,s=sqrt$1(3)/2,k=1/sqrt$1(12),a=(k/2+1)*3,symbolWye={draw(e,t){const n=sqrt$1(t/a),o=n/2,l=n*k,u=o,m=n*k+n,p=-u,j=m;e.moveTo(o,l),e.lineTo(u,m),e.lineTo(p,j),e.lineTo(c*o-s*l,s*o+c*l),e.lineTo(c*u-s*m,s*u+c*m),e.lineTo(c*p-s*j,s*p+c*j),e.lineTo(c*o+s*l,c*l-s*o),e.lineTo(c*u+s*m,c*m-s*u),e.lineTo(c*p+s*j,c*j-s*p),e.closePath()}};function Symbol$1(e,t){let n=null,o=withPath(l);e=typeof e=="function"?e:constant$1(e||symbolCircle),t=typeof t=="function"?t:constant$1(t===void 0?64:+t);function l(){let u;if(n||(n=u=o()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),u)return n=null,u+""||null}return l.type=function(u){return arguments.length?(e=typeof u=="function"?u:constant$1(u),l):e},l.size=function(u){return arguments.length?(t=typeof u=="function"?u:constant$1(+u),l):t},l.context=function(u){return arguments.length?(n=u??null,l):n},l}function noop$5(){}function point$2(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Basis(e){this._context=e}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function curveBasis(e){return new Basis(e)}function BasisClosed(e){this._context=e}BasisClosed.prototype={areaStart:noop$5,areaEnd:noop$5,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:point$2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function curveBasisClosed(e){return new BasisClosed(e)}function BasisOpen(e){this._context=e}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,o=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,o):this._context.moveTo(n,o);break;case 3:this._point=4;default:point$2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function curveBasisOpen(e){return new BasisOpen(e)}function LinearClosed(e){this._context=e}LinearClosed.prototype={areaStart:noop$5,areaEnd:noop$5,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function curveLinearClosed(e){return new LinearClosed(e)}function sign(e){return e<0?-1:1}function slope3(e,t,n){var o=e._x1-e._x0,l=t-e._x1,u=(e._y1-e._y0)/(o||l<0&&-0),m=(n-e._y1)/(l||o<0&&-0),p=(u*l+m*o)/(o+l);return(sign(u)+sign(m))*Math.min(Math.abs(u),Math.abs(m),.5*Math.abs(p))||0}function slope2(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function point$1(e,t,n){var o=e._x0,l=e._y0,u=e._x1,m=e._y1,p=(u-o)/3;e._context.bezierCurveTo(o+p,l+p*t,u-p,m-p*n,u,m)}function MonotoneX(e){this._context=e}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,n=slope3(this,e,t)),n);break;default:point$1(this,this._t0,n=slope3(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function MonotoneY(e){this._context=new ReflectContext(e)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(e,t){MonotoneX.prototype.point.call(this,t,e)};function ReflectContext(e){this._context=e}ReflectContext.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,o,l,u){this._context.bezierCurveTo(t,e,o,n,u,l)}};function monotoneX(e){return new MonotoneX(e)}function monotoneY(e){return new MonotoneY(e)}function Natural(e){this._context=e}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var o=controlPoints(e),l=controlPoints(t),u=0,m=1;m<n;++u,++m)this._context.bezierCurveTo(o[0][u],l[0][u],o[1][u],l[1][u],e[m],t[m]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function controlPoints(e){var t,n=e.length-1,o,l=new Array(n),u=new Array(n),m=new Array(n);for(l[0]=0,u[0]=2,m[0]=e[0]+2*e[1],t=1;t<n-1;++t)l[t]=1,u[t]=4,m[t]=4*e[t]+2*e[t+1];for(l[n-1]=2,u[n-1]=7,m[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)o=l[t]/u[t-1],u[t]-=o,m[t]-=o*m[t-1];for(l[n-1]=m[n-1]/u[n-1],t=n-2;t>=0;--t)l[t]=(m[t]-l[t+1])/u[t];for(u[n-1]=(e[n]+l[n-1])/2,t=0;t<n-1;++t)u[t]=2*e[t+1]-l[t+1];return[l,u]}function curveNatural(e){return new Natural(e)}function Step(e,t){this._context=e,this._t=t}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function curveStep(e){return new Step(e,.5)}function stepBefore(e){return new Step(e,0)}function stepAfter(e){return new Step(e,1)}function stackOffsetNone(e,t){if((m=e.length)>1)for(var n=1,o,l,u=e[t[0]],m,p=u.length;n<m;++n)for(l=u,u=e[t[n]],o=0;o<p;++o)u[o][1]+=u[o][0]=isNaN(l[o][1])?l[o][0]:l[o][1]}function stackOrderNone(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function stackValue(e,t){return e[t]}function stackSeries(e){const t=[];return t.key=e,t}function shapeStack(){var e=constant$1([]),t=stackOrderNone,n=stackOffsetNone,o=stackValue;function l(u){var m=Array.from(e.apply(this,arguments),stackSeries),p,j=m.length,f=-1,g;for(const b of u)for(p=0,++f;p<j;++p)(m[p][f]=[0,+o(b,m[p].key,f,u)]).data=b;for(p=0,g=array(t(m));p<j;++p)m[g[p]].index=p;return n(m,g),m}return l.keys=function(u){return arguments.length?(e=typeof u=="function"?u:constant$1(Array.from(u)),l):e},l.value=function(u){return arguments.length?(o=typeof u=="function"?u:constant$1(+u),l):o},l.order=function(u){return arguments.length?(t=u==null?stackOrderNone:typeof u=="function"?u:constant$1(Array.from(u)),l):t},l.offset=function(u){return arguments.length?(n=u??stackOffsetNone,l):n},l}function stackOffsetExpand(e,t){if((o=e.length)>0){for(var n,o,l=0,u=e[0].length,m;l<u;++l){for(m=n=0;n<o;++n)m+=e[n][l][1]||0;if(m)for(n=0;n<o;++n)e[n][l][1]/=m}stackOffsetNone(e,t)}}function stackOffsetSilhouette(e,t){if((l=e.length)>0){for(var n=0,o=e[t[0]],l,u=o.length;n<u;++n){for(var m=0,p=0;m<l;++m)p+=e[m][n][1]||0;o[n][1]+=o[n][0]=-p/2}stackOffsetNone(e,t)}}function stackOffsetWiggle(e,t){if(!(!((m=e.length)>0)||!((u=(l=e[t[0]]).length)>0))){for(var n=0,o=1,l,u,m;o<u;++o){for(var p=0,j=0,f=0;p<m;++p){for(var g=e[t[p]],b=g[o][1]||0,R=g[o-1][1]||0,v=(b-R)/2,N=0;N<p;++N){var S=e[t[N]],$=S[o][1]||0,C=S[o-1][1]||0;v+=$-C}j+=b,f+=v*b}l[o-1][1]+=l[o-1][0]=n,j&&(n-=f/j)}l[o-1][1]+=l[o-1][0]=n,stackOffsetNone(e,t)}}var _excluded$l=["type","size","sizeType"];function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$p.apply(null,arguments)}function ownKeys$C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$C(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$C(Object(n),!0).forEach(function(o){_defineProperty$E(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$C(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$E(e,t,n){return(t=_toPropertyKey$E(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$E(e){var t=_toPrimitive$E(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$E(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _objectWithoutProperties$l(e,t){if(e==null)return{};var n,o,l=_objectWithoutPropertiesLoose$l(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)n=u[o],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function _objectWithoutPropertiesLoose$l(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;n[o]=e[o]}return n}var symbolFactories={symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye},RADIAN$1=Math.PI/180,getSymbolFactory=e=>{var t="symbol".concat(upperFirst(e));return symbolFactories[t]||symbolCircle},calculateAreaSize=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var o=18*RADIAN$1;return 1.25*e*e*(Math.tan(o)-Math.tan(o*2)*Math.tan(o)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},registerSymbol=(e,t)=>{symbolFactories["symbol".concat(upperFirst(e))]=t},Symbols=e=>{var{type:t="circle",size:n=64,sizeType:o="area"}=e,l=_objectWithoutProperties$l(e,_excluded$l),u=_objectSpread$C(_objectSpread$C({},l),{},{type:t,size:n,sizeType:o}),m="circle";typeof t=="string"&&(m=t);var p=()=>{var R=getSymbolFactory(m),v=Symbol$1().type(R).size(calculateAreaSize(n,o,m));return v()},{className:j,cx:f,cy:g}=u,b=filterProps(u,!0);return f===+f&&g===+g&&n===+n?reactExports.createElement("path",_extends$p({},b,{className:clsx("recharts-symbols",j),transform:"translate(".concat(f,", ").concat(g,")"),d:p()})):null};Symbols.registerSymbol=registerSymbol;function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$o.apply(null,arguments)}function ownKeys$B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$B(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$B(Object(n),!0).forEach(function(o){_defineProperty$D(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$B(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$D(e,t,n){return(t=_toPropertyKey$D(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$D(e){var t=_toPrimitive$D(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$D(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SIZE=32;class DefaultLegendContent extends reactExports.PureComponent{renderIcon(t,n){var{inactiveColor:o}=this.props,l=SIZE/2,u=SIZE/6,m=SIZE/3,p=t.inactive?o:t.color,j=n??t.type;if(j==="none")return null;if(j==="plainline")return reactExports.createElement("line",{strokeWidth:4,fill:"none",stroke:p,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:l,x2:SIZE,y2:l,className:"recharts-legend-icon"});if(j==="line")return reactExports.createElement("path",{strokeWidth:4,fill:"none",stroke:p,d:"M0,".concat(l,"h").concat(m,`
            A`).concat(u,",").concat(u,",0,1,1,").concat(2*m,",").concat(l,`
            H`).concat(SIZE,"M").concat(2*m,",").concat(l,`
            A`).concat(u,",").concat(u,",0,1,1,").concat(m,",").concat(l),className:"recharts-legend-icon"});if(j==="rect")return reactExports.createElement("path",{stroke:"none",fill:p,d:"M0,".concat(SIZE/8,"h").concat(SIZE,"v").concat(SIZE*3/4,"h").concat(-SIZE,"z"),className:"recharts-legend-icon"});if(reactExports.isValidElement(t.legendIcon)){var f=_objectSpread$B({},t);return delete f.legendIcon,reactExports.cloneElement(t.legendIcon,f)}return reactExports.createElement(Symbols,{fill:p,cx:l,cy:l,size:SIZE,sizeType:"diameter",type:j})}renderItems(){var{payload:t,iconSize:n,layout:o,formatter:l,inactiveColor:u,iconType:m}=this.props,p={x:0,y:0,width:SIZE,height:SIZE},j={display:o==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((g,b)=>{var R=g.formatter||l,v=clsx({"recharts-legend-item":!0,["legend-item-".concat(b)]:!0,inactive:g.inactive});if(g.type==="none")return null;var N=g.inactive?u:g.color,S=R?R(g.value,g,b):g.value;return reactExports.createElement("li",_extends$o({className:v,style:j,key:"legend-item-".concat(b)},adaptEventsOfChild(this.props,g,b)),reactExports.createElement(Surface,{width:n,height:n,viewBox:p,style:f,"aria-label":"".concat(S," legend icon")},this.renderIcon(g,m)),reactExports.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},S))})}render(){var{payload:t,layout:n,align:o}=this.props;if(!t||!t.length)return null;var l={padding:0,margin:0,textAlign:n==="horizontal"?o:"left"};return reactExports.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}_defineProperty$D(DefaultLegendContent,"displayName","Legend");_defineProperty$D(DefaultLegendContent,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var uniqBy$3={},uniqBy$2={},hasRequiredUniqBy$2;function requireUniqBy$2(){return hasRequiredUniqBy$2||(hasRequiredUniqBy$2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,o){const l=new Map;for(let u=0;u<n.length;u++){const m=n[u],p=o(m);l.has(p)||l.set(p,m)}return Array.from(l.values())}e.uniqBy=t})(uniqBy$2)),uniqBy$2}var identity$4={},hasRequiredIdentity;function requireIdentity(){return hasRequiredIdentity||(hasRequiredIdentity=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(identity$4)),identity$4}var isArrayLikeObject={},isArrayLike={},isLength={},hasRequiredIsLength;function requireIsLength(){return hasRequiredIsLength||(hasRequiredIsLength=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(isLength)),isLength}var hasRequiredIsArrayLike;function requireIsArrayLike(){return hasRequiredIsArrayLike||(hasRequiredIsArrayLike=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIsLength();function n(o){return o!=null&&typeof o!="function"&&t.isLength(o.length)}e.isArrayLike=n})(isArrayLike)),isArrayLike}var isObjectLike={},hasRequiredIsObjectLike;function requireIsObjectLike(){return hasRequiredIsObjectLike||(hasRequiredIsObjectLike=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(isObjectLike)),isObjectLike}var hasRequiredIsArrayLikeObject;function requireIsArrayLikeObject(){return hasRequiredIsArrayLikeObject||(hasRequiredIsArrayLikeObject=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIsArrayLike(),n=requireIsObjectLike();function o(l){return n.isObjectLike(l)&&t.isArrayLike(l)}e.isArrayLikeObject=o})(isArrayLikeObject)),isArrayLikeObject}var iteratee={},property={},hasRequiredProperty;function requireProperty(){return hasRequiredProperty||(hasRequiredProperty=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireGet$1();function n(o){return function(l){return t.get(l,o)}}e.property=n})(property)),property}var matches={},isMatch={},isMatchWith={},isObject={},hasRequiredIsObject;function requireIsObject(){return hasRequiredIsObject||(hasRequiredIsObject=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(isObject)),isObject}var isPrimitive={},hasRequiredIsPrimitive;function requireIsPrimitive(){return hasRequiredIsPrimitive||(hasRequiredIsPrimitive=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(isPrimitive)),isPrimitive}var eq={},hasRequiredEq;function requireEq(){return hasRequiredEq||(hasRequiredEq=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,o){return n===o||Number.isNaN(n)&&Number.isNaN(o)}e.eq=t})(eq)),eq}var hasRequiredIsMatchWith;function requireIsMatchWith(){return hasRequiredIsMatchWith||(hasRequiredIsMatchWith=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIsMatch(),n=requireIsObject(),o=requireIsPrimitive(),l=requireEq();function u(b,R,v){return typeof v!="function"?t.isMatch(b,R):m(b,R,function N(S,$,C,A,T,D){const I=v(S,$,C,A,T,D);return I!==void 0?!!I:m(S,$,N,D)},new Map)}function m(b,R,v,N){if(R===b)return!0;switch(typeof R){case"object":return p(b,R,v,N);case"function":return Object.keys(R).length>0?m(b,{...R},v,N):l.eq(b,R);default:return n.isObject(b)?typeof R=="string"?R==="":!0:l.eq(b,R)}}function p(b,R,v,N){if(R==null)return!0;if(Array.isArray(R))return f(b,R,v,N);if(R instanceof Map)return j(b,R,v,N);if(R instanceof Set)return g(b,R,v,N);const S=Object.keys(R);if(b==null)return S.length===0;if(S.length===0)return!0;if(N&&N.has(R))return N.get(R)===b;N&&N.set(R,b);try{for(let $=0;$<S.length;$++){const C=S[$];if(!o.isPrimitive(b)&&!(C in b)||R[C]===void 0&&b[C]!==void 0||R[C]===null&&b[C]!==null||!v(b[C],R[C],C,b,R,N))return!1}return!0}finally{N&&N.delete(R)}}function j(b,R,v,N){if(R.size===0)return!0;if(!(b instanceof Map))return!1;for(const[S,$]of R.entries()){const C=b.get(S);if(v(C,$,S,b,R,N)===!1)return!1}return!0}function f(b,R,v,N){if(R.length===0)return!0;if(!Array.isArray(b))return!1;const S=new Set;for(let $=0;$<R.length;$++){const C=R[$];let A=!1;for(let T=0;T<b.length;T++){if(S.has(T))continue;const D=b[T];let I=!1;if(v(D,C,$,b,R,N)&&(I=!0),I){S.add(T),A=!0;break}}if(!A)return!1}return!0}function g(b,R,v,N){return R.size===0?!0:b instanceof Set?f([...b],[...R],v,N):!1}e.isMatchWith=u,e.isSetMatch=g})(isMatchWith)),isMatchWith}var hasRequiredIsMatch;function requireIsMatch(){return hasRequiredIsMatch||(hasRequiredIsMatch=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIsMatchWith();function n(o,l){return t.isMatchWith(o,l,()=>{})}e.isMatch=n})(isMatch)),isMatch}var cloneDeep$1={},cloneDeepWith$1={},getSymbols={},hasRequiredGetSymbols;function requireGetSymbols(){return hasRequiredGetSymbols||(hasRequiredGetSymbols=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(o=>Object.prototype.propertyIsEnumerable.call(n,o))}e.getSymbols=t})(getSymbols)),getSymbols}var getTag={},hasRequiredGetTag;function requireGetTag(){return hasRequiredGetTag||(hasRequiredGetTag=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(getTag)),getTag}var tags={},hasRequiredTags;function requireTags(){return hasRequiredTags||(hasRequiredTags=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",o="[object Number]",l="[object Boolean]",u="[object Arguments]",m="[object Symbol]",p="[object Date]",j="[object Map]",f="[object Set]",g="[object Array]",b="[object Function]",R="[object ArrayBuffer]",v="[object Object]",N="[object Error]",S="[object DataView]",$="[object Uint8Array]",C="[object Uint8ClampedArray]",A="[object Uint16Array]",T="[object Uint32Array]",D="[object BigUint64Array]",I="[object Int8Array]",L="[object Int16Array]",_="[object Int32Array]",M="[object BigInt64Array]",F="[object Float32Array]",B="[object Float64Array]";e.argumentsTag=u,e.arrayBufferTag=R,e.arrayTag=g,e.bigInt64ArrayTag=M,e.bigUint64ArrayTag=D,e.booleanTag=l,e.dataViewTag=S,e.dateTag=p,e.errorTag=N,e.float32ArrayTag=F,e.float64ArrayTag=B,e.functionTag=b,e.int16ArrayTag=L,e.int32ArrayTag=_,e.int8ArrayTag=I,e.mapTag=j,e.numberTag=o,e.objectTag=v,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=m,e.uint16ArrayTag=A,e.uint32ArrayTag=T,e.uint8ArrayTag=$,e.uint8ClampedArrayTag=C})(tags)),tags}var isTypedArray={},hasRequiredIsTypedArray;function requireIsTypedArray(){return hasRequiredIsTypedArray||(hasRequiredIsTypedArray=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(isTypedArray)),isTypedArray}var hasRequiredCloneDeepWith$1;function requireCloneDeepWith$1(){return hasRequiredCloneDeepWith$1||(hasRequiredCloneDeepWith$1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireGetSymbols(),n=requireGetTag(),o=requireTags(),l=requireIsPrimitive(),u=requireIsTypedArray();function m(g,b){return p(g,void 0,g,new Map,b)}function p(g,b,R,v=new Map,N=void 0){const S=N?.(g,b,R,v);if(S!==void 0)return S;if(l.isPrimitive(g))return g;if(v.has(g))return v.get(g);if(Array.isArray(g)){const $=new Array(g.length);v.set(g,$);for(let C=0;C<g.length;C++)$[C]=p(g[C],C,R,v,N);return Object.hasOwn(g,"index")&&($.index=g.index),Object.hasOwn(g,"input")&&($.input=g.input),$}if(g instanceof Date)return new Date(g.getTime());if(g instanceof RegExp){const $=new RegExp(g.source,g.flags);return $.lastIndex=g.lastIndex,$}if(g instanceof Map){const $=new Map;v.set(g,$);for(const[C,A]of g)$.set(C,p(A,C,R,v,N));return $}if(g instanceof Set){const $=new Set;v.set(g,$);for(const C of g)$.add(p(C,void 0,R,v,N));return $}if(typeof Buffer<"u"&&Buffer.isBuffer(g))return g.subarray();if(u.isTypedArray(g)){const $=new(Object.getPrototypeOf(g)).constructor(g.length);v.set(g,$);for(let C=0;C<g.length;C++)$[C]=p(g[C],C,R,v,N);return $}if(g instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&g instanceof SharedArrayBuffer)return g.slice(0);if(g instanceof DataView){const $=new DataView(g.buffer.slice(0),g.byteOffset,g.byteLength);return v.set(g,$),j($,g,R,v,N),$}if(typeof File<"u"&&g instanceof File){const $=new File([g],g.name,{type:g.type});return v.set(g,$),j($,g,R,v,N),$}if(g instanceof Blob){const $=new Blob([g],{type:g.type});return v.set(g,$),j($,g,R,v,N),$}if(g instanceof Error){const $=new g.constructor;return v.set(g,$),$.message=g.message,$.name=g.name,$.stack=g.stack,$.cause=g.cause,j($,g,R,v,N),$}if(typeof g=="object"&&f(g)){const $=Object.create(Object.getPrototypeOf(g));return v.set(g,$),j($,g,R,v,N),$}return g}function j(g,b,R=g,v,N){const S=[...Object.keys(b),...t.getSymbols(b)];for(let $=0;$<S.length;$++){const C=S[$],A=Object.getOwnPropertyDescriptor(g,C);(A==null||A.writable)&&(g[C]=p(b[C],C,R,v,N))}}function f(g){switch(n.getTag(g)){case o.argumentsTag:case o.arrayTag:case o.arrayBufferTag:case o.dataViewTag:case o.booleanTag:case o.dateTag:case o.float32ArrayTag:case o.float64ArrayTag:case o.int8ArrayTag:case o.int16ArrayTag:case o.int32ArrayTag:case o.mapTag:case o.numberTag:case o.objectTag:case o.regexpTag:case o.setTag:case o.stringTag:case o.symbolTag:case o.uint8ArrayTag:case o.uint8ClampedArrayTag:case o.uint16ArrayTag:case o.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=m,e.cloneDeepWithImpl=p,e.copyProperties=j})(cloneDeepWith$1)),cloneDeepWith$1}var hasRequiredCloneDeep$1;function requireCloneDeep$1(){return hasRequiredCloneDeep$1||(hasRequiredCloneDeep$1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireCloneDeepWith$1();function n(o){return t.cloneDeepWithImpl(o,void 0,o,new Map,void 0)}e.cloneDeep=n})(cloneDeep$1)),cloneDeep$1}var hasRequiredMatches;function requireMatches(){return hasRequiredMatches||(hasRequiredMatches=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIsMatch(),n=requireCloneDeep$1();function o(l){return l=n.cloneDeep(l),u=>t.isMatch(u,l)}e.matches=o})(matches)),matches}var matchesProperty={},cloneDeep={},cloneDeepWith={},hasRequiredCloneDeepWith;function requireCloneDeepWith(){return hasRequiredCloneDeepWith||(hasRequiredCloneDeepWith=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireCloneDeepWith$1(),n=requireTags();function o(l,u){return t.cloneDeepWith(l,(m,p,j,f)=>{const g=u?.(m,p,j,f);if(g!==void 0)return g;if(typeof l=="object")switch(Object.prototype.toString.call(l)){case n.numberTag:case n.stringTag:case n.booleanTag:{const b=new l.constructor(l?.valueOf());return t.copyProperties(b,l),b}case n.argumentsTag:{const b={};return t.copyProperties(b,l),b.length=l.length,b[Symbol.iterator]=l[Symbol.iterator],b}default:return}})}e.cloneDeepWith=o})(cloneDeepWith)),cloneDeepWith}var hasRequiredCloneDeep;function requireCloneDeep(){return hasRequiredCloneDeep||(hasRequiredCloneDeep=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireCloneDeepWith();function n(o){return t.cloneDeepWith(o)}e.cloneDeep=n})(cloneDeep)),cloneDeep}var has$1={},isIndex={},hasRequiredIsIndex;function requireIsIndex(){return hasRequiredIsIndex||(hasRequiredIsIndex=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(o,l=Number.MAX_SAFE_INTEGER){switch(typeof o){case"number":return Number.isInteger(o)&&o>=0&&o<l;case"symbol":return!1;case"string":return t.test(o)}}e.isIndex=n})(isIndex)),isIndex}var isArguments={},hasRequiredIsArguments;function requireIsArguments(){return hasRequiredIsArguments||(hasRequiredIsArguments=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireGetTag();function n(o){return o!==null&&typeof o=="object"&&t.getTag(o)==="[object Arguments]"}e.isArguments=n})(isArguments)),isArguments}var hasRequiredHas;function requireHas(){return hasRequiredHas||(hasRequiredHas=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIsDeepKey(),n=requireIsIndex(),o=requireIsArguments(),l=requireToPath();function u(m,p){let j;if(Array.isArray(p)?j=p:typeof p=="string"&&t.isDeepKey(p)&&m?.[p]==null?j=l.toPath(p):j=[p],j.length===0)return!1;let f=m;for(let g=0;g<j.length;g++){const b=j[g];if((f==null||!Object.hasOwn(f,b))&&!((Array.isArray(f)||o.isArguments(f))&&n.isIndex(b)&&b<f.length))return!1;f=f[b]}return!0}e.has=u})(has$1)),has$1}var hasRequiredMatchesProperty;function requireMatchesProperty(){return hasRequiredMatchesProperty||(hasRequiredMatchesProperty=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIsMatch(),n=requireToKey(),o=requireCloneDeep(),l=requireGet$1(),u=requireHas();function m(p,j){switch(typeof p){case"object":{Object.is(p?.valueOf(),-0)&&(p="-0");break}case"number":{p=n.toKey(p);break}}return j=o.cloneDeep(j),function(f){const g=l.get(f,p);return g===void 0?u.has(f,p):j===void 0?g===void 0:t.isMatch(g,j)}}e.matchesProperty=m})(matchesProperty)),matchesProperty}var hasRequiredIteratee;function requireIteratee(){return hasRequiredIteratee||(hasRequiredIteratee=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIdentity(),n=requireProperty(),o=requireMatches(),l=requireMatchesProperty();function u(m){if(m==null)return t.identity;switch(typeof m){case"function":return m;case"object":return Array.isArray(m)&&m.length===2?l.matchesProperty(m[0],m[1]):o.matches(m);case"string":case"symbol":case"number":return n.property(m)}}e.iteratee=u})(iteratee)),iteratee}var hasRequiredUniqBy$1;function requireUniqBy$1(){return hasRequiredUniqBy$1||(hasRequiredUniqBy$1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireUniqBy$2(),n=requireIdentity(),o=requireIsArrayLikeObject(),l=requireIteratee();function u(m,p=n.identity){return o.isArrayLikeObject(m)?t.uniqBy(Array.from(m),l.iteratee(p)):[]}e.uniqBy=u})(uniqBy$3)),uniqBy$3}var uniqBy$1,hasRequiredUniqBy;function requireUniqBy(){return hasRequiredUniqBy||(hasRequiredUniqBy=1,uniqBy$1=requireUniqBy$1().uniqBy),uniqBy$1}var uniqByExports=requireUniqBy();const uniqBy=getDefaultExportFromCjs(uniqByExports);function getUniqPayload(e,t,n){return t===!0?uniqBy(e,n):typeof t=="function"?uniqBy(e,t):e}var withSelector$1={exports:{}},withSelector_production={},shim={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreShim_production;function requireUseSyncExternalStoreShim_production(){if(hasRequiredUseSyncExternalStoreShim_production)return useSyncExternalStoreShim_production;hasRequiredUseSyncExternalStoreShim_production=1;var e=requireReact();function t(b,R){return b===R&&(b!==0||1/b===1/R)||b!==b&&R!==R}var n=typeof Object.is=="function"?Object.is:t,o=e.useState,l=e.useEffect,u=e.useLayoutEffect,m=e.useDebugValue;function p(b,R){var v=R(),N=o({inst:{value:v,getSnapshot:R}}),S=N[0].inst,$=N[1];return u(function(){S.value=v,S.getSnapshot=R,j(S)&&$({inst:S})},[b,v,R]),l(function(){return j(S)&&$({inst:S}),b(function(){j(S)&&$({inst:S})})},[b]),m(v),v}function j(b){var R=b.getSnapshot;b=b.value;try{var v=R();return!n(b,v)}catch{return!0}}function f(b,R){return R()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:p;return useSyncExternalStoreShim_production.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,useSyncExternalStoreShim_production}var hasRequiredShim;function requireShim(){return hasRequiredShim||(hasRequiredShim=1,shim.exports=requireUseSyncExternalStoreShim_production()),shim.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredWithSelector_production;function requireWithSelector_production(){if(hasRequiredWithSelector_production)return withSelector_production;hasRequiredWithSelector_production=1;var e=requireReact(),t=requireShim();function n(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var o=typeof Object.is=="function"?Object.is:n,l=t.useSyncExternalStore,u=e.useRef,m=e.useEffect,p=e.useMemo,j=e.useDebugValue;return withSelector_production.useSyncExternalStoreWithSelector=function(f,g,b,R,v){var N=u(null);if(N.current===null){var S={hasValue:!1,value:null};N.current=S}else S=N.current;N=p(function(){function C(L){if(!A){if(A=!0,T=L,L=R(L),v!==void 0&&S.hasValue){var _=S.value;if(v(_,L))return D=_}return D=L}if(_=D,o(T,L))return _;var M=R(L);return v!==void 0&&v(_,M)?(T=L,_):(T=L,D=M)}var A=!1,T,D,I=b===void 0?null:b;return[function(){return C(g())},I===null?void 0:function(){return C(I())}]},[g,b,R,v]);var $=l(f,N[0],N[1]);return m(function(){S.hasValue=!0,S.value=$},[$]),j($),$},withSelector_production}var hasRequiredWithSelector$1;function requireWithSelector$1(){return hasRequiredWithSelector$1||(hasRequiredWithSelector$1=1,withSelector$1.exports=requireWithSelector_production()),withSelector$1.exports}var withSelectorExports=requireWithSelector$1(),RechartsReduxContext=reactExports.createContext(null),noopDispatch=e=>e,useAppDispatch=()=>{var e=reactExports.useContext(RechartsReduxContext);return e?e.store.dispatch:noopDispatch},noop$4=()=>{},addNestedSubNoop=()=>noop$4,refEquality=(e,t)=>e===t;function useAppSelector(e){var t=reactExports.useContext(RechartsReduxContext);return withSelectorExports.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:addNestedSubNoop,t?t.store.getState:noop$4,t?t.store.getState:noop$4,t?e:noop$4,refEquality)}function assertIsFunction(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function assertIsObject(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function assertIsArrayOfFunctions(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(o=>typeof o=="function"?`function ${o.name||"unnamed"}()`:typeof o).join(", ");throw new TypeError(`${t}[${n}]`)}}var ensureIsArray=e=>Array.isArray(e)?e:[e];function getDependencies(e){const t=Array.isArray(e[0])?e[0]:e;return assertIsArrayOfFunctions(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function collectInputSelectorResults(e,t){const n=[],{length:o}=e;for(let l=0;l<o;l++)n.push(e[l].apply(null,t));return n}var StrongRef=class{constructor(e){this.value=e}deref(){return this.value}},Ref=typeof WeakRef<"u"?WeakRef:StrongRef,UNTERMINATED=0,TERMINATED=1;function createCacheNode(){return{s:UNTERMINATED,v:void 0,o:null,p:null}}function weakMapMemoize(e,t={}){let n=createCacheNode();const{resultEqualityCheck:o}=t;let l,u=0;function m(){let p=n;const{length:j}=arguments;for(let b=0,R=j;b<R;b++){const v=arguments[b];if(typeof v=="function"||typeof v=="object"&&v!==null){let N=p.o;N===null&&(p.o=N=new WeakMap);const S=N.get(v);S===void 0?(p=createCacheNode(),N.set(v,p)):p=S}else{let N=p.p;N===null&&(p.p=N=new Map);const S=N.get(v);S===void 0?(p=createCacheNode(),N.set(v,p)):p=S}}const f=p;let g;if(p.s===TERMINATED)g=p.v;else if(g=e.apply(null,arguments),u++,o){const b=l?.deref?.()??l;b!=null&&o(b,g)&&(g=b,u!==0&&u--),l=typeof g=="object"&&g!==null||typeof g=="function"?new Ref(g):g}return f.s=TERMINATED,f.v=g,g}return m.clearCache=()=>{n=createCacheNode(),m.resetResultsCount()},m.resultsCount=()=>u,m.resetResultsCount=()=>{u=0},m}function createSelectorCreator(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,o=(...l)=>{let u=0,m=0,p,j={},f=l.pop();typeof f=="object"&&(j=f,f=l.pop()),assertIsFunction(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const g={...n,...j},{memoize:b,memoizeOptions:R=[],argsMemoize:v=weakMapMemoize,argsMemoizeOptions:N=[]}=g,S=ensureIsArray(R),$=ensureIsArray(N),C=getDependencies(l),A=b(function(){return u++,f.apply(null,arguments)},...S),T=v(function(){m++;const I=collectInputSelectorResults(C,arguments);return p=A.apply(null,I),p},...$);return Object.assign(T,{resultFunc:f,memoizedResultFunc:A,dependencies:C,dependencyRecomputations:()=>m,resetDependencyRecomputations:()=>{m=0},lastResult:()=>p,recomputations:()=>u,resetRecomputations:()=>{u=0},memoize:b,argsMemoize:v})};return Object.assign(o,{withTypes:()=>o}),o}var createSelector=createSelectorCreator(weakMapMemoize),createStructuredSelector=Object.assign((e,t=createSelector)=>{assertIsObject(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),o=n.map(u=>e[u]);return t(o,(...u)=>u.reduce((m,p,j)=>(m[n[j]]=p,m),{}))},{withTypes:()=>createStructuredSelector}),sortBy$2={},orderBy={},compareValues={},hasRequiredCompareValues;function requireCompareValues(){return hasRequiredCompareValues||(hasRequiredCompareValues=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(o){return typeof o=="symbol"?1:o===null?2:o===void 0?3:o!==o?4:0}const n=(o,l,u)=>{if(o!==l){const m=t(o),p=t(l);if(m===p&&m===0){if(o<l)return u==="desc"?1:-1;if(o>l)return u==="desc"?-1:1}return u==="desc"?p-m:m-p}return 0};e.compareValues=n})(compareValues)),compareValues}var isKey={},isSymbol={},hasRequiredIsSymbol;function requireIsSymbol(){return hasRequiredIsSymbol||(hasRequiredIsSymbol=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(isSymbol)),isSymbol}var hasRequiredIsKey;function requireIsKey(){return hasRequiredIsKey||(hasRequiredIsKey=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIsSymbol(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;function l(u,m){return Array.isArray(u)?!1:typeof u=="number"||typeof u=="boolean"||u==null||t.isSymbol(u)?!0:typeof u=="string"&&(o.test(u)||!n.test(u))||m!=null&&Object.hasOwn(m,u)}e.isKey=l})(isKey)),isKey}var hasRequiredOrderBy;function requireOrderBy(){return hasRequiredOrderBy||(hasRequiredOrderBy=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireCompareValues(),n=requireIsKey(),o=requireToPath();function l(u,m,p,j){if(u==null)return[];p=j?void 0:p,Array.isArray(u)||(u=Object.values(u)),Array.isArray(m)||(m=m==null?[null]:[m]),m.length===0&&(m=[null]),Array.isArray(p)||(p=p==null?[]:[p]),p=p.map(v=>String(v));const f=(v,N)=>{let S=v;for(let $=0;$<N.length&&S!=null;++$)S=S[N[$]];return S},g=(v,N)=>N==null||v==null?N:typeof v=="object"&&"key"in v?Object.hasOwn(N,v.key)?N[v.key]:f(N,v.path):typeof v=="function"?v(N):Array.isArray(v)?f(N,v):typeof N=="object"?N[v]:N,b=m.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:o.toPath(v)}));return u.map(v=>({original:v,criteria:b.map(N=>g(N,v))})).slice().sort((v,N)=>{for(let S=0;S<b.length;S++){const $=t.compareValues(v.criteria[S],N.criteria[S],p[S]);if($!==0)return $}return 0}).map(v=>v.original)}e.orderBy=l})(orderBy)),orderBy}var flatten={},hasRequiredFlatten;function requireFlatten(){return hasRequiredFlatten||(hasRequiredFlatten=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,o=1){const l=[],u=Math.floor(o),m=(p,j)=>{for(let f=0;f<p.length;f++){const g=p[f];Array.isArray(g)&&j<u?m(g,j+1):l.push(g)}};return m(n,0),l}e.flatten=t})(flatten)),flatten}var isIterateeCall={},hasRequiredIsIterateeCall;function requireIsIterateeCall(){return hasRequiredIsIterateeCall||(hasRequiredIsIterateeCall=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIsIndex(),n=requireIsArrayLike(),o=requireIsObject(),l=requireEq();function u(m,p,j){return o.isObject(j)&&(typeof p=="number"&&n.isArrayLike(j)&&t.isIndex(p)&&p<j.length||typeof p=="string"&&p in j)?l.eq(j[p],m):!1}e.isIterateeCall=u})(isIterateeCall)),isIterateeCall}var hasRequiredSortBy$1;function requireSortBy$1(){return hasRequiredSortBy$1||(hasRequiredSortBy$1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireOrderBy(),n=requireFlatten(),o=requireIsIterateeCall();function l(u,...m){const p=m.length;return p>1&&o.isIterateeCall(u,m[0],m[1])?m=[]:p>2&&o.isIterateeCall(m[0],m[1],m[2])&&(m=[m[0]]),t.orderBy(u,n.flatten(m),["asc"])}e.sortBy=l})(sortBy$2)),sortBy$2}var sortBy$1,hasRequiredSortBy;function requireSortBy(){return hasRequiredSortBy||(hasRequiredSortBy=1,sortBy$1=requireSortBy$1().sortBy),sortBy$1}var sortByExports=requireSortBy();const sortBy=getDefaultExportFromCjs(sortByExports);var selectLegendSettings=e=>e.legend.settings,selectLegendSize=e=>e.legend.size,selectAllLegendPayload2DArray=e=>e.legend.payload,selectLegendPayload=createSelector([selectAllLegendPayload2DArray,selectLegendSettings],(e,t)=>{var{itemSorter:n}=t,o=e.flat(1);return n?sortBy(o,n):o});function useLegendPayload(){return useAppSelector(selectLegendPayload)}var EPS$1=1;function useElementOffset(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=reactExports.useState({height:0,left:0,top:0,width:0}),o=reactExports.useCallback(l=>{if(l!=null){var u=l.getBoundingClientRect(),m={height:u.height,left:u.left,top:u.top,width:u.width};(Math.abs(m.height-t.height)>EPS$1||Math.abs(m.left-t.left)>EPS$1||Math.abs(m.top-t.top)>EPS$1||Math.abs(m.width-t.width)>EPS$1)&&n({height:m.height,left:m.left,top:m.top,width:m.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,o]}function formatProdErrorMessage$1(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var $$observable=typeof Symbol=="function"&&Symbol.observable||"@@observable",symbol_observable_default=$$observable,randomString=()=>Math.random().toString(36).substring(7).split("").join("."),ActionTypes={INIT:`@@redux/INIT${randomString()}`,REPLACE:`@@redux/REPLACE${randomString()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${randomString()}`},actionTypes_default=ActionTypes;function isPlainObject$4(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function createStore(e,t,n){if(typeof e!="function")throw new Error(formatProdErrorMessage$1(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage$1(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(formatProdErrorMessage$1(1));return n(createStore)(e,t)}let o=e,l=t,u=new Map,m=u,p=0,j=!1;function f(){m===u&&(m=new Map,u.forEach(($,C)=>{m.set(C,$)}))}function g(){if(j)throw new Error(formatProdErrorMessage$1(3));return l}function b($){if(typeof $!="function")throw new Error(formatProdErrorMessage$1(4));if(j)throw new Error(formatProdErrorMessage$1(5));let C=!0;f();const A=p++;return m.set(A,$),function(){if(C){if(j)throw new Error(formatProdErrorMessage$1(6));C=!1,f(),m.delete(A),u=null}}}function R($){if(!isPlainObject$4($))throw new Error(formatProdErrorMessage$1(7));if(typeof $.type>"u")throw new Error(formatProdErrorMessage$1(8));if(typeof $.type!="string")throw new Error(formatProdErrorMessage$1(17));if(j)throw new Error(formatProdErrorMessage$1(9));try{j=!0,l=o(l,$)}finally{j=!1}return(u=m).forEach(A=>{A()}),$}function v($){if(typeof $!="function")throw new Error(formatProdErrorMessage$1(10));o=$,R({type:actionTypes_default.REPLACE})}function N(){const $=b;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(formatProdErrorMessage$1(11));function A(){const D=C;D.next&&D.next(g())}return A(),{unsubscribe:$(A)}},[symbol_observable_default](){return this}}}return R({type:actionTypes_default.INIT}),{dispatch:R,subscribe:b,getState:g,replaceReducer:v,[symbol_observable_default]:N}}function assertReducerShape(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:actionTypes_default.INIT})>"u")throw new Error(formatProdErrorMessage$1(12));if(typeof n(void 0,{type:actionTypes_default.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage$1(13))})}function combineReducers(e){const t=Object.keys(e),n={};for(let u=0;u<t.length;u++){const m=t[u];typeof e[m]=="function"&&(n[m]=e[m])}const o=Object.keys(n);let l;try{assertReducerShape(n)}catch(u){l=u}return function(m={},p){if(l)throw l;let j=!1;const f={};for(let g=0;g<o.length;g++){const b=o[g],R=n[b],v=m[b],N=R(v,p);if(typeof N>"u")throw p&&p.type,new Error(formatProdErrorMessage$1(14));f[b]=N,j=j||N!==v}return j=j||o.length!==Object.keys(m).length,j?f:m}}function compose$1(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...o)=>t(n(...o)))}function applyMiddleware(...e){return t=>(n,o)=>{const l=t(n,o);let u=()=>{throw new Error(formatProdErrorMessage$1(15))};const m={getState:l.getState,dispatch:(j,...f)=>u(j,...f)},p=e.map(j=>j(m));return u=compose$1(...p)(l.dispatch),{...l,dispatch:u}}}function isAction(e){return isPlainObject$4(e)&&"type"in e&&typeof e.type=="string"}var NOTHING=Symbol.for("immer-nothing"),DRAFTABLE=Symbol.for("immer-draftable"),DRAFT_STATE=Symbol.for("immer-state");function die(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var getPrototypeOf=Object.getPrototypeOf;function isDraft(e){return!!e&&!!e[DRAFT_STATE]}function isDraftable(e){return e?isPlainObject$3(e)||Array.isArray(e)||!!e[DRAFTABLE]||!!e.constructor?.[DRAFTABLE]||isMap(e)||isSet(e):!1}var objectCtorString=Object.prototype.constructor.toString();function isPlainObject$3(e){if(!e||typeof e!="object")return!1;const t=getPrototypeOf(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===objectCtorString}function each(e,t){getArchtype(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,o)=>t(o,n,e))}function getArchtype(e){const t=e[DRAFT_STATE];return t?t.type_:Array.isArray(e)?1:isMap(e)?2:isSet(e)?3:0}function has(e,t){return getArchtype(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function set(e,t,n){const o=getArchtype(e);o===2?e.set(t,n):o===3?e.add(n):e[t]=n}function is(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function isMap(e){return e instanceof Map}function isSet(e){return e instanceof Set}function latest(e){return e.copy_||e.base_}function shallowCopy(e,t){if(isMap(e))return new Map(e);if(isSet(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=isPlainObject$3(e);if(t===!0||t==="class_only"&&!n){const o=Object.getOwnPropertyDescriptors(e);delete o[DRAFT_STATE];let l=Reflect.ownKeys(o);for(let u=0;u<l.length;u++){const m=l[u],p=o[m];p.writable===!1&&(p.writable=!0,p.configurable=!0),(p.get||p.set)&&(o[m]={configurable:!0,writable:!0,enumerable:p.enumerable,value:e[m]})}return Object.create(getPrototypeOf(e),o)}else{const o=getPrototypeOf(e);if(o!==null&&n)return{...e};const l=Object.create(o);return Object.assign(l,e)}}function freeze(e,t=!1){return isFrozen(e)||isDraft(e)||!isDraftable(e)||(getArchtype(e)>1&&(e.set=e.add=e.clear=e.delete=dontMutateFrozenCollections),Object.freeze(e),t&&Object.entries(e).forEach(([n,o])=>freeze(o,!0))),e}function dontMutateFrozenCollections(){die(2)}function isFrozen(e){return Object.isFrozen(e)}var plugins={};function getPlugin(e){const t=plugins[e];return t||die(0,e),t}var currentScope;function getCurrentScope(){return currentScope}function createScope(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function usePatchesInScope(e,t){t&&(getPlugin("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function revokeScope(e){leaveScope(e),e.drafts_.forEach(revokeDraft),e.drafts_=null}function leaveScope(e){e===currentScope&&(currentScope=e.parent_)}function enterScope(e){return currentScope=createScope(currentScope,e)}function revokeDraft(e){const t=e[DRAFT_STATE];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function processResult(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[DRAFT_STATE].modified_&&(revokeScope(t),die(4)),isDraftable(e)&&(e=finalize(t,e),t.parent_||maybeFreeze(t,e)),t.patches_&&getPlugin("Patches").generateReplacementPatches_(n[DRAFT_STATE].base_,e,t.patches_,t.inversePatches_)):e=finalize(t,n,[]),revokeScope(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==NOTHING?e:void 0}function finalize(e,t,n){if(isFrozen(t))return t;const o=t[DRAFT_STATE];if(!o)return each(t,(l,u)=>finalizeProperty(e,o,t,l,u,n)),t;if(o.scope_!==e)return t;if(!o.modified_)return maybeFreeze(e,o.base_,!0),o.base_;if(!o.finalized_){o.finalized_=!0,o.scope_.unfinalizedDrafts_--;const l=o.copy_;let u=l,m=!1;o.type_===3&&(u=new Set(l),l.clear(),m=!0),each(u,(p,j)=>finalizeProperty(e,o,l,p,j,n,m)),maybeFreeze(e,l,!1),n&&e.patches_&&getPlugin("Patches").generatePatches_(o,n,e.patches_,e.inversePatches_)}return o.copy_}function finalizeProperty(e,t,n,o,l,u,m){if(isDraft(l)){const p=u&&t&&t.type_!==3&&!has(t.assigned_,o)?u.concat(o):void 0,j=finalize(e,l,p);if(set(n,o,j),isDraft(j))e.canAutoFreeze_=!1;else return}else m&&n.add(l);if(isDraftable(l)&&!isFrozen(l)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;finalize(e,l),(!t||!t.scope_.parent_)&&typeof o!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,o)&&maybeFreeze(e,l)}}function maybeFreeze(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&freeze(t,n)}function createProxyProxy(e,t){const n=Array.isArray(e),o={type_:n?1:0,scope_:t?t.scope_:getCurrentScope(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let l=o,u=objectTraps;n&&(l=[o],u=arrayTraps);const{revoke:m,proxy:p}=Proxy.revocable(l,u);return o.draft_=p,o.revoke_=m,p}var objectTraps={get(e,t){if(t===DRAFT_STATE)return e;const n=latest(e);if(!has(n,t))return readPropFromProto(e,n,t);const o=n[t];return e.finalized_||!isDraftable(o)?o:o===peek(e.base_,t)?(prepareCopy(e),e.copy_[t]=createProxy(o,e)):o},has(e,t){return t in latest(e)},ownKeys(e){return Reflect.ownKeys(latest(e))},set(e,t,n){const o=getDescriptorFromProto(latest(e),t);if(o?.set)return o.set.call(e.draft_,n),!0;if(!e.modified_){const l=peek(latest(e),t),u=l?.[DRAFT_STATE];if(u&&u.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(is(n,l)&&(n!==void 0||has(e.base_,t)))return!0;prepareCopy(e),markChanged(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return peek(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,prepareCopy(e),markChanged(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=latest(e),o=Reflect.getOwnPropertyDescriptor(n,t);return o&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:o.enumerable,value:n[t]}},defineProperty(){die(11)},getPrototypeOf(e){return getPrototypeOf(e.base_)},setPrototypeOf(){die(12)}},arrayTraps={};each(objectTraps,(e,t)=>{arrayTraps[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});arrayTraps.deleteProperty=function(e,t){return arrayTraps.set.call(this,e,t,void 0)};arrayTraps.set=function(e,t,n){return objectTraps.set.call(this,e[0],t,n,e[0])};function peek(e,t){const n=e[DRAFT_STATE];return(n?latest(n):e)[t]}function readPropFromProto(e,t,n){const o=getDescriptorFromProto(t,n);return o?"value"in o?o.value:o.get?.call(e.draft_):void 0}function getDescriptorFromProto(e,t){if(!(t in e))return;let n=getPrototypeOf(e);for(;n;){const o=Object.getOwnPropertyDescriptor(n,t);if(o)return o;n=getPrototypeOf(n)}}function markChanged(e){e.modified_||(e.modified_=!0,e.parent_&&markChanged(e.parent_))}function prepareCopy(e){e.copy_||(e.copy_=shallowCopy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Immer2=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,o)=>{if(typeof t=="function"&&typeof n!="function"){const u=n;n=t;const m=this;return function(j=u,...f){return m.produce(j,g=>n.call(this,g,...f))}}typeof n!="function"&&die(6),o!==void 0&&typeof o!="function"&&die(7);let l;if(isDraftable(t)){const u=enterScope(this),m=createProxy(t,void 0);let p=!0;try{l=n(m),p=!1}finally{p?revokeScope(u):leaveScope(u)}return usePatchesInScope(u,o),processResult(l,u)}else if(!t||typeof t!="object"){if(l=n(t),l===void 0&&(l=t),l===NOTHING&&(l=void 0),this.autoFreeze_&&freeze(l,!0),o){const u=[],m=[];getPlugin("Patches").generateReplacementPatches_(t,l,u,m),o(u,m)}return l}else die(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(m,...p)=>this.produceWithPatches(m,j=>t(j,...p));let o,l;return[this.produce(t,n,(m,p)=>{o=m,l=p}),o,l]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){isDraftable(e)||die(8),isDraft(e)&&(e=current(e));const t=enterScope(this),n=createProxy(e,void 0);return n[DRAFT_STATE].isManual_=!0,leaveScope(t),n}finishDraft(e,t){const n=e&&e[DRAFT_STATE];(!n||!n.isManual_)&&die(9);const{scope_:o}=n;return usePatchesInScope(o,t),processResult(void 0,o)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const l=t[n];if(l.path.length===0&&l.op==="replace"){e=l.value;break}}n>-1&&(t=t.slice(n+1));const o=getPlugin("Patches").applyPatches_;return isDraft(e)?o(e,t):this.produce(e,l=>o(l,t))}};function createProxy(e,t){const n=isMap(e)?getPlugin("MapSet").proxyMap_(e,t):isSet(e)?getPlugin("MapSet").proxySet_(e,t):createProxyProxy(e,t);return(t?t.scope_:getCurrentScope()).drafts_.push(n),n}function current(e){return isDraft(e)||die(10,e),currentImpl(e)}function currentImpl(e){if(!isDraftable(e)||isFrozen(e))return e;const t=e[DRAFT_STATE];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=shallowCopy(e,t.scope_.immer_.useStrictShallowCopy_)}else n=shallowCopy(e,!0);return each(n,(o,l)=>{set(n,o,currentImpl(l))}),t&&(t.finalized_=!1),n}var immer=new Immer2,produce=immer.produce;immer.produceWithPatches.bind(immer);immer.setAutoFreeze.bind(immer);immer.setUseStrictShallowCopy.bind(immer);immer.applyPatches.bind(immer);immer.createDraft.bind(immer);immer.finishDraft.bind(immer);function castDraft(e){return e}function createThunkMiddleware(e){return({dispatch:n,getState:o})=>l=>u=>typeof u=="function"?u(n,o,e):l(u)}var thunk=createThunkMiddleware(),withExtraArgument=createThunkMiddleware,composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose$1:compose$1.apply(null,arguments)};function createAction(e,t){function n(...o){if(t){let l=t(...o);if(!l)throw new Error(formatProdErrorMessage(0));return{type:e,payload:l.payload,..."meta"in l&&{meta:l.meta},..."error"in l&&{error:l.error}}}return{type:e,payload:o[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=o=>isAction(o)&&o.type===e,n}var Tuple=class Ba extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ba.prototype)}static get[Symbol.species](){return Ba}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ba(...t[0].concat(this)):new Ba(...t.concat(this))}};function freezeDraftable(e){return isDraftable(e)?produce(e,()=>{}):e}function getOrInsertComputed(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function isBoolean(e){return typeof e=="boolean"}var buildGetDefaultMiddleware=()=>function(t){const{thunk:n=!0,immutableCheck:o=!0,serializableCheck:l=!0,actionCreatorCheck:u=!0}=t??{};let m=new Tuple;return n&&(isBoolean(n)?m.push(thunk):m.push(withExtraArgument(n.extraArgument))),m},SHOULD_AUTOBATCH="RTK_autoBatch",createQueueWithTimer=e=>t=>{setTimeout(t,e)},autoBatchEnhancer=(e={type:"raf"})=>t=>(...n)=>{const o=t(...n);let l=!0,u=!1,m=!1;const p=new Set,j=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:createQueueWithTimer(10):e.type==="callback"?e.queueNotification:createQueueWithTimer(e.timeout),f=()=>{m=!1,u&&(u=!1,p.forEach(g=>g()))};return Object.assign({},o,{subscribe(g){const b=()=>l&&g(),R=o.subscribe(b);return p.add(g),()=>{R(),p.delete(g)}},dispatch(g){try{return l=!g?.meta?.[SHOULD_AUTOBATCH],u=!l,u&&(m||(m=!0,j(f))),o.dispatch(g)}finally{l=!0}}})},buildGetDefaultEnhancers=e=>function(n){const{autoBatch:o=!0}=n??{};let l=new Tuple(e);return o&&l.push(autoBatchEnhancer(typeof o=="object"?o:void 0)),l};function configureStore(e){const t=buildGetDefaultMiddleware(),{reducer:n=void 0,middleware:o,devTools:l=!0,preloadedState:u=void 0,enhancers:m=void 0}=e||{};let p;if(typeof n=="function")p=n;else if(isPlainObject$4(n))p=combineReducers(n);else throw new Error(formatProdErrorMessage(1));let j;typeof o=="function"?j=o(t):j=t();let f=compose$1;l&&(f=composeWithDevTools({trace:!1,...typeof l=="object"&&l}));const g=applyMiddleware(...j),b=buildGetDefaultEnhancers(g);let R=typeof m=="function"?m(b):b();const v=f(...R);return createStore(p,u,v)}function executeReducerBuilderCallback(e){const t={},n=[];let o;const l={addCase(u,m){const p=typeof u=="string"?u:u.type;if(!p)throw new Error(formatProdErrorMessage(28));if(p in t)throw new Error(formatProdErrorMessage(29));return t[p]=m,l},addMatcher(u,m){return n.push({matcher:u,reducer:m}),l},addDefaultCase(u){return o=u,l}};return e(l),[t,n,o]}function isStateFunction(e){return typeof e=="function"}function createReducer(e,t){let[n,o,l]=executeReducerBuilderCallback(t),u;if(isStateFunction(e))u=()=>freezeDraftable(e());else{const p=freezeDraftable(e);u=()=>p}function m(p=u(),j){let f=[n[j.type],...o.filter(({matcher:g})=>g(j)).map(({reducer:g})=>g)];return f.filter(g=>!!g).length===0&&(f=[l]),f.reduce((g,b)=>{if(b)if(isDraft(g)){const v=b(g,j);return v===void 0?g:v}else{if(isDraftable(g))return produce(g,R=>b(R,j));{const R=b(g,j);if(R===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return R}}return g},p)}return m.getInitialState=u,m}var urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nanoid=(e=21)=>{let t="",n=e;for(;n--;)t+=urlAlphabet[Math.random()*64|0];return t},asyncThunkSymbol=Symbol.for("rtk-slice-createasyncthunk");function getType(e,t){return`${e}/${t}`}function buildCreateSlice({creators:e}={}){const t=e?.asyncThunk?.[asyncThunkSymbol];return function(o){const{name:l,reducerPath:u=l}=o;if(!l)throw new Error(formatProdErrorMessage(11));const m=(typeof o.reducers=="function"?o.reducers(buildReducerCreators()):o.reducers)||{},p=Object.keys(m),j={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(T,D){const I=typeof T=="string"?T:T.type;if(!I)throw new Error(formatProdErrorMessage(12));if(I in j.sliceCaseReducersByType)throw new Error(formatProdErrorMessage(13));return j.sliceCaseReducersByType[I]=D,f},addMatcher(T,D){return j.sliceMatchers.push({matcher:T,reducer:D}),f},exposeAction(T,D){return j.actionCreators[T]=D,f},exposeCaseReducer(T,D){return j.sliceCaseReducersByName[T]=D,f}};p.forEach(T=>{const D=m[T],I={reducerName:T,type:getType(l,T),createNotation:typeof o.reducers=="function"};isAsyncThunkSliceReducerDefinition(D)?handleThunkCaseReducerDefinition(I,D,f,t):handleNormalReducerDefinition(I,D,f)});function g(){const[T={},D=[],I=void 0]=typeof o.extraReducers=="function"?executeReducerBuilderCallback(o.extraReducers):[o.extraReducers],L={...T,...j.sliceCaseReducersByType};return createReducer(o.initialState,_=>{for(let M in L)_.addCase(M,L[M]);for(let M of j.sliceMatchers)_.addMatcher(M.matcher,M.reducer);for(let M of D)_.addMatcher(M.matcher,M.reducer);I&&_.addDefaultCase(I)})}const b=T=>T,R=new Map,v=new WeakMap;let N;function S(T,D){return N||(N=g()),N(T,D)}function $(){return N||(N=g()),N.getInitialState()}function C(T,D=!1){function I(_){let M=_[T];return typeof M>"u"&&D&&(M=getOrInsertComputed(v,I,$)),M}function L(_=b){const M=getOrInsertComputed(R,D,()=>new WeakMap);return getOrInsertComputed(M,_,()=>{const F={};for(const[B,q]of Object.entries(o.selectors??{}))F[B]=wrapSelector(q,_,()=>getOrInsertComputed(v,_,$),D);return F})}return{reducerPath:T,getSelectors:L,get selectors(){return L(I)},selectSlice:I}}const A={name:l,reducer:S,actions:j.actionCreators,caseReducers:j.sliceCaseReducersByName,getInitialState:$,...C(u),injectInto(T,{reducerPath:D,...I}={}){const L=D??u;return T.inject({reducerPath:L,reducer:S},I),{...A,...C(L,!0)}}};return A}}function wrapSelector(e,t,n,o){function l(u,...m){let p=t(u);return typeof p>"u"&&o&&(p=n()),e(p,...m)}return l.unwrapped=e,l}var createSlice=buildCreateSlice();function buildReducerCreators(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function handleNormalReducerDefinition({type:e,reducerName:t,createNotation:n},o,l){let u,m;if("reducer"in o){if(n&&!isCaseReducerWithPrepareDefinition(o))throw new Error(formatProdErrorMessage(17));u=o.reducer,m=o.prepare}else u=o;l.addCase(e,u).exposeCaseReducer(t,u).exposeAction(t,m?createAction(e,m):createAction(e))}function isAsyncThunkSliceReducerDefinition(e){return e._reducerDefinitionType==="asyncThunk"}function isCaseReducerWithPrepareDefinition(e){return e._reducerDefinitionType==="reducerWithPrepare"}function handleThunkCaseReducerDefinition({type:e,reducerName:t},n,o,l){if(!l)throw new Error(formatProdErrorMessage(18));const{payloadCreator:u,fulfilled:m,pending:p,rejected:j,settled:f,options:g}=n,b=l(e,u,g);o.exposeAction(t,b),m&&o.addCase(b.fulfilled,m),p&&o.addCase(b.pending,p),j&&o.addCase(b.rejected,j),f&&o.addMatcher(b.settled,f),o.exposeCaseReducer(t,{fulfilled:m||noop$3,pending:p||noop$3,rejected:j||noop$3,settled:f||noop$3})}function noop$3(){}var task="task",listener="listener",completed="completed",cancelled="cancelled",taskCancelled=`task-${cancelled}`,taskCompleted=`task-${completed}`,listenerCancelled=`${listener}-${cancelled}`,listenerCompleted=`${listener}-${completed}`,TaskAbortError=class{constructor(e){this.code=e,this.message=`${task} ${cancelled} (reason: ${e})`}name="TaskAbortError";message},assertFunction=(e,t)=>{if(typeof e!="function")throw new TypeError(formatProdErrorMessage(32))},noop2=()=>{},catchRejection=(e,t=noop2)=>(e.catch(t),e),addAbortSignalListener=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),abortControllerWithReason=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},validateActive=e=>{if(e.aborted){const{reason:t}=e;throw new TaskAbortError(t)}};function raceWithSignal(e,t){let n=noop2;return new Promise((o,l)=>{const u=()=>l(new TaskAbortError(e.reason));if(e.aborted){u();return}n=addAbortSignalListener(e,u),t.finally(()=>n()).then(o,l)}).finally(()=>{n=noop2})}var runTask=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof TaskAbortError?"cancelled":"rejected",error:n}}finally{t?.()}},createPause=e=>t=>catchRejection(raceWithSignal(e,t).then(n=>(validateActive(e),n))),createDelay=e=>{const t=createPause(e);return n=>t(new Promise(o=>setTimeout(o,n)))},{assign}=Object,INTERNAL_NIL_TOKEN={},alm="listenerMiddleware",createFork=(e,t)=>{const n=o=>addAbortSignalListener(e,()=>abortControllerWithReason(o,e.reason));return(o,l)=>{assertFunction(o);const u=new AbortController;n(u);const m=runTask(async()=>{validateActive(e),validateActive(u.signal);const p=await o({pause:createPause(u.signal),delay:createDelay(u.signal),signal:u.signal});return validateActive(u.signal),p},()=>abortControllerWithReason(u,taskCompleted));return l?.autoJoin&&t.push(m.catch(noop2)),{result:createPause(e)(m),cancel(){abortControllerWithReason(u,taskCancelled)}}}},createTakePattern=(e,t)=>{const n=async(o,l)=>{validateActive(t);let u=()=>{};const p=[new Promise((j,f)=>{let g=e({predicate:o,effect:(b,R)=>{R.unsubscribe(),j([b,R.getState(),R.getOriginalState()])}});u=()=>{g(),f()}})];l!=null&&p.push(new Promise(j=>setTimeout(j,l,null)));try{const j=await raceWithSignal(t,Promise.race(p));return validateActive(t),j}finally{u()}};return(o,l)=>catchRejection(n(o,l))},getListenerEntryPropsFrom=e=>{let{type:t,actionCreator:n,matcher:o,predicate:l,effect:u}=e;if(t)l=createAction(t).match;else if(n)t=n.type,l=n.match;else if(o)l=o;else if(!l)throw new Error(formatProdErrorMessage(21));return assertFunction(u),{predicate:l,type:t,effect:u}},createListenerEntry=assign(e=>{const{type:t,predicate:n,effect:o}=getListenerEntryPropsFrom(e);return{id:nanoid(),effect:o,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(formatProdErrorMessage(22))}}},{withTypes:()=>createListenerEntry}),findListenerEntry=(e,t)=>{const{type:n,effect:o,predicate:l}=getListenerEntryPropsFrom(t);return Array.from(e.values()).find(u=>(typeof n=="string"?u.type===n:u.predicate===l)&&u.effect===o)},cancelActiveListeners=e=>{e.pending.forEach(t=>{abortControllerWithReason(t,listenerCancelled)})},createClearListenerMiddleware=e=>()=>{e.forEach(cancelActiveListeners),e.clear()},safelyNotifyError=(e,t,n)=>{try{e(t,n)}catch(o){setTimeout(()=>{throw o},0)}},addListener=assign(createAction(`${alm}/add`),{withTypes:()=>addListener}),clearAllListeners=createAction(`${alm}/removeAll`),removeListener=assign(createAction(`${alm}/remove`),{withTypes:()=>removeListener}),defaultErrorHandler=(...e)=>{console.error(`${alm}/error`,...e)},createListenerMiddleware=(e={})=>{const t=new Map,{extra:n,onError:o=defaultErrorHandler}=e;assertFunction(o);const l=g=>(g.unsubscribe=()=>t.delete(g.id),t.set(g.id,g),b=>{g.unsubscribe(),b?.cancelActive&&cancelActiveListeners(g)}),u=g=>{const b=findListenerEntry(t,g)??createListenerEntry(g);return l(b)};assign(u,{withTypes:()=>u});const m=g=>{const b=findListenerEntry(t,g);return b&&(b.unsubscribe(),g.cancelActive&&cancelActiveListeners(b)),!!b};assign(m,{withTypes:()=>m});const p=async(g,b,R,v)=>{const N=new AbortController,S=createTakePattern(u,N.signal),$=[];try{g.pending.add(N),await Promise.resolve(g.effect(b,assign({},R,{getOriginalState:v,condition:(C,A)=>S(C,A).then(Boolean),take:S,delay:createDelay(N.signal),pause:createPause(N.signal),extra:n,signal:N.signal,fork:createFork(N.signal,$),unsubscribe:g.unsubscribe,subscribe:()=>{t.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((C,A,T)=>{C!==N&&(abortControllerWithReason(C,listenerCancelled),T.delete(C))})},cancel:()=>{abortControllerWithReason(N,listenerCancelled),g.pending.delete(N)},throwIfCancelled:()=>{validateActive(N.signal)}})))}catch(C){C instanceof TaskAbortError||safelyNotifyError(o,C,{raisedBy:"effect"})}finally{await Promise.all($),abortControllerWithReason(N,listenerCompleted),g.pending.delete(N)}},j=createClearListenerMiddleware(t);return{middleware:g=>b=>R=>{if(!isAction(R))return b(R);if(addListener.match(R))return u(R.payload);if(clearAllListeners.match(R)){j();return}if(removeListener.match(R))return m(R.payload);let v=g.getState();const N=()=>{if(v===INTERNAL_NIL_TOKEN)throw new Error(formatProdErrorMessage(23));return v};let S;try{if(S=b(R),t.size>0){const $=g.getState(),C=Array.from(t.values());for(const A of C){let T=!1;try{T=A.predicate(R,$,v)}catch(D){T=!1,safelyNotifyError(o,D,{raisedBy:"predicate"})}T&&p(A,R,g,N)}}}finally{v=INTERNAL_NIL_TOKEN}return S},startListening:u,stopListening:m,clearListeners:j}};function formatProdErrorMessage(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var initialState$a={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},chartLayoutSlice=createSlice({name:"chartLayout",initialState:initialState$a,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,o,l,u;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(o=t.payload.right)!==null&&o!==void 0?o:0,e.margin.bottom=(l=t.payload.bottom)!==null&&l!==void 0?l:0,e.margin.left=(u=t.payload.left)!==null&&u!==void 0?u:0},setScale(e,t){e.scale=t.payload}}}),{setMargin,setLayout,setChartSize,setScale}=chartLayoutSlice.actions,chartLayoutReducer=chartLayoutSlice.reducer;function ownKeys$A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$A(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$A(Object(n),!0).forEach(function(o){_defineProperty$C(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$A(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$C(e,t,n){return(t=_toPropertyKey$C(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$C(e){var t=_toPrimitive$C(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$C(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RADIAN=Math.PI/180,radianToDegree=e=>e*180/Math.PI,polarToCartesian=(e,t,n,o)=>({x:e+Math.cos(-RADIAN*o)*n,y:t+Math.sin(-RADIAN*o)*n}),getMaxRadius=function e(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(o.left||0)-(o.right||0)),Math.abs(n-(o.top||0)-(o.bottom||0)))/2},distanceBetweenPoints=(e,t)=>{var{x:n,y:o}=e,{x:l,y:u}=t;return Math.sqrt((n-l)**2+(o-u)**2)},getAngleOfPoint=(e,t)=>{var{x:n,y:o}=e,{cx:l,cy:u}=t,m=distanceBetweenPoints({x:n,y:o},{x:l,y:u});if(m<=0)return{radius:m,angle:0};var p=(n-l)/m,j=Math.acos(p);return o>u&&(j=2*Math.PI-j),{radius:m,angle:radianToDegree(j),angleInRadian:j}},formatAngleOfSector=e=>{var{startAngle:t,endAngle:n}=e,o=Math.floor(t/360),l=Math.floor(n/360),u=Math.min(o,l);return{startAngle:t-u*360,endAngle:n-u*360}},reverseFormatAngleOfSector=(e,t)=>{var{startAngle:n,endAngle:o}=t,l=Math.floor(n/360),u=Math.floor(o/360),m=Math.min(l,u);return e+m*360},inRangeOfSector=(e,t)=>{var{x:n,y:o}=e,{radius:l,angle:u}=getAngleOfPoint({x:n,y:o},t),{innerRadius:m,outerRadius:p}=t;if(l<m||l>p||l===0)return null;var{startAngle:j,endAngle:f}=formatAngleOfSector(t),g=u,b;if(j<=f){for(;g>f;)g-=360;for(;g<j;)g+=360;b=g>=j&&g<=f}else{for(;g>j;)g-=360;for(;g<f;)g+=360;b=g>=f&&g<=j}return b?_objectSpread$A(_objectSpread$A({},t),{},{radius:l,angle:reverseFormatAngleOfSector(g,t)}):null};function getSliced(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function ownKeys$z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$z(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$z(Object(n),!0).forEach(function(o){_defineProperty$B(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$z(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$B(e,t,n){return(t=_toPropertyKey$B(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$B(e){var t=_toPrimitive$B(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$B(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function getValueByDataKey(e,t,n){return isNullish(e)||isNullish(t)?n:isNumOrStr(t)?get(e,t,n):typeof t=="function"?t(e):n}var calculateActiveTickIndex=(e,t,n,o,l)=>{var u,m=-1,p=(u=t?.length)!==null&&u!==void 0?u:0;if(p<=1||e==null)return 0;if(o==="angleAxis"&&l!=null&&Math.abs(Math.abs(l[1]-l[0])-360)<=1e-6)for(var j=0;j<p;j++){var f=j>0?n[j-1].coordinate:n[p-1].coordinate,g=n[j].coordinate,b=j>=p-1?n[0].coordinate:n[j+1].coordinate,R=void 0;if(mathSign(g-f)!==mathSign(b-g)){var v=[];if(mathSign(b-g)===mathSign(l[1]-l[0])){R=b;var N=g+l[1]-l[0];v[0]=Math.min(N,(N+f)/2),v[1]=Math.max(N,(N+f)/2)}else{R=f;var S=b+l[1]-l[0];v[0]=Math.min(g,(S+g)/2),v[1]=Math.max(g,(S+g)/2)}var $=[Math.min(g,(R+g)/2),Math.max(g,(R+g)/2)];if(e>$[0]&&e<=$[1]||e>=v[0]&&e<=v[1]){({index:m}=n[j]);break}}else{var C=Math.min(f,b),A=Math.max(f,b);if(e>(C+g)/2&&e<=(A+g)/2){({index:m}=n[j]);break}}}else if(t){for(var T=0;T<p;T++)if(T===0&&e<=(t[T].coordinate+t[T+1].coordinate)/2||T>0&&T<p-1&&e>(t[T].coordinate+t[T-1].coordinate)/2&&e<=(t[T].coordinate+t[T+1].coordinate)/2||T===p-1&&e>(t[T].coordinate+t[T-1].coordinate)/2){({index:m}=t[T]);break}}return m},appendOffsetOfLegend=(e,t,n)=>{if(t&&n){var{width:o,height:l}=n,{align:u,verticalAlign:m,layout:p}=t;if((p==="vertical"||p==="horizontal"&&m==="middle")&&u!=="center"&&isNumber(e[u]))return _objectSpread$z(_objectSpread$z({},e),{},{[u]:e[u]+(o||0)});if((p==="horizontal"||p==="vertical"&&u==="center")&&m!=="middle"&&isNumber(e[m]))return _objectSpread$z(_objectSpread$z({},e),{},{[m]:e[m]+(l||0)})}return e},isCategoricalAxis=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",getCoordinatesOfGrid=(e,t,n,o)=>{if(o)return e.map(p=>p.coordinate);var l,u,m=e.map(p=>(p.coordinate===t&&(l=!0),p.coordinate===n&&(u=!0),p.coordinate));return l||m.push(t),u||m.push(n),m},getTicksOfAxis=(e,t,n)=>{if(!e)return null;var{duplicateDomain:o,type:l,range:u,scale:m,realScaleType:p,isCategorical:j,categoricalDomain:f,tickCount:g,ticks:b,niceTicks:R,axisType:v}=e;if(!m)return null;var N=p==="scaleBand"&&m.bandwidth?m.bandwidth()/2:2,S=l==="category"&&m.bandwidth?m.bandwidth()/N:0;if(S=v==="angleAxis"&&u&&u.length>=2?mathSign(u[0]-u[1])*2*S:S,b||R){var $=(b||R||[]).map((C,A)=>{var T=o?o.indexOf(C):C;return{coordinate:m(T)+S,value:C,offset:S,index:A}});return $.filter(C=>!isNan(C.coordinate))}return j&&f?f.map((C,A)=>({coordinate:m(C)+S,value:C,index:A,offset:S})):m.ticks&&g!=null?m.ticks(g).map((C,A)=>({coordinate:m(C)+S,value:C,offset:S,index:A})):m.domain().map((C,A)=>({coordinate:m(C)+S,value:o?o[C]:C,index:A,offset:S}))},EPS=1e-4,checkDomainOfScale=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,o=e.range(),l=Math.min(o[0],o[1])-EPS,u=Math.max(o[0],o[1])+EPS,m=e(t[0]),p=e(t[n-1]);(m<l||m>u||p<l||p>u)&&e.domain([t[0],t[n-1]])}},truncateByDomain=(e,t)=>{if(!t||t.length!==2||!isNumber(t[0])||!isNumber(t[1]))return e;var n=Math.min(t[0],t[1]),o=Math.max(t[0],t[1]),l=[e[0],e[1]];return(!isNumber(e[0])||e[0]<n)&&(l[0]=n),(!isNumber(e[1])||e[1]>o)&&(l[1]=o),l[0]>o&&(l[0]=o),l[1]<n&&(l[1]=n),l},offsetSign=e=>{var t=e.length;if(!(t<=0))for(var n=0,o=e[0].length;n<o;++n)for(var l=0,u=0,m=0;m<t;++m){var p=isNan(e[m][n][1])?e[m][n][0]:e[m][n][1];p>=0?(e[m][n][0]=l,e[m][n][1]=l+p,l=e[m][n][1]):(e[m][n][0]=u,e[m][n][1]=u+p,u=e[m][n][1])}},offsetPositive=e=>{var t=e.length;if(!(t<=0))for(var n=0,o=e[0].length;n<o;++n)for(var l=0,u=0;u<t;++u){var m=isNan(e[u][n][1])?e[u][n][0]:e[u][n][1];m>=0?(e[u][n][0]=l,e[u][n][1]=l+m,l=e[u][n][1]):(e[u][n][0]=0,e[u][n][1]=0)}},STACK_OFFSET_MAP={sign:offsetSign,expand:stackOffsetExpand,none:stackOffsetNone,silhouette:stackOffsetSilhouette,wiggle:stackOffsetWiggle,positive:offsetPositive},getStackedData=(e,t,n)=>{var o=STACK_OFFSET_MAP[n],l=shapeStack().keys(t).value((u,m)=>+getValueByDataKey(u,m,0)).order(stackOrderNone).offset(o);return l(e)};function getNormalizedStackId(e){return e==null?void 0:String(e)}function getCateCoordinateOfLine(e){var{axis:t,ticks:n,bandSize:o,entry:l,index:u,dataKey:m}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!isNullish(l[t.dataKey])){var p=findEntryInArray(n,"value",l[t.dataKey]);if(p)return p.coordinate+o/2}return n[u]?n[u].coordinate+o/2:null}var j=getValueByDataKey(l,isNullish(m)?t.dataKey:m);return isNullish(j)?null:t.scale(j)}var getCateCoordinateOfBar=e=>{var{axis:t,ticks:n,offset:o,bandSize:l,entry:u,index:m}=e;if(t.type==="category")return n[m]?n[m].coordinate+o:null;var p=getValueByDataKey(u,t.dataKey,t.scale.domain()[m]);return isNullish(p)?null:t.scale(p)-l/2+o},getBaseValueOfBar=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var o=Math.min(n[0],n[1]),l=Math.max(n[0],n[1]);return o<=0&&l>=0?0:l<0?l:o}return n[0]},getDomainOfSingle=e=>{var t=e.flat(2).filter(isNumber);return[Math.min(...t),Math.max(...t)]},makeDomainFinite=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],getDomainOfStackGroups=(e,t,n)=>{if(e!=null)return makeDomainFinite(Object.keys(e).reduce((o,l)=>{var u=e[l],{stackedData:m}=u,p=m.reduce((j,f)=>{var g=getSliced(f,t,n),b=getDomainOfSingle(g);return[Math.min(j[0],b[0]),Math.max(j[1],b[1])]},[1/0,-1/0]);return[Math.min(p[0],o[0]),Math.max(p[1],o[1])]},[1/0,-1/0]))},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,getBandSizeOfAxis=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var o=e.scale.bandwidth();if(!n||o>0)return o}if(e&&t&&t.length>=2){for(var l=sortBy(t,g=>g.coordinate),u=1/0,m=1,p=l.length;m<p;m++){var j=l[m],f=l[m-1];u=Math.min((j.coordinate||0)-(f.coordinate||0),u)}return u===1/0?0:u}return n?void 0:0};function getTooltipEntry(e){var{tooltipEntrySettings:t,dataKey:n,payload:o,value:l,name:u}=e;return _objectSpread$z(_objectSpread$z({},t),{},{dataKey:n,payload:o,value:l,name:u})}function getTooltipNameProp(e,t){if(e)return String(e);if(typeof t=="string")return t}function inRange(e,t,n,o,l){if(n==="horizontal"||n==="vertical"){var u=e>=l.left&&e<=l.left+l.width&&t>=l.top&&t<=l.top+l.height;return u?{x:e,y:t}:null}return o?inRangeOfSector({x:e,y:t},o):null}var getActiveCoordinate=(e,t,n,o)=>{var l=t.find(f=>f&&f.index===n);if(l){if(e==="horizontal")return{x:l.coordinate,y:o.y};if(e==="vertical")return{x:o.x,y:l.coordinate};if(e==="centric"){var u=l.coordinate,{radius:m}=o;return _objectSpread$z(_objectSpread$z(_objectSpread$z({},o),polarToCartesian(o.cx,o.cy,m,u)),{},{angle:u,radius:m})}var p=l.coordinate,{angle:j}=o;return _objectSpread$z(_objectSpread$z(_objectSpread$z({},o),polarToCartesian(o.cx,o.cy,p,j)),{},{angle:j,radius:p})}return{x:0,y:0}},calculateTooltipPos=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,selectChartWidth=e=>e.layout.width,selectChartHeight=e=>e.layout.height,selectContainerScale=e=>e.layout.scale,selectMargin=e=>e.layout.margin,selectAllXAxes=createSelector(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),selectAllYAxes=createSelector(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),DATA_ITEM_INDEX_ATTRIBUTE_NAME="data-recharts-item-index",DATA_ITEM_DATAKEY_ATTRIBUTE_NAME="data-recharts-item-data-key",DEFAULT_Y_AXIS_WIDTH=60;function ownKeys$y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$y(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$y(Object(n),!0).forEach(function(o){_defineProperty$A(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$y(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$A(e,t,n){return(t=_toPropertyKey$A(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$A(e){var t=_toPrimitive$A(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$A(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var selectBrushHeight=e=>e.brush.height;function selectLeftAxesOffset(e){var t=selectAllYAxes(e);return t.reduce((n,o)=>{if(o.orientation==="left"&&!o.mirror&&!o.hide){var l=typeof o.width=="number"?o.width:DEFAULT_Y_AXIS_WIDTH;return n+l}return n},0)}function selectRightAxesOffset(e){var t=selectAllYAxes(e);return t.reduce((n,o)=>{if(o.orientation==="right"&&!o.mirror&&!o.hide){var l=typeof o.width=="number"?o.width:DEFAULT_Y_AXIS_WIDTH;return n+l}return n},0)}function selectTopAxesOffset(e){var t=selectAllXAxes(e);return t.reduce((n,o)=>o.orientation==="top"&&!o.mirror&&!o.hide?n+o.height:n,0)}function selectBottomAxesOffset(e){var t=selectAllXAxes(e);return t.reduce((n,o)=>o.orientation==="bottom"&&!o.mirror&&!o.hide?n+o.height:n,0)}var selectChartOffsetInternal=createSelector([selectChartWidth,selectChartHeight,selectMargin,selectBrushHeight,selectLeftAxesOffset,selectRightAxesOffset,selectTopAxesOffset,selectBottomAxesOffset,selectLegendSettings,selectLegendSize],(e,t,n,o,l,u,m,p,j,f)=>{var g={left:(n.left||0)+l,right:(n.right||0)+u},b={top:(n.top||0)+m,bottom:(n.bottom||0)+p},R=_objectSpread$y(_objectSpread$y({},b),g),v=R.bottom;R.bottom+=o,R=appendOffsetOfLegend(R,j,f);var N=e-R.left-R.right,S=t-R.top-R.bottom;return _objectSpread$y(_objectSpread$y({brushBottom:v},R),{},{width:Math.max(N,0),height:Math.max(S,0)})}),selectChartViewBox=createSelector(selectChartOffsetInternal,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),selectAxisViewBox=createSelector(selectChartWidth,selectChartHeight,(e,t)=>({x:0,y:0,width:e,height:t})),PanoramaContext=reactExports.createContext(null),useIsPanorama=()=>reactExports.useContext(PanoramaContext)!=null,selectBrushSettings=e=>e.brush,selectBrushDimensions=createSelector([selectBrushSettings,selectChartOffsetInternal,selectMargin],(e,t,n)=>({height:e.height,x:isNumber(e.x)?e.x:t.left,y:isNumber(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:isNumber(e.width)?e.width:t.width})),useViewBox=()=>{var e,t=useIsPanorama(),n=useAppSelector(selectChartViewBox),o=useAppSelector(selectBrushDimensions),l=(e=useAppSelector(selectBrushSettings))===null||e===void 0?void 0:e.padding;return!t||!o||!l?n:{width:o.width-l.left-l.right,height:o.height-l.top-l.bottom,x:l.left,y:l.top}},manyComponentsThrowErrorsIfOffsetIsUndefined={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},useOffsetInternal=()=>{var e;return(e=useAppSelector(selectChartOffsetInternal))!==null&&e!==void 0?e:manyComponentsThrowErrorsIfOffsetIsUndefined},useChartWidth=()=>useAppSelector(selectChartWidth),useChartHeight=()=>useAppSelector(selectChartHeight),useMargin=()=>useAppSelector(e=>e.layout.margin),selectChartLayout=e=>e.layout.layoutType,useChartLayout=()=>useAppSelector(selectChartLayout),initialState$9={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},legendSlice=createSlice({name:"legend",initialState:initialState$9,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=current(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize,setLegendSettings,addLegendPayload,removeLegendPayload}=legendSlice.actions,legendReducer=legendSlice.reducer,_excluded$k=["contextPayload"];function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$n.apply(null,arguments)}function ownKeys$x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$x(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$x(Object(n),!0).forEach(function(o){_defineProperty$z(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$x(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$z(e,t,n){return(t=_toPropertyKey$z(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$z(e){var t=_toPrimitive$z(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$z(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _objectWithoutProperties$k(e,t){if(e==null)return{};var n,o,l=_objectWithoutPropertiesLoose$k(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)n=u[o],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function _objectWithoutPropertiesLoose$k(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;n[o]=e[o]}return n}function defaultUniqBy$1(e){return e.value}function LegendContent(e){var{contextPayload:t}=e,n=_objectWithoutProperties$k(e,_excluded$k),o=getUniqPayload(t,e.payloadUniqBy,defaultUniqBy$1),l=_objectSpread$x(_objectSpread$x({},n),{},{payload:o});return reactExports.isValidElement(e.content)?reactExports.cloneElement(e.content,l):typeof e.content=="function"?reactExports.createElement(e.content,l):reactExports.createElement(DefaultLegendContent,l)}function getDefaultPosition(e,t,n,o,l,u){var{layout:m,align:p,verticalAlign:j}=t,f,g;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(p==="center"&&m==="vertical"?f={left:((o||0)-u.width)/2}:f=p==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(j==="middle"?g={top:((l||0)-u.height)/2}:g=j==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),_objectSpread$x(_objectSpread$x({},f),g)}function LegendSettingsDispatcher(e){var t=useAppDispatch();return reactExports.useEffect(()=>{t(setLegendSettings(e))},[t,e]),null}function LegendSizeDispatcher(e){var t=useAppDispatch();return reactExports.useEffect(()=>(t(setLegendSize(e)),()=>{t(setLegendSize({width:0,height:0}))}),[t,e]),null}function LegendWrapper(e){var t=useLegendPayload(),n=useLegendPortal(),o=useMargin(),{width:l,height:u,wrapperStyle:m,portal:p}=e,[j,f]=useElementOffset([t]),g=useChartWidth(),b=useChartHeight();if(g==null||b==null)return null;var R=g-(o.left||0)-(o.right||0),v=Legend.getWidthOrHeight(e.layout,u,l,R),N=p?m:_objectSpread$x(_objectSpread$x({position:"absolute",width:v?.width||l||"auto",height:v?.height||u||"auto"},getDefaultPosition(m,e,o,g,b,j)),m),S=p??n;if(S==null)return null;var $=reactExports.createElement("div",{className:"recharts-legend-wrapper",style:N,ref:f},reactExports.createElement(LegendSettingsDispatcher,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),reactExports.createElement(LegendSizeDispatcher,{width:j.width,height:j.height}),reactExports.createElement(LegendContent,_extends$n({},e,v,{margin:o,chartWidth:g,chartHeight:b,contextPayload:t})));return reactDomExports.createPortal($,S)}class Legend extends reactExports.PureComponent{static getWidthOrHeight(t,n,o,l){return t==="vertical"&&isNumber(n)?{height:n}:t==="horizontal"?{width:o||l}:null}render(){return reactExports.createElement(LegendWrapper,this.props)}}_defineProperty$z(Legend,"displayName","Legend");_defineProperty$z(Legend,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$m.apply(null,arguments)}function ownKeys$w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$w(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$w(Object(n),!0).forEach(function(o){_defineProperty$y(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$w(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$y(e,t,n){return(t=_toPropertyKey$y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$y(e){var t=_toPrimitive$y(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$y(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function defaultFormatter(e){return Array.isArray(e)&&isNumOrStr(e[0])&&isNumOrStr(e[1])?e.join(" ~ "):e}var DefaultTooltipContent=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:o={},labelStyle:l={},payload:u,formatter:m,itemSorter:p,wrapperClassName:j,labelClassName:f,label:g,labelFormatter:b,accessibilityLayer:R=!1}=e,v=()=>{if(u&&u.length){var I={padding:0,margin:0},L=(p?sortBy(u,p):u).map((_,M)=>{if(_.type==="none")return null;var F=_.formatter||m||defaultFormatter,{value:B,name:q}=_,z=B,V=q;if(F){var Q=F(B,q,_,M,u);if(Array.isArray(Q))[z,V]=Q;else if(Q!=null)z=Q;else return null}var ee=_objectSpread$w({display:"block",paddingTop:4,paddingBottom:4,color:_.color||"#000"},o);return reactExports.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:ee},isNumOrStr(V)?reactExports.createElement("span",{className:"recharts-tooltip-item-name"},V):null,isNumOrStr(V)?reactExports.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,reactExports.createElement("span",{className:"recharts-tooltip-item-value"},z),reactExports.createElement("span",{className:"recharts-tooltip-item-unit"},_.unit||""))});return reactExports.createElement("ul",{className:"recharts-tooltip-item-list",style:I},L)}return null},N=_objectSpread$w({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),S=_objectSpread$w({margin:0},l),$=!isNullish(g),C=$?g:"",A=clsx("recharts-default-tooltip",j),T=clsx("recharts-tooltip-label",f);$&&b&&u!==void 0&&u!==null&&(C=b(g,u));var D=R?{role:"status","aria-live":"assertive"}:{};return reactExports.createElement("div",_extends$m({className:A,style:N},D),reactExports.createElement("p",{className:T,style:S},reactExports.isValidElement(C)?C:"".concat(C)),v())},CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName(e){var{coordinate:t,translateX:n,translateY:o}=e;return clsx(CSS_CLASS_PREFIX,{["".concat(CSS_CLASS_PREFIX,"-right")]:isNumber(n)&&t&&isNumber(t.x)&&n>=t.x,["".concat(CSS_CLASS_PREFIX,"-left")]:isNumber(n)&&t&&isNumber(t.x)&&n<t.x,["".concat(CSS_CLASS_PREFIX,"-bottom")]:isNumber(o)&&t&&isNumber(t.y)&&o>=t.y,["".concat(CSS_CLASS_PREFIX,"-top")]:isNumber(o)&&t&&isNumber(t.y)&&o<t.y})}function getTooltipTranslateXY(e){var{allowEscapeViewBox:t,coordinate:n,key:o,offsetTopLeft:l,position:u,reverseDirection:m,tooltipDimension:p,viewBox:j,viewBoxDimension:f}=e;if(u&&isNumber(u[o]))return u[o];var g=n[o]-p-(l>0?l:0),b=n[o]+l;if(t[o])return m[o]?g:b;var R=j[o];if(R==null)return 0;if(m[o]){var v=g,N=R;return v<N?Math.max(b,R):Math.max(g,R)}if(f==null)return 0;var S=b+p,$=R+f;return S>$?Math.max(g,R):Math.max(b,R)}function getTransformStyle(e){var{translateX:t,translateY:n,useTranslate3d:o}=e;return{transform:o?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function getTooltipTranslate(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:o,position:l,reverseDirection:u,tooltipBox:m,useTranslate3d:p,viewBox:j}=e,f,g,b;return m.height>0&&m.width>0&&n?(g=getTooltipTranslateXY({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:o,position:l,reverseDirection:u,tooltipDimension:m.width,viewBox:j,viewBoxDimension:j.width}),b=getTooltipTranslateXY({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:o,position:l,reverseDirection:u,tooltipDimension:m.height,viewBox:j,viewBoxDimension:j.height}),f=getTransformStyle({translateX:g,translateY:b,useTranslate3d:p})):f=TOOLTIP_HIDDEN,{cssProperties:f,cssClasses:getTooltipCSSClassName({translateX:g,translateY:b,coordinate:n})}}function ownKeys$v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$v(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$v(Object(n),!0).forEach(function(o){_defineProperty$x(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$v(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$x(e,t,n){return(t=_toPropertyKey$x(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$x(e){var t=_toPrimitive$x(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$x(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class TooltipBoundingBox extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty$x(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),_defineProperty$x(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,o,l,u;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(o=this.props.coordinate)===null||o===void 0?void 0:o.x)!==null&&n!==void 0?n:0,y:(l=(u=this.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&l!==void 0?l:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:o,animationEasing:l,children:u,coordinate:m,hasPayload:p,isAnimationActive:j,offset:f,position:g,reverseDirection:b,useTranslate3d:R,viewBox:v,wrapperStyle:N,lastBoundingBox:S,innerRef:$,hasPortalFromProps:C}=this.props,{cssClasses:A,cssProperties:T}=getTooltipTranslate({allowEscapeViewBox:n,coordinate:m,offsetTopLeft:f,position:g,reverseDirection:b,tooltipBox:{height:S.height,width:S.width},useTranslate3d:R,viewBox:v}),D=C?{}:_objectSpread$v(_objectSpread$v({transition:j&&t?"transform ".concat(o,"ms ").concat(l):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&p?"visible":"hidden",position:"absolute",top:0,left:0}),I=_objectSpread$v(_objectSpread$v({},D),{},{visibility:!this.state.dismissed&&t&&p?"visible":"hidden"},N);return reactExports.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:A,style:I,ref:$},u)}}var parseIsSsrByDefault=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Global={devToolsEnabled:!1,isSsr:parseIsSsrByDefault()},useAccessibilityLayer=()=>useAppSelector(e=>e.rootProps.accessibilityLayer);function isWellBehavedNumber(e){return Number.isFinite(e)}function isPositiveNumber(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$l.apply(null,arguments)}function ownKeys$u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$u(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$u(Object(n),!0).forEach(function(o){_defineProperty$w(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$u(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$w(e,t,n){return(t=_toPropertyKey$w(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$w(e){var t=_toPrimitive$w(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$w(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CURVE_FACTORIES={curveBasisClosed,curveBasisOpen,curveBasis,curveBumpX:bumpX,curveBumpY:bumpY,curveLinearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},defined=e=>isWellBehavedNumber(e.x)&&isWellBehavedNumber(e.y),getX=e=>e.x,getY=e=>e.y,getCurveFactory=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(upperFirst(e));return(n==="curveMonotone"||n==="curveBump")&&t?CURVE_FACTORIES["".concat(n).concat(t==="vertical"?"Y":"X")]:CURVE_FACTORIES[n]||curveLinear},getPath$1=e=>{var{type:t="linear",points:n=[],baseLine:o,layout:l,connectNulls:u=!1}=e,m=getCurveFactory(t,l),p=u?n.filter(defined):n,j;if(Array.isArray(o)){var f=u?o.filter(b=>defined(b)):o,g=p.map((b,R)=>_objectSpread$u(_objectSpread$u({},b),{},{base:f[R]}));return l==="vertical"?j=shapeArea().y(getY).x1(getX).x0(b=>b.base.x):j=shapeArea().x(getX).y1(getY).y0(b=>b.base.y),j.defined(defined).curve(m),j(g)}return l==="vertical"&&isNumber(o)?j=shapeArea().y(getY).x1(getX).x0(o):isNumber(o)?j=shapeArea().x(getX).y1(getY).y0(o):j=shapeLine().x(getX).y(getY),j.defined(defined).curve(m),j(p)},Curve=e=>{var{className:t,points:n,path:o,pathRef:l}=e;if((!n||!n.length)&&!o)return null;var u=n&&n.length?getPath$1(e):o;return reactExports.createElement("path",_extends$l({},svgPropertiesNoEvents(e),adaptEventHandlers(e),{className:clsx("recharts-curve",t),d:u===null?void 0:u,ref:l}))},_excluded$j=["x","y","top","left","width","height","className"];function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$k.apply(null,arguments)}function ownKeys$t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$t(Object(n),!0).forEach(function(o){_defineProperty$v(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$t(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$v(e,t,n){return(t=_toPropertyKey$v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$v(e){var t=_toPrimitive$v(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$v(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _objectWithoutProperties$j(e,t){if(e==null)return{};var n,o,l=_objectWithoutPropertiesLoose$j(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)n=u[o],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function _objectWithoutPropertiesLoose$j(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;n[o]=e[o]}return n}var getPath=(e,t,n,o,l,u)=>"M".concat(e,",").concat(l,"v").concat(o,"M").concat(u,",").concat(t,"h").concat(n),Cross=e=>{var{x:t=0,y:n=0,top:o=0,left:l=0,width:u=0,height:m=0,className:p}=e,j=_objectWithoutProperties$j(e,_excluded$j),f=_objectSpread$t({x:t,y:n,top:o,left:l,width:u,height:m},j);return!isNumber(t)||!isNumber(n)||!isNumber(u)||!isNumber(m)||!isNumber(o)||!isNumber(l)?null:reactExports.createElement("path",_extends$k({},filterProps(f,!0),{className:clsx("recharts-cross",p),d:getPath(t,n,u,m,o,l)}))};function getCursorRectangle(e,t,n,o){var l=o/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-l:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-l,width:e==="horizontal"?o:n.width-1,height:e==="horizontal"?n.height-1:o}}function ownKeys$s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$s(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$s(Object(n),!0).forEach(function(o){_defineProperty$u(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$s(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$u(e,t,n){return(t=_toPropertyKey$u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$u(e){var t=_toPrimitive$u(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$u(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function resolveDefaultProps(e,t){var n=_objectSpread$s({},e),o=t,l=Object.keys(t),u=l.reduce((m,p)=>(m[p]===void 0&&o[p]!==void 0&&(m[p]=o[p]),m),n);return u}function noop$2(){}function ownKeys$r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$r(Object(n),!0).forEach(function(o){_defineProperty$t(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$r(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$t(e,t,n){return(t=_toPropertyKey$t(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$t(e){var t=_toPrimitive$t(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$t(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var getDashCase=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),getTransitionVal=(e,t,n)=>e.map(o=>"".concat(getDashCase(o)," ").concat(t,"ms ").concat(n)).join(","),getIntersectionKeys=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,o)=>n.filter(l=>o.includes(l))),mapObject=(e,t)=>Object.keys(t).reduce((n,o)=>_objectSpread$r(_objectSpread$r({},n),{},{[o]:e(o,t[o])}),{});function ownKeys$q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$q(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$q(Object(n),!0).forEach(function(o){_defineProperty$s(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$q(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$s(e,t,n){return(t=_toPropertyKey$s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$s(e){var t=_toPrimitive$s(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$s(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var alpha=(e,t,n)=>e+(t-e)*n,needContinue=e=>{var{from:t,to:n}=e;return t!==n},calStepperVals=(e,t,n)=>{var o=mapObject((l,u)=>{if(needContinue(u)){var[m,p]=e(u.from,u.to,u.velocity);return _objectSpread$q(_objectSpread$q({},u),{},{from:m,velocity:p})}return u},t);return n<1?mapObject((l,u)=>needContinue(u)?_objectSpread$q(_objectSpread$q({},u),{},{velocity:alpha(u.velocity,o[l].velocity,n),from:alpha(u.from,o[l].from,n)}):u,t):calStepperVals(e,o,n-1)};function createStepperUpdate(e,t,n,o,l,u){var m,p=o.reduce((R,v)=>_objectSpread$q(_objectSpread$q({},R),{},{[v]:{from:e[v],velocity:0,to:t[v]}}),{}),j=()=>mapObject((R,v)=>v.from,p),f=()=>!Object.values(p).filter(needContinue).length,g=null,b=R=>{m||(m=R);var v=R-m,N=v/n.dt;p=calStepperVals(n,p,N),l(_objectSpread$q(_objectSpread$q(_objectSpread$q({},e),t),j())),m=R,f()||(g=u.setTimeout(b))};return()=>(g=u.setTimeout(b),()=>{g()})}function createTimingUpdate(e,t,n,o,l,u,m){var p=null,j=l.reduce((b,R)=>_objectSpread$q(_objectSpread$q({},b),{},{[R]:[e[R],t[R]]}),{}),f,g=b=>{f||(f=b);var R=(b-f)/o,v=mapObject((S,$)=>alpha(...$,n(R)),j);if(u(_objectSpread$q(_objectSpread$q(_objectSpread$q({},e),t),v)),R<1)p=m.setTimeout(g);else{var N=mapObject((S,$)=>alpha(...$,n(1)),j);u(_objectSpread$q(_objectSpread$q(_objectSpread$q({},e),t),N))}};return()=>(p=m.setTimeout(g),()=>{p()})}const configUpdate=(e,t,n,o,l,u)=>{var m=getIntersectionKeys(e,t);return n.isStepper===!0?createStepperUpdate(e,t,n,m,l,u):createTimingUpdate(e,t,n,o,m,l,u)};var ACCURACY=1e-4,cubicBezierFactor=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],evaluatePolynomial=(e,t)=>e.map((n,o)=>n*t**o).reduce((n,o)=>n+o),cubicBezier=(e,t)=>n=>{var o=cubicBezierFactor(e,t);return evaluatePolynomial(o,n)},derivativeCubicBezier=(e,t)=>n=>{var o=cubicBezierFactor(e,t),l=[...o.map((u,m)=>u*m).slice(1),0];return evaluatePolynomial(l,n)},configBezier=function e(){for(var t,n,o,l,u=arguments.length,m=new Array(u),p=0;p<u;p++)m[p]=arguments[p];if(m.length===1)switch(m[0]){case"linear":[t,o,n,l]=[0,0,1,1];break;case"ease":[t,o,n,l]=[.25,.1,.25,1];break;case"ease-in":[t,o,n,l]=[.42,0,1,1];break;case"ease-out":[t,o,n,l]=[.42,0,.58,1];break;case"ease-in-out":[t,o,n,l]=[0,0,.58,1];break;default:{var j=m[0].split("(");j[0]==="cubic-bezier"&&j[1].split(")")[0].split(",").length===4&&([t,o,n,l]=j[1].split(")")[0].split(",").map(N=>parseFloat(N)))}}else m.length===4&&([t,o,n,l]=m);var f=cubicBezier(t,n),g=cubicBezier(o,l),b=derivativeCubicBezier(t,n),R=N=>N>1?1:N<0?0:N,v=N=>{for(var S=N>1?1:N,$=S,C=0;C<8;++C){var A=f($)-S,T=b($);if(Math.abs(A-S)<ACCURACY||T<ACCURACY)return g($);$=R($-A/T)}return g($)};return v.isStepper=!1,v},configSpring=function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:o=8,dt:l=17}=t,u=(m,p,j)=>{var f=-(m-p)*n,g=j*o,b=j+(f-g)*l/1e3,R=j*l/1e3+m;return Math.abs(R-p)<ACCURACY&&Math.abs(b)<ACCURACY?[p,0]:[R,b]};return u.isStepper=!0,u.dt=l,u},configEasing=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(e);case"spring":return configSpring();default:if(e.split("(")[0]==="cubic-bezier")return configBezier(e)}return typeof e=="function"?e:null};function createAnimateManager(e){var t,n=()=>null,o=!1,l=null,u=m=>{if(!o){if(Array.isArray(m)){if(!m.length)return;var p=m,[j,...f]=p;if(typeof j=="number"){l=e.setTimeout(u.bind(null,f),j);return}u(j),l=e.setTimeout(u.bind(null,f));return}typeof m=="string"&&(t=m,n(t)),typeof m=="object"&&(t=m,n(t)),typeof m=="function"&&m()}};return{stop:()=>{o=!0},start:m=>{o=!1,l&&(l(),l=null),u(m)},subscribe:m=>(n=m,()=>{n=()=>null}),getTimeoutController:()=>e}}class RequestAnimationFrameTimeoutController{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=performance.now(),l=null,u=m=>{m-o>=n?t(m):typeof requestAnimationFrame=="function"&&(l=requestAnimationFrame(u))};return l=requestAnimationFrame(u),()=>{cancelAnimationFrame(l)}}}function createDefaultAnimationManager(){return createAnimateManager(new RequestAnimationFrameTimeoutController)}var AnimationManagerContext=reactExports.createContext(createDefaultAnimationManager);function useAnimationManager(e,t){var n=reactExports.useContext(AnimationManagerContext);return reactExports.useMemo(()=>t??n(e),[e,t,n])}var defaultJavascriptAnimateProps={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},from={t:0},to={t:1};function JavascriptAnimate(e){var t=resolveDefaultProps(e,defaultJavascriptAnimateProps),{isActive:n,canBegin:o,duration:l,easing:u,begin:m,onAnimationEnd:p,onAnimationStart:j,children:f}=t,g=useAnimationManager(t.animationId,t.animationManager),[b,R]=reactExports.useState(n?from:to),v=reactExports.useRef(null);return reactExports.useEffect(()=>{n||R(to)},[n]),reactExports.useEffect(()=>{if(!n||!o)return noop$2;var N=configUpdate(from,to,configEasing(u),l,R,g.getTimeoutController()),S=()=>{v.current=N()};return g.start([j,m,S,l,p]),()=>{g.stop(),v.current&&v.current(),p()}},[n,o,l,u,m,j,p,g]),f(b.t)}function useAnimationId(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=reactExports.useRef(uniqueId(t)),o=reactExports.useRef(e);return o.current!==e&&(n.current=uniqueId(t),o.current=e),n.current}function ownKeys$p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$p(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$p(Object(n),!0).forEach(function(o){_defineProperty$r(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$p(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$r(e,t,n){return(t=_toPropertyKey$r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$r(e){var t=_toPrimitive$r(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$r(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$j.apply(null,arguments)}var getRectanglePath=(e,t,n,o,l)=>{var u=Math.min(Math.abs(n)/2,Math.abs(o)/2),m=o>=0?1:-1,p=n>=0?1:-1,j=o>=0&&n>=0||o<0&&n<0?1:0,f;if(u>0&&l instanceof Array){for(var g=[0,0,0,0],b=0,R=4;b<R;b++)g[b]=l[b]>u?u:l[b];f="M".concat(e,",").concat(t+m*g[0]),g[0]>0&&(f+="A ".concat(g[0],",").concat(g[0],",0,0,").concat(j,",").concat(e+p*g[0],",").concat(t)),f+="L ".concat(e+n-p*g[1],",").concat(t),g[1]>0&&(f+="A ".concat(g[1],",").concat(g[1],",0,0,").concat(j,`,
        `).concat(e+n,",").concat(t+m*g[1])),f+="L ".concat(e+n,",").concat(t+o-m*g[2]),g[2]>0&&(f+="A ".concat(g[2],",").concat(g[2],",0,0,").concat(j,`,
        `).concat(e+n-p*g[2],",").concat(t+o)),f+="L ".concat(e+p*g[3],",").concat(t+o),g[3]>0&&(f+="A ".concat(g[3],",").concat(g[3],",0,0,").concat(j,`,
        `).concat(e,",").concat(t+o-m*g[3])),f+="Z"}else if(u>0&&l===+l&&l>0){var v=Math.min(u,l);f="M ".concat(e,",").concat(t+m*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(j,",").concat(e+p*v,",").concat(t,`
            L `).concat(e+n-p*v,",").concat(t,`
            A `).concat(v,",").concat(v,",0,0,").concat(j,",").concat(e+n,",").concat(t+m*v,`
            L `).concat(e+n,",").concat(t+o-m*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(j,",").concat(e+n-p*v,",").concat(t+o,`
            L `).concat(e+p*v,",").concat(t+o,`
            A `).concat(v,",").concat(v,",0,0,").concat(j,",").concat(e,",").concat(t+o-m*v," Z")}else f="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(o," h ").concat(-n," Z");return f},defaultProps$6={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle=e=>{var t=resolveDefaultProps(e,defaultProps$6),n=reactExports.useRef(null),[o,l]=reactExports.useState(-1);reactExports.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Q=n.current.getTotalLength();Q&&l(Q)}catch{}},[]);var{x:u,y:m,width:p,height:j,radius:f,className:g}=t,{animationEasing:b,animationDuration:R,animationBegin:v,isAnimationActive:N,isUpdateAnimationActive:S}=t,$=reactExports.useRef(p),C=reactExports.useRef(j),A=reactExports.useRef(u),T=reactExports.useRef(m),D=reactExports.useMemo(()=>({x:u,y:m,width:p,height:j,radius:f}),[u,m,p,j,f]),I=useAnimationId(D,"rectangle-");if(u!==+u||m!==+m||p!==+p||j!==+j||p===0||j===0)return null;var L=clsx("recharts-rectangle",g);if(!S)return reactExports.createElement("path",_extends$j({},filterProps(t,!0),{className:L,d:getRectanglePath(u,m,p,j,f)}));var _=$.current,M=C.current,F=A.current,B=T.current,q="0px ".concat(o===-1?1:o,"px"),z="".concat(o,"px 0px"),V=getTransitionVal(["strokeDasharray"],R,typeof b=="string"?b:void 0);return reactExports.createElement(JavascriptAnimate,{animationId:I,key:I,canBegin:o>0,duration:R,easing:b,isActive:S,begin:v},Q=>{var ee=interpolate$1(_,p,Q),G=interpolate$1(M,j,Q),K=interpolate$1(F,u,Q),J=interpolate$1(B,m,Q);n.current&&($.current=ee,C.current=G,A.current=K,T.current=J);var ne;return N?Q>0?ne={transition:V,strokeDasharray:z}:ne={strokeDasharray:q}:ne={strokeDasharray:z},reactExports.createElement("path",_extends$j({},filterProps(t,!0),{className:L,d:getRectanglePath(K,J,ee,G,f),ref:n,style:_objectSpread$p(_objectSpread$p({},ne),t.style)}))})};function getRadialCursorPoints(e){var{cx:t,cy:n,radius:o,startAngle:l,endAngle:u}=e,m=polarToCartesian(t,n,o,l),p=polarToCartesian(t,n,o,u);return{points:[m,p],cx:t,cy:n,radius:o,startAngle:l,endAngle:u}}function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$i.apply(null,arguments)}var getDeltaAngle$1=(e,t)=>{var n=mathSign(t-e),o=Math.min(Math.abs(t-e),359.999);return n*o},getTangentCircle=e=>{var{cx:t,cy:n,radius:o,angle:l,sign:u,isExternal:m,cornerRadius:p,cornerIsExternal:j}=e,f=p*(m?1:-1)+o,g=Math.asin(p/f)/RADIAN,b=j?l:l+u*g,R=polarToCartesian(t,n,f,b),v=polarToCartesian(t,n,o,b),N=j?l-u*g:l,S=polarToCartesian(t,n,f*Math.cos(g*RADIAN),N);return{center:R,circleTangency:v,lineTangency:S,theta:g}},getSectorPath=e=>{var{cx:t,cy:n,innerRadius:o,outerRadius:l,startAngle:u,endAngle:m}=e,p=getDeltaAngle$1(u,m),j=u+p,f=polarToCartesian(t,n,l,u),g=polarToCartesian(t,n,l,j),b="M ".concat(f.x,",").concat(f.y,`
    A `).concat(l,",").concat(l,`,0,
    `).concat(+(Math.abs(p)>180),",").concat(+(u>j),`,
    `).concat(g.x,",").concat(g.y,`
  `);if(o>0){var R=polarToCartesian(t,n,o,u),v=polarToCartesian(t,n,o,j);b+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(o,",").concat(o,`,0,
            `).concat(+(Math.abs(p)>180),",").concat(+(u<=j),`,
            `).concat(R.x,",").concat(R.y," Z")}else b+="L ".concat(t,",").concat(n," Z");return b},getSectorWithCorner=e=>{var{cx:t,cy:n,innerRadius:o,outerRadius:l,cornerRadius:u,forceCornerRadius:m,cornerIsExternal:p,startAngle:j,endAngle:f}=e,g=mathSign(f-j),{circleTangency:b,lineTangency:R,theta:v}=getTangentCircle({cx:t,cy:n,radius:l,angle:j,sign:g,cornerRadius:u,cornerIsExternal:p}),{circleTangency:N,lineTangency:S,theta:$}=getTangentCircle({cx:t,cy:n,radius:l,angle:f,sign:-g,cornerRadius:u,cornerIsExternal:p}),C=p?Math.abs(j-f):Math.abs(j-f)-v-$;if(C<0)return m?"M ".concat(R.x,",").concat(R.y,`
        a`).concat(u,",").concat(u,",0,0,1,").concat(u*2,`,0
        a`).concat(u,",").concat(u,",0,0,1,").concat(-u*2,`,0
      `):getSectorPath({cx:t,cy:n,innerRadius:o,outerRadius:l,startAngle:j,endAngle:f});var A="M ".concat(R.x,",").concat(R.y,`
    A`).concat(u,",").concat(u,",0,0,").concat(+(g<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(l,",").concat(l,",0,").concat(+(C>180),",").concat(+(g<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(u,",").concat(u,",0,0,").concat(+(g<0),",").concat(S.x,",").concat(S.y,`
  `);if(o>0){var{circleTangency:T,lineTangency:D,theta:I}=getTangentCircle({cx:t,cy:n,radius:o,angle:j,sign:g,isExternal:!0,cornerRadius:u,cornerIsExternal:p}),{circleTangency:L,lineTangency:_,theta:M}=getTangentCircle({cx:t,cy:n,radius:o,angle:f,sign:-g,isExternal:!0,cornerRadius:u,cornerIsExternal:p}),F=p?Math.abs(j-f):Math.abs(j-f)-I-M;if(F<0&&u===0)return"".concat(A,"L").concat(t,",").concat(n,"Z");A+="L".concat(_.x,",").concat(_.y,`
      A`).concat(u,",").concat(u,",0,0,").concat(+(g<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(o,",").concat(o,",0,").concat(+(F>180),",").concat(+(g>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(u,",").concat(u,",0,0,").concat(+(g<0),",").concat(D.x,",").concat(D.y,"Z")}else A+="L".concat(t,",").concat(n,"Z");return A},defaultProps$5={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=e=>{var t=resolveDefaultProps(e,defaultProps$5),{cx:n,cy:o,innerRadius:l,outerRadius:u,cornerRadius:m,forceCornerRadius:p,cornerIsExternal:j,startAngle:f,endAngle:g,className:b}=t;if(u<l||f===g)return null;var R=clsx("recharts-sector",b),v=u-l,N=getPercentValue(m,v,0,!0),S;return N>0&&Math.abs(f-g)<360?S=getSectorWithCorner({cx:n,cy:o,innerRadius:l,outerRadius:u,cornerRadius:Math.min(N,v/2),forceCornerRadius:p,cornerIsExternal:j,startAngle:f,endAngle:g}):S=getSectorPath({cx:n,cy:o,innerRadius:l,outerRadius:u,startAngle:f,endAngle:g}),reactExports.createElement("path",_extends$i({},filterProps(t,!0),{className:R,d:S}))};function getCursorPoints(e,t,n){var o,l,u,m;if(e==="horizontal")o=t.x,u=o,l=n.top,m=n.top+n.height;else if(e==="vertical")l=t.y,m=l,o=n.left,u=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:p,cy:j,innerRadius:f,outerRadius:g,angle:b}=t,R=polarToCartesian(p,j,f,b),v=polarToCartesian(p,j,g,b);o=R.x,l=R.y,u=v.x,m=v.y}else return getRadialCursorPoints(t);return[{x:o,y:l},{x:u,y:m}]}var range$4={},toFinite={},toNumber={},hasRequiredToNumber;function requireToNumber(){return hasRequiredToNumber||(hasRequiredToNumber=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIsSymbol();function n(o){return t.isSymbol(o)?NaN:Number(o)}e.toNumber=n})(toNumber)),toNumber}var hasRequiredToFinite;function requireToFinite(){return hasRequiredToFinite||(hasRequiredToFinite=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireToNumber();function n(o){return o?(o=t.toNumber(o),o===1/0||o===-1/0?(o<0?-1:1)*Number.MAX_VALUE:o===o?o:0):o===0?o:0}e.toFinite=n})(toFinite)),toFinite}var hasRequiredRange$1;function requireRange$1(){return hasRequiredRange$1||(hasRequiredRange$1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIsIterateeCall(),n=requireToFinite();function o(l,u,m){m&&typeof m!="number"&&t.isIterateeCall(l,u,m)&&(u=m=void 0),l=n.toFinite(l),u===void 0?(u=l,l=0):u=n.toFinite(u),m=m===void 0?l<u?1:-1:n.toFinite(m);const p=Math.max(Math.ceil((u-l)/(m||1)),0),j=new Array(p);for(let f=0;f<p;f++)j[f]=l,l+=m;return j}e.range=o})(range$4)),range$4}var range$3,hasRequiredRange;function requireRange(){return hasRequiredRange||(hasRequiredRange=1,range$3=requireRange$1().range),range$3}var rangeExports=requireRange();const range$2=getDefaultExportFromCjs(rangeExports);function ascending(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function descending(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bisector(e){let t,n,o;e.length!==2?(t=ascending,n=(p,j)=>ascending(e(p),j),o=(p,j)=>e(p)-j):(t=e===ascending||e===descending?e:zero$1,n=e,o=e);function l(p,j,f=0,g=p.length){if(f<g){if(t(j,j)!==0)return g;do{const b=f+g>>>1;n(p[b],j)<0?f=b+1:g=b}while(f<g)}return f}function u(p,j,f=0,g=p.length){if(f<g){if(t(j,j)!==0)return g;do{const b=f+g>>>1;n(p[b],j)<=0?f=b+1:g=b}while(f<g)}return f}function m(p,j,f=0,g=p.length){const b=l(p,j,f,g-1);return b>f&&o(p[b-1],j)>-o(p[b],j)?b-1:b}return{left:l,center:m,right:u}}function zero$1(){return 0}function number$2(e){return e===null?NaN:+e}function*numbers(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$2).center;class InternMap extends Map{constructor(t,n=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[o,l]of t)this.set(o,l)}get(t){return super.get(intern_get(this,t))}has(t){return super.has(intern_get(this,t))}set(t,n){return super.set(intern_set(this,t),n)}delete(t){return super.delete(intern_delete(this,t))}}function intern_get({_intern:e,_key:t},n){const o=t(n);return e.has(o)?e.get(o):n}function intern_set({_intern:e,_key:t},n){const o=t(n);return e.has(o)?e.get(o):(e.set(o,n),n)}function intern_delete({_intern:e,_key:t},n){const o=t(n);return e.has(o)&&(n=e.get(o),e.delete(o)),n}function keyof(e){return e!==null&&typeof e=="object"?e.valueOf():e}function compareDefined(e=ascending){if(e===ascending)return ascendingDefined;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const o=e(t,n);return o||o===0?o:(e(n,n)===0)-(e(t,t)===0)}}function ascendingDefined(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(e,t,n){const o=(t-e)/Math.max(0,n),l=Math.floor(Math.log10(o)),u=o/Math.pow(10,l),m=u>=e10?10:u>=e5?5:u>=e2?2:1;let p,j,f;return l<0?(f=Math.pow(10,-l)/m,p=Math.round(e*f),j=Math.round(t*f),p/f<e&&++p,j/f>t&&--j,f=-f):(f=Math.pow(10,l)*m,p=Math.round(e/f),j=Math.round(t/f),p*f<e&&++p,j*f>t&&--j),j<p&&.5<=n&&n<2?tickSpec(e,t,n*2):[p,j,f]}function ticks(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const o=t<e,[l,u,m]=o?tickSpec(t,e,n):tickSpec(e,t,n);if(!(u>=l))return[];const p=u-l+1,j=new Array(p);if(o)if(m<0)for(let f=0;f<p;++f)j[f]=(u-f)/-m;else for(let f=0;f<p;++f)j[f]=(u-f)*m;else if(m<0)for(let f=0;f<p;++f)j[f]=(l+f)/-m;else for(let f=0;f<p;++f)j[f]=(l+f)*m;return j}function tickIncrement(e,t,n){return t=+t,e=+e,n=+n,tickSpec(e,t,n)[2]}function tickStep(e,t,n){t=+t,e=+e,n=+n;const o=t<e,l=o?tickIncrement(t,e,n):tickIncrement(e,t,n);return(o?-1:1)*(l<0?1/-l:l)}function max(e,t){let n;for(const o of e)o!=null&&(n<o||n===void 0&&o>=o)&&(n=o);return n}function min(e,t){let n;for(const o of e)o!=null&&(n>o||n===void 0&&o>=o)&&(n=o);return n}function quickselect(e,t,n=0,o=1/0,l){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),o=Math.floor(Math.min(e.length-1,o)),!(n<=t&&t<=o))return e;for(l=l===void 0?ascendingDefined:compareDefined(l);o>n;){if(o-n>600){const j=o-n+1,f=t-n+1,g=Math.log(j),b=.5*Math.exp(2*g/3),R=.5*Math.sqrt(g*b*(j-b)/j)*(f-j/2<0?-1:1),v=Math.max(n,Math.floor(t-f*b/j+R)),N=Math.min(o,Math.floor(t+(j-f)*b/j+R));quickselect(e,t,v,N,l)}const u=e[t];let m=n,p=o;for(swap(e,n,t),l(e[o],u)>0&&swap(e,n,o);m<p;){for(swap(e,m,p),++m,--p;l(e[m],u)<0;)++m;for(;l(e[p],u)>0;)--p}l(e[n],u)===0?swap(e,n,p):(++p,swap(e,p,o)),p<=t&&(n=p+1),t<=p&&(o=p-1)}return e}function swap(e,t,n){const o=e[t];e[t]=e[n],e[n]=o}function quantile$1(e,t,n){if(e=Float64Array.from(numbers(e)),!(!(o=e.length)||isNaN(t=+t))){if(t<=0||o<2)return min(e);if(t>=1)return max(e);var o,l=(o-1)*t,u=Math.floor(l),m=max(quickselect(e,u).subarray(0,u+1)),p=min(e.subarray(u+1));return m+(p-m)*(l-u)}}function quantileSorted(e,t,n=number$2){if(!(!(o=e.length)||isNaN(t=+t))){if(t<=0||o<2)return+n(e[0],0,e);if(t>=1)return+n(e[o-1],o-1,e);var o,l=(o-1)*t,u=Math.floor(l),m=+n(e[u],u,e),p=+n(e[u+1],u+1,e);return m+(p-m)*(l-u)}}function range$1(e,t,n){e=+e,t=+t,n=(l=arguments.length)<2?(t=e,e=0,1):l<3?1:+n;for(var o=-1,l=Math.max(0,Math.ceil((t-e)/n))|0,u=new Array(l);++o<l;)u[o]=e+o*n;return u}function initRange(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function initInterpolator(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const implicit=Symbol("implicit");function ordinal(){var e=new InternMap,t=[],n=[],o=implicit;function l(u){let m=e.get(u);if(m===void 0){if(o!==implicit)return o;e.set(u,m=t.push(u)-1)}return n[m%n.length]}return l.domain=function(u){if(!arguments.length)return t.slice();t=[],e=new InternMap;for(const m of u)e.has(m)||e.set(m,t.push(m)-1);return l},l.range=function(u){return arguments.length?(n=Array.from(u),l):n.slice()},l.unknown=function(u){return arguments.length?(o=u,l):o},l.copy=function(){return ordinal(t,n).unknown(o)},initRange.apply(l,arguments),l}function band(){var e=ordinal().unknown(void 0),t=e.domain,n=e.range,o=0,l=1,u,m,p=!1,j=0,f=0,g=.5;delete e.unknown;function b(){var R=t().length,v=l<o,N=v?l:o,S=v?o:l;u=(S-N)/Math.max(1,R-j+f*2),p&&(u=Math.floor(u)),N+=(S-N-u*(R-j))*g,m=u*(1-j),p&&(N=Math.round(N),m=Math.round(m));var $=range$1(R).map(function(C){return N+u*C});return n(v?$.reverse():$)}return e.domain=function(R){return arguments.length?(t(R),b()):t()},e.range=function(R){return arguments.length?([o,l]=R,o=+o,l=+l,b()):[o,l]},e.rangeRound=function(R){return[o,l]=R,o=+o,l=+l,p=!0,b()},e.bandwidth=function(){return m},e.step=function(){return u},e.round=function(R){return arguments.length?(p=!!R,b()):p},e.padding=function(R){return arguments.length?(j=Math.min(1,f=+R),b()):j},e.paddingInner=function(R){return arguments.length?(j=Math.min(1,R),b()):j},e.paddingOuter=function(R){return arguments.length?(f=+R,b()):f},e.align=function(R){return arguments.length?(g=Math.max(0,Math.min(1,R)),b()):g},e.copy=function(){return band(t(),[o,l]).round(p).paddingInner(j).paddingOuter(f).align(g)},initRange.apply(b(),arguments)}function pointish(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return pointish(t())},e}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function define(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function extend(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=reHex.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?rgbn(t):n===3?new Rgb(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?rgba(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?rgba(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=reRgbInteger.exec(e))?new Rgb(t[1],t[2],t[3],1):(t=reRgbPercent.exec(e))?new Rgb(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=reRgbaInteger.exec(e))?rgba(t[1],t[2],t[3],t[4]):(t=reRgbaPercent.exec(e))?rgba(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=reHslPercent.exec(e))?hsla(t[1],t[2]/100,t[3]/100,1):(t=reHslaPercent.exec(e))?hsla(t[1],t[2]/100,t[3]/100,t[4]):named.hasOwnProperty(e)?rgbn(named[e]):e==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(e){return new Rgb(e>>16&255,e>>8&255,e&255,1)}function rgba(e,t,n,o){return o<=0&&(e=t=n=NaN),new Rgb(e,t,n,o)}function rgbConvert(e){return e instanceof Color||(e=color(e)),e?(e=e.rgb(),new Rgb(e.r,e.g,e.b,e.opacity)):new Rgb}function rgb$1(e,t,n,o){return arguments.length===1?rgbConvert(e):new Rgb(e,t,n,o??1)}function Rgb(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}define(Rgb,rgb$1,extend(Color,{brighter(e){return e=e==null?brighter:Math.pow(brighter,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?darker:Math.pow(darker,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const e=clampa(this.opacity);return`${e===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${e===1?")":`, ${e})`}`}function clampa(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function clampi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function hex(e){return e=clampi(e),(e<16?"0":"")+e.toString(16)}function hsla(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Hsl(e,t,n,o)}function hslConvert(e){if(e instanceof Hsl)return new Hsl(e.h,e.s,e.l,e.opacity);if(e instanceof Color||(e=color(e)),!e)return new Hsl;if(e instanceof Hsl)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,l=Math.min(t,n,o),u=Math.max(t,n,o),m=NaN,p=u-l,j=(u+l)/2;return p?(t===u?m=(n-o)/p+(n<o)*6:n===u?m=(o-t)/p+2:m=(t-n)/p+4,p/=j<.5?u+l:2-u-l,m*=60):p=j>0&&j<1?0:m,new Hsl(m,p,j,e.opacity)}function hsl(e,t,n,o){return arguments.length===1?hslConvert(e):new Hsl(e,t,n,o??1)}function Hsl(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}define(Hsl,hsl,extend(Color,{brighter(e){return e=e==null?brighter:Math.pow(brighter,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?darker:Math.pow(darker,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,l=2*n-o;return new Rgb(hsl2rgb(e>=240?e-240:e+120,l,o),hsl2rgb(e,l,o),hsl2rgb(e<120?e+240:e-120,l,o),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=clampa(this.opacity);return`${e===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function clamph(e){return e=(e||0)%360,e<0?e+360:e}function clampt(e){return Math.max(0,Math.min(1,e||0))}function hsl2rgb(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const constant=e=>()=>e;function linear$1(e,t){return function(n){return e+n*t}}function exponential(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function gamma(e){return(e=+e)==1?nogamma:function(t,n){return n-t?exponential(t,n,e):constant(isNaN(t)?n:t)}}function nogamma(e,t){var n=t-e;return n?linear$1(e,n):constant(isNaN(e)?t:e)}const rgb=(function e(t){var n=gamma(t);function o(l,u){var m=n((l=rgb$1(l)).r,(u=rgb$1(u)).r),p=n(l.g,u.g),j=n(l.b,u.b),f=nogamma(l.opacity,u.opacity);return function(g){return l.r=m(g),l.g=p(g),l.b=j(g),l.opacity=f(g),l+""}}return o.gamma=e,o})(1);function numberArray(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,o=t.slice(),l;return function(u){for(l=0;l<n;++l)o[l]=e[l]*(1-u)+t[l]*u;return o}}function isNumberArray(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function genericArray(e,t){var n=t?t.length:0,o=e?Math.min(n,e.length):0,l=new Array(o),u=new Array(n),m;for(m=0;m<o;++m)l[m]=interpolate(e[m],t[m]);for(;m<n;++m)u[m]=t[m];return function(p){for(m=0;m<o;++m)u[m]=l[m](p);return u}}function date$1(e,t){var n=new Date;return e=+e,t=+t,function(o){return n.setTime(e*(1-o)+t*o),n}}function interpolateNumber(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function object(e,t){var n={},o={},l;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(l in t)l in e?n[l]=interpolate(e[l],t[l]):o[l]=t[l];return function(u){for(l in n)o[l]=n[l](u);return o}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(e){return function(){return e}}function one(e){return function(t){return e(t)+""}}function string(e,t){var n=reA.lastIndex=reB.lastIndex=0,o,l,u,m=-1,p=[],j=[];for(e=e+"",t=t+"";(o=reA.exec(e))&&(l=reB.exec(t));)(u=l.index)>n&&(u=t.slice(n,u),p[m]?p[m]+=u:p[++m]=u),(o=o[0])===(l=l[0])?p[m]?p[m]+=l:p[++m]=l:(p[++m]=null,j.push({i:m,x:interpolateNumber(o,l)})),n=reB.lastIndex;return n<t.length&&(u=t.slice(n),p[m]?p[m]+=u:p[++m]=u),p.length<2?j[0]?one(j[0].x):zero(t):(t=j.length,function(f){for(var g=0,b;g<t;++g)p[(b=j[g]).i]=b.x(f);return p.join("")})}function interpolate(e,t){var n=typeof t,o;return t==null||n==="boolean"?constant(t):(n==="number"?interpolateNumber:n==="string"?(o=color(t))?(t=o,rgb):string:t instanceof color?rgb:t instanceof Date?date$1:isNumberArray(t)?numberArray:Array.isArray(t)?genericArray:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?object:interpolateNumber)(e,t)}function interpolateRound(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function piecewise(e,t){t===void 0&&(t=e,e=interpolate);for(var n=0,o=t.length-1,l=t[0],u=new Array(o<0?0:o);n<o;)u[n]=e(l,l=t[++n]);return function(m){var p=Math.max(0,Math.min(o-1,Math.floor(m*=o)));return u[p](m-p)}}function constants(e){return function(){return e}}function number$1(e){return+e}var unit=[0,1];function identity$3(e){return e}function normalize(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:constants(isNaN(t)?NaN:.5)}function clamper(e,t){var n;return e>t&&(n=e,e=t,t=n),function(o){return Math.max(e,Math.min(t,o))}}function bimap(e,t,n){var o=e[0],l=e[1],u=t[0],m=t[1];return l<o?(o=normalize(l,o),u=n(m,u)):(o=normalize(o,l),u=n(u,m)),function(p){return u(o(p))}}function polymap(e,t,n){var o=Math.min(e.length,t.length)-1,l=new Array(o),u=new Array(o),m=-1;for(e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++m<o;)l[m]=normalize(e[m],e[m+1]),u[m]=n(t[m],t[m+1]);return function(p){var j=bisectRight(e,p,1,o)-1;return u[j](l[j](p))}}function copy$1(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function transformer$2(){var e=unit,t=unit,n=interpolate,o,l,u,m=identity$3,p,j,f;function g(){var R=Math.min(e.length,t.length);return m!==identity$3&&(m=clamper(e[0],e[R-1])),p=R>2?polymap:bimap,j=f=null,b}function b(R){return R==null||isNaN(R=+R)?u:(j||(j=p(e.map(o),t,n)))(o(m(R)))}return b.invert=function(R){return m(l((f||(f=p(t,e.map(o),interpolateNumber)))(R)))},b.domain=function(R){return arguments.length?(e=Array.from(R,number$1),g()):e.slice()},b.range=function(R){return arguments.length?(t=Array.from(R),g()):t.slice()},b.rangeRound=function(R){return t=Array.from(R),n=interpolateRound,g()},b.clamp=function(R){return arguments.length?(m=R?!0:identity$3,g()):m!==identity$3},b.interpolate=function(R){return arguments.length?(n=R,g()):n},b.unknown=function(R){return arguments.length?(u=R,b):u},function(R,v){return o=R,l=v,g()}}function continuous(){return transformer$2()(identity$3,identity$3)}function formatDecimal(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function formatDecimalParts(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,o=e.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+e.slice(n+1)]}function exponent(e){return e=formatDecimalParts(Math.abs(e)),e?e[1]:NaN}function formatGroup(e,t){return function(n,o){for(var l=n.length,u=[],m=0,p=e[0],j=0;l>0&&p>0&&(j+p+1>o&&(p=Math.max(1,o-j)),u.push(n.substring(l-=p,l+p)),!((j+=p+1)>o));)p=e[m=(m+1)%e.length];return u.reverse().join(t)}}function formatNumerals(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(e){if(!(t=re.exec(e)))throw new Error("invalid format: "+e);var t;return new FormatSpecifier({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(e){e:for(var t=e.length,n=1,o=-1,l;n<t;++n)switch(e[n]){case".":o=l=n;break;case"0":o===0&&(o=n),l=n;break;default:if(!+e[n])break e;o>0&&(o=0);break}return o>0?e.slice(0,o)+e.slice(l+1):e}var prefixExponent;function formatPrefixAuto(e,t){var n=formatDecimalParts(e,t);if(!n)return e+"";var o=n[0],l=n[1],u=l-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(l/3)))*3)+1,m=o.length;return u===m?o:u>m?o+new Array(u-m+1).join("0"):u>0?o.slice(0,u)+"."+o.slice(u):"0."+new Array(1-u).join("0")+formatDecimalParts(e,Math.max(0,t+u-1))[0]}function formatRounded(e,t){var n=formatDecimalParts(e,t);if(!n)return e+"";var o=n[0],l=n[1];return l<0?"0."+new Array(-l).join("0")+o:o.length>l+1?o.slice(0,l+1)+"."+o.slice(l+1):o+new Array(l-o.length+2).join("0")}const formatTypes={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:formatDecimal,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>formatRounded(e*100,t),r:formatRounded,s:formatPrefixAuto,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function identity$2(e){return e}var map$1=Array.prototype.map,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(e){var t=e.grouping===void 0||e.thousands===void 0?identity$2:formatGroup(map$1.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",o=e.currency===void 0?"":e.currency[1]+"",l=e.decimal===void 0?".":e.decimal+"",u=e.numerals===void 0?identity$2:formatNumerals(map$1.call(e.numerals,String)),m=e.percent===void 0?"%":e.percent+"",p=e.minus===void 0?"":e.minus+"",j=e.nan===void 0?"NaN":e.nan+"";function f(b){b=formatSpecifier(b);var R=b.fill,v=b.align,N=b.sign,S=b.symbol,$=b.zero,C=b.width,A=b.comma,T=b.precision,D=b.trim,I=b.type;I==="n"?(A=!0,I="g"):formatTypes[I]||(T===void 0&&(T=12),D=!0,I="g"),($||R==="0"&&v==="=")&&($=!0,R="0",v="=");var L=S==="$"?n:S==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",_=S==="$"?o:/[%p]/.test(I)?m:"",M=formatTypes[I],F=/[defgprs%]/.test(I);T=T===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function B(q){var z=L,V=_,Q,ee,G;if(I==="c")V=M(q)+V,q="";else{q=+q;var K=q<0||1/q<0;if(q=isNaN(q)?j:M(Math.abs(q),T),D&&(q=formatTrim(q)),K&&+q==0&&N!=="+"&&(K=!1),z=(K?N==="("?N:p:N==="-"||N==="("?"":N)+z,V=(I==="s"?prefixes[8+prefixExponent/3]:"")+V+(K&&N==="("?")":""),F){for(Q=-1,ee=q.length;++Q<ee;)if(G=q.charCodeAt(Q),48>G||G>57){V=(G===46?l+q.slice(Q+1):q.slice(Q))+V,q=q.slice(0,Q);break}}}A&&!$&&(q=t(q,1/0));var J=z.length+q.length+V.length,ne=J<C?new Array(C-J+1).join(R):"";switch(A&&$&&(q=t(ne+q,ne.length?C-V.length:1/0),ne=""),v){case"<":q=z+q+V+ne;break;case"=":q=z+ne+q+V;break;case"^":q=ne.slice(0,J=ne.length>>1)+z+q+V+ne.slice(J);break;default:q=ne+z+q+V;break}return u(q)}return B.toString=function(){return b+""},B}function g(b,R){var v=f((b=formatSpecifier(b),b.type="f",b)),N=Math.max(-8,Math.min(8,Math.floor(exponent(R)/3)))*3,S=Math.pow(10,-N),$=prefixes[8+N/3];return function(C){return v(S*C)+$}}return{format:f,formatPrefix:g}}var locale$1,format,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(e){return locale$1=formatLocale$1(e),format=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(e){return Math.max(0,-exponent(Math.abs(e)))}function precisionPrefix(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(t)/3)))*3-exponent(Math.abs(e)))}function precisionRound(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,exponent(t)-exponent(e))+1}function tickFormat(e,t,n,o){var l=tickStep(e,t,n),u;switch(o=formatSpecifier(o??",f"),o.type){case"s":{var m=Math.max(Math.abs(e),Math.abs(t));return o.precision==null&&!isNaN(u=precisionPrefix(l,m))&&(o.precision=u),formatPrefix(o,m)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(u=precisionRound(l,Math.max(Math.abs(e),Math.abs(t))))&&(o.precision=u-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(u=precisionFixed(l))&&(o.precision=u-(o.type==="%")*2);break}}return format(o)}function linearish(e){var t=e.domain;return e.ticks=function(n){var o=t();return ticks(o[0],o[o.length-1],n??10)},e.tickFormat=function(n,o){var l=t();return tickFormat(l[0],l[l.length-1],n??10,o)},e.nice=function(n){n==null&&(n=10);var o=t(),l=0,u=o.length-1,m=o[l],p=o[u],j,f,g=10;for(p<m&&(f=m,m=p,p=f,f=l,l=u,u=f);g-- >0;){if(f=tickIncrement(m,p,n),f===j)return o[l]=m,o[u]=p,t(o);if(f>0)m=Math.floor(m/f)*f,p=Math.ceil(p/f)*f;else if(f<0)m=Math.ceil(m*f)/f,p=Math.floor(p*f)/f;else break;j=f}return e},e}function linear(){var e=continuous();return e.copy=function(){return copy$1(e,linear())},initRange.apply(e,arguments),linearish(e)}function identity$1(e){var t;function n(o){return o==null||isNaN(o=+o)?t:o}return n.invert=n,n.domain=n.range=function(o){return arguments.length?(e=Array.from(o,number$1),n):e.slice()},n.unknown=function(o){return arguments.length?(t=o,n):t},n.copy=function(){return identity$1(e).unknown(t)},e=arguments.length?Array.from(e,number$1):[0,1],linearish(n)}function nice(e,t){e=e.slice();var n=0,o=e.length-1,l=e[n],u=e[o],m;return u<l&&(m=n,n=o,o=m,m=l,l=u,u=m),e[n]=t.floor(l),e[o]=t.ceil(u),e}function transformLog(e){return Math.log(e)}function transformExp(e){return Math.exp(e)}function transformLogn(e){return-Math.log(-e)}function transformExpn(e){return-Math.exp(-e)}function pow10(e){return isFinite(e)?+("1e"+e):e<0?0:e}function powp(e){return e===10?pow10:e===Math.E?Math.exp:t=>Math.pow(e,t)}function logp(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function reflect(e){return(t,n)=>-e(-t,n)}function loggish(e){const t=e(transformLog,transformExp),n=t.domain;let o=10,l,u;function m(){return l=logp(o),u=powp(o),n()[0]<0?(l=reflect(l),u=reflect(u),e(transformLogn,transformExpn)):e(transformLog,transformExp),t}return t.base=function(p){return arguments.length?(o=+p,m()):o},t.domain=function(p){return arguments.length?(n(p),m()):n()},t.ticks=p=>{const j=n();let f=j[0],g=j[j.length-1];const b=g<f;b&&([f,g]=[g,f]);let R=l(f),v=l(g),N,S;const $=p==null?10:+p;let C=[];if(!(o%1)&&v-R<$){if(R=Math.floor(R),v=Math.ceil(v),f>0){for(;R<=v;++R)for(N=1;N<o;++N)if(S=R<0?N/u(-R):N*u(R),!(S<f)){if(S>g)break;C.push(S)}}else for(;R<=v;++R)for(N=o-1;N>=1;--N)if(S=R>0?N/u(-R):N*u(R),!(S<f)){if(S>g)break;C.push(S)}C.length*2<$&&(C=ticks(f,g,$))}else C=ticks(R,v,Math.min(v-R,$)).map(u);return b?C.reverse():C},t.tickFormat=(p,j)=>{if(p==null&&(p=10),j==null&&(j=o===10?"s":","),typeof j!="function"&&(!(o%1)&&(j=formatSpecifier(j)).precision==null&&(j.trim=!0),j=format(j)),p===1/0)return j;const f=Math.max(1,o*p/t.ticks().length);return g=>{let b=g/u(Math.round(l(g)));return b*o<o-.5&&(b*=o),b<=f?j(g):""}},t.nice=()=>n(nice(n(),{floor:p=>u(Math.floor(l(p))),ceil:p=>u(Math.ceil(l(p)))})),t}function log(){const e=loggish(transformer$2()).domain([1,10]);return e.copy=()=>copy$1(e,log()).base(e.base()),initRange.apply(e,arguments),e}function transformSymlog(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function transformSymexp(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function symlogish(e){var t=1,n=e(transformSymlog(t),transformSymexp(t));return n.constant=function(o){return arguments.length?e(transformSymlog(t=+o),transformSymexp(t)):t},linearish(n)}function symlog(){var e=symlogish(transformer$2());return e.copy=function(){return copy$1(e,symlog()).constant(e.constant())},initRange.apply(e,arguments)}function transformPow(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function transformSqrt(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function transformSquare(e){return e<0?-e*e:e*e}function powish(e){var t=e(identity$3,identity$3),n=1;function o(){return n===1?e(identity$3,identity$3):n===.5?e(transformSqrt,transformSquare):e(transformPow(n),transformPow(1/n))}return t.exponent=function(l){return arguments.length?(n=+l,o()):n},linearish(t)}function pow(){var e=powish(transformer$2());return e.copy=function(){return copy$1(e,pow()).exponent(e.exponent())},initRange.apply(e,arguments),e}function sqrt(){return pow.apply(null,arguments).exponent(.5)}function square(e){return Math.sign(e)*e*e}function unsquare(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function radial(){var e=continuous(),t=[0,1],n=!1,o;function l(u){var m=unsquare(e(u));return isNaN(m)?o:n?Math.round(m):m}return l.invert=function(u){return e.invert(square(u))},l.domain=function(u){return arguments.length?(e.domain(u),l):e.domain()},l.range=function(u){return arguments.length?(e.range((t=Array.from(u,number$1)).map(square)),l):t.slice()},l.rangeRound=function(u){return l.range(u).round(!0)},l.round=function(u){return arguments.length?(n=!!u,l):n},l.clamp=function(u){return arguments.length?(e.clamp(u),l):e.clamp()},l.unknown=function(u){return arguments.length?(o=u,l):o},l.copy=function(){return radial(e.domain(),t).round(n).clamp(e.clamp()).unknown(o)},initRange.apply(l,arguments),linearish(l)}function quantile(){var e=[],t=[],n=[],o;function l(){var m=0,p=Math.max(1,t.length);for(n=new Array(p-1);++m<p;)n[m-1]=quantileSorted(e,m/p);return u}function u(m){return m==null||isNaN(m=+m)?o:t[bisectRight(n,m)]}return u.invertExtent=function(m){var p=t.indexOf(m);return p<0?[NaN,NaN]:[p>0?n[p-1]:e[0],p<n.length?n[p]:e[e.length-1]]},u.domain=function(m){if(!arguments.length)return e.slice();e=[];for(let p of m)p!=null&&!isNaN(p=+p)&&e.push(p);return e.sort(ascending),l()},u.range=function(m){return arguments.length?(t=Array.from(m),l()):t.slice()},u.unknown=function(m){return arguments.length?(o=m,u):o},u.quantiles=function(){return n.slice()},u.copy=function(){return quantile().domain(e).range(t).unknown(o)},initRange.apply(u,arguments)}function quantize(){var e=0,t=1,n=1,o=[.5],l=[0,1],u;function m(j){return j!=null&&j<=j?l[bisectRight(o,j,0,n)]:u}function p(){var j=-1;for(o=new Array(n);++j<n;)o[j]=((j+1)*t-(j-n)*e)/(n+1);return m}return m.domain=function(j){return arguments.length?([e,t]=j,e=+e,t=+t,p()):[e,t]},m.range=function(j){return arguments.length?(n=(l=Array.from(j)).length-1,p()):l.slice()},m.invertExtent=function(j){var f=l.indexOf(j);return f<0?[NaN,NaN]:f<1?[e,o[0]]:f>=n?[o[n-1],t]:[o[f-1],o[f]]},m.unknown=function(j){return arguments.length&&(u=j),m},m.thresholds=function(){return o.slice()},m.copy=function(){return quantize().domain([e,t]).range(l).unknown(u)},initRange.apply(linearish(m),arguments)}function threshold(){var e=[.5],t=[0,1],n,o=1;function l(u){return u!=null&&u<=u?t[bisectRight(e,u,0,o)]:n}return l.domain=function(u){return arguments.length?(e=Array.from(u),o=Math.min(e.length,t.length-1),l):e.slice()},l.range=function(u){return arguments.length?(t=Array.from(u),o=Math.min(e.length,t.length-1),l):t.slice()},l.invertExtent=function(u){var m=t.indexOf(u);return[e[m-1],e[m]]},l.unknown=function(u){return arguments.length?(n=u,l):n},l.copy=function(){return threshold().domain(e).range(t).unknown(n)},initRange.apply(l,arguments)}const t0=new Date,t1=new Date;function timeInterval(e,t,n,o){function l(u){return e(u=arguments.length===0?new Date:new Date(+u)),u}return l.floor=u=>(e(u=new Date(+u)),u),l.ceil=u=>(e(u=new Date(u-1)),t(u,1),e(u),u),l.round=u=>{const m=l(u),p=l.ceil(u);return u-m<p-u?m:p},l.offset=(u,m)=>(t(u=new Date(+u),m==null?1:Math.floor(m)),u),l.range=(u,m,p)=>{const j=[];if(u=l.ceil(u),p=p==null?1:Math.floor(p),!(u<m)||!(p>0))return j;let f;do j.push(f=new Date(+u)),t(u,p),e(u);while(f<u&&u<m);return j},l.filter=u=>timeInterval(m=>{if(m>=m)for(;e(m),!u(m);)m.setTime(m-1)},(m,p)=>{if(m>=m)if(p<0)for(;++p<=0;)for(;t(m,-1),!u(m););else for(;--p>=0;)for(;t(m,1),!u(m););}),n&&(l.count=(u,m)=>(t0.setTime(+u),t1.setTime(+m),e(t0),e(t1),Math.floor(n(t0,t1))),l.every=u=>(u=Math.floor(u),!isFinite(u)||!(u>0)?null:u>1?l.filter(o?m=>o(m)%u===0:m=>l.count(0,m)%u===0):l)),l}const millisecond=timeInterval(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);millisecond.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?timeInterval(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*durationSecond)},(e,t)=>(t-e)/durationSecond,e=>e.getUTCSeconds());second.range;const timeMinute=timeInterval(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*durationSecond)},(e,t)=>{e.setTime(+e+t*durationMinute)},(e,t)=>(t-e)/durationMinute,e=>e.getMinutes());timeMinute.range;const utcMinute=timeInterval(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*durationMinute)},(e,t)=>(t-e)/durationMinute,e=>e.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*durationSecond-e.getMinutes()*durationMinute)},(e,t)=>{e.setTime(+e+t*durationHour)},(e,t)=>(t-e)/durationHour,e=>e.getHours());timeHour.range;const utcHour=timeInterval(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*durationHour)},(e,t)=>(t-e)/durationHour,e=>e.getUTCHours());utcHour.range;const timeDay=timeInterval(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*durationMinute)/durationDay,e=>e.getDate()-1);timeDay.range;const utcDay=timeInterval(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/durationDay,e=>e.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/durationDay,e=>Math.floor(e/durationDay));unixDay.range;function timeWeekday(e){return timeInterval(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(e){return timeInterval(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());timeMonth.range;const utcMonth=timeInterval(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());utcMonth.range;const timeYear=timeInterval(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());timeYear.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:timeInterval(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});timeYear.range;const utcYear=timeInterval(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());utcYear.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:timeInterval(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});utcYear.range;function ticker(e,t,n,o,l,u){const m=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[u,1,durationMinute],[u,5,5*durationMinute],[u,15,15*durationMinute],[u,30,30*durationMinute],[l,1,durationHour],[l,3,3*durationHour],[l,6,6*durationHour],[l,12,12*durationHour],[o,1,durationDay],[o,2,2*durationDay],[n,1,durationWeek],[t,1,durationMonth],[t,3,3*durationMonth],[e,1,durationYear]];function p(f,g,b){const R=g<f;R&&([f,g]=[g,f]);const v=b&&typeof b.range=="function"?b:j(f,g,b),N=v?v.range(f,+g+1):[];return R?N.reverse():N}function j(f,g,b){const R=Math.abs(g-f)/b,v=bisector(([,,$])=>$).right(m,R);if(v===m.length)return e.every(tickStep(f/durationYear,g/durationYear,b));if(v===0)return millisecond.every(Math.max(tickStep(f,g,b),1));const[N,S]=m[R/m[v-1][2]<m[v][2]/R?v-1:v];return N.every(S)}return[p,j]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function utcDate(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function newDate(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function formatLocale(e){var t=e.dateTime,n=e.date,o=e.time,l=e.periods,u=e.days,m=e.shortDays,p=e.months,j=e.shortMonths,f=formatRe(l),g=formatLookup(l),b=formatRe(u),R=formatLookup(u),v=formatRe(m),N=formatLookup(m),S=formatRe(p),$=formatLookup(p),C=formatRe(j),A=formatLookup(j),T={a:K,A:J,b:ne,B:H,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:te,q:Y,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},D={a:le,A:je,b:ae,B:Z,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:ce,q:oe,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},I={a:B,A:q,b:z,B:V,c:Q,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:F,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:ee,X:G,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};T.x=L(n,T),T.X=L(o,T),T.c=L(t,T),D.x=L(n,D),D.X=L(o,D),D.c=L(t,D);function L(me,fe){return function(xe){var ge=[],Ce=-1,Ae=0,Le=me.length,De,Ye,Lt;for(xe instanceof Date||(xe=new Date(+xe));++Ce<Le;)me.charCodeAt(Ce)===37&&(ge.push(me.slice(Ae,Ce)),(Ye=pads[De=me.charAt(++Ce)])!=null?De=me.charAt(++Ce):Ye=De==="e"?" ":"0",(Lt=fe[De])&&(De=Lt(xe,Ye)),ge.push(De),Ae=Ce+1);return ge.push(me.slice(Ae,Ce)),ge.join("")}}function _(me,fe){return function(xe){var ge=newDate(1900,void 0,1),Ce=M(ge,me,xe+="",0),Ae,Le;if(Ce!=xe.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(fe&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(Ae=utcDate(newDate(ge.y,0,1)),Le=Ae.getUTCDay(),Ae=Le>4||Le===0?utcMonday.ceil(Ae):utcMonday(Ae),Ae=utcDay.offset(Ae,(ge.V-1)*7),ge.y=Ae.getUTCFullYear(),ge.m=Ae.getUTCMonth(),ge.d=Ae.getUTCDate()+(ge.w+6)%7):(Ae=localDate(newDate(ge.y,0,1)),Le=Ae.getDay(),Ae=Le>4||Le===0?timeMonday.ceil(Ae):timeMonday(Ae),Ae=timeDay.offset(Ae,(ge.V-1)*7),ge.y=Ae.getFullYear(),ge.m=Ae.getMonth(),ge.d=Ae.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),Le="Z"in ge?utcDate(newDate(ge.y,0,1)).getUTCDay():localDate(newDate(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(Le+5)%7:ge.w+ge.U*7-(Le+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,utcDate(ge)):localDate(ge)}}function M(me,fe,xe,ge){for(var Ce=0,Ae=fe.length,Le=xe.length,De,Ye;Ce<Ae;){if(ge>=Le)return-1;if(De=fe.charCodeAt(Ce++),De===37){if(De=fe.charAt(Ce++),Ye=I[De in pads?fe.charAt(Ce++):De],!Ye||(ge=Ye(me,xe,ge))<0)return-1}else if(De!=xe.charCodeAt(ge++))return-1}return ge}function F(me,fe,xe){var ge=f.exec(fe.slice(xe));return ge?(me.p=g.get(ge[0].toLowerCase()),xe+ge[0].length):-1}function B(me,fe,xe){var ge=v.exec(fe.slice(xe));return ge?(me.w=N.get(ge[0].toLowerCase()),xe+ge[0].length):-1}function q(me,fe,xe){var ge=b.exec(fe.slice(xe));return ge?(me.w=R.get(ge[0].toLowerCase()),xe+ge[0].length):-1}function z(me,fe,xe){var ge=C.exec(fe.slice(xe));return ge?(me.m=A.get(ge[0].toLowerCase()),xe+ge[0].length):-1}function V(me,fe,xe){var ge=S.exec(fe.slice(xe));return ge?(me.m=$.get(ge[0].toLowerCase()),xe+ge[0].length):-1}function Q(me,fe,xe){return M(me,t,fe,xe)}function ee(me,fe,xe){return M(me,n,fe,xe)}function G(me,fe,xe){return M(me,o,fe,xe)}function K(me){return m[me.getDay()]}function J(me){return u[me.getDay()]}function ne(me){return j[me.getMonth()]}function H(me){return p[me.getMonth()]}function te(me){return l[+(me.getHours()>=12)]}function Y(me){return 1+~~(me.getMonth()/3)}function le(me){return m[me.getUTCDay()]}function je(me){return u[me.getUTCDay()]}function ae(me){return j[me.getUTCMonth()]}function Z(me){return p[me.getUTCMonth()]}function ce(me){return l[+(me.getUTCHours()>=12)]}function oe(me){return 1+~~(me.getUTCMonth()/3)}return{format:function(me){var fe=L(me+="",T);return fe.toString=function(){return me},fe},parse:function(me){var fe=_(me+="",!1);return fe.toString=function(){return me},fe},utcFormat:function(me){var fe=L(me+="",D);return fe.toString=function(){return me},fe},utcParse:function(me){var fe=_(me+="",!0);return fe.toString=function(){return me},fe}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(e,t,n){var o=e<0?"-":"",l=(o?-e:e)+"",u=l.length;return o+(u<n?new Array(n-u+1).join(t)+l:l)}function requote(e){return e.replace(requoteRe,"\\$&")}function formatRe(e){return new RegExp("^(?:"+e.map(requote).join("|")+")","i")}function formatLookup(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function parseWeekdayNumberSunday(e,t,n){var o=numberRe.exec(t.slice(n,n+1));return o?(e.w=+o[0],n+o[0].length):-1}function parseWeekdayNumberMonday(e,t,n){var o=numberRe.exec(t.slice(n,n+1));return o?(e.u=+o[0],n+o[0].length):-1}function parseWeekNumberSunday(e,t,n){var o=numberRe.exec(t.slice(n,n+2));return o?(e.U=+o[0],n+o[0].length):-1}function parseWeekNumberISO(e,t,n){var o=numberRe.exec(t.slice(n,n+2));return o?(e.V=+o[0],n+o[0].length):-1}function parseWeekNumberMonday(e,t,n){var o=numberRe.exec(t.slice(n,n+2));return o?(e.W=+o[0],n+o[0].length):-1}function parseFullYear(e,t,n){var o=numberRe.exec(t.slice(n,n+4));return o?(e.y=+o[0],n+o[0].length):-1}function parseYear(e,t,n){var o=numberRe.exec(t.slice(n,n+2));return o?(e.y=+o[0]+(+o[0]>68?1900:2e3),n+o[0].length):-1}function parseZone(e,t,n){var o=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return o?(e.Z=o[1]?0:-(o[2]+(o[3]||"00")),n+o[0].length):-1}function parseQuarter(e,t,n){var o=numberRe.exec(t.slice(n,n+1));return o?(e.q=o[0]*3-3,n+o[0].length):-1}function parseMonthNumber(e,t,n){var o=numberRe.exec(t.slice(n,n+2));return o?(e.m=o[0]-1,n+o[0].length):-1}function parseDayOfMonth(e,t,n){var o=numberRe.exec(t.slice(n,n+2));return o?(e.d=+o[0],n+o[0].length):-1}function parseDayOfYear(e,t,n){var o=numberRe.exec(t.slice(n,n+3));return o?(e.m=0,e.d=+o[0],n+o[0].length):-1}function parseHour24(e,t,n){var o=numberRe.exec(t.slice(n,n+2));return o?(e.H=+o[0],n+o[0].length):-1}function parseMinutes(e,t,n){var o=numberRe.exec(t.slice(n,n+2));return o?(e.M=+o[0],n+o[0].length):-1}function parseSeconds(e,t,n){var o=numberRe.exec(t.slice(n,n+2));return o?(e.S=+o[0],n+o[0].length):-1}function parseMilliseconds(e,t,n){var o=numberRe.exec(t.slice(n,n+3));return o?(e.L=+o[0],n+o[0].length):-1}function parseMicroseconds(e,t,n){var o=numberRe.exec(t.slice(n,n+6));return o?(e.L=Math.floor(o[0]/1e3),n+o[0].length):-1}function parseLiteralPercent(e,t,n){var o=percentRe.exec(t.slice(n,n+1));return o?n+o[0].length:-1}function parseUnixTimestamp(e,t,n){var o=numberRe.exec(t.slice(n));return o?(e.Q=+o[0],n+o[0].length):-1}function parseUnixTimestampSeconds(e,t,n){var o=numberRe.exec(t.slice(n));return o?(e.s=+o[0],n+o[0].length):-1}function formatDayOfMonth(e,t){return pad(e.getDate(),t,2)}function formatHour24(e,t){return pad(e.getHours(),t,2)}function formatHour12(e,t){return pad(e.getHours()%12||12,t,2)}function formatDayOfYear(e,t){return pad(1+timeDay.count(timeYear(e),e),t,3)}function formatMilliseconds(e,t){return pad(e.getMilliseconds(),t,3)}function formatMicroseconds(e,t){return formatMilliseconds(e,t)+"000"}function formatMonthNumber(e,t){return pad(e.getMonth()+1,t,2)}function formatMinutes(e,t){return pad(e.getMinutes(),t,2)}function formatSeconds(e,t){return pad(e.getSeconds(),t,2)}function formatWeekdayNumberMonday(e){var t=e.getDay();return t===0?7:t}function formatWeekNumberSunday(e,t){return pad(timeSunday.count(timeYear(e)-1,e),t,2)}function dISO(e){var t=e.getDay();return t>=4||t===0?timeThursday(e):timeThursday.ceil(e)}function formatWeekNumberISO(e,t){return e=dISO(e),pad(timeThursday.count(timeYear(e),e)+(timeYear(e).getDay()===4),t,2)}function formatWeekdayNumberSunday(e){return e.getDay()}function formatWeekNumberMonday(e,t){return pad(timeMonday.count(timeYear(e)-1,e),t,2)}function formatYear(e,t){return pad(e.getFullYear()%100,t,2)}function formatYearISO(e,t){return e=dISO(e),pad(e.getFullYear()%100,t,2)}function formatFullYear(e,t){return pad(e.getFullYear()%1e4,t,4)}function formatFullYearISO(e,t){var n=e.getDay();return e=n>=4||n===0?timeThursday(e):timeThursday.ceil(e),pad(e.getFullYear()%1e4,t,4)}function formatZone(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pad(t/60|0,"0",2)+pad(t%60,"0",2)}function formatUTCDayOfMonth(e,t){return pad(e.getUTCDate(),t,2)}function formatUTCHour24(e,t){return pad(e.getUTCHours(),t,2)}function formatUTCHour12(e,t){return pad(e.getUTCHours()%12||12,t,2)}function formatUTCDayOfYear(e,t){return pad(1+utcDay.count(utcYear(e),e),t,3)}function formatUTCMilliseconds(e,t){return pad(e.getUTCMilliseconds(),t,3)}function formatUTCMicroseconds(e,t){return formatUTCMilliseconds(e,t)+"000"}function formatUTCMonthNumber(e,t){return pad(e.getUTCMonth()+1,t,2)}function formatUTCMinutes(e,t){return pad(e.getUTCMinutes(),t,2)}function formatUTCSeconds(e,t){return pad(e.getUTCSeconds(),t,2)}function formatUTCWeekdayNumberMonday(e){var t=e.getUTCDay();return t===0?7:t}function formatUTCWeekNumberSunday(e,t){return pad(utcSunday.count(utcYear(e)-1,e),t,2)}function UTCdISO(e){var t=e.getUTCDay();return t>=4||t===0?utcThursday(e):utcThursday.ceil(e)}function formatUTCWeekNumberISO(e,t){return e=UTCdISO(e),pad(utcThursday.count(utcYear(e),e)+(utcYear(e).getUTCDay()===4),t,2)}function formatUTCWeekdayNumberSunday(e){return e.getUTCDay()}function formatUTCWeekNumberMonday(e,t){return pad(utcMonday.count(utcYear(e)-1,e),t,2)}function formatUTCYear(e,t){return pad(e.getUTCFullYear()%100,t,2)}function formatUTCYearISO(e,t){return e=UTCdISO(e),pad(e.getUTCFullYear()%100,t,2)}function formatUTCFullYear(e,t){return pad(e.getUTCFullYear()%1e4,t,4)}function formatUTCFullYearISO(e,t){var n=e.getUTCDay();return e=n>=4||n===0?utcThursday(e):utcThursday.ceil(e),pad(e.getUTCFullYear()%1e4,t,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(e){return+e}function formatUnixTimestampSeconds(e){return Math.floor(+e/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(e){return locale=formatLocale(e),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(e){return new Date(e)}function number(e){return e instanceof Date?+e:+new Date(+e)}function calendar(e,t,n,o,l,u,m,p,j,f){var g=continuous(),b=g.invert,R=g.domain,v=f(".%L"),N=f(":%S"),S=f("%I:%M"),$=f("%I %p"),C=f("%a %d"),A=f("%b %d"),T=f("%B"),D=f("%Y");function I(L){return(j(L)<L?v:p(L)<L?N:m(L)<L?S:u(L)<L?$:o(L)<L?l(L)<L?C:A:n(L)<L?T:D)(L)}return g.invert=function(L){return new Date(b(L))},g.domain=function(L){return arguments.length?R(Array.from(L,number)):R().map(date)},g.ticks=function(L){var _=R();return e(_[0],_[_.length-1],L??10)},g.tickFormat=function(L,_){return _==null?I:f(_)},g.nice=function(L){var _=R();return(!L||typeof L.range!="function")&&(L=t(_[0],_[_.length-1],L??10)),L?R(nice(_,L)):g},g.copy=function(){return copy$1(g,calendar(e,t,n,o,l,u,m,p,j,f))},g}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var e=0,t=1,n,o,l,u,m=identity$3,p=!1,j;function f(b){return b==null||isNaN(b=+b)?j:m(l===0?.5:(b=(u(b)-n)*l,p?Math.max(0,Math.min(1,b)):b))}f.domain=function(b){return arguments.length?([e,t]=b,n=u(e=+e),o=u(t=+t),l=n===o?0:1/(o-n),f):[e,t]},f.clamp=function(b){return arguments.length?(p=!!b,f):p},f.interpolator=function(b){return arguments.length?(m=b,f):m};function g(b){return function(R){var v,N;return arguments.length?([v,N]=R,m=b(v,N),f):[m(0),m(1)]}}return f.range=g(interpolate),f.rangeRound=g(interpolateRound),f.unknown=function(b){return arguments.length?(j=b,f):j},function(b){return u=b,n=b(e),o=b(t),l=n===o?0:1/(o-n),f}}function copy(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function sequential(){var e=linearish(transformer$1()(identity$3));return e.copy=function(){return copy(e,sequential())},initInterpolator.apply(e,arguments)}function sequentialLog(){var e=loggish(transformer$1()).domain([1,10]);return e.copy=function(){return copy(e,sequentialLog()).base(e.base())},initInterpolator.apply(e,arguments)}function sequentialSymlog(){var e=symlogish(transformer$1());return e.copy=function(){return copy(e,sequentialSymlog()).constant(e.constant())},initInterpolator.apply(e,arguments)}function sequentialPow(){var e=powish(transformer$1());return e.copy=function(){return copy(e,sequentialPow()).exponent(e.exponent())},initInterpolator.apply(e,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var e=[],t=identity$3;function n(o){if(o!=null&&!isNaN(o=+o))return t((bisectRight(e,o,1)-1)/(e.length-1))}return n.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(ascending),n},n.interpolator=function(o){return arguments.length?(t=o,n):t},n.range=function(){return e.map((o,l)=>t(l/(e.length-1)))},n.quantiles=function(o){return Array.from({length:o+1},(l,u)=>quantile$1(e,u/o))},n.copy=function(){return sequentialQuantile(t).domain(e)},initInterpolator.apply(n,arguments)}function transformer(){var e=0,t=.5,n=1,o=1,l,u,m,p,j,f=identity$3,g,b=!1,R;function v(S){return isNaN(S=+S)?R:(S=.5+((S=+g(S))-u)*(o*S<o*u?p:j),f(b?Math.max(0,Math.min(1,S)):S))}v.domain=function(S){return arguments.length?([e,t,n]=S,l=g(e=+e),u=g(t=+t),m=g(n=+n),p=l===u?0:.5/(u-l),j=u===m?0:.5/(m-u),o=u<l?-1:1,v):[e,t,n]},v.clamp=function(S){return arguments.length?(b=!!S,v):b},v.interpolator=function(S){return arguments.length?(f=S,v):f};function N(S){return function($){var C,A,T;return arguments.length?([C,A,T]=$,f=piecewise(S,[C,A,T]),v):[f(0),f(.5),f(1)]}}return v.range=N(interpolate),v.rangeRound=N(interpolateRound),v.unknown=function(S){return arguments.length?(R=S,v):R},function(S){return g=S,l=S(e),u=S(t),m=S(n),p=l===u?0:.5/(u-l),j=u===m?0:.5/(m-u),o=u<l?-1:1,v}}function diverging(){var e=linearish(transformer()(identity$3));return e.copy=function(){return copy(e,diverging())},initInterpolator.apply(e,arguments)}function divergingLog(){var e=loggish(transformer()).domain([.1,1,10]);return e.copy=function(){return copy(e,divergingLog()).base(e.base())},initInterpolator.apply(e,arguments)}function divergingSymlog(){var e=symlogish(transformer());return e.copy=function(){return copy(e,divergingSymlog()).constant(e.constant())},initInterpolator.apply(e,arguments)}function divergingPow(){var e=powish(transformer());return e.copy=function(){return copy(e,divergingPow()).exponent(e.exponent())},initInterpolator.apply(e,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:diverging,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,scaleIdentity:identity$1,scaleImplicit:implicit,scaleLinear:linear,scaleLog:log,scaleOrdinal:ordinal,scalePoint:point,scalePow:pow,scaleQuantile:quantile,scaleQuantize:quantize,scaleRadial:radial,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialQuantile:sequentialQuantile,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSqrt:sqrt,scaleSymlog:symlog,scaleThreshold:threshold,scaleTime:time,scaleUtc:utcTime,tickFormat},Symbol.toStringTag,{value:"Module"}));var selectChartDataWithIndexes=e=>e.chartData,selectChartDataAndAlwaysIgnoreIndexes=createSelector([selectChartDataWithIndexes],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),selectChartDataWithIndexesIfNotInPanorama=(e,t,n,o)=>o?selectChartDataAndAlwaysIgnoreIndexes(e):selectChartDataWithIndexes(e);function isWellFormedNumberDomain(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(isWellBehavedNumber(t)&&isWellBehavedNumber(n))return!0}return!1}function extendDomain(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function numericalDomainSpecifiedWithoutRequiringData(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,o]=e,l,u;if(isWellBehavedNumber(n))l=n;else if(typeof n=="function")return;if(isWellBehavedNumber(o))u=o;else if(typeof o=="function")return;var m=[l,u];if(isWellFormedNumberDomain(m))return m}}function parseNumericalUserDomain(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var o=e(t,n);if(isWellFormedNumberDomain(o))return extendDomain(o,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[l,u]=e,m,p;if(l==="auto")t!=null&&(m=Math.min(...t));else if(isNumber(l))m=l;else if(typeof l=="function")try{t!=null&&(m=l(t?.[0]))}catch{}else if(typeof l=="string"&&MIN_VALUE_REG.test(l)){var j=MIN_VALUE_REG.exec(l);if(j==null||t==null)m=void 0;else{var f=+j[1];m=t[0]-f}}else m=t?.[0];if(u==="auto")t!=null&&(p=Math.max(...t));else if(isNumber(u))p=u;else if(typeof u=="function")try{t!=null&&(p=u(t?.[1]))}catch{}else if(typeof u=="string"&&MAX_VALUE_REG.test(u)){var g=MAX_VALUE_REG.exec(u);if(g==null||t==null)p=void 0;else{var b=+g[1];p=t[1]+b}}else p=t?.[1];var R=[m,p];if(isWellFormedNumberDomain(R))return t==null?R:extendDomain(R,t,n)}}}var MAX_DIGITS=1e9,defaults={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Decimal,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ONE,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,MAX_E=mathfloor(MAX_SAFE_INTEGER/LOG_BASE),P={};P.absoluteValue=P.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};P.comparedTo=P.cmp=function(e){var t,n,o,l,u=this;if(e=new u.constructor(e),u.s!==e.s)return u.s||-e.s;if(u.e!==e.e)return u.e>e.e^u.s<0?1:-1;for(o=u.d.length,l=e.d.length,t=0,n=o<l?o:l;t<n;++t)if(u.d[t]!==e.d[t])return u.d[t]>e.d[t]^u.s<0?1:-1;return o===l?0:o>l^u.s<0?1:-1};P.decimalPlaces=P.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*LOG_BASE;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};P.dividedBy=P.div=function(e){return divide(this,new this.constructor(e))};P.dividedToIntegerBy=P.idiv=function(e){var t=this,n=t.constructor;return round(divide(t,new n(e),0,1),n.precision)};P.equals=P.eq=function(e){return!this.cmp(e)};P.exponent=function(){return getBase10Exponent(this)};P.greaterThan=P.gt=function(e){return this.cmp(e)>0};P.greaterThanOrEqualTo=P.gte=function(e){return this.cmp(e)>=0};P.isInteger=P.isint=function(){return this.e>this.d.length-2};P.isNegative=P.isneg=function(){return this.s<0};P.isPositive=P.ispos=function(){return this.s>0};P.isZero=function(){return this.s===0};P.lessThan=P.lt=function(e){return this.cmp(e)<0};P.lessThanOrEqualTo=P.lte=function(e){return this.cmp(e)<1};P.logarithm=P.log=function(e){var t,n=this,o=n.constructor,l=o.precision,u=l+5;if(e===void 0)e=new o(10);else if(e=new o(e),e.s<1||e.eq(ONE))throw Error(decimalError+"NaN");if(n.s<1)throw Error(decimalError+(n.s?"NaN":"-Infinity"));return n.eq(ONE)?new o(0):(external=!1,t=divide(ln(n,u),ln(e,u),u),external=!0,round(t,l))};P.minus=P.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?subtract(t,e):add(t,(e.s=-e.s,e))};P.modulo=P.mod=function(e){var t,n=this,o=n.constructor,l=o.precision;if(e=new o(e),!e.s)throw Error(decimalError+"NaN");return n.s?(external=!1,t=divide(n,e,0,1).times(e),external=!0,n.minus(t)):round(new o(n),l)};P.naturalExponential=P.exp=function(){return exp(this)};P.naturalLogarithm=P.ln=function(){return ln(this)};P.negated=P.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};P.plus=P.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?add(t,e):subtract(t,(e.s=-e.s,e))};P.precision=P.sd=function(e){var t,n,o,l=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(invalidArgument+e);if(t=getBase10Exponent(l)+1,o=l.d.length-1,n=o*LOG_BASE+1,o=l.d[o],o){for(;o%10==0;o/=10)n--;for(o=l.d[0];o>=10;o/=10)n++}return e&&t>n?t:n};P.squareRoot=P.sqrt=function(){var e,t,n,o,l,u,m,p=this,j=p.constructor;if(p.s<1){if(!p.s)return new j(0);throw Error(decimalError+"NaN")}for(e=getBase10Exponent(p),external=!1,l=Math.sqrt(+p),l==0||l==1/0?(t=digitsToString(p.d),(t.length+e)%2==0&&(t+="0"),l=Math.sqrt(t),e=mathfloor((e+1)/2)-(e<0||e%2),l==1/0?t="5e"+e:(t=l.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),o=new j(t)):o=new j(l.toString()),n=j.precision,l=m=n+3;;)if(u=o,o=u.plus(divide(p,u,m+2)).times(.5),digitsToString(u.d).slice(0,m)===(t=digitsToString(o.d)).slice(0,m)){if(t=t.slice(m-3,m+1),l==m&&t=="4999"){if(round(u,n+1,0),u.times(u).eq(p)){o=u;break}}else if(t!="9999")break;m+=4}return external=!0,round(o,n)};P.times=P.mul=function(e){var t,n,o,l,u,m,p,j,f,g=this,b=g.constructor,R=g.d,v=(e=new b(e)).d;if(!g.s||!e.s)return new b(0);for(e.s*=g.s,n=g.e+e.e,j=R.length,f=v.length,j<f&&(u=R,R=v,v=u,m=j,j=f,f=m),u=[],m=j+f,o=m;o--;)u.push(0);for(o=f;--o>=0;){for(t=0,l=j+o;l>o;)p=u[l]+v[o]*R[l-o-1]+t,u[l--]=p%BASE|0,t=p/BASE|0;u[l]=(u[l]+t)%BASE|0}for(;!u[--m];)u.pop();return t?++n:u.shift(),e.d=u,e.e=n,external?round(e,b.precision):e};P.toDecimalPlaces=P.todp=function(e,t){var n=this,o=n.constructor;return n=new o(n),e===void 0?n:(checkInt32(e,0,MAX_DIGITS),t===void 0?t=o.rounding:checkInt32(t,0,8),round(n,e+getBase10Exponent(n)+1,t))};P.toExponential=function(e,t){var n,o=this,l=o.constructor;return e===void 0?n=toString(o,!0):(checkInt32(e,0,MAX_DIGITS),t===void 0?t=l.rounding:checkInt32(t,0,8),o=round(new l(o),e+1,t),n=toString(o,!0,e+1)),n};P.toFixed=function(e,t){var n,o,l=this,u=l.constructor;return e===void 0?toString(l):(checkInt32(e,0,MAX_DIGITS),t===void 0?t=u.rounding:checkInt32(t,0,8),o=round(new u(l),e+getBase10Exponent(l)+1,t),n=toString(o.abs(),!1,e+getBase10Exponent(o)+1),l.isneg()&&!l.isZero()?"-"+n:n)};P.toInteger=P.toint=function(){var e=this,t=e.constructor;return round(new t(e),getBase10Exponent(e)+1,t.rounding)};P.toNumber=function(){return+this};P.toPower=P.pow=function(e){var t,n,o,l,u,m,p=this,j=p.constructor,f=12,g=+(e=new j(e));if(!e.s)return new j(ONE);if(p=new j(p),!p.s){if(e.s<1)throw Error(decimalError+"Infinity");return p}if(p.eq(ONE))return p;if(o=j.precision,e.eq(ONE))return round(p,o);if(t=e.e,n=e.d.length-1,m=t>=n,u=p.s,m){if((n=g<0?-g:g)<=MAX_SAFE_INTEGER){for(l=new j(ONE),t=Math.ceil(o/LOG_BASE+4),external=!1;n%2&&(l=l.times(p),truncate(l.d,t)),n=mathfloor(n/2),n!==0;)p=p.times(p),truncate(p.d,t);return external=!0,e.s<0?new j(ONE).div(l):round(l,o)}}else if(u<0)throw Error(decimalError+"NaN");return u=u<0&&e.d[Math.max(t,n)]&1?-1:1,p.s=1,external=!1,l=e.times(ln(p,o+f)),external=!0,l=exp(l),l.s=u,l};P.toPrecision=function(e,t){var n,o,l=this,u=l.constructor;return e===void 0?(n=getBase10Exponent(l),o=toString(l,n<=u.toExpNeg||n>=u.toExpPos)):(checkInt32(e,1,MAX_DIGITS),t===void 0?t=u.rounding:checkInt32(t,0,8),l=round(new u(l),e,t),n=getBase10Exponent(l),o=toString(l,e<=n||n<=u.toExpNeg,e)),o};P.toSignificantDigits=P.tosd=function(e,t){var n=this,o=n.constructor;return e===void 0?(e=o.precision,t=o.rounding):(checkInt32(e,1,MAX_DIGITS),t===void 0?t=o.rounding:checkInt32(t,0,8)),round(new o(n),e,t)};P.toString=P.valueOf=P.val=P.toJSON=P[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=getBase10Exponent(e),n=e.constructor;return toString(e,t<=n.toExpNeg||t>=n.toExpPos)};function add(e,t){var n,o,l,u,m,p,j,f,g=e.constructor,b=g.precision;if(!e.s||!t.s)return t.s||(t=new g(e)),external?round(t,b):t;if(j=e.d,f=t.d,m=e.e,l=t.e,j=j.slice(),u=m-l,u){for(u<0?(o=j,u=-u,p=f.length):(o=f,l=m,p=j.length),m=Math.ceil(b/LOG_BASE),p=m>p?m+1:p+1,u>p&&(u=p,o.length=1),o.reverse();u--;)o.push(0);o.reverse()}for(p=j.length,u=f.length,p-u<0&&(u=p,o=f,f=j,j=o),n=0;u;)n=(j[--u]=j[u]+f[u]+n)/BASE|0,j[u]%=BASE;for(n&&(j.unshift(n),++l),p=j.length;j[--p]==0;)j.pop();return t.d=j,t.e=l,external?round(t,b):t}function checkInt32(e,t,n){if(e!==~~e||e<t||e>n)throw Error(invalidArgument+e)}function digitsToString(e){var t,n,o,l=e.length-1,u="",m=e[0];if(l>0){for(u+=m,t=1;t<l;t++)o=e[t]+"",n=LOG_BASE-o.length,n&&(u+=getZeroString(n)),u+=o;m=e[t],o=m+"",n=LOG_BASE-o.length,n&&(u+=getZeroString(n))}else if(m===0)return"0";for(;m%10===0;)m/=10;return u+m}var divide=(function(){function e(o,l){var u,m=0,p=o.length;for(o=o.slice();p--;)u=o[p]*l+m,o[p]=u%BASE|0,m=u/BASE|0;return m&&o.unshift(m),o}function t(o,l,u,m){var p,j;if(u!=m)j=u>m?1:-1;else for(p=j=0;p<u;p++)if(o[p]!=l[p]){j=o[p]>l[p]?1:-1;break}return j}function n(o,l,u){for(var m=0;u--;)o[u]-=m,m=o[u]<l[u]?1:0,o[u]=m*BASE+o[u]-l[u];for(;!o[0]&&o.length>1;)o.shift()}return function(o,l,u,m){var p,j,f,g,b,R,v,N,S,$,C,A,T,D,I,L,_,M,F=o.constructor,B=o.s==l.s?1:-1,q=o.d,z=l.d;if(!o.s)return new F(o);if(!l.s)throw Error(decimalError+"Division by zero");for(j=o.e-l.e,_=z.length,I=q.length,v=new F(B),N=v.d=[],f=0;z[f]==(q[f]||0);)++f;if(z[f]>(q[f]||0)&&--j,u==null?A=u=F.precision:m?A=u+(getBase10Exponent(o)-getBase10Exponent(l))+1:A=u,A<0)return new F(0);if(A=A/LOG_BASE+2|0,f=0,_==1)for(g=0,z=z[0],A++;(f<I||g)&&A--;f++)T=g*BASE+(q[f]||0),N[f]=T/z|0,g=T%z|0;else{for(g=BASE/(z[0]+1)|0,g>1&&(z=e(z,g),q=e(q,g),_=z.length,I=q.length),D=_,S=q.slice(0,_),$=S.length;$<_;)S[$++]=0;M=z.slice(),M.unshift(0),L=z[0],z[1]>=BASE/2&&++L;do g=0,p=t(z,S,_,$),p<0?(C=S[0],_!=$&&(C=C*BASE+(S[1]||0)),g=C/L|0,g>1?(g>=BASE&&(g=BASE-1),b=e(z,g),R=b.length,$=S.length,p=t(b,S,R,$),p==1&&(g--,n(b,_<R?M:z,R))):(g==0&&(p=g=1),b=z.slice()),R=b.length,R<$&&b.unshift(0),n(S,b,$),p==-1&&($=S.length,p=t(z,S,_,$),p<1&&(g++,n(S,_<$?M:z,$))),$=S.length):p===0&&(g++,S=[0]),N[f++]=g,p&&S[0]?S[$++]=q[D]||0:(S=[q[D]],$=1);while((D++<I||S[0]!==void 0)&&A--)}return N[0]||N.shift(),v.e=j,round(v,m?u+getBase10Exponent(v)+1:u)}})();function exp(e,t){var n,o,l,u,m,p,j=0,f=0,g=e.constructor,b=g.precision;if(getBase10Exponent(e)>16)throw Error(exponentOutOfRange+getBase10Exponent(e));if(!e.s)return new g(ONE);for(external=!1,p=b,m=new g(.03125);e.abs().gte(.1);)e=e.times(m),f+=5;for(o=Math.log(mathpow(2,f))/Math.LN10*2+5|0,p+=o,n=l=u=new g(ONE),g.precision=p;;){if(l=round(l.times(e),p),n=n.times(++j),m=u.plus(divide(l,n,p)),digitsToString(m.d).slice(0,p)===digitsToString(u.d).slice(0,p)){for(;f--;)u=round(u.times(u),p);return g.precision=b,t==null?(external=!0,round(u,b)):u}u=m}}function getBase10Exponent(e){for(var t=e.e*LOG_BASE,n=e.d[0];n>=10;n/=10)t++;return t}function getLn10(e,t,n){if(t>e.LN10.sd())throw external=!0,n&&(e.precision=n),Error(decimalError+"LN10 precision limit exceeded");return round(new e(e.LN10),t)}function getZeroString(e){for(var t="";e--;)t+="0";return t}function ln(e,t){var n,o,l,u,m,p,j,f,g,b=1,R=10,v=e,N=v.d,S=v.constructor,$=S.precision;if(v.s<1)throw Error(decimalError+(v.s?"NaN":"-Infinity"));if(v.eq(ONE))return new S(0);if(t==null?(external=!1,f=$):f=t,v.eq(10))return t==null&&(external=!0),getLn10(S,f);if(f+=R,S.precision=f,n=digitsToString(N),o=n.charAt(0),u=getBase10Exponent(v),Math.abs(u)<15e14){for(;o<7&&o!=1||o==1&&n.charAt(1)>3;)v=v.times(e),n=digitsToString(v.d),o=n.charAt(0),b++;u=getBase10Exponent(v),o>1?(v=new S("0."+n),u++):v=new S(o+"."+n.slice(1))}else return j=getLn10(S,f+2,$).times(u+""),v=ln(new S(o+"."+n.slice(1)),f-R).plus(j),S.precision=$,t==null?(external=!0,round(v,$)):v;for(p=m=v=divide(v.minus(ONE),v.plus(ONE),f),g=round(v.times(v),f),l=3;;){if(m=round(m.times(g),f),j=p.plus(divide(m,new S(l),f)),digitsToString(j.d).slice(0,f)===digitsToString(p.d).slice(0,f))return p=p.times(2),u!==0&&(p=p.plus(getLn10(S,f+2,$).times(u+""))),p=divide(p,new S(b),f),S.precision=$,t==null?(external=!0,round(p,$)):p;p=j,l+=2}}function parseDecimal(e,t){var n,o,l;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(o=t.search(/e/i))>0?(n<0&&(n=o),n+=+t.slice(o+1),t=t.substring(0,o)):n<0&&(n=t.length),o=0;t.charCodeAt(o)===48;)++o;for(l=t.length;t.charCodeAt(l-1)===48;)--l;if(t=t.slice(o,l),t){if(l-=o,n=n-o-1,e.e=mathfloor(n/LOG_BASE),e.d=[],o=(n+1)%LOG_BASE,n<0&&(o+=LOG_BASE),o<l){for(o&&e.d.push(+t.slice(0,o)),l-=LOG_BASE;o<l;)e.d.push(+t.slice(o,o+=LOG_BASE));t=t.slice(o),o=LOG_BASE-t.length}else o-=l;for(;o--;)t+="0";if(e.d.push(+t),external&&(e.e>MAX_E||e.e<-MAX_E))throw Error(exponentOutOfRange+n)}else e.s=0,e.e=0,e.d=[0];return e}function round(e,t,n){var o,l,u,m,p,j,f,g,b=e.d;for(m=1,u=b[0];u>=10;u/=10)m++;if(o=t-m,o<0)o+=LOG_BASE,l=t,f=b[g=0];else{if(g=Math.ceil((o+1)/LOG_BASE),u=b.length,g>=u)return e;for(f=u=b[g],m=1;u>=10;u/=10)m++;o%=LOG_BASE,l=o-LOG_BASE+m}if(n!==void 0&&(u=mathpow(10,m-l-1),p=f/u%10|0,j=t<0||b[g+1]!==void 0||f%u,j=n<4?(p||j)&&(n==0||n==(e.s<0?3:2)):p>5||p==5&&(n==4||j||n==6&&(o>0?l>0?f/mathpow(10,m-l):0:b[g-1])%10&1||n==(e.s<0?8:7))),t<1||!b[0])return j?(u=getBase10Exponent(e),b.length=1,t=t-u-1,b[0]=mathpow(10,(LOG_BASE-t%LOG_BASE)%LOG_BASE),e.e=mathfloor(-t/LOG_BASE)||0):(b.length=1,b[0]=e.e=e.s=0),e;if(o==0?(b.length=g,u=1,g--):(b.length=g+1,u=mathpow(10,LOG_BASE-o),b[g]=l>0?(f/mathpow(10,m-l)%mathpow(10,l)|0)*u:0),j)for(;;)if(g==0){(b[0]+=u)==BASE&&(b[0]=1,++e.e);break}else{if(b[g]+=u,b[g]!=BASE)break;b[g--]=0,u=1}for(o=b.length;b[--o]===0;)b.pop();if(external&&(e.e>MAX_E||e.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(e));return e}function subtract(e,t){var n,o,l,u,m,p,j,f,g,b,R=e.constructor,v=R.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new R(e),external?round(t,v):t;if(j=e.d,b=t.d,o=t.e,f=e.e,j=j.slice(),m=f-o,m){for(g=m<0,g?(n=j,m=-m,p=b.length):(n=b,o=f,p=j.length),l=Math.max(Math.ceil(v/LOG_BASE),p)+2,m>l&&(m=l,n.length=1),n.reverse(),l=m;l--;)n.push(0);n.reverse()}else{for(l=j.length,p=b.length,g=l<p,g&&(p=l),l=0;l<p;l++)if(j[l]!=b[l]){g=j[l]<b[l];break}m=0}for(g&&(n=j,j=b,b=n,t.s=-t.s),p=j.length,l=b.length-p;l>0;--l)j[p++]=0;for(l=b.length;l>m;){if(j[--l]<b[l]){for(u=l;u&&j[--u]===0;)j[u]=BASE-1;--j[u],j[l]+=BASE}j[l]-=b[l]}for(;j[--p]===0;)j.pop();for(;j[0]===0;j.shift())--o;return j[0]?(t.d=j,t.e=o,external?round(t,v):t):new R(0)}function toString(e,t,n){var o,l=getBase10Exponent(e),u=digitsToString(e.d),m=u.length;return t?(n&&(o=n-m)>0?u=u.charAt(0)+"."+u.slice(1)+getZeroString(o):m>1&&(u=u.charAt(0)+"."+u.slice(1)),u=u+(l<0?"e":"e+")+l):l<0?(u="0."+getZeroString(-l-1)+u,n&&(o=n-m)>0&&(u+=getZeroString(o))):l>=m?(u+=getZeroString(l+1-m),n&&(o=n-l-1)>0&&(u=u+"."+getZeroString(o))):((o=l+1)<m&&(u=u.slice(0,o)+"."+u.slice(o)),n&&(o=n-m)>0&&(l+1===m&&(u+="."),u+=getZeroString(o))),e.s<0?"-"+u:u}function truncate(e,t){if(e.length>t)return e.length=t,!0}function clone(e){var t,n,o;function l(u){var m=this;if(!(m instanceof l))return new l(u);if(m.constructor=l,u instanceof l){m.s=u.s,m.e=u.e,m.d=(u=u.d)?u.slice():u;return}if(typeof u=="number"){if(u*0!==0)throw Error(invalidArgument+u);if(u>0)m.s=1;else if(u<0)u=-u,m.s=-1;else{m.s=0,m.e=0,m.d=[0];return}if(u===~~u&&u<1e7){m.e=0,m.d=[u];return}return parseDecimal(m,u.toString())}else if(typeof u!="string")throw Error(invalidArgument+u);if(u.charCodeAt(0)===45?(u=u.slice(1),m.s=-1):m.s=1,isDecimal.test(u))parseDecimal(m,u);else throw Error(invalidArgument+u)}if(l.prototype=P,l.ROUND_UP=0,l.ROUND_DOWN=1,l.ROUND_CEIL=2,l.ROUND_FLOOR=3,l.ROUND_HALF_UP=4,l.ROUND_HALF_DOWN=5,l.ROUND_HALF_EVEN=6,l.ROUND_HALF_CEIL=7,l.ROUND_HALF_FLOOR=8,l.clone=clone,l.config=l.set=config,e===void 0&&(e={}),e)for(o=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<o.length;)e.hasOwnProperty(n=o[t++])||(e[n]=this[n]);return l.config(e),l}function config(e){if(!e||typeof e!="object")throw Error(decimalError+"Object expected");var t,n,o,l=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<l.length;t+=3)if((o=e[n=l[t]])!==void 0)if(mathfloor(o)===o&&o>=l[t+1]&&o<=l[t+2])this[n]=o;else throw Error(invalidArgument+n+": "+o);if((o=e[n="LN10"])!==void 0)if(o==Math.LN10)this[n]=new this(o);else throw Error(invalidArgument+n+": "+o);return this}var Decimal=clone(defaults);ONE=new Decimal(1);const Decimal$1=Decimal;var identity=e=>e,PLACE_HOLDER={},isPlaceHolder=e=>e===PLACE_HOLDER,curry0=e=>function t(){return arguments.length===0||arguments.length===1&&isPlaceHolder(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},curryN=(e,t)=>e===1?t:curry0(function(){for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];var u=o.filter(m=>m!==PLACE_HOLDER).length;return u>=e?t(...o):curryN(e-u,curry0(function(){for(var m=arguments.length,p=new Array(m),j=0;j<m;j++)p[j]=arguments[j];var f=o.map(g=>isPlaceHolder(g)?p.shift():g);return t(...f,...p)}))}),curry=e=>curryN(e.length,e),range=(e,t)=>{for(var n=[],o=e;o<t;++o)n[o-e]=o;return n},map=curry((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),compose=function e(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];if(!n.length)return identity;var l=n.reverse(),u=l[0],m=l.slice(1);return function(){return m.reduce((p,j)=>j(p),u(...arguments))}},reverse=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),memoize=e=>{var t=null,n=null;return function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return t&&l.every((m,p)=>{var j;return m===((j=t)===null||j===void 0?void 0:j[p])})||(t=l,n=e(...l)),n}};function getDigitCount(e){var t;return e===0?t=1:t=Math.floor(new Decimal$1(e).abs().log(10).toNumber())+1,t}function rangeStep(e,t,n){for(var o=new Decimal$1(e),l=0,u=[];o.lt(t)&&l<1e5;)u.push(o.toNumber()),o=o.add(n),l++;return u}curry((e,t,n)=>{var o=+e,l=+t;return o+n*(l-o)});curry((e,t,n)=>{var o=t-+e;return o=o||1/0,(n-e)/o});curry((e,t,n)=>{var o=t-+e;return o=o||1/0,Math.max(0,Math.min(1,(n-e)/o))});var getValidInterval=e=>{var[t,n]=e,[o,l]=[t,n];return t>n&&([o,l]=[n,t]),[o,l]},getFormatStep=(e,t,n)=>{if(e.lte(0))return new Decimal$1(0);var o=getDigitCount(e.toNumber()),l=new Decimal$1(10).pow(o),u=e.div(l),m=o!==1?.05:.1,p=new Decimal$1(Math.ceil(u.div(m).toNumber())).add(n).mul(m),j=p.mul(l);return t?new Decimal$1(j.toNumber()):new Decimal$1(Math.ceil(j.toNumber()))},getTickOfSingleValue=(e,t,n)=>{var o=new Decimal$1(1),l=new Decimal$1(e);if(!l.isint()&&n){var u=Math.abs(e);u<1?(o=new Decimal$1(10).pow(getDigitCount(e)-1),l=new Decimal$1(Math.floor(l.div(o).toNumber())).mul(o)):u>1&&(l=new Decimal$1(Math.floor(e)))}else e===0?l=new Decimal$1(Math.floor((t-1)/2)):n||(l=new Decimal$1(Math.floor(e)));var m=Math.floor((t-1)/2),p=compose(map(j=>l.add(new Decimal$1(j-m).mul(o)).toNumber()),range);return p(0,t)},_calculateStep=function e(t,n,o,l){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(o-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var m=getFormatStep(new Decimal$1(n).sub(t).div(o-1),l,u),p;t<=0&&n>=0?p=new Decimal$1(0):(p=new Decimal$1(t).add(n).div(2),p=p.sub(new Decimal$1(p).mod(m)));var j=Math.ceil(p.sub(t).div(m).toNumber()),f=Math.ceil(new Decimal$1(n).sub(p).div(m).toNumber()),g=j+f+1;return g>o?_calculateStep(t,n,o,l,u+1):(g<o&&(f=n>0?f+(o-g):f,j=n>0?j:j+(o-g)),{step:m,tickMin:p.sub(new Decimal$1(j).mul(m)),tickMax:p.add(new Decimal$1(f).mul(m))})};function getNiceTickValuesFn(e){var[t,n]=e,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,u=Math.max(o,2),[m,p]=getValidInterval([t,n]);if(m===-1/0||p===1/0){var j=p===1/0?[m,...range(0,o-1).map(()=>1/0)]:[...range(0,o-1).map(()=>-1/0),p];return t>n?reverse(j):j}if(m===p)return getTickOfSingleValue(m,o,l);var{step:f,tickMin:g,tickMax:b}=_calculateStep(m,p,u,l,0),R=rangeStep(g,b.add(new Decimal$1(.1).mul(f)),f);return t>n?reverse(R):R}function getTickValuesFixedDomainFn(e,t){var[n,o]=e,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[u,m]=getValidInterval([n,o]);if(u===-1/0||m===1/0)return[n,o];if(u===m)return[u];var p=Math.max(t,2),j=getFormatStep(new Decimal$1(m).sub(u).div(p-1),l,0),f=[...rangeStep(new Decimal$1(u),new Decimal$1(m),j),m];return l===!1&&(f=f.map(g=>Math.round(g))),n>o?reverse(f):f}var getNiceTickValues=memoize(getNiceTickValuesFn),getTickValuesFixedDomain=memoize(getTickValuesFixedDomainFn),selectRootMaxBarSize=e=>e.rootProps.maxBarSize,selectBarGap=e=>e.rootProps.barGap,selectBarCategoryGap=e=>e.rootProps.barCategoryGap,selectRootBarSize=e=>e.rootProps.barSize,selectStackOffsetType=e=>e.rootProps.stackOffset,selectChartName=e=>e.options.chartName,selectSyncId=e=>e.rootProps.syncId,selectSyncMethod=e=>e.rootProps.syncMethod,selectEventEmitter=e=>e.options.eventEmitter,defaultPolarAngleAxisProps={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},defaultPolarRadiusAxisProps={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},combineAxisRangeWithReverse=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},implicitAngleAxis={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:defaultPolarAngleAxisProps.angleAxisId,includeHidden:!1,name:void 0,reversed:defaultPolarAngleAxisProps.reversed,scale:defaultPolarAngleAxisProps.scale,tick:defaultPolarAngleAxisProps.tick,tickCount:void 0,ticks:void 0,type:defaultPolarAngleAxisProps.type,unit:void 0},implicitRadiusAxis={allowDataOverflow:defaultPolarRadiusAxisProps.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:defaultPolarRadiusAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarRadiusAxisProps.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarRadiusAxisProps.scale,tick:defaultPolarRadiusAxisProps.tick,tickCount:defaultPolarRadiusAxisProps.tickCount,ticks:void 0,type:defaultPolarRadiusAxisProps.type,unit:void 0},implicitRadialBarAngleAxis={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:defaultPolarAngleAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarAngleAxisProps.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarAngleAxisProps.scale,tick:defaultPolarAngleAxisProps.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},implicitRadialBarRadiusAxis={allowDataOverflow:defaultPolarRadiusAxisProps.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:defaultPolarRadiusAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarRadiusAxisProps.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarRadiusAxisProps.scale,tick:defaultPolarRadiusAxisProps.tick,tickCount:defaultPolarRadiusAxisProps.tickCount,ticks:void 0,type:"category",unit:void 0},selectAngleAxis=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?implicitRadialBarAngleAxis:implicitAngleAxis,selectRadiusAxis=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?implicitRadialBarRadiusAxis:implicitRadiusAxis,selectPolarOptions=e=>e.polarOptions,selectMaxRadius=createSelector([selectChartWidth,selectChartHeight,selectChartOffsetInternal],getMaxRadius),selectInnerRadius=createSelector([selectPolarOptions,selectMaxRadius],(e,t)=>{if(e!=null)return getPercentValue(e.innerRadius,t,0)}),selectOuterRadius=createSelector([selectPolarOptions,selectMaxRadius],(e,t)=>{if(e!=null)return getPercentValue(e.outerRadius,t,t*.8)}),combineAngleAxisRange=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},selectAngleAxisRange=createSelector([selectPolarOptions],combineAngleAxisRange);createSelector([selectAngleAxis,selectAngleAxisRange],combineAxisRangeWithReverse);var selectRadiusAxisRange=createSelector([selectMaxRadius,selectInnerRadius,selectOuterRadius],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});createSelector([selectRadiusAxis,selectRadiusAxisRange],combineAxisRangeWithReverse);var selectPolarViewBox=createSelector([selectChartLayout,selectPolarOptions,selectInnerRadius,selectOuterRadius,selectChartWidth,selectChartHeight],(e,t,n,o,l,u)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||o==null)){var{cx:m,cy:p,startAngle:j,endAngle:f}=t;return{cx:getPercentValue(m,l,l/2),cy:getPercentValue(p,u,u/2),innerRadius:n,outerRadius:o,startAngle:j,endAngle:f,clockWise:!1}}}),pickAxisType=(e,t)=>t,pickAxisId=(e,t,n)=>n;function getStackSeriesIdentifier(e){return e?.id}var selectTooltipAxisType=e=>{var t=selectChartLayout(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},selectTooltipAxisId=e=>e.tooltip.settings.axisId,selectTooltipAxis=e=>{var t=selectTooltipAxisType(e),n=selectTooltipAxisId(e);return selectAxisSettings(e,t,n)},selectTooltipAxisDataKey=createSelector([selectTooltipAxis],e=>e?.dataKey);function combineDisplayedStackedData(e,t,n){var{chartData:o=[]}=t,{allowDuplicatedCategory:l,dataKey:u}=n,m=new Map;return e.forEach(p=>{var j,f=(j=p.data)!==null&&j!==void 0?j:o;if(!(f==null||f.length===0)){var g=getStackSeriesIdentifier(p);f.forEach((b,R)=>{var v=u==null||l?R:String(getValueByDataKey(b,u,null)),N=getValueByDataKey(b,p.dataKey,0),S;m.has(v)?S=m.get(v):S={},Object.assign(S,{[g]:N}),m.set(v,S)})}}),Array.from(m.values())}function isStacked(e){return e.stackId!=null&&e.dataKey!=null}function ownKeys$o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$o(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$o(Object(n),!0).forEach(function(o){_defineProperty$q(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$o(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$q(e,t,n){return(t=_toPropertyKey$q(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$q(e){var t=_toPrimitive$q(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$q(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var defaultNumericDomain=[0,"auto"],implicitXAxis={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},selectXAxisSettingsNoDefaults=(e,t)=>e.cartesianAxis.xAxis[t],selectXAxisSettings=(e,t)=>{var n=selectXAxisSettingsNoDefaults(e,t);return n??implicitXAxis},implicitYAxis={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:defaultNumericDomain,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:DEFAULT_Y_AXIS_WIDTH},selectYAxisSettingsNoDefaults=(e,t)=>e.cartesianAxis.yAxis[t],selectYAxisSettings=(e,t)=>{var n=selectYAxisSettingsNoDefaults(e,t);return n??implicitYAxis},implicitZAxis={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},selectZAxisSettings=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??implicitZAxis},selectBaseAxis=(e,t,n)=>{switch(t){case"xAxis":return selectXAxisSettings(e,n);case"yAxis":return selectYAxisSettings(e,n);case"zAxis":return selectZAxisSettings(e,n);case"angleAxis":return selectAngleAxis(e,n);case"radiusAxis":return selectRadiusAxis(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},selectCartesianAxisSettings=(e,t,n)=>{switch(t){case"xAxis":return selectXAxisSettings(e,n);case"yAxis":return selectYAxisSettings(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},selectAxisSettings=(e,t,n)=>{switch(t){case"xAxis":return selectXAxisSettings(e,n);case"yAxis":return selectYAxisSettings(e,n);case"angleAxis":return selectAngleAxis(e,n);case"radiusAxis":return selectRadiusAxis(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},selectHasBar=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function itemAxisPredicate(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var selectUnfilteredCartesianItems=e=>e.graphicalItems.cartesianItems,selectAxisPredicate$1=createSelector([pickAxisType,pickAxisId],itemAxisPredicate),combineGraphicalItemsSettings=(e,t,n)=>e.filter(n).filter(o=>t?.includeHidden===!0?!0:!o.hide),selectCartesianItemsSettings=createSelector([selectUnfilteredCartesianItems,selectBaseAxis,selectAxisPredicate$1],combineGraphicalItemsSettings),selectStackedCartesianItemsSettings=createSelector([selectCartesianItemsSettings],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(isStacked)),filterGraphicalNotStackedItems=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),selectCartesianItemsSettingsExceptStacked=createSelector([selectCartesianItemsSettings],filterGraphicalNotStackedItems),combineGraphicalItemsData=e=>e.map(t=>t.data).filter(Boolean).flat(1),selectCartesianGraphicalItemsData=createSelector([selectCartesianItemsSettings],combineGraphicalItemsData),combineDisplayedData=(e,t)=>{var{chartData:n=[],dataStartIndex:o,dataEndIndex:l}=t;return e.length>0?e:n.slice(o,l+1)},selectDisplayedData$1=createSelector([selectCartesianGraphicalItemsData,selectChartDataWithIndexesIfNotInPanorama],combineDisplayedData),combineAppliedValues=(e,t,n)=>t?.dataKey!=null?e.map(o=>({value:getValueByDataKey(o,t.dataKey)})):n.length>0?n.map(o=>o.dataKey).flatMap(o=>e.map(l=>({value:getValueByDataKey(l,o)}))):e.map(o=>({value:o})),selectAllAppliedValues=createSelector([selectDisplayedData$1,selectBaseAxis,selectCartesianItemsSettings],combineAppliedValues);function isErrorBarRelevantForAxisType(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function onlyAllowNumbers(e){return e.filter(t=>isNumOrStr(t)||t instanceof Date).map(Number).filter(t=>isNan(t)===!1)}function getErrorDomainByDataKey(e,t,n){return!n||typeof t!="number"||isNan(t)?[]:n.length?onlyAllowNumbers(n.flatMap(o=>{var l=getValueByDataKey(e,o.dataKey),u,m;if(Array.isArray(l)?[u,m]=l:u=m=l,!(!isWellBehavedNumber(u)||!isWellBehavedNumber(m)))return[t-u,t+m]})):[]}var selectDisplayedStackedData=createSelector([selectStackedCartesianItemsSettings,selectChartDataWithIndexesIfNotInPanorama,selectTooltipAxis],combineDisplayedStackedData),combineStackGroups=(e,t,n)=>{var o={},l=t.reduce((u,m)=>(m.stackId==null||(u[m.stackId]==null&&(u[m.stackId]=[]),u[m.stackId].push(m)),u),o);return Object.fromEntries(Object.entries(l).map(u=>{var[m,p]=u,j=p.map(getStackSeriesIdentifier);return[m,{stackedData:getStackedData(e,j,n),graphicalItems:p}]}))},selectStackGroups=createSelector([selectDisplayedStackedData,selectStackedCartesianItemsSettings,selectStackOffsetType],combineStackGroups),combineDomainOfStackGroups=(e,t,n)=>{var{dataStartIndex:o,dataEndIndex:l}=t;if(n!=="zAxis"){var u=getDomainOfStackGroups(e,o,l);if(!(u!=null&&u[0]===0&&u[1]===0))return u}},selectDomainOfStackGroups=createSelector([selectStackGroups,selectChartDataWithIndexes,pickAxisType],combineDomainOfStackGroups),combineAppliedNumericalValuesIncludingErrorValues=(e,t,n,o,l)=>n.length>0?e.flatMap(u=>n.flatMap(m=>{var p,j,f=(p=o[m.id])===null||p===void 0?void 0:p.filter(b=>isErrorBarRelevantForAxisType(l,b)),g=getValueByDataKey(u,(j=t.dataKey)!==null&&j!==void 0?j:m.dataKey);return{value:g,errorDomain:getErrorDomainByDataKey(u,g,f)}})).filter(Boolean):t?.dataKey!=null?e.map(u=>({value:getValueByDataKey(u,t.dataKey),errorDomain:[]})):e.map(u=>({value:u,errorDomain:[]})),selectAllErrorBarSettings=e=>e.errorBars,combineRelevantErrorBarSettings=(e,t,n)=>e.flatMap(o=>t[o.id]).filter(Boolean).filter(o=>isErrorBarRelevantForAxisType(n,o));createSelector([selectCartesianItemsSettingsExceptStacked,selectAllErrorBarSettings,pickAxisType],combineRelevantErrorBarSettings);var selectAllAppliedNumericalValuesIncludingErrorValues=createSelector([selectDisplayedData$1,selectBaseAxis,selectCartesianItemsSettingsExceptStacked,selectAllErrorBarSettings,pickAxisType],combineAppliedNumericalValuesIncludingErrorValues);function onlyAllowNumbersAndStringsAndDates(e){var{value:t}=e;if(isNumOrStr(t)||t instanceof Date)return t}var computeNumericalDomain=e=>{var t=e.flatMap(o=>[o.value,o.errorDomain]).flat(1),n=onlyAllowNumbers(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},computeDomainOfTypeCategory=(e,t,n)=>{var o=e.map(onlyAllowNumbersAndStringsAndDates).filter(l=>l!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&hasDuplicate(o))?range$2(0,e.length):t.allowDuplicatedCategory?o:Array.from(new Set(o))},getDomainDefinition=e=>{var t;if(e==null||!("domain"in e))return defaultNumericDomain;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=onlyAllowNumbers(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:defaultNumericDomain},mergeDomains=function e(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var l=n.filter(Boolean);if(l.length!==0){var u=l.flat(),m=Math.min(...u),p=Math.max(...u);return[m,p]}},selectReferenceDots=e=>e.referenceElements.dots,filterReferenceElements=(e,t,n)=>e.filter(o=>o.ifOverflow==="extendDomain").filter(o=>t==="xAxis"?o.xAxisId===n:o.yAxisId===n),selectReferenceDotsByAxis=createSelector([selectReferenceDots,pickAxisType,pickAxisId],filterReferenceElements),selectReferenceAreas=e=>e.referenceElements.areas,selectReferenceAreasByAxis=createSelector([selectReferenceAreas,pickAxisType,pickAxisId],filterReferenceElements),selectReferenceLines=e=>e.referenceElements.lines,selectReferenceLinesByAxis=createSelector([selectReferenceLines,pickAxisType,pickAxisId],filterReferenceElements),combineDotsDomain=(e,t)=>{var n=onlyAllowNumbers(e.map(o=>t==="xAxis"?o.x:o.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},selectReferenceDotsDomain=createSelector(selectReferenceDotsByAxis,pickAxisType,combineDotsDomain),combineAreasDomain=(e,t)=>{var n=onlyAllowNumbers(e.flatMap(o=>[t==="xAxis"?o.x1:o.y1,t==="xAxis"?o.x2:o.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},selectReferenceAreasDomain=createSelector([selectReferenceAreasByAxis,pickAxisType],combineAreasDomain),combineLinesDomain=(e,t)=>{var n=onlyAllowNumbers(e.map(o=>t==="xAxis"?o.x:o.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},selectReferenceLinesDomain=createSelector(selectReferenceLinesByAxis,pickAxisType,combineLinesDomain),selectReferenceElementsDomain=createSelector(selectReferenceDotsDomain,selectReferenceLinesDomain,selectReferenceAreasDomain,(e,t,n)=>mergeDomains(e,n,t)),selectDomainDefinition=createSelector([selectBaseAxis],getDomainDefinition),combineNumericalDomain=(e,t,n,o,l,u,m)=>{var p=numericalDomainSpecifiedWithoutRequiringData(t,e.allowDataOverflow);if(p!=null)return p;var j=u==="vertical"&&m==="xAxis"||u==="horizontal"&&m==="yAxis",f=j?mergeDomains(n,l,computeNumericalDomain(o)):mergeDomains(l,computeNumericalDomain(o));return parseNumericalUserDomain(t,f,e.allowDataOverflow)},selectNumericalDomain=createSelector([selectBaseAxis,selectDomainDefinition,selectDomainOfStackGroups,selectAllAppliedNumericalValuesIncludingErrorValues,selectReferenceElementsDomain,selectChartLayout,pickAxisType],combineNumericalDomain),expandDomain=[0,1],combineAxisDomain=(e,t,n,o,l,u,m)=>{if(!((e==null||n==null||n.length===0)&&m===void 0)){var{dataKey:p,type:j}=e,f=isCategoricalAxis(t,u);return f&&p==null?range$2(0,n.length):j==="category"?computeDomainOfTypeCategory(o,e,f):l==="expand"?expandDomain:m}},selectAxisDomain=createSelector([selectBaseAxis,selectChartLayout,selectDisplayedData$1,selectAllAppliedValues,selectStackOffsetType,pickAxisType,selectNumericalDomain],combineAxisDomain),combineRealScaleType=(e,t,n,o,l)=>{if(e!=null){var{scale:u,type:m}=e;if(u==="auto")return t==="radial"&&l==="radiusAxis"?"band":t==="radial"&&l==="angleAxis"?"linear":m==="category"&&o&&(o.indexOf("LineChart")>=0||o.indexOf("AreaChart")>=0||o.indexOf("ComposedChart")>=0&&!n)?"point":m==="category"?"band":"linear";if(typeof u=="string"){var p="scale".concat(upperFirst(u));return p in d3Scales?p:"point"}}},selectRealScaleType=createSelector([selectBaseAxis,selectChartLayout,selectHasBar,selectChartName,pickAxisType],combineRealScaleType);function getD3ScaleFromType(e){if(e!=null){if(e in d3Scales)return d3Scales[e]();var t="scale".concat(upperFirst(e));if(t in d3Scales)return d3Scales[t]()}}function combineScaleFunction(e,t,n,o){if(!(n==null||o==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(o);var l=getD3ScaleFromType(t);if(l!=null){var u=l.domain(n).range(o);return checkDomainOfScale(u),u}}}var combineNiceTicks=(e,t,n)=>{var o=getDomainDefinition(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(o)&&(o[0]==="auto"||o[1]==="auto")&&isWellFormedNumberDomain(e))return getNiceTickValues(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&isWellFormedNumberDomain(e))return getTickValuesFixedDomain(e,t.tickCount,t.allowDecimals)}},selectNiceTicks=createSelector([selectAxisDomain,selectAxisSettings,selectRealScaleType],combineNiceTicks),combineAxisDomainWithNiceTicks=(e,t,n,o)=>{if(o!=="angleAxis"&&e?.type==="number"&&isWellFormedNumberDomain(t)&&Array.isArray(n)&&n.length>0){var l=t[0],u=n[0],m=t[1],p=n[n.length-1];return[Math.min(l,u),Math.max(m,p)]}return t},selectAxisDomainIncludingNiceTicks=createSelector([selectBaseAxis,selectAxisDomain,selectNiceTicks,pickAxisType],combineAxisDomainWithNiceTicks),selectSmallestDistanceBetweenValues=createSelector(selectAllAppliedValues,selectBaseAxis,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,o=Array.from(onlyAllowNumbers(e.map(p=>p.value))).sort((p,j)=>p-j);if(o.length<2)return 1/0;var l=o[o.length-1]-o[0];if(l===0)return 1/0;for(var u=0;u<o.length-1;u++){var m=o[u+1]-o[u];n=Math.min(n,m)}return n/l}}),selectCalculatedPadding=createSelector(selectSmallestDistanceBetweenValues,selectChartLayout,selectBarCategoryGap,selectChartOffsetInternal,(e,t,n,o)=>o,(e,t,n,o,l)=>{if(!isWellBehavedNumber(e))return 0;var u=t==="vertical"?o.height:o.width;if(l==="gap")return e*u/2;if(l==="no-gap"){var m=getPercentValue(n,e*u),p=e*u/2;return p-m-(p-m)/u*m}return 0}),selectCalculatedXAxisPadding=(e,t)=>{var n=selectXAxisSettings(e,t);return n==null||typeof n.padding!="string"?0:selectCalculatedPadding(e,"xAxis",t,n.padding)},selectCalculatedYAxisPadding=(e,t)=>{var n=selectYAxisSettings(e,t);return n==null||typeof n.padding!="string"?0:selectCalculatedPadding(e,"yAxis",t,n.padding)},selectXAxisPadding=createSelector(selectXAxisSettings,selectCalculatedXAxisPadding,(e,t)=>{var n,o;if(e==null)return{left:0,right:0};var{padding:l}=e;return typeof l=="string"?{left:t,right:t}:{left:((n=l.left)!==null&&n!==void 0?n:0)+t,right:((o=l.right)!==null&&o!==void 0?o:0)+t}}),selectYAxisPadding=createSelector(selectYAxisSettings,selectCalculatedYAxisPadding,(e,t)=>{var n,o;if(e==null)return{top:0,bottom:0};var{padding:l}=e;return typeof l=="string"?{top:t,bottom:t}:{top:((n=l.top)!==null&&n!==void 0?n:0)+t,bottom:((o=l.bottom)!==null&&o!==void 0?o:0)+t}}),combineXAxisRange=createSelector([selectChartOffsetInternal,selectXAxisPadding,selectBrushDimensions,selectBrushSettings,(e,t,n)=>n],(e,t,n,o,l)=>{var{padding:u}=o;return l?[u.left,n.width-u.right]:[e.left+t.left,e.left+e.width-t.right]}),combineYAxisRange=createSelector([selectChartOffsetInternal,selectChartLayout,selectYAxisPadding,selectBrushDimensions,selectBrushSettings,(e,t,n)=>n],(e,t,n,o,l,u)=>{var{padding:m}=l;return u?[o.height-m.bottom,m.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),selectAxisRange=(e,t,n,o)=>{var l;switch(t){case"xAxis":return combineXAxisRange(e,n,o);case"yAxis":return combineYAxisRange(e,n,o);case"zAxis":return(l=selectZAxisSettings(e,n))===null||l===void 0?void 0:l.range;case"angleAxis":return selectAngleAxisRange(e);case"radiusAxis":return selectRadiusAxisRange(e,n);default:return}},selectAxisRangeWithReverse=createSelector([selectBaseAxis,selectAxisRange],combineAxisRangeWithReverse),selectAxisScale=createSelector([selectBaseAxis,selectRealScaleType,selectAxisDomainIncludingNiceTicks,selectAxisRangeWithReverse],combineScaleFunction);createSelector([selectCartesianItemsSettings,selectAllErrorBarSettings,pickAxisType],combineRelevantErrorBarSettings);function compareIds(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var pickAxisOrientation=(e,t)=>t,pickMirror=(e,t,n)=>n,selectAllXAxesWithOffsetType=createSelector(selectAllXAxes,pickAxisOrientation,pickMirror,(e,t,n)=>e.filter(o=>o.orientation===t).filter(o=>o.mirror===n).sort(compareIds)),selectAllYAxesWithOffsetType=createSelector(selectAllYAxes,pickAxisOrientation,pickMirror,(e,t,n)=>e.filter(o=>o.orientation===t).filter(o=>o.mirror===n).sort(compareIds)),getXAxisSize=(e,t)=>({width:e.width,height:t.height}),getYAxisSize=(e,t)=>{var n=typeof t.width=="number"?t.width:DEFAULT_Y_AXIS_WIDTH;return{width:n,height:e.height}},selectXAxisSize=createSelector(selectChartOffsetInternal,selectXAxisSettings,getXAxisSize),combineXAxisPositionStartingPoint=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},combineYAxisPositionStartingPoint=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},selectAllXAxesOffsetSteps=createSelector(selectChartHeight,selectChartOffsetInternal,selectAllXAxesWithOffsetType,pickAxisOrientation,pickMirror,(e,t,n,o,l)=>{var u={},m;return n.forEach(p=>{var j=getXAxisSize(t,p);m==null&&(m=combineXAxisPositionStartingPoint(t,o,e));var f=o==="top"&&!l||o==="bottom"&&l;u[p.id]=m-Number(f)*j.height,m+=(f?-1:1)*j.height}),u}),selectAllYAxesOffsetSteps=createSelector(selectChartWidth,selectChartOffsetInternal,selectAllYAxesWithOffsetType,pickAxisOrientation,pickMirror,(e,t,n,o,l)=>{var u={},m;return n.forEach(p=>{var j=getYAxisSize(t,p);m==null&&(m=combineYAxisPositionStartingPoint(t,o,e));var f=o==="left"&&!l||o==="right"&&l;u[p.id]=m-Number(f)*j.width,m+=(f?-1:1)*j.width}),u}),selectXAxisOffsetSteps=(e,t)=>{var n=selectXAxisSettings(e,t);if(n!=null)return selectAllXAxesOffsetSteps(e,n.orientation,n.mirror)},selectXAxisPosition=createSelector([selectChartOffsetInternal,selectXAxisSettings,selectXAxisOffsetSteps,(e,t)=>t],(e,t,n,o)=>{if(t!=null){var l=n?.[o];return l==null?{x:e.left,y:0}:{x:e.left,y:l}}}),selectYAxisOffsetSteps=(e,t)=>{var n=selectYAxisSettings(e,t);if(n!=null)return selectAllYAxesOffsetSteps(e,n.orientation,n.mirror)},selectYAxisPosition=createSelector([selectChartOffsetInternal,selectYAxisSettings,selectYAxisOffsetSteps,(e,t)=>t],(e,t,n,o)=>{if(t!=null){var l=n?.[o];return l==null?{x:0,y:e.top}:{x:l,y:e.top}}}),selectYAxisSize=createSelector(selectChartOffsetInternal,selectYAxisSettings,(e,t)=>{var n=typeof t.width=="number"?t.width:DEFAULT_Y_AXIS_WIDTH;return{width:n,height:e.height}}),selectCartesianAxisSize=(e,t,n)=>{switch(t){case"xAxis":return selectXAxisSize(e,n).width;case"yAxis":return selectYAxisSize(e,n).height;default:return}},combineDuplicateDomain=(e,t,n,o)=>{if(n!=null){var{allowDuplicatedCategory:l,type:u,dataKey:m}=n,p=isCategoricalAxis(e,o),j=t.map(f=>f.value);if(m&&p&&u==="category"&&l&&hasDuplicate(j))return j}},selectDuplicateDomain=createSelector([selectChartLayout,selectAllAppliedValues,selectBaseAxis,pickAxisType],combineDuplicateDomain),combineCategoricalDomain=(e,t,n,o)=>{if(!(n==null||n.dataKey==null)){var{type:l,scale:u}=n,m=isCategoricalAxis(e,o);if(m&&(l==="number"||u!=="auto"))return t.map(p=>p.value)}},selectCategoricalDomain=createSelector([selectChartLayout,selectAllAppliedValues,selectAxisSettings,pickAxisType],combineCategoricalDomain),selectAxisPropsNeededForCartesianGridTicksGenerator=createSelector([selectChartLayout,selectCartesianAxisSettings,selectRealScaleType,selectAxisScale,selectDuplicateDomain,selectCategoricalDomain,selectAxisRange,selectNiceTicks,pickAxisType],(e,t,n,o,l,u,m,p,j)=>{if(t==null)return null;var f=isCategoricalAxis(e,j);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:j,categoricalDomain:u,duplicateDomain:l,isCategorical:f,niceTicks:p,range:m,realScaleType:n,scale:o}}),combineAxisTicks=(e,t,n,o,l,u,m,p,j)=>{if(!(t==null||o==null)){var f=isCategoricalAxis(e,j),{type:g,ticks:b,tickCount:R}=t,v=n==="scaleBand"&&typeof o.bandwidth=="function"?o.bandwidth()/2:2,N=g==="category"&&o.bandwidth?o.bandwidth()/v:0;N=j==="angleAxis"&&u!=null&&u.length>=2?mathSign(u[0]-u[1])*2*N:N;var S=b||l;if(S){var $=S.map((C,A)=>{var T=m?m.indexOf(C):C;return{index:A,coordinate:o(T)+N,value:C,offset:N}});return $.filter(C=>!isNan(C.coordinate))}return f&&p?p.map((C,A)=>({coordinate:o(C)+N,value:C,index:A,offset:N})):o.ticks?o.ticks(R).map(C=>({coordinate:o(C)+N,value:C,offset:N})):o.domain().map((C,A)=>({coordinate:o(C)+N,value:m?m[C]:C,index:A,offset:N}))}},selectTicksOfAxis=createSelector([selectChartLayout,selectAxisSettings,selectRealScaleType,selectAxisScale,selectNiceTicks,selectAxisRange,selectDuplicateDomain,selectCategoricalDomain,pickAxisType],combineAxisTicks),combineGraphicalItemTicks=(e,t,n,o,l,u,m)=>{if(!(t==null||n==null||o==null||o[0]===o[1])){var p=isCategoricalAxis(e,m),{tickCount:j}=t,f=0;return f=m==="angleAxis"&&o?.length>=2?mathSign(o[0]-o[1])*2*f:f,p&&u?u.map((g,b)=>({coordinate:n(g)+f,value:g,index:b,offset:f})):n.ticks?n.ticks(j).map(g=>({coordinate:n(g)+f,value:g,offset:f})):n.domain().map((g,b)=>({coordinate:n(g)+f,value:l?l[g]:g,index:b,offset:f}))}},selectTicksOfGraphicalItem=createSelector([selectChartLayout,selectAxisSettings,selectAxisScale,selectAxisRange,selectDuplicateDomain,selectCategoricalDomain,pickAxisType],combineGraphicalItemTicks),selectAxisWithScale=createSelector(selectBaseAxis,selectAxisScale,(e,t)=>{if(!(e==null||t==null))return _objectSpread$o(_objectSpread$o({},e),{},{scale:t})}),selectZAxisScale=createSelector([selectBaseAxis,selectRealScaleType,selectAxisDomain,selectAxisRangeWithReverse],combineScaleFunction);createSelector((e,t,n)=>selectZAxisSettings(e,n),selectZAxisScale,(e,t)=>{if(!(e==null||t==null))return _objectSpread$o(_objectSpread$o({},e),{},{scale:t})});var selectChartDirection=createSelector([selectChartLayout,selectAllXAxes,selectAllYAxes],(e,t,n)=>{switch(e){case"horizontal":return t.some(o=>o.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(o=>o.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),selectDefaultTooltipEventType=e=>e.options.defaultTooltipEventType,selectValidateTooltipEventTypes=e=>e.options.validateTooltipEventTypes;function combineTooltipEventType(e,t,n){if(e==null)return t;var o=e?"axis":"item";return n==null?t:n.includes(o)?o:t}function selectTooltipEventType$1(e,t){var n=selectDefaultTooltipEventType(e),o=selectValidateTooltipEventTypes(e);return combineTooltipEventType(t,n,o)}function useTooltipEventType(e){return useAppSelector(t=>selectTooltipEventType$1(t,e))}var combineActiveLabel=(e,t)=>{var n,o=Number(t);if(!(isNan(o)||t==null))return o>=0?e==null||(n=e[o])===null||n===void 0?void 0:n.value:void 0},selectTooltipSettings=e=>e.tooltip.settings,noInteraction={active:!1,index:null,dataKey:void 0,coordinate:void 0},initialState$8={itemInteraction:{click:noInteraction,hover:noInteraction},axisInteraction:{click:noInteraction,hover:noInteraction},keyboardInteraction:noInteraction,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},tooltipSlice=createSlice({name:"tooltip",initialState:initialState$8,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=current(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings,removeTooltipEntrySettings,setTooltipSettingsState,setActiveMouseOverItemIndex,mouseLeaveItem,mouseLeaveChart,setActiveClickItemIndex,setMouseOverAxisIndex,setMouseClickAxisIndex,setSyncInteraction,setKeyboardInteraction}=tooltipSlice.actions,tooltipReducer=tooltipSlice.reducer;function ownKeys$n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$n(Object(n),!0).forEach(function(o){_defineProperty$p(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$n(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$p(e,t,n){return(t=_toPropertyKey$p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$p(e){var t=_toPrimitive$p(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$p(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function chooseAppropriateMouseInteraction(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function hasBeenActivePreviously(e){return e.index!=null}var combineTooltipInteractionState=(e,t,n,o)=>{if(t==null)return noInteraction;var l=chooseAppropriateMouseInteraction(e,t,n);if(l==null)return noInteraction;if(l.active)return l;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var u=e.settings.active===!0;if(hasBeenActivePreviously(l)){if(u)return _objectSpread$n(_objectSpread$n({},l),{},{active:!0})}else if(o!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:o};return _objectSpread$n(_objectSpread$n({},noInteraction),{},{coordinate:l.coordinate})},combineActiveTooltipIndex=(e,t)=>{var n=e?.index;if(n==null)return null;var o=Number(n);if(!isWellBehavedNumber(o))return n;var l=0,u=1/0;return t.length>0&&(u=t.length-1),String(Math.max(l,Math.min(o,u)))},combineCoordinateForDefaultIndex=(e,t,n,o,l,u,m,p)=>{if(!(u==null||p==null)){var j=m[0],f=j==null?void 0:p(j.positions,u);if(f!=null)return f;var g=l?.[Number(u)];if(g)switch(n){case"horizontal":return{x:g.coordinate,y:(o.top+t)/2};default:return{x:(o.left+e)/2,y:g.coordinate}}}},combineTooltipPayloadConfigurations=(e,t,n,o)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var l;return n==="hover"?l=e.itemInteraction.hover.dataKey:l=e.itemInteraction.click.dataKey,l==null&&o!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(u=>{var m;return((m=u.settings)===null||m===void 0?void 0:m.dataKey)===l})},selectTooltipPayloadSearcher=e=>e.options.tooltipPayloadSearcher,selectTooltipState=e=>e.tooltip;function ownKeys$m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$m(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$m(Object(n),!0).forEach(function(o){_defineProperty$o(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$m(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$o(e,t,n){return(t=_toPropertyKey$o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$o(e){var t=_toPrimitive$o(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$o(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function selectFinalData(e,t){return e??t}var combineTooltipPayload=(e,t,n,o,l,u,m)=>{if(!(t==null||u==null)){var{chartData:p,computedData:j,dataStartIndex:f,dataEndIndex:g}=n,b=[];return e.reduce((R,v)=>{var N,{dataDefinedOnItem:S,settings:$}=v,C=selectFinalData(S,p),A=Array.isArray(C)?getSliced(C,f,g):C,T=(N=$?.dataKey)!==null&&N!==void 0?N:o,D=$?.nameKey,I;if(o&&Array.isArray(A)&&!Array.isArray(A[0])&&m==="axis"?I=findEntryInArray(A,o,l):I=u(A,t,j,D),Array.isArray(I))I.forEach(_=>{var M=_objectSpread$m(_objectSpread$m({},$),{},{name:_.name,unit:_.unit,color:void 0,fill:void 0});R.push(getTooltipEntry({tooltipEntrySettings:M,dataKey:_.dataKey,payload:_.payload,value:getValueByDataKey(_.payload,_.dataKey),name:_.name}))});else{var L;R.push(getTooltipEntry({tooltipEntrySettings:$,dataKey:T,payload:I,value:getValueByDataKey(I,T),name:(L=getValueByDataKey(I,D))!==null&&L!==void 0?L:$?.name}))}return R},b)}},selectTooltipAxisRealScaleType=createSelector([selectTooltipAxis,selectChartLayout,selectHasBar,selectChartName,selectTooltipAxisType],combineRealScaleType),selectAllUnfilteredGraphicalItems=createSelector([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),selectTooltipAxisPredicate=createSelector([selectTooltipAxisType,selectTooltipAxisId],itemAxisPredicate),selectAllGraphicalItemsSettings=createSelector([selectAllUnfilteredGraphicalItems,selectTooltipAxis,selectTooltipAxisPredicate],combineGraphicalItemsSettings),selectAllStackedGraphicalItemsSettings=createSelector([selectAllGraphicalItemsSettings],e=>e.filter(isStacked)),selectTooltipGraphicalItemsData=createSelector([selectAllGraphicalItemsSettings],combineGraphicalItemsData),selectTooltipDisplayedData=createSelector([selectTooltipGraphicalItemsData,selectChartDataWithIndexes],combineDisplayedData),selectTooltipStackedData=createSelector([selectAllStackedGraphicalItemsSettings,selectChartDataWithIndexes,selectTooltipAxis],combineDisplayedStackedData),selectAllTooltipAppliedValues=createSelector([selectTooltipDisplayedData,selectTooltipAxis,selectAllGraphicalItemsSettings],combineAppliedValues),selectTooltipAxisDomainDefinition=createSelector([selectTooltipAxis],getDomainDefinition),selectAllStackedGraphicalItems=createSelector([selectAllGraphicalItemsSettings],e=>e.filter(isStacked)),selectTooltipStackGroups=createSelector([selectTooltipStackedData,selectAllStackedGraphicalItems,selectStackOffsetType],combineStackGroups),selectTooltipDomainOfStackGroups=createSelector([selectTooltipStackGroups,selectChartDataWithIndexes,selectTooltipAxisType],combineDomainOfStackGroups),selectTooltipItemsSettingsExceptStacked=createSelector([selectAllGraphicalItemsSettings],filterGraphicalNotStackedItems),selectTooltipAllAppliedNumericalValuesIncludingErrorValues=createSelector([selectTooltipDisplayedData,selectTooltipAxis,selectTooltipItemsSettingsExceptStacked,selectAllErrorBarSettings,selectTooltipAxisType],combineAppliedNumericalValuesIncludingErrorValues),selectReferenceDotsByTooltipAxis=createSelector([selectReferenceDots,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceDotsDomain=createSelector([selectReferenceDotsByTooltipAxis,selectTooltipAxisType],combineDotsDomain),selectReferenceAreasByTooltipAxis=createSelector([selectReferenceAreas,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceAreasDomain=createSelector([selectReferenceAreasByTooltipAxis,selectTooltipAxisType],combineAreasDomain),selectReferenceLinesByTooltipAxis=createSelector([selectReferenceLines,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceLinesDomain=createSelector([selectReferenceLinesByTooltipAxis,selectTooltipAxisType],combineLinesDomain),selectTooltipReferenceElementsDomain=createSelector([selectTooltipReferenceDotsDomain,selectTooltipReferenceLinesDomain,selectTooltipReferenceAreasDomain],mergeDomains),selectTooltipNumericalDomain=createSelector([selectTooltipAxis,selectTooltipAxisDomainDefinition,selectTooltipDomainOfStackGroups,selectTooltipAllAppliedNumericalValuesIncludingErrorValues,selectTooltipReferenceElementsDomain,selectChartLayout,selectTooltipAxisType],combineNumericalDomain),selectTooltipAxisDomain=createSelector([selectTooltipAxis,selectChartLayout,selectTooltipDisplayedData,selectAllTooltipAppliedValues,selectStackOffsetType,selectTooltipAxisType,selectTooltipNumericalDomain],combineAxisDomain),selectTooltipNiceTicks=createSelector([selectTooltipAxisDomain,selectTooltipAxis,selectTooltipAxisRealScaleType],combineNiceTicks),selectTooltipAxisDomainIncludingNiceTicks=createSelector([selectTooltipAxis,selectTooltipAxisDomain,selectTooltipNiceTicks,selectTooltipAxisType],combineAxisDomainWithNiceTicks),selectTooltipAxisRange=e=>{var t=selectTooltipAxisType(e),n=selectTooltipAxisId(e),o=!1;return selectAxisRange(e,t,n,o)},selectTooltipAxisRangeWithReverse=createSelector([selectTooltipAxis,selectTooltipAxisRange],combineAxisRangeWithReverse),selectTooltipAxisScale=createSelector([selectTooltipAxis,selectTooltipAxisRealScaleType,selectTooltipAxisDomainIncludingNiceTicks,selectTooltipAxisRangeWithReverse],combineScaleFunction),selectTooltipDuplicateDomain=createSelector([selectChartLayout,selectAllTooltipAppliedValues,selectTooltipAxis,selectTooltipAxisType],combineDuplicateDomain),selectTooltipCategoricalDomain=createSelector([selectChartLayout,selectAllTooltipAppliedValues,selectTooltipAxis,selectTooltipAxisType],combineCategoricalDomain),combineTicksOfTooltipAxis=(e,t,n,o,l,u,m,p)=>{if(t){var{type:j}=t,f=isCategoricalAxis(e,p);if(o){var g=n==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,b=j==="category"&&o.bandwidth?o.bandwidth()/g:0;return b=p==="angleAxis"&&l!=null&&l?.length>=2?mathSign(l[0]-l[1])*2*b:b,f&&m?m.map((R,v)=>({coordinate:o(R)+b,value:R,index:v,offset:b})):o.domain().map((R,v)=>({coordinate:o(R)+b,value:u?u[R]:R,index:v,offset:b}))}}},selectTooltipAxisTicks=createSelector([selectChartLayout,selectTooltipAxis,selectTooltipAxisRealScaleType,selectTooltipAxisScale,selectTooltipAxisRange,selectTooltipDuplicateDomain,selectTooltipCategoricalDomain,selectTooltipAxisType],combineTicksOfTooltipAxis),selectTooltipEventType=createSelector([selectDefaultTooltipEventType,selectValidateTooltipEventTypes,selectTooltipSettings],(e,t,n)=>combineTooltipEventType(n.shared,e,t)),selectTooltipTrigger=e=>e.tooltip.settings.trigger,selectDefaultIndex=e=>e.tooltip.settings.defaultIndex,selectTooltipInteractionState$1=createSelector([selectTooltipState,selectTooltipEventType,selectTooltipTrigger,selectDefaultIndex],combineTooltipInteractionState),selectActiveTooltipIndex=createSelector([selectTooltipInteractionState$1,selectTooltipDisplayedData],combineActiveTooltipIndex),selectActiveLabel$1=createSelector([selectTooltipAxisTicks,selectActiveTooltipIndex],combineActiveLabel),selectActiveTooltipDataKey=createSelector([selectTooltipInteractionState$1],e=>{if(e)return e.dataKey}),selectTooltipPayloadConfigurations$1=createSelector([selectTooltipState,selectTooltipEventType,selectTooltipTrigger,selectDefaultIndex],combineTooltipPayloadConfigurations),selectTooltipCoordinateForDefaultIndex=createSelector([selectChartWidth,selectChartHeight,selectChartLayout,selectChartOffsetInternal,selectTooltipAxisTicks,selectDefaultIndex,selectTooltipPayloadConfigurations$1,selectTooltipPayloadSearcher],combineCoordinateForDefaultIndex),selectActiveTooltipCoordinate=createSelector([selectTooltipInteractionState$1,selectTooltipCoordinateForDefaultIndex],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),selectIsTooltipActive$1=createSelector([selectTooltipInteractionState$1],e=>e.active),selectActiveTooltipPayload=createSelector([selectTooltipPayloadConfigurations$1,selectActiveTooltipIndex,selectChartDataWithIndexes,selectTooltipAxisDataKey,selectActiveLabel$1,selectTooltipPayloadSearcher,selectTooltipEventType],combineTooltipPayload),selectActiveTooltipDataPoints=createSelector([selectActiveTooltipPayload],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function ownKeys$l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$l(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$l(Object(n),!0).forEach(function(o){_defineProperty$n(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$l(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$n(e,t,n){return(t=_toPropertyKey$n(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$n(e){var t=_toPrimitive$n(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$n(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var useTooltipAxis=()=>useAppSelector(selectTooltipAxis),useTooltipAxisBandSize=()=>{var e=useTooltipAxis(),t=useAppSelector(selectTooltipAxisTicks),n=useAppSelector(selectTooltipAxisScale);return getBandSizeOfAxis(_objectSpread$l(_objectSpread$l({},e),{},{scale:n}),t)},useChartName=()=>useAppSelector(selectChartName),pickTooltipEventType=(e,t)=>t,pickTrigger=(e,t,n)=>n,pickDefaultIndex=(e,t,n,o)=>o,selectOrderedTooltipTicks=createSelector(selectTooltipAxisTicks,e=>sortBy(e,t=>t.coordinate)),selectTooltipInteractionState=createSelector([selectTooltipState,pickTooltipEventType,pickTrigger,pickDefaultIndex],combineTooltipInteractionState),selectActiveIndex=createSelector([selectTooltipInteractionState,selectTooltipDisplayedData],combineActiveTooltipIndex),selectTooltipDataKey=(e,t,n)=>{if(t!=null){var o=selectTooltipState(e);return t==="axis"?n==="hover"?o.axisInteraction.hover.dataKey:o.axisInteraction.click.dataKey:n==="hover"?o.itemInteraction.hover.dataKey:o.itemInteraction.click.dataKey}},selectTooltipPayloadConfigurations=createSelector([selectTooltipState,pickTooltipEventType,pickTrigger,pickDefaultIndex],combineTooltipPayloadConfigurations),selectCoordinateForDefaultIndex=createSelector([selectChartWidth,selectChartHeight,selectChartLayout,selectChartOffsetInternal,selectTooltipAxisTicks,pickDefaultIndex,selectTooltipPayloadConfigurations,selectTooltipPayloadSearcher],combineCoordinateForDefaultIndex),selectActiveCoordinate=createSelector([selectTooltipInteractionState,selectCoordinateForDefaultIndex],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),selectActiveLabel=createSelector(selectTooltipAxisTicks,selectActiveIndex,combineActiveLabel),selectTooltipPayload=createSelector([selectTooltipPayloadConfigurations,selectActiveIndex,selectChartDataWithIndexes,selectTooltipAxisDataKey,selectActiveLabel,selectTooltipPayloadSearcher,pickTooltipEventType],combineTooltipPayload),selectIsTooltipActive=createSelector([selectTooltipInteractionState],e=>({isActive:e.active,activeIndex:e.index})),combineActiveProps=(e,t,n,o,l,u,m,p)=>{if(!(!e||!t||!o||!l||!u)){var j=inRange(e.chartX,e.chartY,t,n,p);if(j){var f=calculateTooltipPos(j,t),g=calculateActiveTickIndex(f,m,u,o,l),b=getActiveCoordinate(t,u,g,j);return{activeIndex:String(g),activeCoordinate:b}}}};function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$h.apply(null,arguments)}function ownKeys$k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$k(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$k(Object(n),!0).forEach(function(o){_defineProperty$m(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$k(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$m(e,t,n){return(t=_toPropertyKey$m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$m(e){var t=_toPrimitive$m(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$m(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CursorInternal(e){var{coordinate:t,payload:n,index:o,offset:l,tooltipAxisBandSize:u,layout:m,cursor:p,tooltipEventType:j,chartName:f}=e,g=t,b=n,R=o;if(!p||!g||f!=="ScatterChart"&&j!=="axis")return null;var v,N;if(f==="ScatterChart")v=g,N=Cross;else if(f==="BarChart")v=getCursorRectangle(m,g,l,u),N=Rectangle;else if(m==="radial"){var{cx:S,cy:$,radius:C,startAngle:A,endAngle:T}=getRadialCursorPoints(g);v={cx:S,cy:$,startAngle:A,endAngle:T,innerRadius:C,outerRadius:C},N=Sector}else v={points:getCursorPoints(m,g,l)},N=Curve;var D=typeof p=="object"&&"className"in p?p.className:void 0,I=_objectSpread$k(_objectSpread$k(_objectSpread$k(_objectSpread$k({stroke:"#ccc",pointerEvents:"none"},l),v),filterProps(p,!1)),{},{payload:b,payloadIndex:R,className:clsx("recharts-tooltip-cursor",D)});return reactExports.isValidElement(p)?reactExports.cloneElement(p,I):reactExports.createElement(N,I)}function Cursor(e){var t=useTooltipAxisBandSize(),n=useOffsetInternal(),o=useChartLayout(),l=useChartName();return reactExports.createElement(CursorInternal,_extends$h({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:o,tooltipAxisBandSize:t,chartName:l}))}var TooltipPortalContext=reactExports.createContext(null),useTooltipPortal=()=>reactExports.useContext(TooltipPortalContext),eventemitter3={exports:{}},hasRequiredEventemitter3;function requireEventemitter3(){return hasRequiredEventemitter3||(hasRequiredEventemitter3=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(n=!1));function l(j,f,g){this.fn=j,this.context=f,this.once=g||!1}function u(j,f,g,b,R){if(typeof g!="function")throw new TypeError("The listener must be a function");var v=new l(g,b||j,R),N=n?n+f:f;return j._events[N]?j._events[N].fn?j._events[N]=[j._events[N],v]:j._events[N].push(v):(j._events[N]=v,j._eventsCount++),j}function m(j,f){--j._eventsCount===0?j._events=new o:delete j._events[f]}function p(){this._events=new o,this._eventsCount=0}p.prototype.eventNames=function(){var f=[],g,b;if(this._eventsCount===0)return f;for(b in g=this._events)t.call(g,b)&&f.push(n?b.slice(1):b);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(g)):f},p.prototype.listeners=function(f){var g=n?n+f:f,b=this._events[g];if(!b)return[];if(b.fn)return[b.fn];for(var R=0,v=b.length,N=new Array(v);R<v;R++)N[R]=b[R].fn;return N},p.prototype.listenerCount=function(f){var g=n?n+f:f,b=this._events[g];return b?b.fn?1:b.length:0},p.prototype.emit=function(f,g,b,R,v,N){var S=n?n+f:f;if(!this._events[S])return!1;var $=this._events[S],C=arguments.length,A,T;if($.fn){switch($.once&&this.removeListener(f,$.fn,void 0,!0),C){case 1:return $.fn.call($.context),!0;case 2:return $.fn.call($.context,g),!0;case 3:return $.fn.call($.context,g,b),!0;case 4:return $.fn.call($.context,g,b,R),!0;case 5:return $.fn.call($.context,g,b,R,v),!0;case 6:return $.fn.call($.context,g,b,R,v,N),!0}for(T=1,A=new Array(C-1);T<C;T++)A[T-1]=arguments[T];$.fn.apply($.context,A)}else{var D=$.length,I;for(T=0;T<D;T++)switch($[T].once&&this.removeListener(f,$[T].fn,void 0,!0),C){case 1:$[T].fn.call($[T].context);break;case 2:$[T].fn.call($[T].context,g);break;case 3:$[T].fn.call($[T].context,g,b);break;case 4:$[T].fn.call($[T].context,g,b,R);break;default:if(!A)for(I=1,A=new Array(C-1);I<C;I++)A[I-1]=arguments[I];$[T].fn.apply($[T].context,A)}}return!0},p.prototype.on=function(f,g,b){return u(this,f,g,b,!1)},p.prototype.once=function(f,g,b){return u(this,f,g,b,!0)},p.prototype.removeListener=function(f,g,b,R){var v=n?n+f:f;if(!this._events[v])return this;if(!g)return m(this,v),this;var N=this._events[v];if(N.fn)N.fn===g&&(!R||N.once)&&(!b||N.context===b)&&m(this,v);else{for(var S=0,$=[],C=N.length;S<C;S++)(N[S].fn!==g||R&&!N[S].once||b&&N[S].context!==b)&&$.push(N[S]);$.length?this._events[v]=$.length===1?$[0]:$:m(this,v)}return this},p.prototype.removeAllListeners=function(f){var g;return f?(g=n?n+f:f,this._events[g]&&m(this,g)):(this._events=new o,this._eventsCount=0),this},p.prototype.off=p.prototype.removeListener,p.prototype.addListener=p.prototype.on,p.prefixed=n,p.EventEmitter=p,e.exports=p})(eventemitter3)),eventemitter3.exports}var eventemitter3Exports=requireEventemitter3();const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);var eventCenter=new EventEmitter,TOOLTIP_SYNC_EVENT="recharts.syncEvent.tooltip",BRUSH_SYNC_EVENT="recharts.syncEvent.brush";function arrayTooltipSearcher(e,t){if(t){var n=Number.parseInt(t,10);if(!isNan(n))return e?.[n]}}var initialState$7={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},optionsSlice=createSlice({name:"options",initialState:initialState$7,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),optionsReducer=optionsSlice.reducer,{createEventEmitter}=optionsSlice.actions;function selectSynchronisedTooltipState(e){return e.tooltip.syncInteraction}var initialChartDataState={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},chartDataSlice=createSlice({name:"chartData",initialState:initialChartDataState,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:o}=t.payload;n!=null&&(e.dataStartIndex=n),o!=null&&(e.dataEndIndex=o)}}}),{setChartData,setDataStartEndIndexes,setComputedData}=chartDataSlice.actions,chartDataReducer=chartDataSlice.reducer,_excluded$i=["x","y"];function ownKeys$j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$j(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$j(Object(n),!0).forEach(function(o){_defineProperty$l(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$j(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$l(e,t,n){return(t=_toPropertyKey$l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$l(e){var t=_toPrimitive$l(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$l(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _objectWithoutProperties$i(e,t){if(e==null)return{};var n,o,l=_objectWithoutPropertiesLoose$i(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)n=u[o],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function _objectWithoutPropertiesLoose$i(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;n[o]=e[o]}return n}var noop$1=()=>{};function useTooltipSyncEventsListener(){var e=useAppSelector(selectSyncId),t=useAppSelector(selectEventEmitter),n=useAppDispatch(),o=useAppSelector(selectSyncMethod),l=useAppSelector(selectTooltipAxisTicks),u=useChartLayout(),m=useViewBox(),p=useAppSelector(j=>j.rootProps.className);reactExports.useEffect(()=>{if(e==null)return noop$1;var j=(f,g,b)=>{if(t!==b&&e===f){if(o==="index"){var R;if(m&&g!==null&&g!==void 0&&(R=g.payload)!==null&&R!==void 0&&R.coordinate){var v=g.payload.coordinate,{x:N,y:S}=v,$=_objectWithoutProperties$i(v,_excluded$i),C=_objectSpread$j(_objectSpread$j(_objectSpread$j({},$),typeof N=="number"&&{x:Math.max(m.x,Math.min(N,m.x+m.width))}),typeof S=="number"&&{y:Math.max(m.y,Math.min(S,m.y+m.height))}),A=_objectSpread$j(_objectSpread$j({},g),{},{payload:_objectSpread$j(_objectSpread$j({},g.payload),{},{coordinate:C})});n(A)}else n(g);return}if(l!=null){var T;if(typeof o=="function"){var D={activeTooltipIndex:g.payload.index==null?void 0:Number(g.payload.index),isTooltipActive:g.payload.active,activeIndex:g.payload.index==null?void 0:Number(g.payload.index),activeLabel:g.payload.label,activeDataKey:g.payload.dataKey,activeCoordinate:g.payload.coordinate},I=o(l,D);T=l[I]}else o==="value"&&(T=l.find(V=>String(V.value)===g.payload.label));var{coordinate:L}=g.payload;if(T==null||g.payload.active===!1||L==null||m==null){n(setSyncInteraction({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:_,y:M}=L,F=Math.min(_,m.x+m.width),B=Math.min(M,m.y+m.height),q={x:u==="horizontal"?T.coordinate:F,y:u==="horizontal"?B:T.coordinate},z=setSyncInteraction({active:g.payload.active,coordinate:q,dataKey:g.payload.dataKey,index:String(T.index),label:g.payload.label});n(z)}}};return eventCenter.on(TOOLTIP_SYNC_EVENT,j),()=>{eventCenter.off(TOOLTIP_SYNC_EVENT,j)}},[p,n,t,e,o,l,u,m])}function useBrushSyncEventsListener(){var e=useAppSelector(selectSyncId),t=useAppSelector(selectEventEmitter),n=useAppDispatch();reactExports.useEffect(()=>{if(e==null)return noop$1;var o=(l,u,m)=>{t!==m&&e===l&&n(setDataStartEndIndexes(u))};return eventCenter.on(BRUSH_SYNC_EVENT,o),()=>{eventCenter.off(BRUSH_SYNC_EVENT,o)}},[n,t,e])}function useSynchronisedEventsFromOtherCharts(){var e=useAppDispatch();reactExports.useEffect(()=>{e(createEventEmitter())},[e]),useTooltipSyncEventsListener(),useBrushSyncEventsListener()}function useTooltipChartSynchronisation(e,t,n,o,l,u){var m=useAppSelector(R=>selectTooltipDataKey(R,e,t)),p=useAppSelector(selectEventEmitter),j=useAppSelector(selectSyncId),f=useAppSelector(selectSyncMethod),g=useAppSelector(selectSynchronisedTooltipState),b=g?.active;reactExports.useEffect(()=>{if(!b&&j!=null&&p!=null){var R=setSyncInteraction({active:u,coordinate:n,dataKey:m,index:l,label:typeof o=="number"?String(o):o});eventCenter.emit(TOOLTIP_SYNC_EVENT,j,R,p)}},[b,n,m,l,o,p,j,f,u])}function ownKeys$i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$i(Object(n),!0).forEach(function(o){_defineProperty$k(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$i(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$k(e,t,n){return(t=_toPropertyKey$k(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$k(e){var t=_toPrimitive$k(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$k(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function defaultUniqBy(e){return e.dataKey}function renderContent(e,t){return reactExports.isValidElement(e)?reactExports.cloneElement(e,t):typeof e=="function"?reactExports.createElement(e,t):reactExports.createElement(DefaultTooltipContent,t)}var emptyPayload=[],defaultTooltipProps={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Global.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Tooltip(e){var t=resolveDefaultProps(e,defaultTooltipProps),{active:n,allowEscapeViewBox:o,animationDuration:l,animationEasing:u,content:m,filterNull:p,isAnimationActive:j,offset:f,payloadUniqBy:g,position:b,reverseDirection:R,useTranslate3d:v,wrapperStyle:N,cursor:S,shared:$,trigger:C,defaultIndex:A,portal:T,axisId:D}=t,I=useAppDispatch(),L=typeof A=="number"?String(A):A;reactExports.useEffect(()=>{I(setTooltipSettingsState({shared:$,trigger:C,axisId:D,active:n,defaultIndex:L}))},[I,$,C,D,n,L]);var _=useViewBox(),M=useAccessibilityLayer(),F=useTooltipEventType($),{activeIndex:B,isActive:q}=useAppSelector(ae=>selectIsTooltipActive(ae,F,C,L)),z=useAppSelector(ae=>selectTooltipPayload(ae,F,C,L)),V=useAppSelector(ae=>selectActiveLabel(ae,F,C,L)),Q=useAppSelector(ae=>selectActiveCoordinate(ae,F,C,L)),ee=z,G=useTooltipPortal(),K=n??q,[J,ne]=useElementOffset([ee,K]),H=F==="axis"?V:void 0;useTooltipChartSynchronisation(F,C,Q,H,B,K);var te=T??G;if(te==null)return null;var Y=ee??emptyPayload;K||(Y=emptyPayload),p&&Y.length&&(Y=getUniqPayload(ee.filter(ae=>ae.value!=null&&(ae.hide!==!0||t.includeHidden)),g,defaultUniqBy));var le=Y.length>0,je=reactExports.createElement(TooltipBoundingBox,{allowEscapeViewBox:o,animationDuration:l,animationEasing:u,isAnimationActive:j,active:K,coordinate:Q,hasPayload:le,offset:f,position:b,reverseDirection:R,useTranslate3d:v,viewBox:_,wrapperStyle:N,lastBoundingBox:J,innerRef:ne,hasPortalFromProps:!!T},renderContent(m,_objectSpread$i(_objectSpread$i({},t),{},{payload:Y,label:H,active:K,coordinate:Q,accessibilityLayer:M})));return reactExports.createElement(reactExports.Fragment,null,reactDomExports.createPortal(je,te),K&&reactExports.createElement(Cursor,{cursor:S,tooltipEventType:F,coordinate:Q,payload:ee,index:B}))}var throttle$2={},debounce$1={},debounce={},hasRequiredDebounce$1;function requireDebounce$1(){return hasRequiredDebounce$1||(hasRequiredDebounce$1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,o,{signal:l,edges:u}={}){let m,p=null;const j=u!=null&&u.includes("leading"),f=u==null||u.includes("trailing"),g=()=>{p!==null&&(n.apply(m,p),m=void 0,p=null)},b=()=>{f&&g(),S()};let R=null;const v=()=>{R!=null&&clearTimeout(R),R=setTimeout(()=>{R=null,b()},o)},N=()=>{R!==null&&(clearTimeout(R),R=null)},S=()=>{N(),m=void 0,p=null},$=()=>{g()},C=function(...A){if(l?.aborted)return;m=this,p=A;const T=R==null;v(),j&&T&&g()};return C.schedule=v,C.cancel=S,C.flush=$,l?.addEventListener("abort",S,{once:!0}),C}e.debounce=t})(debounce)),debounce}var hasRequiredDebounce;function requireDebounce(){return hasRequiredDebounce||(hasRequiredDebounce=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireDebounce$1();function n(o,l=0,u={}){typeof u!="object"&&(u={});const{leading:m=!1,trailing:p=!0,maxWait:j}=u,f=Array(2);m&&(f[0]="leading"),p&&(f[1]="trailing");let g,b=null;const R=t.debounce(function(...S){g=o.apply(this,S),b=null},l,{edges:f}),v=function(...S){return j!=null&&(b===null&&(b=Date.now()),Date.now()-b>=j)?(g=o.apply(this,S),b=Date.now(),R.cancel(),R.schedule(),g):(R.apply(this,S),g)},N=()=>(R.flush(),g);return v.cancel=R.cancel,v.flush=N,v}e.debounce=n})(debounce$1)),debounce$1}var hasRequiredThrottle$1;function requireThrottle$1(){return hasRequiredThrottle$1||(hasRequiredThrottle$1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireDebounce();function n(o,l=0,u={}){const{leading:m=!0,trailing:p=!0}=u;return t.debounce(o,l,{leading:m,maxWait:l,trailing:p})}e.throttle=n})(throttle$2)),throttle$2}var throttle$1,hasRequiredThrottle;function requireThrottle(){return hasRequiredThrottle||(hasRequiredThrottle=1,throttle$1=requireThrottle$1().throttle),throttle$1}var throttleExports=requireThrottle();const throttle=getDefaultExportFromCjs(throttleExports);var warn=function e(t,n){for(var o=arguments.length,l=new Array(o>2?o-2:0),u=2;u<o;u++)l[u-2]=arguments[u]};function ownKeys$h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$h(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$h(Object(n),!0).forEach(function(o){_defineProperty$j(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$h(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$j(e,t,n){return(t=_toPropertyKey$j(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$j(e){var t=_toPrimitive$j(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$j(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ResponsiveContainer=reactExports.forwardRef((e,t)=>{var{aspect:n,initialDimension:o={width:-1,height:-1},width:l="100%",height:u="100%",minWidth:m=0,minHeight:p,maxHeight:j,children:f,debounce:g=0,id:b,className:R,onResize:v,style:N={}}=e,S=reactExports.useRef(null),$=reactExports.useRef();$.current=v,reactExports.useImperativeHandle(t,()=>S.current);var[C,A]=reactExports.useState({containerWidth:o.width,containerHeight:o.height}),T=reactExports.useCallback((I,L)=>{A(_=>{var M=Math.round(I),F=Math.round(L);return _.containerWidth===M&&_.containerHeight===F?_:{containerWidth:M,containerHeight:F}})},[]);reactExports.useEffect(()=>{var I=F=>{var B,{width:q,height:z}=F[0].contentRect;T(q,z),(B=$.current)===null||B===void 0||B.call($,q,z)};g>0&&(I=throttle(I,g,{trailing:!0,leading:!1}));var L=new ResizeObserver(I),{width:_,height:M}=S.current.getBoundingClientRect();return T(_,M),L.observe(S.current),()=>{L.disconnect()}},[T,g]);var D=reactExports.useMemo(()=>{var{containerWidth:I,containerHeight:L}=C;if(I<0||L<0)return null;warn(isPercent(l)||isPercent(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,u),warn(!n||n>0,"The aspect(%s) must be greater than zero.",n);var _=isPercent(l)?I:l,M=isPercent(u)?L:u;return n&&n>0&&(_?M=_/n:M&&(_=M*n),j&&M>j&&(M=j)),warn(_>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,_,M,l,u,m,p,n),reactExports.Children.map(f,F=>reactExports.cloneElement(F,{width:_,height:M,style:_objectSpread$h({width:_,height:M},F.props.style)}))},[n,f,u,j,p,m,C,l]);return reactExports.createElement("div",{id:b?"".concat(b):void 0,className:clsx("recharts-responsive-container",R),style:_objectSpread$h(_objectSpread$h({},N),{},{width:l,height:u,minWidth:m,minHeight:p,maxHeight:j}),ref:S},reactExports.createElement("div",{style:{width:0,height:0,overflow:"visible"}},D))}),Cell=e=>null;Cell.displayName="Cell";function _defineProperty$i(e,t,n){return(t=_toPropertyKey$i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$i(e){var t=_toPrimitive$i(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$i(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class LRUCache{constructor(t){_defineProperty$i(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var o=this.cache.keys().next().value;this.cache.delete(o)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function ownKeys$g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$g(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$g(Object(n),!0).forEach(function(o){_defineProperty$h(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$g(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$h(e,t,n){return(t=_toPropertyKey$h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$h(e){var t=_toPrimitive$h(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$h(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var defaultConfig={cacheSize:2e3,enableCache:!0},currentConfig=_objectSpread$g({},defaultConfig),stringCache=new LRUCache(currentConfig.cacheSize),SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MEASUREMENT_SPAN_ID="recharts_measurement_span";function createCacheKey(e,t){var n=t.fontSize||"",o=t.fontFamily||"",l=t.fontWeight||"",u=t.fontStyle||"",m=t.letterSpacing||"",p=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(o,"|").concat(l,"|").concat(u,"|").concat(m,"|").concat(p)}var measureTextWithDOM=(e,t)=>{try{var n=document.getElementById(MEASUREMENT_SPAN_ID);n||(n=document.createElement("span"),n.setAttribute("id",MEASUREMENT_SPAN_ID),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,SPAN_STYLE,t),n.textContent="".concat(e);var o=n.getBoundingClientRect();return{width:o.width,height:o.height}}catch{return{width:0,height:0}}},getStringSize=function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Global.isSsr)return{width:0,height:0};if(!currentConfig.enableCache)return measureTextWithDOM(t,n);var o=createCacheKey(t,n),l=stringCache.get(o);if(l)return l;var u=measureTextWithDOM(t,n);return stringCache.set(o,u),u},MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FIXED_CSS_LENGTH_UNITS=Object.keys(CONVERSION_RATES),STR_NAN="NaN";function convertToPx(e,t){return e*CONVERSION_RATES[t]}class DecimalCSS{static parse(t){var n,[,o,l]=(n=NUM_SPLIT_REGEX.exec(t))!==null&&n!==void 0?n:[];return new DecimalCSS(parseFloat(o),l??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,isNan(t)&&(this.unit=""),n!==""&&!CSS_LENGTH_UNIT_REGEX.test(n)&&(this.num=NaN,this.unit=""),FIXED_CSS_LENGTH_UNITS.includes(n)&&(this.num=convertToPx(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return isNan(this.num)}}function calculateArithmetic(e){if(e.includes(STR_NAN))return STR_NAN;for(var t=e;t.includes("*")||t.includes("/");){var n,[,o,l,u]=(n=MULTIPLY_OR_DIVIDE_REGEX.exec(t))!==null&&n!==void 0?n:[],m=DecimalCSS.parse(o??""),p=DecimalCSS.parse(u??""),j=l==="*"?m.multiply(p):m.divide(p);if(j.isNaN())return STR_NAN;t=t.replace(MULTIPLY_OR_DIVIDE_REGEX,j.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,g,b,R]=(f=ADD_OR_SUBTRACT_REGEX.exec(t))!==null&&f!==void 0?f:[],v=DecimalCSS.parse(g??""),N=DecimalCSS.parse(R??""),S=b==="+"?v.add(N):v.subtract(N);if(S.isNaN())return STR_NAN;t=t.replace(ADD_OR_SUBTRACT_REGEX,S.toString())}return t}var PARENTHESES_REGEX=/\(([^()]*)\)/;function calculateParentheses(e){for(var t=e,n;(n=PARENTHESES_REGEX.exec(t))!=null;){var[,o]=n;t=t.replace(PARENTHESES_REGEX,calculateArithmetic(o))}return t}function evaluateExpression(e){var t=e.replace(/\s+/g,"");return t=calculateParentheses(t),t=calculateArithmetic(t),t}function safeEvaluateExpression(e){try{return evaluateExpression(e)}catch{return STR_NAN}}function reduceCSSCalc(e){var t=safeEvaluateExpression(e.slice(5,-1));return t===STR_NAN?"":t}var _excluded$h=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_excluded2$9=["dx","dy","angle","className","breakAll"];function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$g.apply(null,arguments)}function _objectWithoutProperties$h(e,t){if(e==null)return{};var n,o,l=_objectWithoutPropertiesLoose$h(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)n=u[o],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function _objectWithoutPropertiesLoose$h(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;n[o]=e[o]}return n}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=e=>{var{children:t,breakAll:n,style:o}=e;try{var l=[];isNullish(t)||(n?l=t.toString().split(""):l=t.toString().split(BREAKING_SPACES));var u=l.map(p=>({word:p,width:getStringSize(p,o).width})),m=n?0:getStringSize("",o).width;return{wordsWithComputedWidth:u,spaceWidth:m}}catch{return null}},calculateWordsByLines=(e,t,n,o,l)=>{var{maxLines:u,children:m,style:p,breakAll:j}=e,f=isNumber(u),g=m,b=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q.reduce((z,V)=>{var{word:Q,width:ee}=V,G=z[z.length-1];if(G&&(o==null||l||G.width+ee+n<Number(o)))G.words.push(Q),G.width+=ee+n;else{var K={words:[Q],width:ee};z.push(K)}return z},[])},R=b(t),v=B=>B.reduce((q,z)=>q.width>z.width?q:z);if(!f||l)return R;var N=R.length>u||v(R).width>Number(o);if(!N)return R;for(var S="",$=B=>{var q=g.slice(0,B),z=calculateWordWidths({breakAll:j,style:p,children:q+S}).wordsWithComputedWidth,V=b(z),Q=V.length>u||v(V).width>Number(o);return[Q,V]},C=0,A=g.length-1,T=0,D;C<=A&&T<=g.length-1;){var I=Math.floor((C+A)/2),L=I-1,[_,M]=$(L),[F]=$(I);if(!_&&!F&&(C=I+1),_&&F&&(A=I-1),!_&&F){D=M;break}T++}return D||R},getWordsWithoutCalculate=e=>{var t=isNullish(e)?[]:e.toString().split(BREAKING_SPACES);return[{words:t}]},getWordsByLines=e=>{var{width:t,scaleToFit:n,children:o,style:l,breakAll:u,maxLines:m}=e;if((t||n)&&!Global.isSsr){var p,j,f=calculateWordWidths({breakAll:u,children:o,style:l});if(f){var{wordsWithComputedWidth:g,spaceWidth:b}=f;p=g,j=b}else return getWordsWithoutCalculate(o);return calculateWordsByLines({breakAll:u,children:o,maxLines:m,style:l},p,j,t,n)}return getWordsWithoutCalculate(o)},DEFAULT_FILL="#808080",Text=reactExports.forwardRef((e,t)=>{var{x:n=0,y:o=0,lineHeight:l="1em",capHeight:u="0.71em",scaleToFit:m=!1,textAnchor:p="start",verticalAnchor:j="end",fill:f=DEFAULT_FILL}=e,g=_objectWithoutProperties$h(e,_excluded$h),b=reactExports.useMemo(()=>getWordsByLines({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:m,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,m,g.style,g.width]),{dx:R,dy:v,angle:N,className:S,breakAll:$}=g,C=_objectWithoutProperties$h(g,_excluded2$9);if(!isNumOrStr(n)||!isNumOrStr(o)||b.length===0)return null;var A=n+(isNumber(R)?R:0),T=o+(isNumber(v)?v:0),D;switch(j){case"start":D=reduceCSSCalc("calc(".concat(u,")"));break;case"middle":D=reduceCSSCalc("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:D=reduceCSSCalc("calc(".concat(b.length-1," * -").concat(l,")"));break}var I=[];if(m){var L=b[0].width,{width:_}=g;I.push("scale(".concat(isNumber(_)?_/L:1,")"))}return N&&I.push("rotate(".concat(N,", ").concat(A,", ").concat(T,")")),I.length&&(C.transform=I.join(" ")),reactExports.createElement("text",_extends$g({},filterProps(C,!0),{ref:t,x:A,y:T,className:clsx("recharts-text",S),textAnchor:p,fill:f.includes("url")?DEFAULT_FILL:f}),b.map((M,F)=>{var B=M.words.join($?"":" ");return reactExports.createElement("tspan",{x:A,dy:F===0?D:l,key:"".concat(B,"-").concat(F)},B)}))});Text.displayName="Text";var _excluded$g=["labelRef"];function _objectWithoutProperties$g(e,t){if(e==null)return{};var n,o,l=_objectWithoutPropertiesLoose$g(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)n=u[o],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function _objectWithoutPropertiesLoose$g(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;n[o]=e[o]}return n}function ownKeys$f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$f(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$f(Object(n),!0).forEach(function(o){_defineProperty$g(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$f(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$g(e,t,n){return(t=_toPropertyKey$g(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$g(e){var t=_toPrimitive$g(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$g(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$f.apply(null,arguments)}var CartesianLabelContext=reactExports.createContext(null),CartesianLabelContextProvider=e=>{var{x:t,y:n,width:o,height:l,children:u}=e,m=reactExports.useMemo(()=>({x:t,y:n,width:o,height:l}),[t,n,o,l]);return reactExports.createElement(CartesianLabelContext.Provider,{value:m},u)},useCartesianLabelContext=()=>{var e=reactExports.useContext(CartesianLabelContext),t=useViewBox();return e||t},PolarLabelContext=reactExports.createContext(null),usePolarLabelContext=()=>{var e=reactExports.useContext(PolarLabelContext),t=useAppSelector(selectPolarViewBox);return e||t},getLabel=e=>{var{value:t,formatter:n}=e,o=isNullish(e.children)?t:e.children;return typeof n=="function"?n(o):o},isLabelContentAFunction=e=>e!=null&&typeof e=="function",getDeltaAngle=(e,t)=>{var n=mathSign(t-e),o=Math.min(Math.abs(t-e),360);return n*o},renderRadialLabel=(e,t,n,o,l)=>{var{offset:u,className:m}=e,{cx:p,cy:j,innerRadius:f,outerRadius:g,startAngle:b,endAngle:R,clockWise:v}=l,N=(f+g)/2,S=getDeltaAngle(b,R),$=S>=0?1:-1,C,A;switch(t){case"insideStart":C=b+$*u,A=v;break;case"insideEnd":C=R-$*u,A=!v;break;case"end":C=R+$*u,A=v;break;default:throw new Error("Unsupported position ".concat(t))}A=S<=0?A:!A;var T=polarToCartesian(p,j,N,C),D=polarToCartesian(p,j,N,C+(A?1:-1)*359),I="M".concat(T.x,",").concat(T.y,`
    A`).concat(N,",").concat(N,",0,1,").concat(A?0:1,`,
    `).concat(D.x,",").concat(D.y),L=isNullish(e.id)?uniqueId("recharts-radial-line-"):e.id;return reactExports.createElement("text",_extends$f({},o,{dominantBaseline:"central",className:clsx("recharts-radial-bar-label",m)}),reactExports.createElement("defs",null,reactExports.createElement("path",{id:L,d:I})),reactExports.createElement("textPath",{xlinkHref:"#".concat(L)},n))},getAttrsOfPolarLabel=(e,t,n)=>{var{cx:o,cy:l,innerRadius:u,outerRadius:m,startAngle:p,endAngle:j}=e,f=(p+j)/2;if(n==="outside"){var{x:g,y:b}=polarToCartesian(o,l,m+t,f);return{x:g,y:b,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var R=(u+m)/2,{x:v,y:N}=polarToCartesian(o,l,R,f);return{x:v,y:N,textAnchor:"middle",verticalAnchor:"middle"}},isPolar=e=>"cx"in e&&isNumber(e.cx),getAttrsOfCartesianLabel=(e,t)=>{var{parentViewBox:n,offset:o,position:l}=e,u;n!=null&&!isPolar(n)&&(u=n);var{x:m,y:p,width:j,height:f}=t,g=f>=0?1:-1,b=g*o,R=g>0?"end":"start",v=g>0?"start":"end",N=j>=0?1:-1,S=N*o,$=N>0?"end":"start",C=N>0?"start":"end";if(l==="top"){var A={x:m+j/2,y:p-g*o,textAnchor:"middle",verticalAnchor:R};return _objectSpread$f(_objectSpread$f({},A),u?{height:Math.max(p-u.y,0),width:j}:{})}if(l==="bottom"){var T={x:m+j/2,y:p+f+b,textAnchor:"middle",verticalAnchor:v};return _objectSpread$f(_objectSpread$f({},T),u?{height:Math.max(u.y+u.height-(p+f),0),width:j}:{})}if(l==="left"){var D={x:m-S,y:p+f/2,textAnchor:$,verticalAnchor:"middle"};return _objectSpread$f(_objectSpread$f({},D),u?{width:Math.max(D.x-u.x,0),height:f}:{})}if(l==="right"){var I={x:m+j+S,y:p+f/2,textAnchor:C,verticalAnchor:"middle"};return _objectSpread$f(_objectSpread$f({},I),u?{width:Math.max(u.x+u.width-I.x,0),height:f}:{})}var L=u?{width:j,height:f}:{};return l==="insideLeft"?_objectSpread$f({x:m+S,y:p+f/2,textAnchor:C,verticalAnchor:"middle"},L):l==="insideRight"?_objectSpread$f({x:m+j-S,y:p+f/2,textAnchor:$,verticalAnchor:"middle"},L):l==="insideTop"?_objectSpread$f({x:m+j/2,y:p+b,textAnchor:"middle",verticalAnchor:v},L):l==="insideBottom"?_objectSpread$f({x:m+j/2,y:p+f-b,textAnchor:"middle",verticalAnchor:R},L):l==="insideTopLeft"?_objectSpread$f({x:m+S,y:p+b,textAnchor:C,verticalAnchor:v},L):l==="insideTopRight"?_objectSpread$f({x:m+j-S,y:p+b,textAnchor:$,verticalAnchor:v},L):l==="insideBottomLeft"?_objectSpread$f({x:m+S,y:p+f-b,textAnchor:C,verticalAnchor:R},L):l==="insideBottomRight"?_objectSpread$f({x:m+j-S,y:p+f-b,textAnchor:$,verticalAnchor:R},L):l&&typeof l=="object"&&(isNumber(l.x)||isPercent(l.x))&&(isNumber(l.y)||isPercent(l.y))?_objectSpread$f({x:m+getPercentValue(l.x,j),y:p+getPercentValue(l.y,f),textAnchor:"end",verticalAnchor:"end"},L):_objectSpread$f({x:m+j/2,y:p+f/2,textAnchor:"middle",verticalAnchor:"middle"},L)},defaultLabelProps={offset:5};function Label(e){var t=resolveDefaultProps(e,defaultLabelProps),{viewBox:n,position:o,value:l,children:u,content:m,className:p="",textBreakAll:j,labelRef:f}=t,g=usePolarLabelContext(),b=useCartesianLabelContext(),R=o==="center"?b:g??b,v=n||R;if(!v||isNullish(l)&&isNullish(u)&&!reactExports.isValidElement(m)&&typeof m!="function")return null;var N=_objectSpread$f(_objectSpread$f({},t),{},{viewBox:v});if(reactExports.isValidElement(m)){var{labelRef:S}=N,$=_objectWithoutProperties$g(N,_excluded$g);return reactExports.cloneElement(m,$)}var C;if(typeof m=="function"){if(C=reactExports.createElement(m,N),reactExports.isValidElement(C))return C}else C=getLabel(t);var A=isPolar(v),T=filterProps(t,!0);if(A&&(o==="insideStart"||o==="insideEnd"||o==="end"))return renderRadialLabel(t,o,C,T,v);var D=A?getAttrsOfPolarLabel(v,t.offset,t.position):getAttrsOfCartesianLabel(t,v);return reactExports.createElement(Text,_extends$f({ref:f,className:clsx("recharts-label",p)},T,D,{breakAll:j}),C)}Label.displayName="Label";var parseLabel=(e,t,n)=>{if(!e)return null;var o={viewBox:t,labelRef:n};return e===!0?reactExports.createElement(Label,_extends$f({key:"label-implicit"},o)):isNumOrStr(e)?reactExports.createElement(Label,_extends$f({key:"label-implicit",value:e},o)):reactExports.isValidElement(e)?e.type===Label?reactExports.cloneElement(e,_objectSpread$f({key:"label-implicit"},o)):reactExports.createElement(Label,_extends$f({key:"label-implicit",content:e},o)):isLabelContentAFunction(e)?reactExports.createElement(Label,_extends$f({key:"label-implicit",content:e},o)):e&&typeof e=="object"?reactExports.createElement(Label,_extends$f({},e,{key:"label-implicit"},o)):null};function CartesianLabelFromLabelProp(e){var{label:t}=e,n=useCartesianLabelContext();return parseLabel(t,n)||null}var last$3={},last$2={},hasRequiredLast$2;function requireLast$2(){return hasRequiredLast$2||(hasRequiredLast$2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(last$2)),last$2}var toArray={},hasRequiredToArray;function requireToArray(){return hasRequiredToArray||(hasRequiredToArray=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(toArray)),toArray}var hasRequiredLast$1;function requireLast$1(){return hasRequiredLast$1||(hasRequiredLast$1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireLast$2(),n=requireToArray(),o=requireIsArrayLike();function l(u){if(o.isArrayLike(u))return t.last(n.toArray(u))}e.last=l})(last$3)),last$3}var last$1,hasRequiredLast;function requireLast(){return hasRequiredLast||(hasRequiredLast=1,last$1=requireLast$1().last),last$1}var lastExports=requireLast();const last=getDefaultExportFromCjs(lastExports);var _excluded$f=["valueAccessor"],_excluded2$8=["dataKey","clockWise","id","textBreakAll"];function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$e.apply(null,arguments)}function _objectWithoutProperties$f(e,t){if(e==null)return{};var n,o,l=_objectWithoutPropertiesLoose$f(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)n=u[o],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function _objectWithoutPropertiesLoose$f(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;n[o]=e[o]}return n}var defaultAccessor=e=>Array.isArray(e.value)?last(e.value):e.value,CartesianLabelListContext=reactExports.createContext(void 0),CartesianLabelListContextProvider=CartesianLabelListContext.Provider,PolarLabelListContext=reactExports.createContext(void 0),PolarLabelListContextProvider=PolarLabelListContext.Provider;function useCartesianLabelListContext(){return reactExports.useContext(CartesianLabelListContext)}function usePolarLabelListContext(){return reactExports.useContext(PolarLabelListContext)}function LabelList(e){var{valueAccessor:t=defaultAccessor}=e,n=_objectWithoutProperties$f(e,_excluded$f),{dataKey:o,clockWise:l,id:u,textBreakAll:m}=n,p=_objectWithoutProperties$f(n,_excluded2$8),j=useCartesianLabelListContext(),f=usePolarLabelListContext(),g=j||f;return!g||!g.length?null:reactExports.createElement(Layer,{className:"recharts-label-list"},g.map((b,R)=>{var v,N=isNullish(o)?t(b,R):getValueByDataKey(b&&b.payload,o),S=isNullish(u)?{}:{id:"".concat(u,"-").concat(R)};return reactExports.createElement(Label,_extends$e({},filterProps(b,!0),p,S,{fill:(v=n.fill)!==null&&v!==void 0?v:b.fill,parentViewBox:b.parentViewBox,value:N,textBreakAll:m,viewBox:b.viewBox,key:"label-".concat(R),index:R}))}))}LabelList.displayName="LabelList";function LabelListFromLabelProp(e){var{label:t}=e;return t?t===!0?reactExports.createElement(LabelList,{key:"labelList-implicit"}):reactExports.isValidElement(t)||isLabelContentAFunction(t)?reactExports.createElement(LabelList,{key:"labelList-implicit",content:t}):typeof t=="object"?reactExports.createElement(LabelList,_extends$e({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$d.apply(null,arguments)}var Dot=e=>{var{cx:t,cy:n,r:o,className:l}=e,u=clsx("recharts-dot",l);return t===+t&&n===+n&&o===+o?reactExports.createElement("circle",_extends$d({},svgPropertiesNoEvents(e),adaptEventHandlers(e),{className:u,cx:t,cy:n,r:o})):null},selectUnfilteredPolarItems=e=>e.graphicalItems.polarItems,selectAxisPredicate=createSelector([pickAxisType,pickAxisId],itemAxisPredicate),selectPolarItemsSettings=createSelector([selectUnfilteredPolarItems,selectBaseAxis,selectAxisPredicate],combineGraphicalItemsSettings),selectPolarGraphicalItemsData=createSelector([selectPolarItemsSettings],combineGraphicalItemsData),selectPolarDisplayedData=createSelector([selectPolarGraphicalItemsData,selectChartDataAndAlwaysIgnoreIndexes],combineDisplayedData),selectPolarAppliedValues=createSelector([selectPolarDisplayedData,selectBaseAxis,selectPolarItemsSettings],combineAppliedValues),selectAllPolarAppliedNumericalValues=createSelector([selectPolarDisplayedData,selectBaseAxis,selectPolarItemsSettings],(e,t,n)=>n.length>0?e.flatMap(o=>n.flatMap(l=>{var u,m=getValueByDataKey(o,(u=t.dataKey)!==null&&u!==void 0?u:l.dataKey);return{value:m,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(o=>({value:getValueByDataKey(o,t.dataKey),errorDomain:[]})):e.map(o=>({value:o,errorDomain:[]}))),unsupportedInPolarChart=()=>{},selectPolarNumericalDomain=createSelector([selectBaseAxis,selectDomainDefinition,unsupportedInPolarChart,selectAllPolarAppliedNumericalValues,unsupportedInPolarChart,selectChartLayout,pickAxisType],combineNumericalDomain),selectPolarAxisDomain=createSelector([selectBaseAxis,selectChartLayout,selectPolarDisplayedData,selectPolarAppliedValues,selectStackOffsetType,pickAxisType,selectPolarNumericalDomain],combineAxisDomain),selectPolarNiceTicks=createSelector([selectPolarAxisDomain,selectBaseAxis,selectRealScaleType],combineNiceTicks);createSelector([selectBaseAxis,selectPolarAxisDomain,selectPolarNiceTicks,pickAxisType],combineAxisDomainWithNiceTicks);var initialState$6={radiusAxis:{},angleAxis:{}},polarAxisSlice=createSlice({name:"polarAxis",initialState:initialState$6,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis,removeRadiusAxis,addAngleAxis,removeAngleAxis}=polarAxisSlice.actions,polarAxisReducer=polarAxisSlice.reducer;function ownKeys$e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$e(Object(n),!0).forEach(function(o){_defineProperty$f(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$e(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$f(e,t,n){return(t=_toPropertyKey$f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$f(e){var t=_toPrimitive$f(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$f(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pickId=(e,t)=>t,selectSynchronisedPieSettings=createSelector([selectUnfilteredPolarItems,pickId],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),emptyArray=[],pickCells$1=(e,t,n)=>n?.length===0?emptyArray:n,selectDisplayedData=createSelector([selectChartDataAndAlwaysIgnoreIndexes,selectSynchronisedPieSettings,pickCells$1],(e,t,n)=>{var{chartData:o}=e;if(t!=null){var l;if(t?.data!=null&&t.data.length>0?l=t.data:l=o,(!l||!l.length)&&n!=null&&(l=n.map(u=>_objectSpread$e(_objectSpread$e({},t.presentationProps),u.props))),l!=null)return l}}),selectPieLegend=createSelector([selectDisplayedData,selectSynchronisedPieSettings,pickCells$1],(e,t,n)=>{if(!(e==null||t==null))return e.map((o,l)=>{var u,m=getValueByDataKey(o,t.nameKey,t.name),p;return n!=null&&(u=n[l])!==null&&u!==void 0&&(u=u.props)!==null&&u!==void 0&&u.fill?p=n[l].props.fill:typeof o=="object"&&o!=null&&"fill"in o?p=o.fill:p=t.fill,{value:getTooltipNameProp(m,t.dataKey),color:p,payload:o,type:t.legendType}})}),selectPieSectors=createSelector([selectDisplayedData,selectSynchronisedPieSettings,pickCells$1,selectChartOffsetInternal],(e,t,n,o)=>{if(!(t==null||e==null))return computePieSectors({offset:o,pieSettings:t,displayedData:e,cells:n})}),isPlainObject$2={},hasRequiredIsPlainObject$1;function requireIsPlainObject$1(){return hasRequiredIsPlainObject$1||(hasRequiredIsPlainObject$1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const l=n[Symbol.toStringTag];return l==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${l}]`}let o=n;for(;Object.getPrototypeOf(o)!==null;)o=Object.getPrototypeOf(o);return Object.getPrototypeOf(n)===o}e.isPlainObject=t})(isPlainObject$2)),isPlainObject$2}var isPlainObject$1,hasRequiredIsPlainObject;function requireIsPlainObject(){return hasRequiredIsPlainObject||(hasRequiredIsPlainObject=1,isPlainObject$1=requireIsPlainObject$1().isPlainObject),isPlainObject$1}var isPlainObjectExports=requireIsPlainObject();const isPlainObject=getDefaultExportFromCjs(isPlainObjectExports);function ownKeys$d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$d(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$d(Object(n),!0).forEach(function(o){_defineProperty$e(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$d(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$e(e,t,n){return(t=_toPropertyKey$e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$e(e){var t=_toPrimitive$e(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$c.apply(null,arguments)}var getTrapezoidPath=(e,t,n,o,l)=>{var u=n-o,m;return m="M ".concat(e,",").concat(t),m+="L ".concat(e+n,",").concat(t),m+="L ".concat(e+n-u/2,",").concat(t+l),m+="L ".concat(e+n-u/2-o,",").concat(t+l),m+="L ".concat(e,",").concat(t," Z"),m},defaultProps$4={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Trapezoid=e=>{var t=resolveDefaultProps(e,defaultProps$4),{x:n,y:o,upperWidth:l,lowerWidth:u,height:m,className:p}=t,{animationEasing:j,animationDuration:f,animationBegin:g,isUpdateAnimationActive:b}=t,R=reactExports.useRef(),[v,N]=reactExports.useState(-1),S=reactExports.useRef(l),$=reactExports.useRef(u),C=reactExports.useRef(m),A=reactExports.useRef(n),T=reactExports.useRef(o),D=useAnimationId(e,"trapezoid-");if(reactExports.useEffect(()=>{if(R.current&&R.current.getTotalLength)try{var Q=R.current.getTotalLength();Q&&N(Q)}catch{}},[]),n!==+n||o!==+o||l!==+l||u!==+u||m!==+m||l===0&&u===0||m===0)return null;var I=clsx("recharts-trapezoid",p);if(!b)return reactExports.createElement("g",null,reactExports.createElement("path",_extends$c({},filterProps(t,!0),{className:I,d:getTrapezoidPath(n,o,l,u,m)})));var L=S.current,_=$.current,M=C.current,F=A.current,B=T.current,q="0px ".concat(v===-1?1:v,"px"),z="".concat(v,"px 0px"),V=getTransitionVal(["strokeDasharray"],f,j);return reactExports.createElement(JavascriptAnimate,{animationId:D,key:D,canBegin:v>0,duration:f,easing:j,isActive:b,begin:g},Q=>{var ee=interpolate$1(L,l,Q),G=interpolate$1(_,u,Q),K=interpolate$1(M,m,Q),J=interpolate$1(F,n,Q),ne=interpolate$1(B,o,Q);R.current&&(S.current=ee,$.current=G,C.current=K,A.current=J,T.current=ne);var H=Q>0?{transition:V,strokeDasharray:z}:{strokeDasharray:q};return reactExports.createElement("path",_extends$c({},filterProps(t,!0),{className:I,d:getTrapezoidPath(J,ne,ee,G,K),ref:R,style:_objectSpread$d(_objectSpread$d({},H),t.style)}))})},_excluded$e=["option","shapeType","propTransformer","activeClassName","isActive"];function _objectWithoutProperties$e(e,t){if(e==null)return{};var n,o,l=_objectWithoutPropertiesLoose$e(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)n=u[o],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function _objectWithoutPropertiesLoose$e(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;n[o]=e[o]}return n}function ownKeys$c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$c(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$c(Object(n),!0).forEach(function(o){_defineProperty$d(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$c(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$d(e,t,n){return(t=_toPropertyKey$d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$d(e){var t=_toPrimitive$d(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$d(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function defaultPropTransformer(e,t){return _objectSpread$c(_objectSpread$c({},t),e)}function isSymbolsProps(e,t){return e==="symbols"}function ShapeSelector(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return reactExports.createElement(Rectangle,n);case"trapezoid":return reactExports.createElement(Trapezoid,n);case"sector":return reactExports.createElement(Sector,n);case"symbols":if(isSymbolsProps(t))return reactExports.createElement(Symbols,n);break;default:return null}}function getPropsFromShapeOption(e){return reactExports.isValidElement(e)?e.props:e}function Shape(e){var{option:t,shapeType:n,propTransformer:o=defaultPropTransformer,activeClassName:l="recharts-active-shape",isActive:u}=e,m=_objectWithoutProperties$e(e,_excluded$e),p;if(reactExports.isValidElement(t))p=reactExports.cloneElement(t,_objectSpread$c(_objectSpread$c({},m),getPropsFromShapeOption(t)));else if(typeof t=="function")p=t(m);else if(isPlainObject(t)&&typeof t!="boolean"){var j=o(t,m);p=reactExports.createElement(ShapeSelector,{shapeType:n,elementProps:j})}else{var f=m;p=reactExports.createElement(ShapeSelector,{shapeType:n,elementProps:f})}return u?reactExports.createElement(Layer,{className:l},p):p}var useMouseEnterItemDispatch=(e,t)=>{var n=useAppDispatch();return(o,l)=>u=>{e?.(o,l,u),n(setActiveMouseOverItemIndex({activeIndex:String(l),activeDataKey:t,activeCoordinate:o.tooltipPosition}))}},useMouseLeaveItemDispatch=e=>{var t=useAppDispatch();return(n,o)=>l=>{e?.(n,o,l),t(mouseLeaveItem())}},useMouseClickItemDispatch=(e,t)=>{var n=useAppDispatch();return(o,l)=>u=>{e?.(o,l,u),n(setActiveClickItemIndex({activeIndex:String(l),activeDataKey:t,activeCoordinate:o.tooltipPosition}))}};function SetTooltipEntrySettings(e){var{fn:t,args:n}=e,o=useAppDispatch(),l=useIsPanorama();return reactExports.useEffect(()=>{if(!l){var u=t(n);return o(addTooltipEntrySettings(u)),()=>{o(removeTooltipEntrySettings(u))}}},[t,n,o,l]),null}var noop=()=>{};function SetLegendPayload(e){var{legendPayload:t}=e,n=useAppDispatch(),o=useIsPanorama();return reactExports.useEffect(()=>o?noop:(n(addLegendPayload(t)),()=>{n(removeLegendPayload(t))}),[n,o,t]),null}function SetPolarLegendPayload(e){var{legendPayload:t}=e,n=useAppDispatch(),o=useAppSelector(selectChartLayout);return reactExports.useEffect(()=>o!=="centric"&&o!=="radial"?noop:(n(addLegendPayload(t)),()=>{n(removeLegendPayload(t))}),[n,o,t]),null}var _ref,useIdFallback=()=>{var[e]=reactExports.useState(()=>uniqueId("uid-"));return e},useId=(_ref=React$1.useId)!==null&&_ref!==void 0?_ref:useIdFallback;function useUniqueId(e,t){var n=useId();return t||(e?"".concat(e,"-").concat(n):n)}var GraphicalItemIdContext=reactExports.createContext(void 0),RegisterGraphicalItemId=e=>{var{id:t,type:n,children:o}=e,l=useUniqueId("recharts-".concat(n),t);return reactExports.createElement(GraphicalItemIdContext.Provider,{value:l},o(l))},initialState$5={cartesianItems:[],polarItems:[]},graphicalItemsSlice=createSlice({name:"graphicalItems",initialState:initialState$5,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:o}=t.payload,l=current(e).cartesianItems.indexOf(n);l>-1&&(e.cartesianItems[l]=o)},removeCartesianGraphicalItem(e,t){var n=current(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=current(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem,replaceCartesianGraphicalItem,removeCartesianGraphicalItem,addPolarGraphicalItem,removePolarGraphicalItem}=graphicalItemsSlice.actions,graphicalItemsReducer=graphicalItemsSlice.reducer;function SetCartesianGraphicalItem(e){var t=useAppDispatch(),n=reactExports.useRef(null);return reactExports.useEffect(()=>{n.current===null?t(addCartesianGraphicalItem(e)):n.current!==e&&t(replaceCartesianGraphicalItem({prev:n.current,next:e})),n.current=e},[t,e]),reactExports.useEffect(()=>()=>{n.current&&(t(removeCartesianGraphicalItem(n.current)),n.current=null)},[t]),null}function SetPolarGraphicalItem(e){var t=useAppDispatch();return reactExports.useEffect(()=>(t(addPolarGraphicalItem(e)),()=>{t(removePolarGraphicalItem(e))}),[t,e]),null}var _excluded$d=["onMouseEnter","onClick","onMouseLeave"],_excluded2$7=["id"],_excluded3$6=["id"];function _objectWithoutProperties$d(e,t){if(e==null)return{};var n,o,l=_objectWithoutPropertiesLoose$d(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)n=u[o],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function _objectWithoutPropertiesLoose$d(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;n[o]=e[o]}return n}function ownKeys$b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$b(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$b(Object(n),!0).forEach(function(o){_defineProperty$c(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$b(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$c(e,t,n){return(t=_toPropertyKey$c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$c(e){var t=_toPrimitive$c(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$c(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$b.apply(null,arguments)}function SetPiePayloadLegend(e){var t=reactExports.useMemo(()=>findAllByType(e.children,Cell),[e.children]),n=useAppSelector(o=>selectPieLegend(o,e.id,t));return n==null?null:reactExports.createElement(SetPolarLegendPayload,{legendPayload:n})}function getTooltipEntrySettings$3(e){var{dataKey:t,nameKey:n,sectors:o,stroke:l,strokeWidth:u,fill:m,name:p,hide:j,tooltipType:f}=e;return{dataDefinedOnItem:o.map(g=>g.tooltipPayload),positions:o.map(g=>g.tooltipPosition),settings:{stroke:l,strokeWidth:u,fill:m,dataKey:t,nameKey:n,name:getTooltipNameProp(p,t),hide:j,type:f,color:m,unit:""}}}var getTextAnchor=(e,t)=>e>t?"start":e<t?"end":"middle",getOuterRadius=(e,t,n)=>getPercentValue(typeof t=="function"?t(e):t,n,n*.8),parseCoordinateOfPie=(e,t,n)=>{var{top:o,left:l,width:u,height:m}=t,p=getMaxRadius(u,m),j=l+getPercentValue(e.cx,u,u/2),f=o+getPercentValue(e.cy,m,m/2),g=getPercentValue(e.innerRadius,p,0),b=getOuterRadius(n,e.outerRadius,p),R=e.maxRadius||Math.sqrt(u*u+m*m)/2;return{cx:j,cy:f,innerRadius:g,outerRadius:b,maxRadius:R}},parseDeltaAngle=(e,t)=>{var n=mathSign(t-e),o=Math.min(Math.abs(t-e),360);return n*o};function getClassNamePropertyIfExists(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var renderLabelLineItem=(e,t)=>{if(reactExports.isValidElement(e))return reactExports.cloneElement(e,t);if(typeof e=="function")return e(t);var n=clsx("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return reactExports.createElement(Curve,_extends$b({},t,{type:"linear",className:n}))},renderLabelItem=(e,t,n)=>{if(reactExports.isValidElement(e))return reactExports.cloneElement(e,t);var o=n;if(typeof e=="function"&&(o=e(t),reactExports.isValidElement(o)))return o;var l=clsx("recharts-pie-label-text",getClassNamePropertyIfExists(e));return reactExports.createElement(Text,_extends$b({},t,{alignmentBaseline:"middle",className:l}),o)};function PieLabels(e){var{sectors:t,props:n,showLabels:o}=e,{label:l,labelLine:u,dataKey:m}=n;if(!o||!l||!t)return null;var p=svgPropertiesNoEvents(n),j=filterProps(l,!1),f=filterProps(u,!1),g=typeof l=="object"&&"offsetRadius"in l&&typeof l.offsetRadius=="number"&&l.offsetRadius||20,b=t.map((R,v)=>{var N=(R.startAngle+R.endAngle)/2,S=polarToCartesian(R.cx,R.cy,R.outerRadius+g,N),$=_objectSpread$b(_objectSpread$b(_objectSpread$b(_objectSpread$b({},p),R),{},{stroke:"none"},j),{},{index:v,textAnchor:getTextAnchor(S.x,R.cx)},S),C=_objectSpread$b(_objectSpread$b(_objectSpread$b(_objectSpread$b({},p),R),{},{fill:"none",stroke:R.fill},f),{},{index:v,points:[polarToCartesian(R.cx,R.cy,R.outerRadius,N),S],key:"line"});return reactExports.createElement(Layer,{key:"label-".concat(R.startAngle,"-").concat(R.endAngle,"-").concat(R.midAngle,"-").concat(v)},u&&renderLabelLineItem(u,C),renderLabelItem(l,$,getValueByDataKey(R,m)))});return reactExports.createElement(Layer,{className:"recharts-pie-labels"},b)}function PieLabelList(e){var{sectors:t,props:n,showLabels:o}=e,{label:l}=n;return typeof l=="object"&&l!=null&&"position"in l?reactExports.createElement(LabelListFromLabelProp,{label:l}):reactExports.createElement(PieLabels,{sectors:t,props:n,showLabels:o})}function PieSectors(e){var{sectors:t,activeShape:n,inactiveShape:o,allOtherPieProps:l}=e,u=useAppSelector(selectActiveTooltipIndex),{onMouseEnter:m,onClick:p,onMouseLeave:j}=l,f=_objectWithoutProperties$d(l,_excluded$d),g=useMouseEnterItemDispatch(m,l.dataKey),b=useMouseLeaveItemDispatch(j),R=useMouseClickItemDispatch(p,l.dataKey);return t==null||t.length===0?null:reactExports.createElement(reactExports.Fragment,null,t.map((v,N)=>{if(v?.startAngle===0&&v?.endAngle===0&&t.length!==1)return null;var S=n&&String(N)===u,$=u?o:null,C=S?n:$,A=_objectSpread$b(_objectSpread$b({},v),{},{stroke:v.stroke,tabIndex:-1,[DATA_ITEM_INDEX_ATTRIBUTE_NAME]:N,[DATA_ITEM_DATAKEY_ATTRIBUTE_NAME]:l.dataKey});return reactExports.createElement(Layer,_extends$b({tabIndex:-1,className:"recharts-pie-sector"},adaptEventsOfChild(f,v,N),{onMouseEnter:g(v,N),onMouseLeave:b(v,N),onClick:R(v,N),key:"sector-".concat(v?.startAngle,"-").concat(v?.endAngle,"-").concat(v.midAngle,"-").concat(N)}),reactExports.createElement(Shape,_extends$b({option:C,isActive:S,shapeType:"sector"},A)))}))}function computePieSectors(e){var t,{pieSettings:n,displayedData:o,cells:l,offset:u}=e,{cornerRadius:m,startAngle:p,endAngle:j,dataKey:f,nameKey:g,tooltipType:b}=n,R=Math.abs(n.minAngle),v=parseDeltaAngle(p,j),N=Math.abs(v),S=o.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,$=o.filter(L=>getValueByDataKey(L,f,0)!==0).length,C=(N>=360?$:$-1)*S,A=N-$*R-C,T=o.reduce((L,_)=>{var M=getValueByDataKey(_,f,0);return L+(isNumber(M)?M:0)},0),D;if(T>0){var I;D=o.map((L,_)=>{var M=getValueByDataKey(L,f,0),F=getValueByDataKey(L,g,_),B=parseCoordinateOfPie(n,u,L),q=(isNumber(M)?M:0)/T,z,V=_objectSpread$b(_objectSpread$b({},L),l&&l[_]&&l[_].props);_?z=I.endAngle+mathSign(v)*S*(M!==0?1:0):z=p;var Q=z+mathSign(v)*((M!==0?R:0)+q*A),ee=(z+Q)/2,G=(B.innerRadius+B.outerRadius)/2,K=[{name:F,value:M,payload:V,dataKey:f,type:b}],J=polarToCartesian(B.cx,B.cy,G,ee);return I=_objectSpread$b(_objectSpread$b(_objectSpread$b(_objectSpread$b({},n.presentationProps),{},{percent:q,cornerRadius:m,name:F,tooltipPayload:K,midAngle:ee,middleRadius:G,tooltipPosition:J},V),B),{},{value:M,startAngle:z,endAngle:Q,payload:V,paddingAngle:mathSign(v)*S}),I})}return D}function PieLabelListProvider(e){var{showLabels:t,sectors:n,children:o}=e,l=reactExports.useMemo(()=>!t||!n?[]:n.map(u=>({value:u.value,payload:u.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:u.cx,cy:u.cy,innerRadius:u.innerRadius,outerRadius:u.outerRadius,startAngle:u.startAngle,endAngle:u.endAngle,clockWise:!1},fill:u.fill})),[n,t]);return reactExports.createElement(PolarLabelListContextProvider,{value:t?l:void 0},o)}function SectorsWithAnimation(e){var{props:t,previousSectorsRef:n}=e,{sectors:o,isAnimationActive:l,animationBegin:u,animationDuration:m,animationEasing:p,activeShape:j,inactiveShape:f,onAnimationStart:g,onAnimationEnd:b}=t,R=useAnimationId(t,"recharts-pie-"),v=n.current,[N,S]=reactExports.useState(!1),$=reactExports.useCallback(()=>{typeof b=="function"&&b(),S(!1)},[b]),C=reactExports.useCallback(()=>{typeof g=="function"&&g(),S(!0)},[g]);return reactExports.createElement(PieLabelListProvider,{showLabels:!N,sectors:o},reactExports.createElement(JavascriptAnimate,{animationId:R,begin:u,duration:m,isActive:l,easing:p,onAnimationStart:C,onAnimationEnd:$,key:R},A=>{var T=[],D=o&&o[0],I=D?.startAngle;return o?.forEach((L,_)=>{var M=v&&v[_],F=_>0?get(L,"paddingAngle",0):0;if(M){var B=interpolate$1(M.endAngle-M.startAngle,L.endAngle-L.startAngle,A),q=_objectSpread$b(_objectSpread$b({},L),{},{startAngle:I+F,endAngle:I+B+F});T.push(q),I=q.endAngle}else{var{endAngle:z,startAngle:V}=L,Q=interpolate$1(0,z-V,A),ee=_objectSpread$b(_objectSpread$b({},L),{},{startAngle:I+F,endAngle:I+Q+F});T.push(ee),I=ee.endAngle}}),n.current=T,reactExports.createElement(Layer,null,reactExports.createElement(PieSectors,{sectors:T,activeShape:j,inactiveShape:f,allOtherPieProps:t}))}),reactExports.createElement(PieLabelList,{showLabels:!N,sectors:o,props:t}),t.children)}var defaultPieProps={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Global.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function PieImpl(e){var{id:t}=e,n=_objectWithoutProperties$d(e,_excluded2$7),{hide:o,className:l,rootTabIndex:u}=e,m=reactExports.useMemo(()=>findAllByType(e.children,Cell),[e.children]),p=useAppSelector(g=>selectPieSectors(g,t,m)),j=reactExports.useRef(null),f=clsx("recharts-pie",l);return o||p==null?(j.current=null,reactExports.createElement(Layer,{tabIndex:u,className:f})):reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetTooltipEntrySettings,{fn:getTooltipEntrySettings$3,args:_objectSpread$b(_objectSpread$b({},e),{},{sectors:p})}),reactExports.createElement(Layer,{tabIndex:u,className:f},reactExports.createElement(SectorsWithAnimation,{props:_objectSpread$b(_objectSpread$b({},n),{},{sectors:p}),previousSectorsRef:j})))}function Pie(e){var t=resolveDefaultProps(e,defaultPieProps),{id:n}=t,o=_objectWithoutProperties$d(t,_excluded3$6),l=svgPropertiesNoEvents(o);return reactExports.createElement(RegisterGraphicalItemId,{id:n,type:"pie"},u=>reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetPolarGraphicalItem,{type:"pie",id:u,data:o.data,dataKey:o.dataKey,hide:o.hide,angleAxisId:0,radiusAxisId:0,name:o.name,nameKey:o.nameKey,tooltipType:o.tooltipType,legendType:o.legendType,fill:o.fill,cx:o.cx,cy:o.cy,startAngle:o.startAngle,endAngle:o.endAngle,paddingAngle:o.paddingAngle,minAngle:o.minAngle,innerRadius:o.innerRadius,outerRadius:o.outerRadius,cornerRadius:o.cornerRadius,presentationProps:l,maxRadius:t.maxRadius}),reactExports.createElement(SetPiePayloadLegend,_extends$b({},o,{id:u})),reactExports.createElement(PieImpl,_extends$b({},o,{id:u}))))}Pie.displayName="Pie";function ownKeys$a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$a(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$a(Object(n),!0).forEach(function(o){_defineProperty$b(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$a(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$b(e,t,n){return(t=_toPropertyKey$b(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$b(e){var t=_toPrimitive$b(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$b(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var initialState$4={xAxis:{},yAxis:{},zAxis:{}},cartesianAxisSlice=createSlice({name:"cartesianAxis",initialState:initialState$4,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:o}=t.payload;e.yAxis[n]&&(e.yAxis[n]=_objectSpread$a(_objectSpread$a({},e.yAxis[n]),{},{width:o}))}}}),{addXAxis,removeXAxis,addYAxis,removeYAxis,addZAxis,removeZAxis,updateYAxisWidth}=cartesianAxisSlice.actions,cartesianAxisReducer=cartesianAxisSlice.reducer,selectChartOffset=createSelector([selectChartOffsetInternal],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),selectPlotArea=createSelector([selectChartOffset,selectChartWidth,selectChartHeight],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),usePlotArea=()=>useAppSelector(selectPlotArea),useActiveTooltipDataPoints=()=>useAppSelector(selectActiveTooltipDataPoints);function ownKeys$9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$9(Object(n),!0).forEach(function(o){_defineProperty$a(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$9(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$a(e,t,n){return(t=_toPropertyKey$a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$a(e){var t=_toPrimitive$a(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$a(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var renderActivePoint=e=>{var{point:t,childIndex:n,mainColor:o,activeDot:l,dataKey:u}=e;if(l===!1||t.x==null||t.y==null)return null;var m=_objectSpread$9(_objectSpread$9({index:n,dataKey:u,cx:t.x,cy:t.y,r:4,fill:o??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},filterProps(l,!1)),adaptEventHandlers(l)),p;return reactExports.isValidElement(l)?p=reactExports.cloneElement(l,m):typeof l=="function"?p=l(m):p=reactExports.createElement(Dot,m),reactExports.createElement(Layer,{className:"recharts-active-dot"},p)};function ActivePoints(e){var{points:t,mainColor:n,activeDot:o,itemDataKey:l}=e,u=useAppSelector(selectActiveTooltipIndex),m=useActiveTooltipDataPoints();if(t==null||m==null)return null;var p=t.find(j=>m.includes(j.payload));return isNullish(p)?null:renderActivePoint({point:p,childIndex:Number(u),mainColor:n,dataKey:l,activeDot:o})}var prefix="Invariant failed";function invariant(e,t){throw new Error(prefix)}var _excluded$c=["x","y"];function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$a.apply(null,arguments)}function ownKeys$8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$8(Object(n),!0).forEach(function(o){_defineProperty$9(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$8(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$9(e,t,n){return(t=_toPropertyKey$9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$9(e){var t=_toPrimitive$9(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _objectWithoutProperties$c(e,t){if(e==null)return{};var n,o,l=_objectWithoutPropertiesLoose$c(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)n=u[o],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function _objectWithoutPropertiesLoose$c(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;n[o]=e[o]}return n}function typeguardBarRectangleProps(e,t){var{x:n,y:o}=e,l=_objectWithoutProperties$c(e,_excluded$c),u="".concat(n),m=parseInt(u,10),p="".concat(o),j=parseInt(p,10),f="".concat(t.height||l.height),g=parseInt(f,10),b="".concat(t.width||l.width),R=parseInt(b,10);return _objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8({},t),l),m?{x:m}:{}),j?{y:j}:{}),{},{height:g,width:R,name:t.name,radius:t.radius})}function BarRectangle(e){return reactExports.createElement(Shape,_extends$a({shapeType:"rectangle",propTransformer:typeguardBarRectangleProps,activeClassName:"recharts-active-bar"},e))}var minPointSizeCallback=function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(o,l)=>{if(isNumber(t))return t;var u=isNumber(o)||isNullish(o);return u?t(o,l):(u||invariant(),n)}},initialState$3={},errorBarSlice=createSlice({name:"errorBars",initialState:initialState$3,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:o}=t.payload;e[n]||(e[n]=[]),e[n].push(o)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:o,next:l}=t.payload;e[n]&&(e[n]=e[n].map(u=>u.dataKey===o.dataKey&&u.direction===o.direction?l:u))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:o}=t.payload;e[n]&&(e[n]=e[n].filter(l=>l.dataKey!==o.dataKey||l.direction!==o.direction))}}}),{addErrorBar,replaceErrorBar,removeErrorBar}=errorBarSlice.actions,errorBarReducer=errorBarSlice.reducer,_excluded$b=["children"];function _objectWithoutProperties$b(e,t){if(e==null)return{};var n,o,l=_objectWithoutPropertiesLoose$b(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)n=u[o],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function _objectWithoutPropertiesLoose$b(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;n[o]=e[o]}return n}var initialContextState={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ErrorBarContext=reactExports.createContext(initialContextState);function SetErrorBarContext(e){var{children:t}=e,n=_objectWithoutProperties$b(e,_excluded$b);return reactExports.createElement(ErrorBarContext.Provider,{value:n},t)}function useNeedsClip(e,t){var n,o,l=useAppSelector(f=>selectXAxisSettings(f,e)),u=useAppSelector(f=>selectYAxisSettings(f,t)),m=(n=l?.allowDataOverflow)!==null&&n!==void 0?n:implicitXAxis.allowDataOverflow,p=(o=u?.allowDataOverflow)!==null&&o!==void 0?o:implicitYAxis.allowDataOverflow,j=m||p;return{needClip:j,needClipX:m,needClipY:p}}function GraphicalItemClipPath(e){var{xAxisId:t,yAxisId:n,clipPathId:o}=e,l=usePlotArea(),{needClipX:u,needClipY:m,needClip:p}=useNeedsClip(t,n);if(!p)return null;var{x:j,y:f,width:g,height:b}=l;return reactExports.createElement("clipPath",{id:"clipPath-".concat(o)},reactExports.createElement("rect",{x:u?j:j-g/2,y:m?f:f-b/2,width:u?g:g*2,height:m?b:b*2}))}var _excluded$a=["onMouseEnter","onMouseLeave","onClick"],_excluded2$6=["value","background","tooltipPosition"],_excluded3$5=["id"],_excluded4$3=["onMouseEnter","onClick","onMouseLeave"];function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$9.apply(null,arguments)}function ownKeys$7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$7(Object(n),!0).forEach(function(o){_defineProperty$8(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$7(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$8(e,t,n){return(t=_toPropertyKey$8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$8(e){var t=_toPrimitive$8(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _objectWithoutProperties$a(e,t){if(e==null)return{};var n,o,l=_objectWithoutPropertiesLoose$a(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)n=u[o],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function _objectWithoutPropertiesLoose$a(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;n[o]=e[o]}return n}var computeLegendPayloadFromBarData=e=>{var{dataKey:t,name:n,fill:o,legendType:l,hide:u}=e;return[{inactive:u,dataKey:t,type:l,color:o,value:getTooltipNameProp(n,t),payload:e}]};function getTooltipEntrySettings$2(e){var{dataKey:t,stroke:n,strokeWidth:o,fill:l,name:u,hide:m,unit:p}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:o,fill:l,dataKey:t,nameKey:void 0,name:getTooltipNameProp(u,t),hide:m,type:e.tooltipType,color:e.fill,unit:p}}}function BarBackground(e){var t=useAppSelector(selectActiveTooltipIndex),{data:n,dataKey:o,background:l,allOtherBarProps:u}=e,{onMouseEnter:m,onMouseLeave:p,onClick:j}=u,f=_objectWithoutProperties$a(u,_excluded$a),g=useMouseEnterItemDispatch(m,o),b=useMouseLeaveItemDispatch(p),R=useMouseClickItemDispatch(j,o);if(!l||n==null)return null;var v=filterProps(l,!1);return reactExports.createElement(reactExports.Fragment,null,n.map((N,S)=>{var{value:$,background:C,tooltipPosition:A}=N,T=_objectWithoutProperties$a(N,_excluded2$6);if(!C)return null;var D=g(N,S),I=b(N,S),L=R(N,S),_=_objectSpread$7(_objectSpread$7(_objectSpread$7(_objectSpread$7(_objectSpread$7({option:l,isActive:String(S)===t},T),{},{fill:"#eee"},C),v),adaptEventsOfChild(f,N,S)),{},{onMouseEnter:D,onMouseLeave:I,onClick:L,dataKey:o,index:S,className:"recharts-bar-background-rectangle"});return reactExports.createElement(BarRectangle,_extends$9({key:"background-bar-".concat(_.index)},_))}))}function BarLabelListProvider(e){var{showLabels:t,children:n,rects:o}=e,l=o?.map(u=>{var m={x:u.x,y:u.y,width:u.width,height:u.height};return _objectSpread$7(_objectSpread$7({},m),{},{value:u.value,payload:u.payload,parentViewBox:u.parentViewBox,viewBox:m,fill:u.fill})});return reactExports.createElement(CartesianLabelListContextProvider,{value:t?l:void 0},n)}function BarRectangleWithActiveState(e){var{shape:t,activeBar:n,baseProps:o,entry:l,index:u,dataKey:m}=e,p=useAppSelector(selectActiveTooltipIndex),j=useAppSelector(selectActiveTooltipDataKey),f=n&&String(u)===p&&(j==null||m===j),g=f?n:t;return reactExports.createElement(BarRectangle,_extends$9({},o,l,{isActive:f,option:g,index:u,dataKey:m}))}function BarRectangleNeverActive(e){var{shape:t,baseProps:n,entry:o,index:l,dataKey:u}=e;return reactExports.createElement(BarRectangle,_extends$9({},n,o,{isActive:!1,option:t,index:l,dataKey:u}))}function BarRectangles(e){var{data:t,props:n}=e,o=svgPropertiesNoEvents(n),{id:l}=o,u=_objectWithoutProperties$a(o,_excluded3$5),{shape:m,dataKey:p,activeBar:j}=n,{onMouseEnter:f,onClick:g,onMouseLeave:b}=n,R=_objectWithoutProperties$a(n,_excluded4$3),v=useMouseEnterItemDispatch(f,p),N=useMouseLeaveItemDispatch(b),S=useMouseClickItemDispatch(g,p);return t?reactExports.createElement(reactExports.Fragment,null,t.map(($,C)=>reactExports.createElement(Layer,_extends$9({className:"recharts-bar-rectangle"},adaptEventsOfChild(R,$,C),{onMouseEnter:v($,C),onMouseLeave:N($,C),onClick:S($,C),key:"rectangle-".concat($?.x,"-").concat($?.y,"-").concat($?.value,"-").concat(C)}),j?reactExports.createElement(BarRectangleWithActiveState,{shape:m,activeBar:j,baseProps:u,entry:$,index:C,dataKey:p}):reactExports.createElement(BarRectangleNeverActive,{shape:m,baseProps:u,entry:$,index:C,dataKey:p})))):null}function RectanglesWithAnimation(e){var{props:t,previousRectanglesRef:n}=e,{data:o,layout:l,isAnimationActive:u,animationBegin:m,animationDuration:p,animationEasing:j,onAnimationEnd:f,onAnimationStart:g}=t,b=n.current,R=useAnimationId(t,"recharts-bar-"),[v,N]=reactExports.useState(!1),S=!v,$=reactExports.useCallback(()=>{typeof f=="function"&&f(),N(!1)},[f]),C=reactExports.useCallback(()=>{typeof g=="function"&&g(),N(!0)},[g]);return reactExports.createElement(BarLabelListProvider,{showLabels:S,rects:o},reactExports.createElement(JavascriptAnimate,{animationId:R,begin:m,duration:p,isActive:u,easing:j,onAnimationEnd:$,onAnimationStart:C,key:R},A=>{var T=A===1?o:o?.map((D,I)=>{var L=b&&b[I];if(L)return _objectSpread$7(_objectSpread$7({},D),{},{x:interpolate$1(L.x,D.x,A),y:interpolate$1(L.y,D.y,A),width:interpolate$1(L.width,D.width,A),height:interpolate$1(L.height,D.height,A)});if(l==="horizontal"){var _=interpolate$1(0,D.height,A);return _objectSpread$7(_objectSpread$7({},D),{},{y:D.y+D.height-_,height:_})}var M=interpolate$1(0,D.width,A);return _objectSpread$7(_objectSpread$7({},D),{},{width:M})});return A>0&&(n.current=T??null),T==null?null:reactExports.createElement(Layer,null,reactExports.createElement(BarRectangles,{props:t,data:T}))}),reactExports.createElement(LabelListFromLabelProp,{label:t.label}),t.children)}function RenderRectangles(e){var t=reactExports.useRef(null);return reactExports.createElement(RectanglesWithAnimation,{previousRectanglesRef:t,props:e})}var defaultMinPointSize=0,errorBarDataPointFormatter$1=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:getValueByDataKey(e,t)}};class BarWithState extends reactExports.PureComponent{render(){var{hide:t,data:n,dataKey:o,className:l,xAxisId:u,yAxisId:m,needClip:p,background:j,id:f}=this.props;if(t||n==null)return null;var g=clsx("recharts-bar",l),b=f;return reactExports.createElement(Layer,{className:g,id:f},p&&reactExports.createElement("defs",null,reactExports.createElement(GraphicalItemClipPath,{clipPathId:b,xAxisId:u,yAxisId:m})),reactExports.createElement(Layer,{className:"recharts-bar-rectangles",clipPath:p?"url(#clipPath-".concat(b,")"):void 0},reactExports.createElement(BarBackground,{data:n,dataKey:o,background:j,allOtherBarProps:this.props}),reactExports.createElement(RenderRectangles,this.props)))}}var defaultBarProps={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Global.isSsr,legendType:"rect",minPointSize:defaultMinPointSize,xAxisId:0,yAxisId:0};function BarImpl(e){var{xAxisId:t,yAxisId:n,hide:o,legendType:l,minPointSize:u,activeBar:m,animationBegin:p,animationDuration:j,animationEasing:f,isAnimationActive:g}=e,{needClip:b}=useNeedsClip(t,n),R=useChartLayout(),v=useIsPanorama(),N=findAllByType(e.children,Cell),S=useAppSelector(A=>selectBarRectangles(A,t,n,v,e.id,N));if(R!=="vertical"&&R!=="horizontal")return null;var $,C=S?.[0];return C==null||C.height==null||C.width==null?$=0:$=R==="vertical"?C.height/2:C.width/2,reactExports.createElement(SetErrorBarContext,{xAxisId:t,yAxisId:n,data:S,dataPointFormatter:errorBarDataPointFormatter$1,errorBarOffset:$},reactExports.createElement(BarWithState,_extends$9({},e,{layout:R,needClip:b,data:S,xAxisId:t,yAxisId:n,hide:o,legendType:l,minPointSize:u,activeBar:m,animationBegin:p,animationDuration:j,animationEasing:f,isAnimationActive:g})))}function computeBarRectangles(e){var{layout:t,barSettings:{dataKey:n,minPointSize:o},pos:l,bandSize:u,xAxis:m,yAxis:p,xAxisTicks:j,yAxisTicks:f,stackedData:g,displayedData:b,offset:R,cells:v,parentViewBox:N}=e,S=t==="horizontal"?p:m,$=g?S.scale.domain():null,C=getBaseValueOfBar({numericAxis:S});return b.map((A,T)=>{var D,I,L,_,M,F;g?D=truncateByDomain(g[T],$):(D=getValueByDataKey(A,n),Array.isArray(D)||(D=[C,D]));var B=minPointSizeCallback(o,defaultMinPointSize)(D[1],T);if(t==="horizontal"){var q,[z,V]=[p.scale(D[0]),p.scale(D[1])];I=getCateCoordinateOfBar({axis:m,ticks:j,bandSize:u,offset:l.offset,entry:A,index:T}),L=(q=V??z)!==null&&q!==void 0?q:void 0,_=l.size;var Q=z-V;if(M=isNan(Q)?0:Q,F={x:I,y:R.top,width:_,height:R.height},Math.abs(B)>0&&Math.abs(M)<Math.abs(B)){var ee=mathSign(M||B)*(Math.abs(B)-Math.abs(M));L-=ee,M+=ee}}else{var[G,K]=[m.scale(D[0]),m.scale(D[1])];if(I=G,L=getCateCoordinateOfBar({axis:p,ticks:f,bandSize:u,offset:l.offset,entry:A,index:T}),_=K-G,M=l.size,F={x:R.left,y:L,width:R.width,height:M},Math.abs(B)>0&&Math.abs(_)<Math.abs(B)){var J=mathSign(_||B)*(Math.abs(B)-Math.abs(_));_+=J}}if(I==null||L==null||_==null||M==null)return null;var ne=_objectSpread$7(_objectSpread$7({},A),{},{x:I,y:L,width:_,height:M,value:g?D:D[1],payload:A,background:F,tooltipPosition:{x:I+_/2,y:L+M/2},parentViewBox:N},v&&v[T]&&v[T].props);return ne}).filter(Boolean)}function BarFn(e){var t=resolveDefaultProps(e,defaultBarProps),n=useIsPanorama();return reactExports.createElement(RegisterGraphicalItemId,{id:t.id,type:"bar"},o=>reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetLegendPayload,{legendPayload:computeLegendPayloadFromBarData(t)}),reactExports.createElement(SetTooltipEntrySettings,{fn:getTooltipEntrySettings$2,args:t}),reactExports.createElement(SetCartesianGraphicalItem,{type:"bar",id:o,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:getNormalizedStackId(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),reactExports.createElement(BarImpl,_extends$9({},t,{id:o}))))}var Bar=reactExports.memo(BarFn);Bar.displayName="Bar";function ownKeys$6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$6(Object(n),!0).forEach(function(o){_defineProperty$7(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$6(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$7(e,t,n){return(t=_toPropertyKey$7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$7(e){var t=_toPrimitive$7(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pickXAxisId=(e,t)=>t,pickYAxisId=(e,t,n)=>n,pickIsPanorama=(e,t,n,o)=>o,pickBarId=(e,t,n,o,l)=>l,selectSynchronisedBarSettings=createSelector([selectUnfilteredCartesianItems,pickBarId],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),selectMaxBarSize=createSelector([selectSynchronisedBarSettings],e=>e?.maxBarSize),pickCells=(e,t,n,o,l,u)=>u,getBarSize=(e,t,n)=>{var o=n??e;if(!isNullish(o))return getPercentValue(o,t,0)},selectAllVisibleBars=createSelector([selectChartLayout,selectUnfilteredCartesianItems,pickXAxisId,pickYAxisId,pickIsPanorama],(e,t,n,o,l)=>t.filter(u=>e==="horizontal"?u.xAxisId===n:u.yAxisId===o).filter(u=>u.isPanorama===l).filter(u=>u.hide===!1).filter(u=>u.type==="bar")),selectBarStackGroups=(e,t,n,o)=>{var l=selectChartLayout(e);return l==="horizontal"?selectStackGroups(e,"yAxis",n,o):selectStackGroups(e,"xAxis",t,o)},selectBarCartesianAxisSize=(e,t,n)=>{var o=selectChartLayout(e);return o==="horizontal"?selectCartesianAxisSize(e,"xAxis",t):selectCartesianAxisSize(e,"yAxis",n)},combineBarSizeList=(e,t,n)=>{var o={},l=e.filter(isStacked),u=e.filter(f=>f.stackId==null),m=l.reduce((f,g)=>(f[g.stackId]||(f[g.stackId]=[]),f[g.stackId].push(g),f),o),p=Object.entries(m).map(f=>{var[g,b]=f,R=b.map(N=>N.dataKey),v=getBarSize(t,n,b[0].barSize);return{stackId:g,dataKeys:R,barSize:v}}),j=u.map(f=>{var g=[f.dataKey].filter(R=>R!=null),b=getBarSize(t,n,f.barSize);return{stackId:void 0,dataKeys:g,barSize:b}});return[...p,...j]},selectBarSizeList=createSelector([selectAllVisibleBars,selectRootBarSize,selectBarCartesianAxisSize],combineBarSizeList),selectBarBandSize=(e,t,n,o,l)=>{var u,m,p=selectSynchronisedBarSettings(e,t,n,o,l);if(p!=null){var j=selectChartLayout(e),f=selectRootMaxBarSize(e),{maxBarSize:g}=p,b=isNullish(g)?f:g,R,v;return j==="horizontal"?(R=selectAxisWithScale(e,"xAxis",t,o),v=selectTicksOfGraphicalItem(e,"xAxis",t,o)):(R=selectAxisWithScale(e,"yAxis",n,o),v=selectTicksOfGraphicalItem(e,"yAxis",n,o)),(u=(m=getBandSizeOfAxis(R,v,!0))!==null&&m!==void 0?m:b)!==null&&u!==void 0?u:0}},selectAxisBandSize=(e,t,n,o)=>{var l=selectChartLayout(e),u,m;return l==="horizontal"?(u=selectAxisWithScale(e,"xAxis",t,o),m=selectTicksOfGraphicalItem(e,"xAxis",t,o)):(u=selectAxisWithScale(e,"yAxis",n,o),m=selectTicksOfGraphicalItem(e,"yAxis",n,o)),getBandSizeOfAxis(u,m)};function getBarPositions(e,t,n,o,l){var u=o.length;if(!(u<1)){var m=getPercentValue(e,n,0,!0),p,j=[];if(isWellBehavedNumber(o[0].barSize)){var f=!1,g=n/u,b=o.reduce((C,A)=>C+(A.barSize||0),0);b+=(u-1)*m,b>=n&&(b-=(u-1)*m,m=0),b>=n&&g>0&&(f=!0,g*=.9,b=u*g);var R=(n-b)/2>>0,v={offset:R-m,size:0};p=o.reduce((C,A)=>{var T,D={stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:v.offset+v.size+m,size:f?g:(T=A.barSize)!==null&&T!==void 0?T:0}},I=[...C,D];return v=I[I.length-1].position,I},j)}else{var N=getPercentValue(t,n,0,!0);n-2*N-(u-1)*m<=0&&(m=0);var S=(n-2*N-(u-1)*m)/u;S>1&&(S>>=0);var $=isWellBehavedNumber(l)?Math.min(S,l):S;p=o.reduce((C,A,T)=>[...C,{stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:N+(S+m)*T+(S-$)/2,size:$}}],j)}return p}}var combineAllBarPositions=(e,t,n,o,l,u,m)=>{var p=isNullish(m)?t:m,j=getBarPositions(n,o,l!==u?l:u,e,p);return l!==u&&j!=null&&(j=j.map(f=>_objectSpread$6(_objectSpread$6({},f),{},{position:_objectSpread$6(_objectSpread$6({},f.position),{},{offset:f.position.offset-l/2})}))),j},selectAllBarPositions=createSelector([selectBarSizeList,selectRootMaxBarSize,selectBarGap,selectBarCategoryGap,selectBarBandSize,selectAxisBandSize,selectMaxBarSize],combineAllBarPositions),selectXAxisWithScale$2=(e,t,n,o)=>selectAxisWithScale(e,"xAxis",t,o),selectYAxisWithScale$2=(e,t,n,o)=>selectAxisWithScale(e,"yAxis",n,o),selectXAxisTicks$2=(e,t,n,o)=>selectTicksOfGraphicalItem(e,"xAxis",t,o),selectYAxisTicks$2=(e,t,n,o)=>selectTicksOfGraphicalItem(e,"yAxis",n,o),selectBarPosition=createSelector([selectAllBarPositions,selectSynchronisedBarSettings],(e,t)=>{if(!(e==null||t==null)){var n=e.find(o=>o.stackId===t.stackId&&t.dataKey!=null&&o.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),combineStackedData=(e,t)=>{var n=getStackSeriesIdentifier(t);if(!(!e||n==null||t==null)){var{stackId:o}=t;if(o!=null){var l=e[o];if(l){var{stackedData:u}=l;if(u)return u.find(m=>m.key===n)}}}},selectStackedDataOfItem=createSelector([selectBarStackGroups,selectSynchronisedBarSettings],combineStackedData),selectBarRectangles=createSelector([selectChartOffsetInternal,selectAxisViewBox,selectXAxisWithScale$2,selectYAxisWithScale$2,selectXAxisTicks$2,selectYAxisTicks$2,selectBarPosition,selectChartLayout,selectChartDataWithIndexesIfNotInPanorama,selectAxisBandSize,selectStackedDataOfItem,selectSynchronisedBarSettings,pickCells],(e,t,n,o,l,u,m,p,j,f,g,b,R)=>{var{chartData:v,dataStartIndex:N,dataEndIndex:S}=j;if(!(b==null||m==null||t==null||p!=="horizontal"&&p!=="vertical"||n==null||o==null||l==null||u==null||f==null)){var{data:$}=b,C;if($!=null&&$.length>0?C=$:C=v?.slice(N,S+1),C!=null)return computeBarRectangles({layout:p,barSettings:b,pos:m,parentViewBox:t,bandSize:f,xAxis:n,yAxis:o,xAxisTicks:l,yAxisTicks:u,stackedData:g,displayedData:C,offset:e,cells:R})}}),ChartDataContextProvider=e=>{var{chartData:t}=e,n=useAppDispatch(),o=useIsPanorama();return reactExports.useEffect(()=>o?()=>{}:(n(setChartData(t)),()=>{n(setChartData(void 0))}),[t,n,o]),null},initialState$2={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},brushSlice=createSlice({name:"brush",initialState:initialState$2,reducers:{setBrushSettings(e,t){return t.payload==null?initialState$2:t.payload}}}),{setBrushSettings}=brushSlice.actions,brushReducer=brushSlice.reducer;function _defineProperty$6(e,t,n){return(t=_toPropertyKey$6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$6(e){var t=_toPrimitive$6(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ScaleHelper{static create(t){return new ScaleHelper(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(o)switch(o){case"start":return this.scale(t);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(t)+u}default:return this.scale(t)}if(n){var m=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+m}return this.scale(t)}}isInRange(t){var n=this.range(),o=n[0],l=n[n.length-1];return o<=l?t>=o&&t<=l:t>=l&&t<=o}}_defineProperty$6(ScaleHelper,"EPS",1e-4);function normalizeAngle(e){return(e%180+180)%180}var getAngledRectangleWidth=function e(t){var{width:n,height:o}=t,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,u=normalizeAngle(l),m=u*Math.PI/180,p=Math.atan(o/n),j=m>p&&m<Math.PI-p?o/Math.sin(m):n/Math.cos(m);return Math.abs(j)},initialState$1={dots:[],areas:[],lines:[]},referenceElementsSlice=createSlice({name:"referenceElements",initialState:initialState$1,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=current(e).dots.findIndex(o=>o===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=current(e).areas.findIndex(o=>o===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=current(e).lines.findIndex(o=>o===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot,removeDot,addArea,removeArea,addLine,removeLine}=referenceElementsSlice.actions,referenceElementsReducer=referenceElementsSlice.reducer,ClipPathIdContext=reactExports.createContext(void 0),ClipPathProvider=e=>{var{children:t}=e,[n]=reactExports.useState("".concat(uniqueId("recharts"),"-clip")),o=usePlotArea();if(o==null)return null;var{x:l,y:u,width:m,height:p}=o;return reactExports.createElement(ClipPathIdContext.Provider,{value:n},reactExports.createElement("defs",null,reactExports.createElement("clipPath",{id:n},reactExports.createElement("rect",{x:l,y:u,height:p,width:m}))),t)};function shallowEqual(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var o in t)if({}.hasOwnProperty.call(t,o)&&!{}.hasOwnProperty.call(e,o))return!1;return!0}function getEveryNthWithCondition(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var o=[],l=0;l<e.length;l+=t)o.push(e[l]);return o}function getAngledTickWidth(e,t,n){var o={width:e.width+t.width,height:e.height+t.height};return getAngledRectangleWidth(o,n)}function getTickBoundaries(e,t,n){var o=n==="width",{x:l,y:u,width:m,height:p}=e;return t===1?{start:o?l:u,end:o?l+m:u+p}:{start:o?l+m:u+p,end:o?l:u}}function isVisible(e,t,n,o,l){if(e*t<e*o||e*t>e*l)return!1;var u=n();return e*(t-e*u/2-o)>=0&&e*(t+e*u/2-l)<=0}function getNumberIntervalTicks(e,t){return getEveryNthWithCondition(e,t+1)}function getEquidistantTicks(e,t,n,o,l){for(var u=(o||[]).slice(),{start:m,end:p}=t,j=0,f=1,g=m,b=function(){var N=o?.[j];if(N===void 0)return{v:getEveryNthWithCondition(o,f)};var S=j,$,C=()=>($===void 0&&($=n(N,S)),$),A=N.coordinate,T=j===0||isVisible(e,A,C,g,p);T||(j=0,g=m,f+=1),T&&(g=A+e*(C()/2+l),j+=f)},R;f<=u.length;)if(R=b(),R)return R.v;return[]}function ownKeys$5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$5(Object(n),!0).forEach(function(o){_defineProperty$5(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$5(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$5(e,t,n){return(t=_toPropertyKey$5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$5(e){var t=_toPrimitive$5(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function getTicksEnd(e,t,n,o,l){for(var u=(o||[]).slice(),m=u.length,{start:p}=t,{end:j}=t,f=function(R){var v=u[R],N,S=()=>(N===void 0&&(N=n(v,R)),N);if(R===m-1){var $=e*(v.coordinate+e*S()/2-j);u[R]=v=_objectSpread$5(_objectSpread$5({},v),{},{tickCoord:$>0?v.coordinate-$*e:v.coordinate})}else u[R]=v=_objectSpread$5(_objectSpread$5({},v),{},{tickCoord:v.coordinate});var C=isVisible(e,v.tickCoord,S,p,j);C&&(j=v.tickCoord-e*(S()/2+l),u[R]=_objectSpread$5(_objectSpread$5({},v),{},{isShow:!0}))},g=m-1;g>=0;g--)f(g);return u}function getTicksStart(e,t,n,o,l,u){var m=(o||[]).slice(),p=m.length,{start:j,end:f}=t;if(u){var g=o[p-1],b=n(g,p-1),R=e*(g.coordinate+e*b/2-f);m[p-1]=g=_objectSpread$5(_objectSpread$5({},g),{},{tickCoord:R>0?g.coordinate-R*e:g.coordinate});var v=isVisible(e,g.tickCoord,()=>b,j,f);v&&(f=g.tickCoord-e*(b/2+l),m[p-1]=_objectSpread$5(_objectSpread$5({},g),{},{isShow:!0}))}for(var N=u?p-1:p,S=function(A){var T=m[A],D,I=()=>(D===void 0&&(D=n(T,A)),D);if(A===0){var L=e*(T.coordinate-e*I()/2-j);m[A]=T=_objectSpread$5(_objectSpread$5({},T),{},{tickCoord:L<0?T.coordinate-L*e:T.coordinate})}else m[A]=T=_objectSpread$5(_objectSpread$5({},T),{},{tickCoord:T.coordinate});var _=isVisible(e,T.tickCoord,I,j,f);_&&(j=T.tickCoord+e*(I()/2+l),m[A]=_objectSpread$5(_objectSpread$5({},T),{},{isShow:!0}))},$=0;$<N;$++)S($);return m}function getTicks(e,t,n){var{tick:o,ticks:l,viewBox:u,minTickGap:m,orientation:p,interval:j,tickFormatter:f,unit:g,angle:b}=e;if(!l||!l.length||!o)return[];if(isNumber(j)||Global.isSsr){var R;return(R=getNumberIntervalTicks(l,isNumber(j)?j:0))!==null&&R!==void 0?R:[]}var v=[],N=p==="top"||p==="bottom"?"width":"height",S=g&&N==="width"?getStringSize(g,{fontSize:t,letterSpacing:n}):{width:0,height:0},$=(T,D)=>{var I=typeof f=="function"?f(T.value,D):T.value;return N==="width"?getAngledTickWidth(getStringSize(I,{fontSize:t,letterSpacing:n}),S,b):getStringSize(I,{fontSize:t,letterSpacing:n})[N]},C=l.length>=2?mathSign(l[1].coordinate-l[0].coordinate):1,A=getTickBoundaries(u,C,N);return j==="equidistantPreserveStart"?getEquidistantTicks(C,A,$,l,m):(j==="preserveStart"||j==="preserveStartEnd"?v=getTicksStart(C,A,$,l,m,j==="preserveStartEnd"):v=getTicksEnd(C,A,$,l,m),v.filter(T=>T.isShow))}var getCalculatedYAxisWidth=e=>{var{ticks:t,label:n,labelGapWithTick:o=5,tickSize:l=0,tickMargin:u=0}=e,m=0;if(t){t.forEach(g=>{if(g){var b=g.getBoundingClientRect();b.width>m&&(m=b.width)}});var p=n?n.getBoundingClientRect().width:0,j=l+u,f=m+j+p+(n?o:0);return Math.round(f)}return 0},_excluded$9=["axisLine","width","height","className","hide","ticks"],_excluded2$5=["viewBox"],_excluded3$4=["viewBox"];function _objectWithoutProperties$9(e,t){if(e==null)return{};var n,o,l=_objectWithoutPropertiesLoose$9(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)n=u[o],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function _objectWithoutPropertiesLoose$9(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;n[o]=e[o]}return n}function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$8.apply(null,arguments)}function ownKeys$4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$4(Object(n),!0).forEach(function(o){_defineProperty$4(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$4(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$4(e,t,n){return(t=_toPropertyKey$4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$4(e){var t=_toPrimitive$4(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var defaultCartesianAxisProps={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function AxisLine(e){var{x:t,y:n,width:o,height:l,orientation:u,mirror:m,axisLine:p,otherSvgProps:j}=e;if(!p)return null;var f=_objectSpread$4(_objectSpread$4(_objectSpread$4({},j),filterProps(p,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var g=+(u==="top"&&!m||u==="bottom"&&m);f=_objectSpread$4(_objectSpread$4({},f),{},{x1:t,y1:n+g*l,x2:t+o,y2:n+g*l})}else{var b=+(u==="left"&&!m||u==="right"&&m);f=_objectSpread$4(_objectSpread$4({},f),{},{x1:t+b*o,y1:n,x2:t+b*o,y2:n+l})}return reactExports.createElement("line",_extends$8({},f,{className:clsx("recharts-cartesian-axis-line",get(p,"className"))}))}function getTickLineCoord(e,t,n,o,l,u,m,p,j){var f,g,b,R,v,N,S=p?-1:1,$=e.tickSize||m,C=isNumber(e.tickCoord)?e.tickCoord:e.coordinate;switch(u){case"top":f=g=e.coordinate,R=n+ +!p*l,b=R-S*$,N=b-S*j,v=C;break;case"left":b=R=e.coordinate,g=t+ +!p*o,f=g-S*$,v=f-S*j,N=C;break;case"right":b=R=e.coordinate,g=t+ +p*o,f=g+S*$,v=f+S*j,N=C;break;default:f=g=e.coordinate,R=n+ +p*l,b=R+S*$,N=b+S*j,v=C;break}return{line:{x1:f,y1:b,x2:g,y2:R},tick:{x:v,y:N}}}function getTickTextAnchor(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function getTickVerticalAnchor(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function TickItem(e){var{option:t,tickProps:n,value:o}=e,l,u=clsx(n.className,"recharts-cartesian-axis-tick-value");if(reactExports.isValidElement(t))l=reactExports.cloneElement(t,_objectSpread$4(_objectSpread$4({},n),{},{className:u}));else if(typeof t=="function")l=t(_objectSpread$4(_objectSpread$4({},n),{},{className:u}));else{var m="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(m=clsx(m,t?.className)),l=reactExports.createElement(Text,_extends$8({},n,{className:m}),o)}return l}function Ticks(e){var{ticks:t=[],tick:n,tickLine:o,stroke:l,tickFormatter:u,unit:m,padding:p,tickTextProps:j,orientation:f,mirror:g,x:b,y:R,width:v,height:N,tickSize:S,tickMargin:$,fontSize:C,letterSpacing:A,getTicksConfig:T,events:D}=e,I=getTicks(_objectSpread$4(_objectSpread$4({},T),{},{ticks:t}),C,A),L=getTickTextAnchor(f,g),_=getTickVerticalAnchor(f,g),M=svgPropertiesNoEvents(T),F=filterProps(n,!1),B=_objectSpread$4(_objectSpread$4({},M),{},{fill:"none"},filterProps(o,!1)),q=I.map((z,V)=>{var{line:Q,tick:ee}=getTickLineCoord(z,b,R,v,N,f,S,g,$),G=_objectSpread$4(_objectSpread$4(_objectSpread$4(_objectSpread$4({textAnchor:L,verticalAnchor:_},M),{},{stroke:"none",fill:l},F),ee),{},{index:V,payload:z,visibleTicksCount:I.length,tickFormatter:u,padding:p},j);return reactExports.createElement(Layer,_extends$8({className:"recharts-cartesian-axis-tick",key:"tick-".concat(z.value,"-").concat(z.coordinate,"-").concat(z.tickCoord)},adaptEventsOfChild(D,z,V)),o&&reactExports.createElement("line",_extends$8({},B,Q,{className:clsx("recharts-cartesian-axis-tick-line",get(o,"className"))})),n&&reactExports.createElement(TickItem,{option:n,tickProps:G,value:"".concat(typeof u=="function"?u(z.value,V):z.value).concat(m||"")}))});return q.length>0?reactExports.createElement("g",{className:"recharts-cartesian-axis-ticks"},q):null}var CartesianAxisComponent=reactExports.forwardRef((e,t)=>{var{axisLine:n,width:o,height:l,className:u,hide:m,ticks:p}=e,j=_objectWithoutProperties$9(e,_excluded$9),[f,g]=reactExports.useState(""),[b,R]=reactExports.useState(""),v=reactExports.useRef([]);reactExports.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var S;return getCalculatedYAxisWidth({ticks:v.current,label:(S=e.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var N=reactExports.useCallback(S=>{if(S){var $=S.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=Array.from($);var C=$[0];if(C){var A=window.getComputedStyle(C),T=A.fontSize,D=A.letterSpacing;(T!==f||D!==b)&&(g(T),R(D))}}},[f,b]);return m||o!=null&&o<=0||l!=null&&l<=0?null:reactExports.createElement(Layer,{className:clsx("recharts-cartesian-axis",u),ref:N},reactExports.createElement(AxisLine,{x:e.x,y:e.y,width:o,height:l,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:svgPropertiesNoEvents(e)}),reactExports.createElement(Ticks,{ticks:p,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:f,letterSpacing:b,getTicksConfig:e,events:j}),reactExports.createElement(CartesianLabelContextProvider,{x:e.x,y:e.y,width:e.width,height:e.height},reactExports.createElement(CartesianLabelFromLabelProp,{label:e.label}),e.children))}),MemoCartesianAxis=reactExports.memo(CartesianAxisComponent,(e,t)=>{var{viewBox:n}=e,o=_objectWithoutProperties$9(e,_excluded2$5),{viewBox:l}=t,u=_objectWithoutProperties$9(t,_excluded3$4);return shallowEqual(n,l)&&shallowEqual(o,u)}),CartesianAxis=reactExports.forwardRef((e,t)=>{var n=resolveDefaultProps(e,defaultCartesianAxisProps);return reactExports.createElement(MemoCartesianAxis,_extends$8({},n,{ref:t}))});CartesianAxis.displayName="CartesianAxis";var _excluded$8=["x1","y1","x2","y2","key"],_excluded2$4=["offset"],_excluded3$3=["xAxisId","yAxisId"],_excluded4$2=["xAxisId","yAxisId"];function ownKeys$3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$3(Object(n),!0).forEach(function(o){_defineProperty$3(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$3(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$3(e,t,n){return(t=_toPropertyKey$3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$3(e){var t=_toPrimitive$3(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$7.apply(null,arguments)}function _objectWithoutProperties$8(e,t){if(e==null)return{};var n,o,l=_objectWithoutPropertiesLoose$8(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)n=u[o],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function _objectWithoutPropertiesLoose$8(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;n[o]=e[o]}return n}var Background=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:o,y:l,width:u,height:m,ry:p}=e;return reactExports.createElement("rect",{x:o,y:l,ry:p,width:u,height:m,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function renderLineItem(e,t){var n;if(reactExports.isValidElement(e))n=reactExports.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:o,y1:l,x2:u,y2:m,key:p}=t,j=_objectWithoutProperties$8(t,_excluded$8),f=svgPropertiesNoEvents(j),{offset:g}=f,b=_objectWithoutProperties$8(f,_excluded2$4);n=reactExports.createElement("line",_extends$7({},b,{x1:o,y1:l,x2:u,y2:m,fill:"none",key:p}))}return n}function HorizontalGridLines(e){var{x:t,width:n,horizontal:o=!0,horizontalPoints:l}=e;if(!o||!l||!l.length)return null;var{xAxisId:u,yAxisId:m}=e,p=_objectWithoutProperties$8(e,_excluded3$3),j=l.map((f,g)=>{var b=_objectSpread$3(_objectSpread$3({},p),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(g),index:g});return renderLineItem(o,b)});return reactExports.createElement("g",{className:"recharts-cartesian-grid-horizontal"},j)}function VerticalGridLines(e){var{y:t,height:n,vertical:o=!0,verticalPoints:l}=e;if(!o||!l||!l.length)return null;var{xAxisId:u,yAxisId:m}=e,p=_objectWithoutProperties$8(e,_excluded4$2),j=l.map((f,g)=>{var b=_objectSpread$3(_objectSpread$3({},p),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(g),index:g});return renderLineItem(o,b)});return reactExports.createElement("g",{className:"recharts-cartesian-grid-vertical"},j)}function HorizontalStripes(e){var{horizontalFill:t,fillOpacity:n,x:o,y:l,width:u,height:m,horizontalPoints:p,horizontal:j=!0}=e;if(!j||!t||!t.length)return null;var f=p.map(b=>Math.round(b+l-l)).sort((b,R)=>b-R);l!==f[0]&&f.unshift(0);var g=f.map((b,R)=>{var v=!f[R+1],N=v?l+m-b:f[R+1]-b;if(N<=0)return null;var S=R%t.length;return reactExports.createElement("rect",{key:"react-".concat(R),y:b,x:o,height:N,width:u,stroke:"none",fill:t[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return reactExports.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},g)}function VerticalStripes(e){var{vertical:t=!0,verticalFill:n,fillOpacity:o,x:l,y:u,width:m,height:p,verticalPoints:j}=e;if(!t||!n||!n.length)return null;var f=j.map(b=>Math.round(b+l-l)).sort((b,R)=>b-R);l!==f[0]&&f.unshift(0);var g=f.map((b,R)=>{var v=!f[R+1],N=v?l+m-b:f[R+1]-b;if(N<=0)return null;var S=R%n.length;return reactExports.createElement("rect",{key:"react-".concat(R),x:b,y:u,width:N,height:p,stroke:"none",fill:n[S],fillOpacity:o,className:"recharts-cartesian-grid-bg"})});return reactExports.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},g)}var defaultVerticalCoordinatesGenerator=(e,t)=>{var{xAxis:n,width:o,height:l,offset:u}=e;return getCoordinatesOfGrid(getTicks(_objectSpread$3(_objectSpread$3(_objectSpread$3({},defaultCartesianAxisProps),n),{},{ticks:getTicksOfAxis(n),viewBox:{x:0,y:0,width:o,height:l}})),u.left,u.left+u.width,t)},defaultHorizontalCoordinatesGenerator=(e,t)=>{var{yAxis:n,width:o,height:l,offset:u}=e;return getCoordinatesOfGrid(getTicks(_objectSpread$3(_objectSpread$3(_objectSpread$3({},defaultCartesianAxisProps),n),{},{ticks:getTicksOfAxis(n),viewBox:{x:0,y:0,width:o,height:l}})),u.top,u.top+u.height,t)},defaultProps$3={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function CartesianGrid(e){var t=useChartWidth(),n=useChartHeight(),o=useOffsetInternal(),l=_objectSpread$3(_objectSpread$3({},resolveDefaultProps(e,defaultProps$3)),{},{x:isNumber(e.x)?e.x:o.left,y:isNumber(e.y)?e.y:o.top,width:isNumber(e.width)?e.width:o.width,height:isNumber(e.height)?e.height:o.height}),{xAxisId:u,yAxisId:m,x:p,y:j,width:f,height:g,syncWithTicks:b,horizontalValues:R,verticalValues:v}=l,N=useIsPanorama(),S=useAppSelector(F=>selectAxisPropsNeededForCartesianGridTicksGenerator(F,"xAxis",u,N)),$=useAppSelector(F=>selectAxisPropsNeededForCartesianGridTicksGenerator(F,"yAxis",m,N));if(!isNumber(f)||f<=0||!isNumber(g)||g<=0||!isNumber(p)||p!==+p||!isNumber(j)||j!==+j)return null;var C=l.verticalCoordinatesGenerator||defaultVerticalCoordinatesGenerator,A=l.horizontalCoordinatesGenerator||defaultHorizontalCoordinatesGenerator,{horizontalPoints:T,verticalPoints:D}=l;if((!T||!T.length)&&typeof A=="function"){var I=R&&R.length,L=A({yAxis:$?_objectSpread$3(_objectSpread$3({},$),{},{ticks:I?R:$.ticks}):void 0,width:t,height:n,offset:o},I?!0:b);warn(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(T=L)}if((!D||!D.length)&&typeof C=="function"){var _=v&&v.length,M=C({xAxis:S?_objectSpread$3(_objectSpread$3({},S),{},{ticks:_?v:S.ticks}):void 0,width:t,height:n,offset:o},_?!0:b);warn(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(D=M)}return reactExports.createElement("g",{className:"recharts-cartesian-grid"},reactExports.createElement(Background,{fill:l.fill,fillOpacity:l.fillOpacity,x:l.x,y:l.y,width:l.width,height:l.height,ry:l.ry}),reactExports.createElement(HorizontalStripes,_extends$7({},l,{horizontalPoints:T})),reactExports.createElement(VerticalStripes,_extends$7({},l,{verticalPoints:D})),reactExports.createElement(HorizontalGridLines,_extends$7({},l,{offset:o,horizontalPoints:T,xAxis:S,yAxis:$})),reactExports.createElement(VerticalGridLines,_extends$7({},l,{offset:o,verticalPoints:D,xAxis:S,yAxis:$})))}CartesianGrid.displayName="CartesianGrid";var selectXAxisWithScale$1=(e,t,n,o)=>selectAxisWithScale(e,"xAxis",t,o),selectXAxisTicks$1=(e,t,n,o)=>selectTicksOfGraphicalItem(e,"xAxis",t,o),selectYAxisWithScale$1=(e,t,n,o)=>selectAxisWithScale(e,"yAxis",n,o),selectYAxisTicks$1=(e,t,n,o)=>selectTicksOfGraphicalItem(e,"yAxis",n,o),selectBandSize$1=createSelector([selectChartLayout,selectXAxisWithScale$1,selectYAxisWithScale$1,selectXAxisTicks$1,selectYAxisTicks$1],(e,t,n,o,l)=>isCategoricalAxis(e,"xAxis")?getBandSizeOfAxis(t,o,!1):getBandSizeOfAxis(n,l,!1)),pickLineId=(e,t,n,o,l)=>l;function isLineSettings(e){return e.type==="line"}var selectSynchronisedLineSettings=createSelector([selectUnfilteredCartesianItems,pickLineId],(e,t)=>e.filter(isLineSettings).find(n=>n.id===t)),selectLinePoints=createSelector([selectChartLayout,selectXAxisWithScale$1,selectYAxisWithScale$1,selectXAxisTicks$1,selectYAxisTicks$1,selectSynchronisedLineSettings,selectBandSize$1,selectChartDataWithIndexesIfNotInPanorama],(e,t,n,o,l,u,m,p)=>{var{chartData:j,dataStartIndex:f,dataEndIndex:g}=p;if(!(u==null||t==null||n==null||o==null||l==null||o.length===0||l.length===0||m==null)){var{dataKey:b,data:R}=u,v;if(R!=null&&R.length>0?v=R:v=j?.slice(f,g+1),v!=null)return computeLinePoints({layout:e,xAxis:t,yAxis:n,xAxisTicks:o,yAxisTicks:l,dataKey:b,bandSize:m,displayedData:v})}}),_excluded$7=["id"],_excluded2$3=["type","layout","connectNulls","needClip"],_excluded3$2=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function ownKeys$2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$2(Object(n),!0).forEach(function(o){_defineProperty$2(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$2(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$2(e,t,n){return(t=_toPropertyKey$2(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$2(e){var t=_toPrimitive$2(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$2(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _objectWithoutProperties$7(e,t){if(e==null)return{};var n,o,l=_objectWithoutPropertiesLoose$7(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)n=u[o],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function _objectWithoutPropertiesLoose$7(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;n[o]=e[o]}return n}function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$6.apply(null,arguments)}var computeLegendPayloadFromAreaData$1=e=>{var{dataKey:t,name:n,stroke:o,legendType:l,hide:u}=e;return[{inactive:u,dataKey:t,type:l,color:o,value:getTooltipNameProp(n,t),payload:e}]};function getTooltipEntrySettings$1(e){var{dataKey:t,data:n,stroke:o,strokeWidth:l,fill:u,name:m,hide:p,unit:j}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:o,strokeWidth:l,fill:u,dataKey:t,nameKey:void 0,name:getTooltipNameProp(m,t),hide:p,type:e.tooltipType,color:e.stroke,unit:j}}}var generateSimpleStrokeDasharray=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function repeat(e,t){for(var n=e.length%2!==0?[...e,0]:e,o=[],l=0;l<t;++l)o=[...o,...n];return o}var getStrokeDasharray=(e,t,n)=>{var o=n.reduce((b,R)=>b+R);if(!o)return generateSimpleStrokeDasharray(t,e);for(var l=Math.floor(e/o),u=e%o,m=t-e,p=[],j=0,f=0;j<n.length;f+=n[j],++j)if(f+n[j]>u){p=[...n.slice(0,j),u-f];break}var g=p.length%2===0?[0,m]:[m];return[...repeat(n,l),...p,...g].map(b=>"".concat(b,"px")).join(", ")};function renderDotItem$1(e,t){var n;if(reactExports.isValidElement(e))n=reactExports.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var o=clsx("recharts-line-dot",typeof e!="boolean"?e.className:"");n=reactExports.createElement(Dot,_extends$6({},t,{className:o}))}return n}function shouldRenderDots$1(e,t){return e==null?!1:t?!0:e.length===1}function Dots$1(e){var{clipPathId:t,points:n,props:o}=e,{dot:l,dataKey:u,needClip:m}=o;if(!shouldRenderDots$1(n,l))return null;var{id:p}=o,j=_objectWithoutProperties$7(o,_excluded$7),f=isClipDot(l),g=svgPropertiesNoEvents(j),b=filterProps(l,!0),R=n.map((N,S)=>{var $=_objectSpread$2(_objectSpread$2(_objectSpread$2({key:"dot-".concat(S),r:3},g),b),{},{index:S,cx:N.x,cy:N.y,dataKey:u,value:N.value,payload:N.payload,points:n});return renderDotItem$1(l,$)}),v={clipPath:m?"url(#clipPath-".concat(f?"":"dots-").concat(t,")"):void 0};return reactExports.createElement(Layer,_extends$6({className:"recharts-line-dots",key:"dots"},v),R)}function LineLabelListProvider(e){var{showLabels:t,children:n,points:o}=e,l=reactExports.useMemo(()=>o?.map(u=>{var m={x:u.x,y:u.y,width:0,height:0};return _objectSpread$2(_objectSpread$2({},m),{},{value:u.value,payload:u.payload,viewBox:m,parentViewBox:void 0,fill:void 0})}),[o]);return reactExports.createElement(CartesianLabelListContextProvider,{value:t?l:null},n)}function StaticCurve(e){var{clipPathId:t,pathRef:n,points:o,strokeDasharray:l,props:u}=e,{type:m,layout:p,connectNulls:j,needClip:f}=u,g=_objectWithoutProperties$7(u,_excluded2$3),b=_objectSpread$2(_objectSpread$2({},filterProps(g,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(t,")"):void 0,points:o,type:m,layout:p,connectNulls:j,strokeDasharray:l??u.strokeDasharray});return reactExports.createElement(reactExports.Fragment,null,o?.length>1&&reactExports.createElement(Curve,_extends$6({},b,{pathRef:n})),reactExports.createElement(Dots$1,{points:o,clipPathId:t,props:u}))}function getTotalLength(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function CurveWithAnimation(e){var{clipPathId:t,props:n,pathRef:o,previousPointsRef:l,longestAnimatedLengthRef:u}=e,{points:m,strokeDasharray:p,isAnimationActive:j,animationBegin:f,animationDuration:g,animationEasing:b,animateNewValues:R,width:v,height:N,onAnimationEnd:S,onAnimationStart:$}=n,C=l.current,A=useAnimationId(n,"recharts-line-"),[T,D]=reactExports.useState(!1),I=!T,L=reactExports.useCallback(()=>{typeof S=="function"&&S(),D(!1)},[S]),_=reactExports.useCallback(()=>{typeof $=="function"&&$(),D(!0)},[$]),M=getTotalLength(o.current),F=u.current;return reactExports.createElement(LineLabelListProvider,{points:m,showLabels:I},n.children,reactExports.createElement(JavascriptAnimate,{animationId:A,begin:f,duration:g,isActive:j,easing:b,onAnimationEnd:L,onAnimationStart:_,key:A},B=>{var q=interpolate$1(F,M+F,B),z=Math.min(q,M),V;if(j)if(p){var Q="".concat(p).split(/[,\s]+/gim).map(K=>parseFloat(K));V=getStrokeDasharray(z,M,Q)}else V=generateSimpleStrokeDasharray(M,z);else V=p==null?void 0:String(p);if(C){var ee=C.length/m.length,G=B===1?m:m.map((K,J)=>{var ne=Math.floor(J*ee);if(C[ne]){var H=C[ne];return _objectSpread$2(_objectSpread$2({},K),{},{x:interpolate$1(H.x,K.x,B),y:interpolate$1(H.y,K.y,B)})}return R?_objectSpread$2(_objectSpread$2({},K),{},{x:interpolate$1(v*2,K.x,B),y:interpolate$1(N/2,K.y,B)}):_objectSpread$2(_objectSpread$2({},K),{},{x:K.x,y:K.y})});return l.current=G,reactExports.createElement(StaticCurve,{props:n,points:G,clipPathId:t,pathRef:o,strokeDasharray:V})}return B>0&&M>0&&(l.current=m,u.current=z),reactExports.createElement(StaticCurve,{props:n,points:m,clipPathId:t,pathRef:o,strokeDasharray:V})}),reactExports.createElement(LabelListFromLabelProp,{label:n.label}))}function RenderCurve(e){var{clipPathId:t,props:n}=e,o=reactExports.useRef(null),l=reactExports.useRef(0),u=reactExports.useRef(null);return reactExports.createElement(CurveWithAnimation,{props:n,clipPathId:t,previousPointsRef:o,longestAnimatedLengthRef:l,pathRef:u})}var errorBarDataPointFormatter=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:getValueByDataKey(e.payload,t)});class LineWithState extends reactExports.Component{render(){var t,{hide:n,dot:o,points:l,className:u,xAxisId:m,yAxisId:p,top:j,left:f,width:g,height:b,id:R,needClip:v}=this.props;if(n)return null;var N=clsx("recharts-line",u),S=R,{r:$=3,strokeWidth:C=2}=(t=filterProps(o,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},A=isClipDot(o),T=$*2+C;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Layer,{className:N},v&&reactExports.createElement("defs",null,reactExports.createElement(GraphicalItemClipPath,{clipPathId:S,xAxisId:m,yAxisId:p}),!A&&reactExports.createElement("clipPath",{id:"clipPath-dots-".concat(S)},reactExports.createElement("rect",{x:f-T/2,y:j-T/2,width:g+T,height:b+T}))),reactExports.createElement(SetErrorBarContext,{xAxisId:m,yAxisId:p,data:l,dataPointFormatter:errorBarDataPointFormatter,errorBarOffset:0},reactExports.createElement(RenderCurve,{props:this.props,clipPathId:S}))),reactExports.createElement(ActivePoints,{activeDot:this.props.activeDot,points:l,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var defaultLineProps={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Global.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function LineImpl(e){var t=resolveDefaultProps(e,defaultLineProps),{activeDot:n,animateNewValues:o,animationBegin:l,animationDuration:u,animationEasing:m,connectNulls:p,dot:j,hide:f,isAnimationActive:g,label:b,legendType:R,xAxisId:v,yAxisId:N,id:S}=t,$=_objectWithoutProperties$7(t,_excluded3$2),{needClip:C}=useNeedsClip(v,N),A=usePlotArea(),T=useChartLayout(),D=useIsPanorama(),I=useAppSelector(B=>selectLinePoints(B,v,N,D,S));if(T!=="horizontal"&&T!=="vertical"||I==null||A==null)return null;var{height:L,width:_,x:M,y:F}=A;return reactExports.createElement(LineWithState,_extends$6({},$,{id:S,connectNulls:p,dot:j,activeDot:n,animateNewValues:o,animationBegin:l,animationDuration:u,animationEasing:m,isAnimationActive:g,hide:f,label:b,legendType:R,xAxisId:v,yAxisId:N,points:I,layout:T,height:L,width:_,left:M,top:F,needClip:C}))}function computeLinePoints(e){var{layout:t,xAxis:n,yAxis:o,xAxisTicks:l,yAxisTicks:u,dataKey:m,bandSize:p,displayedData:j}=e;return j.map((f,g)=>{var b=getValueByDataKey(f,m);if(t==="horizontal"){var R=getCateCoordinateOfLine({axis:n,ticks:l,bandSize:p,entry:f,index:g}),v=isNullish(b)?null:o.scale(b);return{x:R,y:v,value:b,payload:f}}var N=isNullish(b)?null:n.scale(b),S=getCateCoordinateOfLine({axis:o,ticks:u,bandSize:p,entry:f,index:g});return N==null||S==null?null:{x:N,y:S,value:b,payload:f}}).filter(Boolean)}function LineFn(e){var t=resolveDefaultProps(e,defaultLineProps),n=useIsPanorama();return reactExports.createElement(RegisterGraphicalItemId,{id:t.id,type:"line"},o=>reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetLegendPayload,{legendPayload:computeLegendPayloadFromAreaData$1(t)}),reactExports.createElement(SetTooltipEntrySettings,{fn:getTooltipEntrySettings$1,args:t}),reactExports.createElement(SetCartesianGraphicalItem,{type:"line",id:o,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),reactExports.createElement(LineImpl,_extends$6({},t,{id:o}))))}var Line=reactExports.memo(LineFn);Line.displayName="Line";var selectXAxisWithScale=(e,t,n,o)=>selectAxisWithScale(e,"xAxis",t,o),selectXAxisTicks=(e,t,n,o)=>selectTicksOfGraphicalItem(e,"xAxis",t,o),selectYAxisWithScale=(e,t,n,o)=>selectAxisWithScale(e,"yAxis",n,o),selectYAxisTicks=(e,t,n,o)=>selectTicksOfGraphicalItem(e,"yAxis",n,o),selectBandSize=createSelector([selectChartLayout,selectXAxisWithScale,selectYAxisWithScale,selectXAxisTicks,selectYAxisTicks],(e,t,n,o,l)=>isCategoricalAxis(e,"xAxis")?getBandSizeOfAxis(t,o,!1):getBandSizeOfAxis(n,l,!1)),pickAreaId=(e,t,n,o,l)=>l,selectSynchronisedAreaSettings=createSelector([selectUnfilteredCartesianItems,pickAreaId],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),selectGraphicalItemStackedData=(e,t,n,o,l)=>{var u,m=selectSynchronisedAreaSettings(e,t,n,o,l);if(m!=null){var p=selectChartLayout(e),j=isCategoricalAxis(p,"xAxis"),f;if(j?f=selectStackGroups(e,"yAxis",n,o):f=selectStackGroups(e,"xAxis",t,o),f!=null){var{stackId:g}=m,b=getStackSeriesIdentifier(m);if(!(g==null||b==null)){var R=(u=f[g])===null||u===void 0?void 0:u.stackedData;return R?.find(v=>v.key===b)}}}},selectArea=createSelector([selectChartLayout,selectXAxisWithScale,selectYAxisWithScale,selectXAxisTicks,selectYAxisTicks,selectGraphicalItemStackedData,selectChartDataWithIndexesIfNotInPanorama,selectBandSize,selectSynchronisedAreaSettings],(e,t,n,o,l,u,m,p,j)=>{var{chartData:f,dataStartIndex:g,dataEndIndex:b}=m;if(!(j==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||o==null||l==null||o.length===0||l.length===0||p==null)){var{data:R}=j,v;if(R&&R.length>0?v=R:v=f?.slice(g,b+1),v!=null){var N=void 0;return computeArea({layout:e,xAxis:t,yAxis:n,xAxisTicks:o,yAxisTicks:l,dataStartIndex:g,areaSettings:j,stackedData:u,displayedData:v,chartBaseValue:N,bandSize:p})}}}),_excluded$6=["id"],_excluded2$2=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function _objectWithoutProperties$6(e,t){if(e==null)return{};var n,o,l=_objectWithoutPropertiesLoose$6(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)n=u[o],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function _objectWithoutPropertiesLoose$6(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;n[o]=e[o]}return n}function ownKeys$1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$1(Object(n),!0).forEach(function(o){_defineProperty$1(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$1(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$1(e,t,n){return(t=_toPropertyKey$1(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$1(e){var t=_toPrimitive$1(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$1(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$5.apply(null,arguments)}function getLegendItemColor(e,t){return e&&e!=="none"?e:t}var computeLegendPayloadFromAreaData=e=>{var{dataKey:t,name:n,stroke:o,fill:l,legendType:u,hide:m}=e;return[{inactive:m,dataKey:t,type:u,color:getLegendItemColor(o,l),value:getTooltipNameProp(n,t),payload:e}]};function getTooltipEntrySettings(e){var{dataKey:t,data:n,stroke:o,strokeWidth:l,fill:u,name:m,hide:p,unit:j}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:o,strokeWidth:l,fill:u,dataKey:t,nameKey:void 0,name:getTooltipNameProp(m,t),hide:p,type:e.tooltipType,color:getLegendItemColor(o,u),unit:j}}}var renderDotItem=(e,t)=>{var n;if(reactExports.isValidElement(e))n=reactExports.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var o=clsx("recharts-area-dot",typeof e!="boolean"?e.className:"");n=reactExports.createElement(Dot,_extends$5({},t,{className:o}))}return n};function shouldRenderDots(e,t){return e==null?!1:t?!0:e.length===1}function Dots(e){var{clipPathId:t,points:n,props:o}=e,{needClip:l,dot:u,dataKey:m}=o;if(!shouldRenderDots(n,u))return null;var p=isClipDot(u),j=svgPropertiesNoEvents(o),f=filterProps(u,!0),g=n.map((R,v)=>{var N=_objectSpread$1(_objectSpread$1(_objectSpread$1({key:"dot-".concat(v),r:3},j),f),{},{index:v,cx:R.x,cy:R.y,dataKey:m,value:R.value,payload:R.payload,points:n});return renderDotItem(u,N)}),b={clipPath:l?"url(#clipPath-".concat(p?"":"dots-").concat(t,")"):void 0};return reactExports.createElement(Layer,_extends$5({className:"recharts-area-dots"},b),g)}function AreaLabelListProvider(e){var{showLabels:t,children:n,points:o}=e,l=o.map(u=>{var m={x:u.x,y:u.y,width:0,height:0};return _objectSpread$1(_objectSpread$1({},m),{},{value:u.value,payload:u.payload,parentViewBox:void 0,viewBox:m,fill:void 0})});return reactExports.createElement(CartesianLabelListContextProvider,{value:t?l:null},n)}function StaticArea(e){var{points:t,baseLine:n,needClip:o,clipPathId:l,props:u}=e,{layout:m,type:p,stroke:j,connectNulls:f,isRange:g}=u,{id:b}=u,R=_objectWithoutProperties$6(u,_excluded$6),v=svgPropertiesNoEvents(R);return reactExports.createElement(reactExports.Fragment,null,t?.length>1&&reactExports.createElement(Layer,{clipPath:o?"url(#clipPath-".concat(l,")"):void 0},reactExports.createElement(Curve,_extends$5({},v,{id:b,points:t,connectNulls:f,type:p,baseLine:n,layout:m,stroke:"none",className:"recharts-area-area"})),j!=="none"&&reactExports.createElement(Curve,_extends$5({},v,{className:"recharts-area-curve",layout:m,type:p,connectNulls:f,fill:"none",points:t})),j!=="none"&&g&&reactExports.createElement(Curve,_extends$5({},v,{className:"recharts-area-curve",layout:m,type:p,connectNulls:f,fill:"none",points:n}))),reactExports.createElement(Dots,{points:t,props:R,clipPathId:l}))}function VerticalRect(e){var{alpha:t,baseLine:n,points:o,strokeWidth:l}=e,u=o[0].y,m=o[o.length-1].y;if(!isWellBehavedNumber(u)||!isWellBehavedNumber(m))return null;var p=t*Math.abs(u-m),j=Math.max(...o.map(f=>f.x||0));return isNumber(n)?j=Math.max(n,j):n&&Array.isArray(n)&&n.length&&(j=Math.max(...n.map(f=>f.x||0),j)),isNumber(j)?reactExports.createElement("rect",{x:0,y:u<m?u:u-p,width:j+(l?parseInt("".concat(l),10):1),height:Math.floor(p)}):null}function HorizontalRect(e){var{alpha:t,baseLine:n,points:o,strokeWidth:l}=e,u=o[0].x,m=o[o.length-1].x;if(!isWellBehavedNumber(u)||!isWellBehavedNumber(m))return null;var p=t*Math.abs(u-m),j=Math.max(...o.map(f=>f.y||0));return isNumber(n)?j=Math.max(n,j):n&&Array.isArray(n)&&n.length&&(j=Math.max(...n.map(f=>f.y||0),j)),isNumber(j)?reactExports.createElement("rect",{x:u<m?u:u-p,y:0,width:p,height:Math.floor(j+(l?parseInt("".concat(l),10):1))}):null}function ClipRect(e){var{alpha:t,layout:n,points:o,baseLine:l,strokeWidth:u}=e;return n==="vertical"?reactExports.createElement(VerticalRect,{alpha:t,points:o,baseLine:l,strokeWidth:u}):reactExports.createElement(HorizontalRect,{alpha:t,points:o,baseLine:l,strokeWidth:u})}function AreaWithAnimation(e){var{needClip:t,clipPathId:n,props:o,previousPointsRef:l,previousBaselineRef:u}=e,{points:m,baseLine:p,isAnimationActive:j,animationBegin:f,animationDuration:g,animationEasing:b,onAnimationStart:R,onAnimationEnd:v}=o,N=useAnimationId(o,"recharts-area-"),[S,$]=reactExports.useState(!1),C=!S,A=reactExports.useCallback(()=>{typeof v=="function"&&v(),$(!1)},[v]),T=reactExports.useCallback(()=>{typeof R=="function"&&R(),$(!0)},[R]),D=l.current,I=u.current;return reactExports.createElement(AreaLabelListProvider,{showLabels:C,points:m},o.children,reactExports.createElement(JavascriptAnimate,{animationId:N,begin:f,duration:g,isActive:j,easing:b,onAnimationEnd:A,onAnimationStart:T,key:N},L=>{if(D){var _=D.length/m.length,M=L===1?m:m.map((B,q)=>{var z=Math.floor(q*_);if(D[z]){var V=D[z];return _objectSpread$1(_objectSpread$1({},B),{},{x:interpolate$1(V.x,B.x,L),y:interpolate$1(V.y,B.y,L)})}return B}),F;return isNumber(p)?F=interpolate$1(I,p,L):isNullish(p)||isNan(p)?F=interpolate$1(I,0,L):F=p.map((B,q)=>{var z=Math.floor(q*_);if(Array.isArray(I)&&I[z]){var V=I[z];return _objectSpread$1(_objectSpread$1({},B),{},{x:interpolate$1(V.x,B.x,L),y:interpolate$1(V.y,B.y,L)})}return B}),L>0&&(l.current=M,u.current=F),reactExports.createElement(StaticArea,{points:M,baseLine:F,needClip:t,clipPathId:n,props:o})}return L>0&&(l.current=m,u.current=p),reactExports.createElement(Layer,null,j&&reactExports.createElement("defs",null,reactExports.createElement("clipPath",{id:"animationClipPath-".concat(n)},reactExports.createElement(ClipRect,{alpha:L,points:m,baseLine:p,layout:o.layout,strokeWidth:o.strokeWidth}))),reactExports.createElement(Layer,{clipPath:"url(#animationClipPath-".concat(n,")")},reactExports.createElement(StaticArea,{points:m,baseLine:p,needClip:t,clipPathId:n,props:o})))}),reactExports.createElement(LabelListFromLabelProp,{label:o.label}))}function RenderArea(e){var{needClip:t,clipPathId:n,props:o}=e,l=reactExports.useRef(null),u=reactExports.useRef();return reactExports.createElement(AreaWithAnimation,{needClip:t,clipPathId:n,props:o,previousPointsRef:l,previousBaselineRef:u})}class AreaWithState extends reactExports.PureComponent{render(){var t,{hide:n,dot:o,points:l,className:u,top:m,left:p,needClip:j,xAxisId:f,yAxisId:g,width:b,height:R,id:v,baseLine:N}=this.props;if(n)return null;var S=clsx("recharts-area",u),$=v,{r:C=3,strokeWidth:A=2}=(t=filterProps(o,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},T=isClipDot(o),D=C*2+A;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Layer,{className:S},j&&reactExports.createElement("defs",null,reactExports.createElement(GraphicalItemClipPath,{clipPathId:$,xAxisId:f,yAxisId:g}),!T&&reactExports.createElement("clipPath",{id:"clipPath-dots-".concat($)},reactExports.createElement("rect",{x:p-D/2,y:m-D/2,width:b+D,height:R+D}))),reactExports.createElement(RenderArea,{needClip:j,clipPathId:$,props:this.props})),reactExports.createElement(ActivePoints,{points:l,mainColor:getLegendItemColor(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(N)&&reactExports.createElement(ActivePoints,{points:N,mainColor:getLegendItemColor(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var defaultAreaProps={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Global.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function AreaImpl(e){var t,n=resolveDefaultProps(e,defaultAreaProps),{activeDot:o,animationBegin:l,animationDuration:u,animationEasing:m,connectNulls:p,dot:j,fill:f,fillOpacity:g,hide:b,isAnimationActive:R,legendType:v,stroke:N,xAxisId:S,yAxisId:$}=n,C=_objectWithoutProperties$6(n,_excluded2$2),A=useChartLayout(),T=useChartName(),{needClip:D}=useNeedsClip(S,$),I=useIsPanorama(),{points:L,isRange:_,baseLine:M}=(t=useAppSelector(Q=>selectArea(Q,S,$,I,e.id)))!==null&&t!==void 0?t:{},F=usePlotArea();if(A!=="horizontal"&&A!=="vertical"||F==null||T!=="AreaChart"&&T!=="ComposedChart")return null;var{height:B,width:q,x:z,y:V}=F;return!L||!L.length?null:reactExports.createElement(AreaWithState,_extends$5({},C,{activeDot:o,animationBegin:l,animationDuration:u,animationEasing:m,baseLine:M,connectNulls:p,dot:j,fill:f,fillOpacity:g,height:B,hide:b,layout:A,isAnimationActive:R,isRange:_,legendType:v,needClip:D,points:L,stroke:N,width:q,left:z,top:V,xAxisId:S,yAxisId:$}))}var getBaseValue=(e,t,n,o,l)=>{var u=n??t;if(isNumber(u))return u;var m=e==="horizontal"?l:o,p=m.scale.domain();if(m.type==="number"){var j=Math.max(p[0],p[1]),f=Math.min(p[0],p[1]);return u==="dataMin"?f:u==="dataMax"||j<0?j:Math.max(Math.min(p[0],p[1]),0)}return u==="dataMin"?p[0]:u==="dataMax"?p[1]:p[0]};function computeArea(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:o},stackedData:l,layout:u,chartBaseValue:m,xAxis:p,yAxis:j,displayedData:f,dataStartIndex:g,xAxisTicks:b,yAxisTicks:R,bandSize:v}=e,N=l&&l.length,S=getBaseValue(u,m,n,p,j),$=u==="horizontal",C=!1,A=f.map((D,I)=>{var L;N?L=l[g+I]:(L=getValueByDataKey(D,o),Array.isArray(L)?C=!0:L=[S,L]);var _=L[1]==null||N&&!t&&getValueByDataKey(D,o)==null;return $?{x:getCateCoordinateOfLine({axis:p,ticks:b,bandSize:v,entry:D,index:I}),y:_?null:j.scale(L[1]),value:L,payload:D}:{x:_?null:p.scale(L[1]),y:getCateCoordinateOfLine({axis:j,ticks:R,bandSize:v,entry:D,index:I}),value:L,payload:D}}),T;return N||C?T=A.map(D=>{var I=Array.isArray(D.value)?D.value[0]:null;return $?{x:D.x,y:I!=null&&D.y!=null?j.scale(I):null,payload:D.payload}:{x:I!=null?p.scale(I):null,y:D.y,payload:D.payload}}):T=$?j.scale(S):p.scale(S),{points:A,baseLine:T,isRange:C}}function AreaFn(e){var t=resolveDefaultProps(e,defaultAreaProps),n=useIsPanorama();return reactExports.createElement(RegisterGraphicalItemId,{id:t.id,type:"area"},o=>reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetLegendPayload,{legendPayload:computeLegendPayloadFromAreaData(t)}),reactExports.createElement(SetTooltipEntrySettings,{fn:getTooltipEntrySettings,args:t}),reactExports.createElement(SetCartesianGraphicalItem,{type:"area",id:o,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:getNormalizedStackId(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),reactExports.createElement(AreaImpl,_extends$5({},t,{id:o}))))}var Area=reactExports.memo(AreaFn);Area.displayName="Area";var _excluded$5=["dangerouslySetInnerHTML","ticks"],_excluded2$1=["id"],_excluded3$1=["domain"],_excluded4$1=["domain"];function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$4.apply(null,arguments)}function _objectWithoutProperties$5(e,t){if(e==null)return{};var n,o,l=_objectWithoutPropertiesLoose$5(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)n=u[o],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function _objectWithoutPropertiesLoose$5(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;n[o]=e[o]}return n}function SetXAxisSettings(e){var t=useAppDispatch();return reactExports.useEffect(()=>(t(addXAxis(e)),()=>{t(removeXAxis(e))}),[e,t]),null}var XAxisImpl=e=>{var{xAxisId:t,className:n}=e,o=useAppSelector(selectAxisViewBox),l=useIsPanorama(),u="xAxis",m=useAppSelector($=>selectAxisScale($,u,t,l)),p=useAppSelector($=>selectTicksOfAxis($,u,t,l)),j=useAppSelector($=>selectXAxisSize($,t)),f=useAppSelector($=>selectXAxisPosition($,t)),g=useAppSelector($=>selectXAxisSettingsNoDefaults($,t));if(j==null||f==null||g==null)return null;var{dangerouslySetInnerHTML:b,ticks:R}=e,v=_objectWithoutProperties$5(e,_excluded$5),{id:N}=g,S=_objectWithoutProperties$5(g,_excluded2$1);return reactExports.createElement(CartesianAxis,_extends$4({},v,S,{scale:m,x:f.x,y:f.y,width:j.width,height:j.height,className:clsx("recharts-".concat(u," ").concat(u),n),viewBox:o,ticks:p}))},xAxisDefaultProps={allowDataOverflow:implicitXAxis.allowDataOverflow,allowDecimals:implicitXAxis.allowDecimals,allowDuplicatedCategory:implicitXAxis.allowDuplicatedCategory,height:implicitXAxis.height,hide:!1,mirror:implicitXAxis.mirror,orientation:implicitXAxis.orientation,padding:implicitXAxis.padding,reversed:implicitXAxis.reversed,scale:implicitXAxis.scale,tickCount:implicitXAxis.tickCount,type:implicitXAxis.type,xAxisId:0},XAxisSettingsDispatcher=e=>{var t,n,o,l,u,m=resolveDefaultProps(e,xAxisDefaultProps);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetXAxisSettings,{interval:(t=m.interval)!==null&&t!==void 0?t:"preserveEnd",id:m.xAxisId,scale:m.scale,type:m.type,padding:m.padding,allowDataOverflow:m.allowDataOverflow,domain:m.domain,dataKey:m.dataKey,allowDuplicatedCategory:m.allowDuplicatedCategory,allowDecimals:m.allowDecimals,tickCount:m.tickCount,includeHidden:(n=m.includeHidden)!==null&&n!==void 0?n:!1,reversed:m.reversed,ticks:m.ticks,height:m.height,orientation:m.orientation,mirror:m.mirror,hide:m.hide,unit:m.unit,name:m.name,angle:(o=m.angle)!==null&&o!==void 0?o:0,minTickGap:(l=m.minTickGap)!==null&&l!==void 0?l:5,tick:(u=m.tick)!==null&&u!==void 0?u:!0,tickFormatter:m.tickFormatter}),reactExports.createElement(XAxisImpl,m))},XAxisMemoComparator=(e,t)=>{var{domain:n}=e,o=_objectWithoutProperties$5(e,_excluded3$1),{domain:l}=t,u=_objectWithoutProperties$5(t,_excluded4$1);return shallowEqual(o,u)?Array.isArray(n)&&n.length===2&&Array.isArray(l)&&l.length===2?n[0]===l[0]&&n[1]===l[1]:shallowEqual({domain:n},{domain:l}):!1},XAxis=reactExports.memo(XAxisSettingsDispatcher,XAxisMemoComparator);XAxis.displayName="XAxis";var _excluded$4=["dangerouslySetInnerHTML","ticks"],_excluded2=["id"],_excluded3=["domain"],_excluded4=["domain"];function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$3.apply(null,arguments)}function _objectWithoutProperties$4(e,t){if(e==null)return{};var n,o,l=_objectWithoutPropertiesLoose$4(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)n=u[o],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function _objectWithoutPropertiesLoose$4(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;n[o]=e[o]}return n}function SetYAxisSettings(e){var t=useAppDispatch();return reactExports.useEffect(()=>(t(addYAxis(e)),()=>{t(removeYAxis(e))}),[e,t]),null}var YAxisImpl=e=>{var{yAxisId:t,className:n,width:o,label:l}=e,u=reactExports.useRef(null),m=reactExports.useRef(null),p=useAppSelector(selectAxisViewBox),j=useIsPanorama(),f=useAppDispatch(),g="yAxis",b=useAppSelector(I=>selectAxisScale(I,g,t,j)),R=useAppSelector(I=>selectYAxisSize(I,t)),v=useAppSelector(I=>selectYAxisPosition(I,t)),N=useAppSelector(I=>selectTicksOfAxis(I,g,t,j)),S=useAppSelector(I=>selectYAxisSettingsNoDefaults(I,t));if(reactExports.useLayoutEffect(()=>{if(!(o!=="auto"||!R||isLabelContentAFunction(l)||reactExports.isValidElement(l)||S==null)){var I=u.current;if(I){var L=I.getCalculatedWidth();Math.round(R.width)!==Math.round(L)&&f(updateYAxisWidth({id:t,width:L}))}}},[N,R,f,l,t,o,S]),R==null||v==null||S==null)return null;var{dangerouslySetInnerHTML:$,ticks:C}=e,A=_objectWithoutProperties$4(e,_excluded$4),{id:T}=S,D=_objectWithoutProperties$4(S,_excluded2);return reactExports.createElement(CartesianAxis,_extends$3({},A,D,{ref:u,labelRef:m,scale:b,x:v.x,y:v.y,tickTextProps:o==="auto"?{width:void 0}:{width:o},width:R.width,height:R.height,className:clsx("recharts-".concat(g," ").concat(g),n),viewBox:p,ticks:N}))},yAxisDefaultProps={allowDataOverflow:implicitYAxis.allowDataOverflow,allowDecimals:implicitYAxis.allowDecimals,allowDuplicatedCategory:implicitYAxis.allowDuplicatedCategory,hide:!1,mirror:implicitYAxis.mirror,orientation:implicitYAxis.orientation,padding:implicitYAxis.padding,reversed:implicitYAxis.reversed,scale:implicitYAxis.scale,tickCount:implicitYAxis.tickCount,type:implicitYAxis.type,width:implicitYAxis.width,yAxisId:0},YAxisSettingsDispatcher=e=>{var t,n,o,l,u,m=resolveDefaultProps(e,yAxisDefaultProps);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetYAxisSettings,{interval:(t=m.interval)!==null&&t!==void 0?t:"preserveEnd",id:m.yAxisId,scale:m.scale,type:m.type,domain:m.domain,allowDataOverflow:m.allowDataOverflow,dataKey:m.dataKey,allowDuplicatedCategory:m.allowDuplicatedCategory,allowDecimals:m.allowDecimals,tickCount:m.tickCount,padding:m.padding,includeHidden:(n=m.includeHidden)!==null&&n!==void 0?n:!1,reversed:m.reversed,ticks:m.ticks,width:m.width,orientation:m.orientation,mirror:m.mirror,hide:m.hide,unit:m.unit,name:m.name,angle:(o=m.angle)!==null&&o!==void 0?o:0,minTickGap:(l=m.minTickGap)!==null&&l!==void 0?l:5,tick:(u=m.tick)!==null&&u!==void 0?u:!0,tickFormatter:m.tickFormatter}),reactExports.createElement(YAxisImpl,m))},YAxisMemoComparator=(e,t)=>{var{domain:n}=e,o=_objectWithoutProperties$4(e,_excluded3),{domain:l}=t,u=_objectWithoutProperties$4(t,_excluded4);return shallowEqual(o,u)?Array.isArray(n)&&n.length===2&&Array.isArray(l)&&l.length===2?n[0]===l[0]&&n[1]===l[1]:shallowEqual({domain:n},{domain:l}):!1},YAxis=reactExports.memo(YAxisSettingsDispatcher,YAxisMemoComparator);YAxis.displayName="YAxis";var withSelector={exports:{}},useSyncExternalStoreWithSelector_production={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreWithSelector_production;function requireUseSyncExternalStoreWithSelector_production(){if(hasRequiredUseSyncExternalStoreWithSelector_production)return useSyncExternalStoreWithSelector_production;hasRequiredUseSyncExternalStoreWithSelector_production=1;var e=requireReact();function t(j,f){return j===f&&(j!==0||1/j===1/f)||j!==j&&f!==f}var n=typeof Object.is=="function"?Object.is:t,o=e.useSyncExternalStore,l=e.useRef,u=e.useEffect,m=e.useMemo,p=e.useDebugValue;return useSyncExternalStoreWithSelector_production.useSyncExternalStoreWithSelector=function(j,f,g,b,R){var v=l(null);if(v.current===null){var N={hasValue:!1,value:null};v.current=N}else N=v.current;v=m(function(){function $(I){if(!C){if(C=!0,A=I,I=b(I),R!==void 0&&N.hasValue){var L=N.value;if(R(L,I))return T=L}return T=I}if(L=T,n(A,I))return L;var _=b(I);return R!==void 0&&R(L,_)?(A=I,L):(A=I,T=_)}var C=!1,A,T,D=g===void 0?null:g;return[function(){return $(f())},D===null?void 0:function(){return $(D())}]},[f,g,b,R]);var S=o(j,v[0],v[1]);return u(function(){N.hasValue=!0,N.value=S},[S]),p(S),S},useSyncExternalStoreWithSelector_production}var hasRequiredWithSelector;function requireWithSelector(){return hasRequiredWithSelector||(hasRequiredWithSelector=1,withSelector.exports=requireUseSyncExternalStoreWithSelector_production()),withSelector.exports}requireWithSelector();function defaultNoopBatch(e){e()}function createListenerCollection(){let e=null,t=null;return{clear(){e=null,t=null},notify(){defaultNoopBatch(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let o=e;for(;o;)n.push(o),o=o.next;return n},subscribe(n){let o=!0;const l=t={callback:n,next:null,prev:t};return l.prev?l.prev.next=l:e=l,function(){!o||e===null||(o=!1,l.next?l.next.prev=l.prev:t=l.prev,l.prev?l.prev.next=l.next:e=l.next)}}}}var nullListeners={notify(){},get:()=>[]};function createSubscription(e,t){let n,o=nullListeners,l=0,u=!1;function m(S){g();const $=o.subscribe(S);let C=!1;return()=>{C||(C=!0,$(),b())}}function p(){o.notify()}function j(){N.onStateChange&&N.onStateChange()}function f(){return u}function g(){l++,n||(n=e.subscribe(j),o=createListenerCollection())}function b(){l--,n&&l===0&&(n(),n=void 0,o.clear(),o=nullListeners)}function R(){u||(u=!0,g())}function v(){u&&(u=!1,b())}const N={addNestedSub:m,notifyNestedSubs:p,handleChangeWrapper:j,isSubscribed:f,trySubscribe:R,tryUnsubscribe:v,getListeners:()=>o};return N}var canUseDOM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isDOM=canUseDOM(),isRunningInReactNative=()=>typeof navigator<"u"&&navigator.product==="ReactNative",isReactNative=isRunningInReactNative(),getUseIsomorphicLayoutEffect=()=>isDOM||isReactNative?reactExports.useLayoutEffect:reactExports.useEffect,useIsomorphicLayoutEffect=getUseIsomorphicLayoutEffect(),ContextKey=Symbol.for("react-redux-context"),gT=typeof globalThis<"u"?globalThis:{};function getContext(){if(!reactExports.createContext)return{};const e=gT[ContextKey]??=new Map;let t=e.get(reactExports.createContext);return t||(t=reactExports.createContext(null),e.set(reactExports.createContext,t)),t}var ReactReduxContext=getContext();function Provider(e){const{children:t,context:n,serverState:o,store:l}=e,u=reactExports.useMemo(()=>{const j=createSubscription(l);return{store:l,subscription:j,getServerState:o?()=>o:void 0}},[l,o]),m=reactExports.useMemo(()=>l.getState(),[l]);useIsomorphicLayoutEffect(()=>{const{subscription:j}=u;return j.onStateChange=j.notifyNestedSubs,j.trySubscribe(),m!==l.getState()&&j.notifyNestedSubs(),()=>{j.tryUnsubscribe(),j.onStateChange=void 0}},[u,m]);const p=n||ReactReduxContext;return reactExports.createElement(p.Provider,{value:u},t)}var Provider_default=Provider,pickChartPointer=(e,t)=>t,selectActivePropsFromChartPointer=createSelector([pickChartPointer,selectChartLayout,selectPolarViewBox,selectTooltipAxisType,selectTooltipAxisRangeWithReverse,selectTooltipAxisTicks,selectOrderedTooltipTicks,selectChartOffsetInternal],combineActiveProps),getChartPointer=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,o=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/o)}},mouseClickAction=createAction("mouseClick"),mouseClickMiddleware=createListenerMiddleware();mouseClickMiddleware.startListening({actionCreator:mouseClickAction,effect:(e,t)=>{var n=e.payload,o=selectActivePropsFromChartPointer(t.getState(),getChartPointer(n));o?.activeIndex!=null&&t.dispatch(setMouseClickAxisIndex({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}});var mouseMoveAction=createAction("mouseMove"),mouseMoveMiddleware=createListenerMiddleware();mouseMoveMiddleware.startListening({actionCreator:mouseMoveAction,effect:(e,t)=>{var n=e.payload,o=t.getState(),l=selectTooltipEventType$1(o,o.tooltip.settings.shared),u=selectActivePropsFromChartPointer(o,getChartPointer(n));l==="axis"&&(u?.activeIndex!=null?t.dispatch(setMouseOverAxisIndex({activeIndex:u.activeIndex,activeDataKey:void 0,activeCoordinate:u.activeCoordinate})):t.dispatch(mouseLeaveChart()))}});var initialState={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},rootPropsSlice=createSlice({name:"rootProps",initialState,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:initialState.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),rootPropsReducer=rootPropsSlice.reducer,{updateOptions}=rootPropsSlice.actions,polarOptionsSlice=createSlice({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions}=polarOptionsSlice.actions,polarOptionsReducer=polarOptionsSlice.reducer,keyDownAction=createAction("keyDown"),focusAction=createAction("focus"),keyboardEventsMiddleware=createListenerMiddleware();keyboardEventsMiddleware.startListening({actionCreator:keyDownAction,effect:(e,t)=>{var n=t.getState(),o=n.rootProps.accessibilityLayer!==!1;if(o){var{keyboardInteraction:l}=n.tooltip,u=e.payload;if(!(u!=="ArrowRight"&&u!=="ArrowLeft"&&u!=="Enter")){var m=Number(combineActiveTooltipIndex(l,selectTooltipDisplayedData(n))),p=selectTooltipAxisTicks(n);if(u==="Enter"){var j=selectCoordinateForDefaultIndex(n,"axis","hover",String(l.index));t.dispatch(setKeyboardInteraction({active:!l.active,activeIndex:l.index,activeDataKey:l.dataKey,activeCoordinate:j}));return}var f=selectChartDirection(n),g=f==="left-to-right"?1:-1,b=u==="ArrowRight"?1:-1,R=m+b*g;if(!(p==null||R>=p.length||R<0)){var v=selectCoordinateForDefaultIndex(n,"axis","hover",String(R));t.dispatch(setKeyboardInteraction({active:!0,activeIndex:R.toString(),activeDataKey:void 0,activeCoordinate:v}))}}}}});keyboardEventsMiddleware.startListening({actionCreator:focusAction,effect:(e,t)=>{var n=t.getState(),o=n.rootProps.accessibilityLayer!==!1;if(o){var{keyboardInteraction:l}=n.tooltip;if(!l.active&&l.index==null){var u="0",m=selectCoordinateForDefaultIndex(n,"axis","hover",String(u));t.dispatch(setKeyboardInteraction({activeDataKey:void 0,active:!0,activeIndex:u,activeCoordinate:m}))}}}});var externalEventAction=createAction("externalEvent"),externalEventsMiddleware=createListenerMiddleware();externalEventsMiddleware.startListening({actionCreator:externalEventAction,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),o={activeCoordinate:selectActiveTooltipCoordinate(n),activeDataKey:selectActiveTooltipDataKey(n),activeIndex:selectActiveTooltipIndex(n),activeLabel:selectActiveLabel$1(n),activeTooltipIndex:selectActiveTooltipIndex(n),isTooltipActive:selectIsTooltipActive$1(n)};e.payload.handler(o,e.payload.reactEvent)}}});var selectAllTooltipPayloadConfiguration=createSelector([selectTooltipState],e=>e.tooltipItemPayloads),selectTooltipCoordinate=createSelector([selectAllTooltipPayloadConfiguration,selectTooltipPayloadSearcher,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,o)=>{var l=e.find(p=>p.settings.dataKey===o);if(l!=null){var{positions:u}=l;if(u!=null){var m=t(u,n);return m}}}),touchEventAction=createAction("touchMove"),touchEventMiddleware=createListenerMiddleware();touchEventMiddleware.startListening({actionCreator:touchEventAction,effect:(e,t)=>{var n=e.payload,o=t.getState(),l=selectTooltipEventType$1(o,o.tooltip.settings.shared);if(l==="axis"){var u=selectActivePropsFromChartPointer(o,getChartPointer({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));u?.activeIndex!=null&&t.dispatch(setMouseOverAxisIndex({activeIndex:u.activeIndex,activeDataKey:void 0,activeCoordinate:u.activeCoordinate}))}else if(l==="item"){var m,p=n.touches[0],j=document.elementFromPoint(p.clientX,p.clientY);if(!j||!j.getAttribute)return;var f=j.getAttribute(DATA_ITEM_INDEX_ATTRIBUTE_NAME),g=(m=j.getAttribute(DATA_ITEM_DATAKEY_ATTRIBUTE_NAME))!==null&&m!==void 0?m:void 0,b=selectTooltipCoordinate(t.getState(),f,g);t.dispatch(setActiveMouseOverItemIndex({activeDataKey:g,activeIndex:f,activeCoordinate:b}))}}});var rootReducer=combineReducers({brush:brushReducer,cartesianAxis:cartesianAxisReducer,chartData:chartDataReducer,errorBars:errorBarReducer,graphicalItems:graphicalItemsReducer,layout:chartLayoutReducer,legend:legendReducer,options:optionsReducer,polarAxis:polarAxisReducer,polarOptions:polarOptionsReducer,referenceElements:referenceElementsReducer,rootProps:rootPropsReducer,tooltip:tooltipReducer}),createRechartsStore=function e(t){return configureStore({reducer:rootReducer,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([mouseClickMiddleware.middleware,mouseMoveMiddleware.middleware,keyboardEventsMiddleware.middleware,externalEventsMiddleware.middleware,touchEventMiddleware.middleware]),devTools:Global.devToolsEnabled})};function RechartsStoreProvider(e){var{preloadedState:t,children:n,reduxStoreName:o}=e,l=useIsPanorama(),u=reactExports.useRef(null);if(l)return n;u.current==null&&(u.current=createRechartsStore(t));var m=RechartsReduxContext;return reactExports.createElement(Provider_default,{context:m,store:u.current},n)}function ReportMainChartProps(e){var{layout:t,width:n,height:o,margin:l}=e,u=useAppDispatch(),m=useIsPanorama();return reactExports.useEffect(()=>{m||(u(setLayout(t)),u(setChartSize({width:n,height:o})),u(setMargin(l)))},[u,m,t,n,o,l]),null}function ReportChartProps(e){var t=useAppDispatch();return reactExports.useEffect(()=>{t(updateOptions(e))},[t,e]),null}var _excluded$3=["children"];function _objectWithoutProperties$3(e,t){if(e==null)return{};var n,o,l=_objectWithoutPropertiesLoose$3(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)n=u[o],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function _objectWithoutPropertiesLoose$3(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;n[o]=e[o]}return n}function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$2.apply(null,arguments)}var FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%"},MainChartSurface=reactExports.forwardRef((e,t)=>{var n=useChartWidth(),o=useChartHeight(),l=useAccessibilityLayer();if(!isPositiveNumber(n)||!isPositiveNumber(o))return null;var{children:u,otherAttributes:m,title:p,desc:j}=e,f,g;return typeof m.tabIndex=="number"?f=m.tabIndex:f=l?0:void 0,typeof m.role=="string"?g=m.role:g=l?"application":void 0,reactExports.createElement(Surface,_extends$2({},m,{title:p,desc:j,role:g,tabIndex:f,width:n,height:o,style:FULL_WIDTH_AND_HEIGHT,ref:t}),u)}),BrushPanoramaSurface=e=>{var{children:t}=e,n=useAppSelector(selectBrushDimensions);if(!n)return null;var{width:o,height:l,y:u,x:m}=n;return reactExports.createElement(Surface,{width:o,height:l,x:m,y:u},t)},RootSurface=reactExports.forwardRef((e,t)=>{var{children:n}=e,o=_objectWithoutProperties$3(e,_excluded$3),l=useIsPanorama();return l?reactExports.createElement(BrushPanoramaSurface,null,n):reactExports.createElement(MainChartSurface,_extends$2({ref:t},o),n)});function useReportScale(){var e=useAppDispatch(),[t,n]=reactExports.useState(null),o=useAppSelector(selectContainerScale);return reactExports.useEffect(()=>{if(t!=null){var l=t.getBoundingClientRect(),u=l.width/t.offsetWidth;isWellBehavedNumber(u)&&u!==o&&e(setScale(u))}},[t,e,o]),n}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(o){_defineProperty(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RechartsWrapper=reactExports.forwardRef((e,t)=>{var{children:n,className:o,height:l,onClick:u,onContextMenu:m,onDoubleClick:p,onMouseDown:j,onMouseEnter:f,onMouseLeave:g,onMouseMove:b,onMouseUp:R,onTouchEnd:v,onTouchMove:N,onTouchStart:S,style:$,width:C}=e,A=useAppDispatch(),[T,D]=reactExports.useState(null),[I,L]=reactExports.useState(null);useSynchronisedEventsFromOtherCharts();var _=useReportScale(),M=reactExports.useCallback(Y=>{_(Y),typeof t=="function"&&t(Y),D(Y),L(Y)},[_,t,D,L]),F=reactExports.useCallback(Y=>{A(mouseClickAction(Y)),A(externalEventAction({handler:u,reactEvent:Y}))},[A,u]),B=reactExports.useCallback(Y=>{A(mouseMoveAction(Y)),A(externalEventAction({handler:f,reactEvent:Y}))},[A,f]),q=reactExports.useCallback(Y=>{A(mouseLeaveChart()),A(externalEventAction({handler:g,reactEvent:Y}))},[A,g]),z=reactExports.useCallback(Y=>{A(mouseMoveAction(Y)),A(externalEventAction({handler:b,reactEvent:Y}))},[A,b]),V=reactExports.useCallback(()=>{A(focusAction())},[A]),Q=reactExports.useCallback(Y=>{A(keyDownAction(Y.key))},[A]),ee=reactExports.useCallback(Y=>{A(externalEventAction({handler:m,reactEvent:Y}))},[A,m]),G=reactExports.useCallback(Y=>{A(externalEventAction({handler:p,reactEvent:Y}))},[A,p]),K=reactExports.useCallback(Y=>{A(externalEventAction({handler:j,reactEvent:Y}))},[A,j]),J=reactExports.useCallback(Y=>{A(externalEventAction({handler:R,reactEvent:Y}))},[A,R]),ne=reactExports.useCallback(Y=>{A(externalEventAction({handler:S,reactEvent:Y}))},[A,S]),H=reactExports.useCallback(Y=>{A(touchEventAction(Y)),A(externalEventAction({handler:N,reactEvent:Y}))},[A,N]),te=reactExports.useCallback(Y=>{A(externalEventAction({handler:v,reactEvent:Y}))},[A,v]);return reactExports.createElement(TooltipPortalContext.Provider,{value:T},reactExports.createElement(LegendPortalContext.Provider,{value:I},reactExports.createElement("div",{className:clsx("recharts-wrapper",o),style:_objectSpread({position:"relative",cursor:"default",width:C,height:l},$),onClick:F,onContextMenu:ee,onDoubleClick:G,onFocus:V,onKeyDown:Q,onMouseDown:K,onMouseEnter:B,onMouseLeave:q,onMouseMove:z,onMouseUp:J,onTouchEnd:te,onTouchMove:H,onTouchStart:ne,ref:M},n)))}),_excluded$2=["children","className","width","height","style","compact","title","desc"];function _objectWithoutProperties$2(e,t){if(e==null)return{};var n,o,l=_objectWithoutPropertiesLoose$2(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)n=u[o],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function _objectWithoutPropertiesLoose$2(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;n[o]=e[o]}return n}var CategoricalChart=reactExports.forwardRef((e,t)=>{var{children:n,className:o,width:l,height:u,style:m,compact:p,title:j,desc:f}=e,g=_objectWithoutProperties$2(e,_excluded$2),b=svgPropertiesNoEvents(g);return p?reactExports.createElement(RootSurface,{otherAttributes:b,title:j,desc:f},n):reactExports.createElement(RechartsWrapper,{className:o,style:m,width:l,height:u,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},reactExports.createElement(RootSurface,{otherAttributes:b,title:j,desc:f,ref:t},reactExports.createElement(ClipPathProvider,null,n)))}),_excluded$1=["width","height"];function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$1.apply(null,arguments)}function _objectWithoutProperties$1(e,t){if(e==null)return{};var n,o,l=_objectWithoutPropertiesLoose$1(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)n=u[o],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function _objectWithoutPropertiesLoose$1(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;n[o]=e[o]}return n}var defaultMargin$1={top:5,right:5,bottom:5,left:5},defaultProps$2={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:defaultMargin$1,reverseStackOrder:!1,syncMethod:"index"},CartesianChart=reactExports.forwardRef(function e(t,n){var o,l=resolveDefaultProps(t.categoricalChartProps,defaultProps$2),{width:u,height:m}=l,p=_objectWithoutProperties$1(l,_excluded$1);if(!isPositiveNumber(u)||!isPositiveNumber(m))return null;var{chartName:j,defaultTooltipEventType:f,validateTooltipEventTypes:g,tooltipPayloadSearcher:b,categoricalChartProps:R}=t,v={chartName:j,defaultTooltipEventType:f,validateTooltipEventTypes:g,tooltipPayloadSearcher:b,eventEmitter:void 0};return reactExports.createElement(RechartsStoreProvider,{preloadedState:{options:v},reduxStoreName:(o=R.id)!==null&&o!==void 0?o:j},reactExports.createElement(ChartDataContextProvider,{chartData:R.data}),reactExports.createElement(ReportMainChartProps,{width:u,height:m,layout:l.layout,margin:l.margin}),reactExports.createElement(ReportChartProps,{accessibilityLayer:l.accessibilityLayer,barCategoryGap:l.barCategoryGap,maxBarSize:l.maxBarSize,stackOffset:l.stackOffset,barGap:l.barGap,barSize:l.barSize,syncId:l.syncId,syncMethod:l.syncMethod,className:l.className}),reactExports.createElement(CategoricalChart,_extends$1({},p,{width:u,height:m,ref:n})))}),allowedTooltipTypes$3=["axis"],LineChart=reactExports.forwardRef((e,t)=>reactExports.createElement(CartesianChart,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:allowedTooltipTypes$3,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:e,ref:t})),allowedTooltipTypes$2=["axis","item"],BarChart=reactExports.forwardRef((e,t)=>reactExports.createElement(CartesianChart,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:allowedTooltipTypes$2,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:e,ref:t}));function ReportPolarOptions(e){var t=useAppDispatch();return reactExports.useEffect(()=>{t(updatePolarOptions(e))},[t,e]),null}var _excluded=["width","height","layout"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends.apply(null,arguments)}function _objectWithoutProperties(e,t){if(e==null)return{};var n,o,l=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)n=u[o],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function _objectWithoutPropertiesLoose(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;n[o]=e[o]}return n}var defaultMargin={top:5,right:5,bottom:5,left:5},defaultProps$1={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:defaultMargin,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},PolarChart=reactExports.forwardRef(function e(t,n){var o,l=resolveDefaultProps(t.categoricalChartProps,defaultProps$1),{width:u,height:m,layout:p}=l,j=_objectWithoutProperties(l,_excluded);if(!isPositiveNumber(u)||!isPositiveNumber(m))return null;var{chartName:f,defaultTooltipEventType:g,validateTooltipEventTypes:b,tooltipPayloadSearcher:R}=t,v={chartName:f,defaultTooltipEventType:g,validateTooltipEventTypes:b,tooltipPayloadSearcher:R,eventEmitter:void 0};return reactExports.createElement(RechartsStoreProvider,{preloadedState:{options:v},reduxStoreName:(o=l.id)!==null&&o!==void 0?o:f},reactExports.createElement(ChartDataContextProvider,{chartData:l.data}),reactExports.createElement(ReportMainChartProps,{width:u,height:m,layout:p,margin:l.margin}),reactExports.createElement(ReportChartProps,{accessibilityLayer:l.accessibilityLayer,barCategoryGap:l.barCategoryGap,maxBarSize:l.maxBarSize,stackOffset:l.stackOffset,barGap:l.barGap,barSize:l.barSize,syncId:l.syncId,syncMethod:l.syncMethod,className:l.className}),reactExports.createElement(ReportPolarOptions,{cx:l.cx,cy:l.cy,startAngle:l.startAngle,endAngle:l.endAngle,innerRadius:l.innerRadius,outerRadius:l.outerRadius}),reactExports.createElement(CategoricalChart,_extends({width:u,height:m},j,{ref:n})))}),allowedTooltipTypes$1=["item"],defaultProps={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},PieChart=reactExports.forwardRef((e,t)=>{var n=resolveDefaultProps(e,defaultProps);return reactExports.createElement(PolarChart,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:allowedTooltipTypes$1,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:n,ref:t})}),allowedTooltipTypes=["axis"],AreaChart=reactExports.forwardRef((e,t)=>reactExports.createElement(CartesianChart,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:allowedTooltipTypes,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:e,ref:t}));const API_URL$1h="https://javapaas-202946-0.cloudclusters.net/api",formatPrice$1=e=>`AED ${(e/100).toFixed(2)}`,StatCard$3=({title:e,value:t,icon:n,link:o,linkText:l})=>jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm flex flex-col justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-slate-500",children:e}),jsxRuntimeExports.jsx(n,{className:"h-6 w-6 text-slate-400"})]}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-slate-800 mt-2",children:t})]}),o&&jsxRuntimeExports.jsxs(Link$1,{to:o,className:"text-sm font-medium text-blue-600 hover:text-blue-800 mt-4 flex items-center gap-1",children:[l," ",jsxRuntimeExports.jsx(ArrowRight,{size:14})]})]}),PosDashboardView=()=>{const[e,t]=reactExports.useState({todayRevenue:0,todaySales:0,totalProducts:0,totalCustomers:0}),[n,o]=reactExports.useState([]),[l,u]=reactExports.useState([]),[m,p]=reactExports.useState(!0),[j,f]=reactExports.useState("");return reactExports.useEffect(()=>{(async()=>{p(!0),f("");try{const R={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}},v=new Date,N=v.toISOString().split("T")[0],S=new Date(v.setDate(v.getDate()-6)).toISOString().split("T")[0];v.setDate(v.getDate()+6);const[$,C,A]=await Promise.all([axios.get(`${API_URL$1h}/pos/sales?startDate=${S}&endDate=${N}`,R),axios.get(`${API_URL$1h}/pos/products`,R),axios.get(`${API_URL$1h}/pos/customers`,R)]),T=$.data.filter(L=>L.invoiceDate&&typeof L.invoiceDate=="string"&&L.invoiceDate.startsWith(N)),D=T.reduce((L,_)=>L+_.totalCents,0),I=$.data.reduce((L,_)=>{const F=(_.invoiceDate&&typeof _.invoiceDate=="string"?_.invoiceDate:new Date().toISOString()).split("T")[0];return L[F]||(L[F]={date:F,revenue:0}),L[F].revenue+=_.totalCents/100,L},{});t({todayRevenue:D,todaySales:T.length,totalProducts:C.data.length,totalCustomers:A.data.length}),o(Object.values(I).sort((L,_)=>new Date(L.date)-new Date(_.date))),u($.data.sort((L,_)=>new Date(_.invoiceDate)-new Date(L.invoiceDate)).slice(0,5))}catch(b){console.error("Failed to load dashboard data:",b),f("Could not load dashboard data. Please try again.")}finally{p(!1)}})()},[]),m?jsxRuntimeExports.jsx("div",{className:"p-8 flex justify-center items-center h-full",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-blue-600"})}):j?jsxRuntimeExports.jsxs("div",{className:"p-8 text-center text-red-500",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12"}),j]}):jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-8 space-y-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Dashboard"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsx(StatCard$3,{title:"Today's Revenue",value:formatPrice$1(e.todayRevenue),icon:DollarSign,link:"/pos-dashboard?view=Sales",linkText:"View Sales"}),jsxRuntimeExports.jsx(StatCard$3,{title:"Today's Sales",value:e.todaySales.toLocaleString(),icon:ShoppingCart,link:"/pos-dashboard?view=Sales",linkText:"View Sales"}),jsxRuntimeExports.jsx(StatCard$3,{title:"Total Products",value:e.totalProducts.toLocaleString(),icon:Package,link:"/pos-dashboard?view=Products",linkText:"Manage Products"}),jsxRuntimeExports.jsx(StatCard$3,{title:"Total Customers",value:e.totalCustomers.toLocaleString(),icon:Users,link:"/pos-dashboard?view=Customers",linkText:"Manage Customers"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl shadow-sm",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx(TrendingUp,{size:22})," Weekly Sales"]}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:300,children:jsxRuntimeExports.jsxs(LineChart,{data:n,margin:{top:5,right:20,left:-10,bottom:5},children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"#e0e0e0"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"date",tick:{fontSize:12},tickFormatter:g=>new Date(g).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),jsxRuntimeExports.jsx(YAxis,{tick:{fontSize:12},tickFormatter:g=>`AED ${g}`}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{borderRadius:"0.5rem",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)"},labelStyle:{fontWeight:"bold"},formatter:g=>[formatPrice$1(g*100),"Revenue"]}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"revenue",stroke:"#3b82f6",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Recent Sales"}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:l.length>0?l.map(g=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-sm",children:g.customerName||"Walk-in Customer"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-500",children:new Date(g.invoiceDate).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})})]}),jsxRuntimeExports.jsx("p",{className:"font-semibold text-sm text-slate-700",children:formatPrice$1(g.totalCents)})]},g.id)):jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-500 text-center py-8",children:"No recent sales to display."})})]})]})]})},API_URL$1g="https://javapaas-202946-0.cloudclusters.net/api",formatPrice=e=>`AED ${(e/100).toFixed(2)}`,StatCard$2=({title:e,value:t})=>jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-slate-500",children:e}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-slate-800 mt-1",children:t})]}),COLORS$1=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"],ReportsView=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState(""),[m,p]=reactExports.useState({start:new Date(new Date().setDate(new Date().getDate()-30)).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]});reactExports.useEffect(()=>{(async()=>{if(!(!m.start||!m.end)){o(!0),u("");try{const R=localStorage.getItem("token"),v=await axios.get(`${API_URL$1g}/pos/sales`,{headers:{Authorization:`Bearer ${R}`},params:{startDate:m.start,endDate:m.end}});t(v.data)}catch(R){u("Failed to load sales data."),console.error("Error fetching sales:",R)}finally{o(!1)}}})()},[m]);const j=reactExports.useMemo(()=>{const b=e;if(!b.length)return{filteredSales:[],salesByDay:[],topProducts:[]};const R=b.reduce((S,$)=>{const C=new Date($.invoiceDate).toLocaleDateString("en-CA");return S[C]||(S[C]={date:C,revenue:0}),S[C].revenue+=$.totalCents/100,S},{}),v=b.flatMap(S=>S.items).reduce((S,$)=>(S[$.productName]=(S[$.productName]||0)+$.quantity,S),{}),N=Object.entries(v).map(([S,$])=>({name:S,value:$})).sort((S,$)=>$.value-S.value).slice(0,5);return{filteredSales:b,salesByDay:Object.values(R).sort((S,$)=>new Date(S.date)-new Date($.date)),topProducts:N}},[e]),f=reactExports.useMemo(()=>{const b=j.filteredSales.reduce((N,S)=>N+S.totalCents,0),R=j.filteredSales.length,v=R>0?b/R:0;return{totalRevenue:b,totalTransactions:R,avgTransactionValue:v}},[j.filteredSales]),g=b=>{const R=new Date(b);return R.getDate()===1?R.toLocaleDateString("en-US",{year:"2-digit",month:"short",day:"numeric"}):R.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return n?jsxRuntimeExports.jsx("div",{className:"p-8 flex justify-center items-center h-full",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-blue-600"})}):l?jsxRuntimeExports.jsxs("div",{className:"p-8 text-center text-red-500",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12"}),l]}):jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-8 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Reports & Analytics"}),jsxRuntimeExports.jsx("p",{className:"text-slate-500 mt-1",children:"Analyze your sales performance."})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 bg-white p-2 rounded-lg shadow-sm",children:[jsxRuntimeExports.jsx(Calendar,{className:"h-5 w-5 text-slate-400"}),jsxRuntimeExports.jsx("input",{type:"date",value:m.start,onChange:b=>p(R=>({...R,start:b.target.value})),className:"input-sm"}),jsxRuntimeExports.jsx("span",{className:"text-slate-500",children:"to"}),jsxRuntimeExports.jsx("input",{type:"date",value:m.end,onChange:b=>p(R=>({...R,end:b.target.value})),className:"input-sm"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsx(StatCard$2,{title:"Total Revenue",value:formatPrice(f.totalRevenue)}),jsxRuntimeExports.jsx(StatCard$2,{title:"Transactions",value:f.totalTransactions.toLocaleString()}),jsxRuntimeExports.jsx(StatCard$2,{title:"Avg. Sale Value",value:formatPrice(f.avgTransactionValue)})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-3 bg-white p-6 rounded-xl shadow-sm",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Sales Over Time"}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:300,children:jsxRuntimeExports.jsxs(LineChart,{data:j.salesByDay,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"date",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:g}),jsxRuntimeExports.jsx(YAxis,{fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:b=>`AED ${b}`}),jsxRuntimeExports.jsx(Tooltip,{formatter:b=>formatPrice(b*100)}),jsxRuntimeExports.jsx(Legend,{}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"revenue",stroke:"#3b82f6",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})})]}),jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl shadow-sm",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Top Selling Products"}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:300,children:jsxRuntimeExports.jsxs(PieChart,{children:[jsxRuntimeExports.jsx(Pie,{data:j.topProducts,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",label:!0,children:j.topProducts.map((b,R)=>jsxRuntimeExports.jsx(Cell,{fill:COLORS$1[R%COLORS$1.length]},`cell-${R}`))}),jsxRuntimeExports.jsx(Tooltip,{formatter:b=>`${b} units sold`}),jsxRuntimeExports.jsx(Legend,{})]})})]})]})]})},navLinks=[{name:"Dashboard",icon:LayoutDashboard,Component:PosDashboardView},{name:"Sales",icon:ShoppingCart,Component:SalesView},{name:"Products",icon:Package,Component:ProductsView},{name:"Inventory",icon:ClipboardList,Component:InventoryView},{name:"Customers",icon:Users,Component:CustomersView},{name:"Reports",icon:ChartNoAxesColumnIncreasing,Component:ReportsView},{name:"Settings",icon:Settings$1,Component:PosSettingsView}],NavItem=({item:e,isActive:t,onClick:n})=>jsxRuntimeExports.jsxs("button",{onClick:n,className:`flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors w-full text-left ${t?"bg-blue-600 text-white shadow-sm":"text-slate-600 hover:bg-slate-200"}`,children:[jsxRuntimeExports.jsx(e.icon,{className:"h-5 w-5 mr-3 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{children:e.name})]}),SidebarContent$5=({activeItem:e,setActiveItem:t,onLinkClick:n,isSuperAdmin:o})=>{const l=useNavigate(),u=localStorage.getItem("username")||"User",[m,p]=reactExports.useState(null),[j,f]=reactExports.useState(""),[g,b]=reactExports.useState(null),R="https://javapaas-202946-0.cloudclusters.net/api",v=reactExports.useCallback(async()=>{try{const $=localStorage.getItem("token"),C=await axios.get(`${R}/pos/tenant/current`,{headers:{Authorization:`Bearer ${$}`}});C.data&&C.data.logoImgUrl?(f(C.data.name||"POS System"),b(C.data.logoImgUrl),p(`${C.data.logoImgUrl}`)):(p(null),b(null),f("POS System"))}catch($){console.error("Could not fetch tenant info",$),b(null),p(null)}},[R]);reactExports.useEffect(()=>{v()},[v]);const N=()=>{localStorage.clear(),l("/login")},S=()=>jsxRuntimeExports.jsxs(NavLink,{to:"/company-dashboard",onClick:n,className:"flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors text-slate-600 hover:bg-slate-200",children:[jsxRuntimeExports.jsx(House,{className:"h-5 w-5 mr-3 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{children:"Company Hub"})]});return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full bg-white",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-slate-200 flex-shrink-0",children:[jsxRuntimeExports.jsxs(Link$1,{to:"/pos-dashboard",className:"flex items-center gap-3",children:[m?jsxRuntimeExports.jsx("img",{src:m,alt:"Logo",className:"h-8 w-auto object-contain"}):jsxRuntimeExports.jsx(Sparkles,{className:"h-7 w-7 text-blue-600"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-xl text-slate-800",children:j})]}),jsxRuntimeExports.jsx("div",{className:"ml-2 text-sm text-gray-500",children:new Date().toLocaleDateString()})]}),jsxRuntimeExports.jsxs("nav",{className:"flex-1 px-4 py-4 space-y-2 overflow-y-auto",children:[navLinks.map($=>jsxRuntimeExports.jsx(NavItem,{item:$,isActive:e===$.name,onClick:()=>{t($.name),n&&n()}},$.name)),o&&jsxRuntimeExports.jsx("div",{className:"pt-4 mt-4 border-t border-slate-200",children:jsxRuntimeExports.jsx(S,{})})]}),jsxRuntimeExports.jsx("div",{className:"p-4 border-t border-slate-200 flex-shrink-0",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center min-w-0",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-200 flex items-center justify-center font-bold text-blue-700 flex-shrink-0",children:u.charAt(0).toUpperCase()}),jsxRuntimeExports.jsxs("div",{className:"ml-3 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-semibold text-slate-800 truncate",children:u}),jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-500",children:localStorage.getItem("roles")})]})]}),jsxRuntimeExports.jsx("button",{onClick:N,className:"text-slate-500 hover:text-red-600 ml-2 flex-shrink-0",title:"Logout",children:jsxRuntimeExports.jsx(LogOut,{className:"h-5 w-5"})})]})})]})},PosDashboard=()=>{const[e,t]=reactExports.useState(!1),[n,o]=useSearchParams(),l=n.get("view")||"Dashboard",m=reactExports.useMemo(()=>{try{return JSON.parse(localStorage.getItem("roles")||"[]")}catch{return[]}},[]).includes("SUPER_ADMIN"),p=f=>{o({view:f})};reactExports.useEffect(()=>{n.get("view")||o({view:"Dashboard"},{replace:!0})},[n,o]);const j=()=>{const g=(navLinks.find(b=>b.name===l)||navLinks[0]).Component;return jsxRuntimeExports.jsx(g,{setActiveItem:p},l)};return jsxRuntimeExports.jsxs("div",{className:"flex h-screen bg-slate-100",children:[jsxRuntimeExports.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0",children:jsxRuntimeExports.jsx("div",{className:"flex flex-col w-64 border-r border-slate-200",children:jsxRuntimeExports.jsx(SidebarContent$5,{activeItem:l,setActiveItem:p,isSuperAdmin:m})})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[jsxRuntimeExports.jsxs("header",{className:"lg:hidden sticky top-0 z-10 flex-shrink-0 flex h-16 bg-white shadow-sm",children:[jsxRuntimeExports.jsx("button",{type:"button",className:"px-4 border-r border-slate-200 text-slate-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500",onClick:()=>t(!0),children:jsxRuntimeExports.jsx(Menu,{className:"h-6 w-6"})}),jsxRuntimeExports.jsx("div",{className:"flex-1 px-4 flex justify-between items-center",children:jsxRuntimeExports.jsxs(Link$1,{to:"/pos-dashboard",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Sparkles,{className:"h-6 w-6 text-blue-600"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-lg",children:"POS"})]})})]}),jsxRuntimeExports.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-slate-50",children:j()})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:e&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden",onClick:()=>t(!1)}),jsxRuntimeExports.jsx(motion.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 left-0 h-full w-64 z-30",children:jsxRuntimeExports.jsx(SidebarContent$5,{activeItem:l,setActiveItem:p,isSuperAdmin:m,onLinkClick:()=>t(!1)})})]})})]})},StatCard$1=({icon:e,title:t,value:n,description:o})=>jsxRuntimeExports.jsxs("div",{className:"bg-card p-6 rounded-xl shadow-sm flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-foreground-muted",children:t}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-foreground mt-1",children:n}),o&&jsxRuntimeExports.jsx("p",{className:"mt-2 text-sm text-foreground-muted",children:o})]}),jsxRuntimeExports.jsx("div",{className:"bg-primary/10 text-primary p-3 rounded-lg",children:jsxRuntimeExports.jsx(e,{className:"h-6 w-6"})})]}),CompanyDashboard=()=>{const e=localStorage.getItem("tenantId"),{hasModule:t}=useTenant(),o=[{title:"Active Employees",value:"150",icon:Users,description:"Across all departments",module:"HRMS_CORE"},{title:"Total Sales Today",value:"$12,450",icon:ShoppingCart,description:"From all POS terminals",module:"POS"},{title:"Open Positions",value:"8",icon:Building,description:"In HRMS",module:"HRMS_RECRUITMENT"},{title:"Revenue Growth",value:"+12%",icon:ChartColumn,description:"This quarter",module:"POS"}].filter(l=>t(l.module));return jsxRuntimeExports.jsx(CompanyHubLayout,{children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto bg-background text-foreground",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Company Overview"}),jsxRuntimeExports.jsxs("p",{className:"text-foreground-muted mb-6",children:["A high-level view of your HRMS and POS systems for tenant ",jsxRuntimeExports.jsx("span",{className:"font-semibold text-foreground",children:e}),"."]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:o.map((l,u)=>jsxRuntimeExports.jsx(StatCard$1,{...l},u))})]})})},LeaveTypeModal=({isOpen:e,onClose:t,onSave:n,leaveType:o,loading:l})=>{const[u,m]=reactExports.useState({leaveType:"",description:"",isPaid:!0,maxDaysPerYear:""}),[p,j]=reactExports.useState("");reactExports.useEffect(()=>{m(o?{leaveType:o.leaveType||"",description:o.description||"",isPaid:o.isPaid||!1,maxDaysPerYear:o.maxDaysPerYear??""}:{leaveType:"",description:"",isPaid:!0,maxDaysPerYear:""}),j("")},[o,e]);const f=b=>{const{name:R,value:v,type:N,checked:S}=b.target,$=N==="checkbox"?S:v;m(C=>({...C,[R]:$}))},g=b=>{if(b.preventDefault(),!u.leaveType.trim()){j("Leave Type name is required.");return}n(u)};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold",children:[o?"Edit":"Add"," Leave Type"]}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:g,children:[jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"leaveType",className:"block text-sm font-medium text-slate-700",children:"Leave Type Name"}),jsxRuntimeExports.jsx("input",{id:"leaveType",name:"leaveType",value:u.leaveType,onChange:f,required:!0,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-700",children:"Description"}),jsxRuntimeExports.jsx("textarea",{id:"description",name:"description",value:u.description,onChange:f,rows:"3",className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"maxDaysPerYear",className:"block text-sm font-medium text-slate-700",children:"Max Days Per Year"}),jsxRuntimeExports.jsx("input",{id:"maxDaysPerYear",name:"maxDaysPerYear",type:"number",value:u.maxDaysPerYear,onChange:f,className:"input",placeholder:"e.g., 12"})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("label",{className:"inline-flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"isPaid",checked:u.isPaid,onChange:f,className:"h-4 w-4 rounded"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-sm",children:"Is Paid Leave"})]})}),p&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm",children:p})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t bg-slate-50 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:l,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:l,children:[l&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}),"Save"]})]})]})]})}):null},LeaveType=({embedded:e=!1})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState(!0),[u,m]=reactExports.useState(!1),[p,j]=reactExports.useState(""),[f,g]=reactExports.useState(!1),[b,R]=reactExports.useState(null),v="https://javapaas-202946-0.cloudclusters.net/api",N=async()=>{l(!0),j("");try{const D=localStorage.getItem("token"),I=await axios.get(`${v}/leave-types`,{headers:{Authorization:`Bearer ${D}`}});n(I.data)}catch(D){j("Failed to fetch leave types. Please try again later."),console.error(D)}finally{l(!1)}};reactExports.useEffect(()=>{N()},[v]);const S=()=>{R(null),g(!0)},$=D=>{R(D),g(!0)},C=async(D,I)=>{if(window.confirm(`Are you sure you want to delete the leave type "${I}"?`))try{const L=localStorage.getItem("token");await axios.delete(`${v}/leave-types/${D}`,{headers:{Authorization:`Bearer ${L}`}}),n(t.filter(_=>_.id!==D))}catch(L){j("Failed to delete leave type."),console.error(L)}},A=async D=>{m(!0),j("");try{const I=localStorage.getItem("token");b?await axios.put(`${v}/leave-types/${b.id}`,D,{headers:{Authorization:`Bearer ${I}`}}):await axios.post(`${v}/leave-types`,D,{headers:{Authorization:`Bearer ${I}`}}),g(!1),N()}catch(I){j(I.response?.data?.message||"Failed to save leave type. The name might already exist."),console.error(I)}finally{m(!1)}},T=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Leave Types"}),jsxRuntimeExports.jsxs("button",{onClick:S,className:"btn-primary flex items-center",children:[jsxRuntimeExports.jsx(Plus,{className:"h-5 w-5 mr-2"}),"Add Leave Type"]})]}),p&&jsxRuntimeExports.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:[jsxRuntimeExports.jsx("strong",{className:"font-bold",children:"Error: "}),jsxRuntimeExports.jsx("span",{className:"block sm:inline",children:p})]}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:o?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-80",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-blue-600"})}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-white",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Leave Type"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Description"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Paid"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Max Days/Year"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"text-slate-700",children:t.length>0?t.map(D=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-slate-200 hover:bg-slate-50",children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium",children:D.leaveType}),jsxRuntimeExports.jsx("td",{className:"td-cell text-sm text-slate-500 max-w-xs truncate",title:D.description,children:D.description}),jsxRuntimeExports.jsx("td",{className:"td-cell text-sm text-slate-500",children:D.isPaid?"Yes":"No"}),jsxRuntimeExports.jsx("td",{className:"td-cell text-sm text-slate-500",children:D.maxDaysPerYear??"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>$(D),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-100 rounded-full",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>C(D.id,D.leaveType),className:"p-2 text-slate-500 hover:text-red-600 hover:bg-red-100 rounded-full",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})})]},D.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"5",className:"text-center py-10 text-slate-500",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-slate-400"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-slate-900",children:"No leave types found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Get started by creating a new leave type."})]})})})]})})})]}),jsxRuntimeExports.jsx(LeaveTypeModal,{isOpen:f,onClose:()=>g(!1),onSave:A,leaveType:b,loading:u})]});return e?T:jsxRuntimeExports.jsx(DashboardLayout,{children:T})},LeavePolicies=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState([]),[l,u]=reactExports.useState(!0),[m,p]=reactExports.useState(""),[j,f]=reactExports.useState(!1),[g,b]=reactExports.useState(null),[R,v]=reactExports.useState(null),[N,S]=reactExports.useState(null),$=reactExports.useCallback(async()=>{u(!0),p("");try{const[L,_]=await Promise.all([getAllLeavePolicies(),getAllLeaveTypes()]);t(L.data),o(_.data)}catch(L){p("Failed to fetch leave policies or types."),console.error(L)}finally{u(!1)}},[]);reactExports.useEffect(()=>{$()},[$]);const C=(L,_,M=null)=>{b(L),v(_),S(M),f(!0)},A=()=>{f(!1),b(null),v(null),S(null)},T=async L=>{try{N?.id?await updateLeaveTypePolicy(N.id,L):await addLeaveTypePolicyToPolicy(g.id,L),A(),$()}catch(_){console.error("Save error:",_),alert(`Error: ${_.response?.data?.message||"Could not save settings."}`)}},D=async L=>{if(window.confirm("Are you sure you want to delete this entire policy? This action cannot be undone."))try{await deleteLeavePolicy(L),$()}catch(_){p(_.response?.data?.message||"Failed to delete policy.")}},I=async L=>{if(window.confirm("Are you sure you want to remove this leave type from the policy?"))try{await deleteLeaveTypePolicy(L),$()}catch(_){p(_.response?.data?.message||"Failed to remove leave type from policy.")}};return l?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-64",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-blue-600"})}):m?jsxRuntimeExports.jsx("div",{className:"text-center text-red-500 p-4",children:m}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center",children:jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Leave Policies"})}),e.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-10 text-slate-500",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-slate-400"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-slate-900",children:"No policies found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Get started by creating a new leave policy."})]}):jsxRuntimeExports.jsx("div",{className:"space-y-8",children:e.map(L=>jsxRuntimeExports.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-slate-800",children:[L.name," ",L.defaultPolicy&&jsxRuntimeExports.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 font-medium px-2 py-0.5 rounded-full ml-2",children:"Default"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>D(L.id),className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-100 rounded-full",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-3",children:[Array.isArray(L.leaveTypePolicies)&&L.leaveTypePolicies.map(_=>{const M=n.find(F=>F.id===_.leaveTypeId);return M?jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-md",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-slate-700",children:M.leaveType.replace("_"," ")}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>C(L,M,_),className:"p-1.5 text-slate-500 hover:text-blue-600 hover:bg-blue-100 rounded-full",title:"Configure",children:jsxRuntimeExports.jsx(Settings$1,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>I(_.id),className:"p-1.5 text-slate-500 hover:text-red-600 hover:bg-red-100 rounded-full",title:"Remove from policy",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})]},_.id):null}),jsxRuntimeExports.jsx("div",{className:"pt-2",children:jsxRuntimeExports.jsxs("select",{onChange:_=>_.target.value&&C(L,n.find(M=>M.id===parseInt(_.target.value))),className:"input text-sm",value:"",children:[jsxRuntimeExports.jsx("option",{value:"",disabled:!0,children:"+ Add Leave Type to Policy..."}),n.filter(_=>!(L.leaveTypePolicies||[]).some(M=>M.leaveTypeId===_.id)).map(_=>jsxRuntimeExports.jsx("option",{value:_.id,children:_.leaveType.replace("_"," ")},_.id))]})})]})]},L.id))}),j&&jsxRuntimeExports.jsx(LeavePolicySetupModal,{isOpen:j,onClose:A,onSave:T,policy:g,leaveType:R,leaveTypePolicy:N})]})},leaveStatusStyles={SUBMITTED:{bg:"bg-yellow-100",text:"text-yellow-800",icon:FileClock},APPROVED:{bg:"bg-green-100",text:"text-green-800",icon:Check},REJECTED:{bg:"bg-red-100",text:"text-red-800",icon:X},CANCELLED:{bg:"bg-slate-100",text:"text-slate-600",icon:X}},LeaveRequestRow=({request:e,onUpdate:t})=>{const{id:n,employeeName:o,employeeCode:l,leaveType:u,fromDate:m,toDate:p,reason:j,status:f}=e||{},g=f||"SUBMITTED",b=leaveStatusStyles[g]?.icon||FileClock,R=v=>v?new Date(v).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"N/A";return jsxRuntimeExports.jsxs("tr",{className:"border-b border-slate-200 hover:bg-slate-50 transition-colors",children:[jsxRuntimeExports.jsxs("td",{className:"td-cell",children:[jsxRuntimeExports.jsx("div",{className:"font-medium",children:o||"N/A"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-slate-500",children:l||"N/A"})]}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:u||"N/A"}),jsxRuntimeExports.jsxs("td",{className:"td-cell text-sm",children:[R(m)," to ",R(p)]}),jsxRuntimeExports.jsx("td",{className:"td-cell text-sm max-w-xs truncate",title:j,children:j}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-0.5 text-xs font-semibold rounded-full ${leaveStatusStyles[g]?.bg} ${leaveStatusStyles[g]?.text}`,children:[jsxRuntimeExports.jsx(b,{className:"h-3 w-3"}),g.toLowerCase()]})}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:g==="SUBMITTED"?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>t(n,"REJECTED"),className:"p-1.5 text-red-600 hover:bg-red-100 rounded-full transition-colors",title:"Reject",children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>t(n,"APPROVED"),className:"p-1.5 text-green-600 hover:bg-green-100 rounded-full transition-colors",title:"Approve",children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})]}):null})]})},AllLeaveRequests=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState(""),[m,p]=reactExports.useState("SUBMITTED"),[j,f]=reactExports.useState(""),g=async()=>{o(!0),u("");try{const N=await getAllLeaveRequests();t(N.data.sort((S,$)=>new Date($.createdAt)-new Date(S.createdAt)))}catch(N){u("Failed to fetch leave requests."),console.error("Fetch Error:",N)}finally{o(!1)}};reactExports.useEffect(()=>{g()},[]);const b=async(N,S)=>{let $="";if(!(S==="REJECTED"&&($=prompt("Please provide a reason for rejection (optional):"),$===null)))try{await processLeaveApproval({leaveRequestId:N,action:S,comment:$}),g()}catch(C){const A=C.response?.data?.message||"Failed to update leave status.";u(A),alert(`Error: ${A}`),console.error("Update Error:",C)}},R=reactExports.useMemo(()=>{let N=e.filter(S=>(S.status||"SUBMITTED")===m);if(j){const S=j.toLowerCase();N=N.filter($=>($.employeeName?.toLowerCase()||"").includes(S)||($.employeeCode?.toLowerCase()||"").includes(S))}return N},[e,m,j]),v=["SUBMITTED","APPROVED","REJECTED","CANCELLED"];return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"flex border-b border-slate-200",children:v.map(N=>jsxRuntimeExports.jsx("button",{onClick:()=>p(N),className:`px-3 py-2 text-sm font-medium whitespace-nowrap ${m===N?"border-b-2 border-blue-600 text-blue-600":"border-b-2 border-transparent text-slate-500 hover:text-slate-800"}`,children:N.charAt(0)+N.slice(1).toLowerCase()},N))}),jsxRuntimeExports.jsxs("div",{className:"relative w-full sm:w-64",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by employee...",value:j,onChange:N=>f(N.target.value),className:"input w-full pr-10"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"})]})]}),l&&jsxRuntimeExports.jsx("div",{className:"text-center text-red-600 p-4 bg-red-50 rounded-md mb-4",children:l}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-white",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Employee"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Leave Type"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Dates"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Reason"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{children:n?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"6",className:"text-center py-10",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto"})})}):R.length>0?R.map(N=>jsxRuntimeExports.jsx(LeaveRequestRow,{request:N,onUpdate:b},N.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"6",className:"text-center py-10 text-slate-500",children:[jsxRuntimeExports.jsx(FileClock,{className:"mx-auto h-12 w-12 text-slate-400"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-semibold text-slate-900",children:"No requests found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"There are no leave requests matching your criteria."})]})})})]})})]})},API_URL$1f="https://javapaas-202946-0.cloudclusters.net/api",BalanceManagementModal=({employee:e,onClose:t,leaveTypes:n})=>{const[o,l]=reactExports.useState([]),[u,m]=reactExports.useState(!0),[p,j]=reactExports.useState(""),[f,g]=reactExports.useState(!1),[b,R]=reactExports.useState({leaveType:n[0]?.leaveType||"",availableDays:"",asOfDate:new Date().toISOString().split("T")[0]}),v=reactExports.useCallback(async()=>{m(!0),j("");try{const C=localStorage.getItem("token"),A=await axios.get(`${API_URL$1f}/leave-balances/employee/${e.employeeCode}`,{headers:{Authorization:`Bearer ${C}`}});l(A.data)}catch(C){j("Failed to fetch leave balances."),console.error(C)}finally{m(!1)}},[e.employeeCode]);reactExports.useEffect(()=>{v()},[v]);const N=async C=>{if(C.preventDefault(),!b.leaveType||!b.availableDays){j("Leave Type and Allocated Days are required.");return}try{const A=localStorage.getItem("token"),T={...b,employeeCode:e.employeeCode};await axios.post(`${API_URL$1f}/leave-balances`,T,{headers:{Authorization:`Bearer ${A}`}}),g(!1),R({leaveType:n[0]?.leaveType||"",availableDays:"",asOfDate:new Date().toISOString().split("T")[0]}),v()}catch(A){j(A.response?.data?.message||"Failed to add balance.")}},S=async C=>{if(window.confirm("Are you sure you want to delete this balance record? This action cannot be undone."))try{const A=localStorage.getItem("token");await axios.delete(`${API_URL$1f}/leave-balances/${C}`,{headers:{Authorization:`Bearer ${A}`}}),v()}catch(A){j(A.response?.data?.message||"Failed to delete balance.")}},$=C=>{const{name:A,value:T}=C.target;R(D=>({...D,[A]:T}))};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold",children:["Manage Balances for ",e.firstName," ",e.lastName]}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 flex-grow overflow-y-auto",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-end mb-4",children:jsxRuntimeExports.jsxs("button",{onClick:()=>g(!f),className:"btn-primary flex items-center",children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-2"})," ",f?"Cancel":"Add/Update Balance"]})}),f&&jsxRuntimeExports.jsxs("form",{onSubmit:N,className:"p-4 border rounded-lg bg-slate-50 mb-6 space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"Add or Update Leave Balance"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"leaveType",className:"block text-sm font-medium text-slate-700",children:"Leave Type"}),jsxRuntimeExports.jsx("select",{id:"leaveType",name:"leaveType",value:b.leaveType,onChange:$,required:!0,className:"input",children:n.map(C=>jsxRuntimeExports.jsx("option",{value:C.leaveType,children:C.leaveType.replace("_"," ")},C.id))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"availableDays",className:"block text-sm font-medium text-slate-700",children:"Total Allocated Days"}),jsxRuntimeExports.jsx("input",{type:"number",step:"0.5",id:"availableDays",name:"availableDays",value:b.availableDays,onChange:$,required:!0,className:"input",placeholder:"e.g., 12"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"asOfDate",className:"block text-sm font-medium text-slate-700",children:"As of Date"}),jsxRuntimeExports.jsx("input",{type:"date",id:"asOfDate",name:"asOfDate",value:b.asOfDate,onChange:$,required:!0,className:"input"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsx("button",{type:"submit",className:"btn-primary",children:"Save Balance"})})]}),p&&jsxRuntimeExports.jsx("div",{className:"text-center text-red-600 p-3 bg-red-50 rounded-md mb-4",children:p}),u?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-40",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-blue-600"})}):o.length>0?jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-white",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Leave Type"}),jsxRuntimeExports.jsx("th",{className:"th-cell text-right",children:"Total Allocated"}),jsxRuntimeExports.jsx("th",{className:"th-cell text-right",children:"Used"}),jsxRuntimeExports.jsx("th",{className:"th-cell text-right",children:"Pending"}),jsxRuntimeExports.jsx("th",{className:"th-cell text-right font-bold",children:"Available"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"As of Date"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{children:o.map(C=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-slate-200",children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium",children:C.leaveType.leaveType.replace("_"," ")}),jsxRuntimeExports.jsx("td",{className:"td-cell text-right",children:C.totalAllocated}),jsxRuntimeExports.jsx("td",{className:"td-cell text-right",children:C.used}),jsxRuntimeExports.jsx("td",{className:"td-cell text-right",children:C.pending}),jsxRuntimeExports.jsx("td",{className:"td-cell text-right font-bold",children:C.available}),jsxRuntimeExports.jsx("td",{className:"td-cell text-sm",children:new Date(C.asOfDate).toLocaleDateString("en-IN")}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsx("button",{onClick:()=>S(C.id),className:"p-1.5 text-red-600 hover:bg-red-100 rounded-full",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})})]},C.id))})]})}):jsxRuntimeExports.jsxs("div",{className:"text-center text-slate-500 py-10",children:[jsxRuntimeExports.jsx(BookOpen,{className:"mx-auto h-12 w-12 text-slate-400"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-semibold text-slate-900",children:"No Balances Found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"No leave balances have been configured for this employee."})]})]})]})})},LeaveBalancesSection=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState(""),[m,p]=reactExports.useState(""),[j,f]=reactExports.useState(null),[g,b]=reactExports.useState(!1),[R,v]=reactExports.useState([]),[N,S]=reactExports.useState(!1),[$,C]=reactExports.useState({}),[A,T]=reactExports.useState(0),[D,I]=reactExports.useState(0),L=reactExports.useCallback(async()=>{o(!0),u("");try{const V={Authorization:`Bearer ${localStorage.getItem("token")}`},[Q,ee]=await Promise.all([axios.get(`${API_URL$1f}/employees/all`,{headers:V}),axios.get(`${API_URL$1f}/leave-types`,{headers:V})]),G=Q.data;t(G),v(ee.data);const K=G.map(H=>axios.get(`${API_URL$1f}/leave-balances/employee/${H.employeeCode}`,{headers:V})),J=await Promise.allSettled(K),ne={};J.forEach((H,te)=>{const Y=G[te].employeeCode;H.status==="fulfilled"?ne[Y]=H.value.data:ne[Y]=[]}),C(ne)}catch(z){u("Failed to fetch employee or balance data."),console.error(z)}finally{o(!1)}},[]);reactExports.useEffect(()=>{L()},[L]);const _=async()=>{if(!window.confirm(`This will create or update leave balances for all ${e.length} employees based on the defined leave types for the current year. This may take a while and cannot be undone. Do you want to proceed?`))return;S(!0),u(""),T(0);let z=0,V=0;const ee={Authorization:`Bearer ${localStorage.getItem("token")}`},G=new Date().toISOString().split("T")[0],K=R.filter(ne=>ne.maxDaysPerYear!=null&&ne.maxDaysPerYear>0),J=e.length*K.length;if(I(J),J===0){alert("No applicable leave types with 'Max Days Per Year' found to sync."),S(!1);return}for(const ne of e)for(const H of K)try{const te={employeeCode:ne.employeeCode,leaveType:H.leaveType,availableDays:H.maxDaysPerYear,asOfDate:G};await axios.post(`${API_URL$1f}/leave-balances`,te,{headers:ee}),z++}catch(te){console.error(`Failed to sync for ${ne.employeeCode} and ${H.leaveType}:`,te),V++}finally{T(te=>te+1)}S(!1),alert(`Sync complete! 
- ${z} balances created/updated successfully. 
- ${V} operations failed (check console for details).`),L()},M=z=>{const V=$[z];return!V||V.length===0?0:V.reduce((Q,ee)=>Q+(ee.available||0),0)},F=reactExports.useMemo(()=>{if(!m)return e;const z=m.toLowerCase();return e.filter(V=>V.firstName.toLowerCase().includes(z)||V.lastName.toLowerCase().includes(z)||V.employeeCode.toLowerCase().includes(z))},[e,m]),B=z=>{f(z),b(!0)},q=()=>{b(!1),f(null),L()};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-4",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 w-full sm:w-auto",children:[jsxRuntimeExports.jsxs("button",{onClick:_,className:"btn-secondary flex items-center w-full sm:w-auto justify-center",disabled:N||n,children:[N?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}):jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4 mr-2"}),"Sync All Balances"]}),jsxRuntimeExports.jsxs("div",{className:"relative w-full sm:w-64",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by employee...",value:m,onChange:z=>p(z.target.value),className:"input w-full pr-10"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"})]})]})}),N&&jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-slate-600 text-center",children:["Syncing balances... (",A," / ",D,")"]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5 mt-1",children:jsxRuntimeExports.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:D>0?`${A/D*100}%`:"0%"}})})]}),l&&jsxRuntimeExports.jsx("div",{className:"text-center text-red-600 p-4 bg-red-50 rounded-md mb-4",children:l}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-white",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Employee"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Employee Code"}),jsxRuntimeExports.jsx("th",{className:"th-cell text-right",children:"Total Available Balance"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{children:n?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"4",className:"text-center py-10",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto"})})}):F.length>0?F.map(z=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-slate-200 hover:bg-slate-50",children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium",children:`${z.firstName} ${z.lastName}`}),jsxRuntimeExports.jsx("td",{className:"td-cell text-sm text-slate-500",children:z.employeeCode}),jsxRuntimeExports.jsxs("td",{className:"td-cell text-right font-semibold",children:[M(z.employeeCode)," days"]}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsx("button",{onClick:()=>B(z),className:"btn-secondary py-1 px-3 text-xs",children:"Manage Balances"})})]},z.employeeCode)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"4",className:"text-center py-10 text-slate-500",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-slate-400"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-semibold text-slate-900",children:"No employees found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"No employees match your search criteria."})]})})})]})}),g&&j&&jsxRuntimeExports.jsx(BalanceManagementModal,{employee:j,onClose:q,leaveTypes:R})]})},tabs$5=[{name:"Leave Requests",icon:FileClock,component:AllLeaveRequests,color:"text-amber-500"},{name:"Leave Balances",icon:UserCheck,component:LeaveBalancesSection,color:"text-green-500"},{name:"Leave Policies",icon:SlidersHorizontal,component:LeavePolicies,color:"text-blue-500"},{name:"Leave Types",icon:BookCopy,component:()=>jsxRuntimeExports.jsx(LeaveType,{embedded:!0}),color:"text-purple-500"}],LeaveManagement=()=>{const[e,t]=reactExports.useState("Leave Requests"),n=tabs$5.find(o=>o.name===e)?.component;return jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx("div",{className:"p-6 md:p-8 bg-slate-50 min-h-full",children:jsxRuntimeExports.jsxs("div",{className:"max-w-full mx-auto",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-6",children:"Leave Management"}),jsxRuntimeExports.jsx("div",{className:"border-b border-slate-200 bg-white rounded-t-xl shadow-sm",children:jsxRuntimeExports.jsx("nav",{className:"-mb-px flex space-x-6 px-6","aria-label":"Tabs",children:tabs$5.map(o=>jsxRuntimeExports.jsxs("button",{onClick:()=>t(o.name),className:`whitespace-nowrap flex items-center py-4 px-1 border-b-2 font-medium text-sm transition-colors ${e===o.name?"border-blue-600 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:[jsxRuntimeExports.jsx(o.icon,{className:`mr-2 h-5 w-5 ${o.color}`}),o.name]},o.name))})}),jsxRuntimeExports.jsx("div",{className:"mt-6 bg-white p-6 rounded-b-xl shadow-sm",children:n&&jsxRuntimeExports.jsx(n,{})})]})})})},API_URL$1e="https://javapaas-202946-0.cloudclusters.net/api",InventoryTypesTab=({locationId:e})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState(!0),[u,m]=reactExports.useState(!1),[p,j]=reactExports.useState(null),[f,g]=reactExports.useState(!1),[b,R]=reactExports.useState({name:"",description:"",locationId:""}),[v,N]=reactExports.useState([]),[S,$]=reactExports.useState(""),C=reactExports.useMemo(()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),[]),A=reactExports.useCallback(async()=>{l(!0);try{const[B,q]=await Promise.all([axios.get(`${API_URL$1e}/production/inventory-types`,{headers:C}),axios.get(`${API_URL$1e}/locations`,{headers:C})]);n(Array.isArray(B.data)?B.data:[]),N(Array.isArray(q.data)?q.data:[])}catch(B){console.error("Error fetching data for inventory types:",B),alert(`Error fetching data for inventory types: ${B.response?.data?.message||B.message}`)}finally{l(!1)}},[C]),T=reactExports.useMemo(()=>{let B=t;if(e==="none"?B=t.filter(z=>!z.locationId):e&&e!=="all"&&(B=t.filter(z=>String(z.locationId)===String(e))),!S)return B;const q=S.toLowerCase();return B.filter(z=>z.name&&z.name.toLowerCase().includes(q)||z.description&&z.description.toLowerCase().includes(q))},[t,S,e]);reactExports.useEffect(()=>{A()},[A]),reactExports.useEffect(()=>{p&&R({name:p.name||"",description:p.description||"",locationId:p.locationId||(e!=="all"?e:"")})},[p,e]);const D=()=>{j({}),m(!0)},I=B=>{j(B),m(!0)},L=()=>{m(!1),j(null),R({name:"",description:"",locationId:""})},_=async B=>{g(!0),{...B,locationId:B.locationId},!!B.id?`${API_URL$1e}${B.id}`:`${API_URL$1e}`;try{await axiosmethod,A(),L()}catch(z){alert(`Error saving Inventory Type: ${z.response?.data?.message||z.message}`)}finally{g(!1)}},M=async B=>{if(window.confirm("Are you sure you want to delete this inventory type?"))try{await axios.delete(`${API_URL$1e}/production/inventory-types/${B}`,{headers:C}),await A()}catch(q){alert(`Error deleting inventory type: ${q.response?.data?.message||q.message}`)}},F=B=>{B.preventDefault(),_({id:p?.id,...b})};return o?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary"})}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Manage Inventory Types"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",value:S,onChange:B=>$(B.target.value),className:"input w-full sm:w-64 pr-10 bg-background-muted border-border"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-foreground-muted"})]}),jsxRuntimeExports.jsxs("button",{onClick:D,className:"flex items-center gap-2 btn-secondary",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Add Type"]})]})]}),u&&jsxRuntimeExports.jsxs("div",{className:"bg-card p-4 rounded-lg border border-border mb-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-md font-semibold mb-3",children:p?.id?"Edit Inventory Type":"Add New Inventory Type"}),jsxRuntimeExports.jsxs("form",{onSubmit:F,className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 items-end",children:[jsxRuntimeExports.jsxs("div",{className:"col-span-1",children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"label",children:"Type Name"}),jsxRuntimeExports.jsx("input",{id:"name",name:"name",value:b.name,onChange:B=>R(q=>({...q,name:B.target.value})),required:!0,className:"input",placeholder:"e.g., Raw Materials"})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-1",children:[jsxRuntimeExports.jsx("label",{htmlFor:"description",className:"label",children:"Description"}),jsxRuntimeExports.jsx("input",{id:"description",name:"description",value:b.description,onChange:B=>R(q=>({...q,description:B.target.value})),className:"input",placeholder:"Brief description"})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-1",children:[jsxRuntimeExports.jsx("label",{htmlFor:"locationId",className:"label",children:"Location (Optional)"}),jsxRuntimeExports.jsxs("select",{id:"locationId",name:"locationId",value:b.locationId,onChange:B=>R(q=>({...q,locationId:B.target.value})),className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Locations"}),v.map(B=>jsxRuntimeExports.jsx("option",{value:B.id,children:B.name},B.id))]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 col-span-1",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:L,className:"btn-secondary",disabled:f,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:f,children:[f&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"})," Save"]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-border rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Description"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Location"}),jsxRuntimeExports.jsx("th",{className:"th-cell w-32",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-card divide-y divide-border text-foreground-muted",children:o?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"4",className:"text-center py-10",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary mx-auto"})})}):T.length>0?T.map(B=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium text-foreground",children:B.name}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:B.description}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:B.locationName||"All"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>I(B),className:"text-primary hover:text-primary/80",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>M(B.id),className:"text-red-500 hover:text-red-600",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},B.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"4",className:"text-center py-10",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-foreground",children:"No Inventory Types Found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"Get started by adding a new type."})]})})})]})})]})},PriceCategoriesTab=({locationId:e})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState(!0),[u,m]=reactExports.useState(!1),[p,j]=reactExports.useState(null),[f,g]=reactExports.useState(!1),[b,R]=reactExports.useState({name:"",description:"",locationId:""}),[v,N]=reactExports.useState([]),[S,$]=reactExports.useState(""),C=reactExports.useMemo(()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),[]),A=reactExports.useCallback(async()=>{l(!0);try{const[B,q]=await Promise.all([axios.get(`${API_URL$1e}/production/price-categories`,{headers:C}),axios.get(`${API_URL$1e}/locations`,{headers:C})]);n(Array.isArray(B.data)?B.data:[]),N(Array.isArray(q.data)?q.data:[])}catch(B){console.error("Error fetching data for price categories:",B),alert(`Error fetching data for price categories: ${B.response?.data?.message||B.message}`)}finally{l(!1)}},[C]);reactExports.useEffect(()=>{A()},[A]),reactExports.useEffect(()=>{p&&R({name:p.name||"",description:p.description||"",locationId:p.locationId||(e!=="all"?e:"")})},[p,e]);const T=()=>{j({}),m(!0)},D=B=>{j(B),m(!0)},I=()=>{m(!1),j(null),R({name:"",description:"",locationId:""})},L=async B=>{g(!0),{...B,locationId:B.locationId},!!B.id?`${API_URL$1e}${B.id}`:`${API_URL$1e}`;try{await axiosmethod,await A(),I()}catch(z){alert(`Error saving Price Category: ${z.response?.data?.message||z.message}`)}finally{g(!1)}},_=async B=>{if(window.confirm("Are you sure you want to delete this price category?"))try{await axios.delete(`${API_URL$1e}/production/price-categories/${B}`,{headers:C}),await A()}catch(q){alert(`Error deleting price category: ${q.response?.data?.message||q.message}`)}},M=B=>{B.preventDefault(),L({id:p?.id,...b})},F=reactExports.useMemo(()=>{let B=t;return e==="none"?B=t.filter(q=>!q.locationId):e&&e!=="all"&&(B=t.filter(q=>String(q.locationId)===String(e))),B.filter(q=>!S||q.name&&q.name.toLowerCase().includes(S.toLowerCase())||q.description&&q.description.toLowerCase().includes(S.toLowerCase()))},[t,S,e]);return o?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary"})}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Manage Price Categories"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",value:S,onChange:B=>$(B.target.value),className:"input w-full sm:w-64 pr-10 bg-background-muted border-border"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-foreground-muted"})]}),jsxRuntimeExports.jsxs("button",{onClick:T,className:"flex items-center gap-2 btn-secondary",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Add Category"]})]})]}),u&&jsxRuntimeExports.jsxs("div",{className:"bg-card p-4 rounded-lg border border-border mb-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-md font-semibold mb-3",children:p?.id?"Edit Price Category":"Add New Price Category"}),jsxRuntimeExports.jsxs("form",{onSubmit:M,className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 items-end",children:[jsxRuntimeExports.jsxs("div",{className:"col-span-1",children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"label",children:"Category Name"}),jsxRuntimeExports.jsx("input",{id:"name",name:"name",value:b.name,onChange:B=>R(q=>({...q,name:B.target.value})),required:!0,className:"input",placeholder:"e.g., Wholesale"})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-1",children:[jsxRuntimeExports.jsx("label",{htmlFor:"description",className:"label",children:"Description"}),jsxRuntimeExports.jsx("input",{id:"description",name:"description",value:b.description,onChange:B=>R(q=>({...q,description:B.target.value})),className:"input",placeholder:"Details"})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-1",children:[jsxRuntimeExports.jsx("label",{htmlFor:"locationId",className:"label",children:"Location (Optional)"}),jsxRuntimeExports.jsxs("select",{id:"locationId",name:"locationId",value:b.locationId,onChange:B=>R(q=>({...q,locationId:B.target.value})),className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Locations"}),v.map(B=>jsxRuntimeExports.jsx("option",{value:B.id,children:B.name},B.id))]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 col-span-1",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:I,className:"btn-secondary",disabled:f,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:f,children:[f&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"})," Save"]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-border rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Description"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Location"}),jsxRuntimeExports.jsx("th",{className:"th-cell w-32",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-card divide-y divide-border text-foreground-muted",children:o?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"4",className:"text-center py-10",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary mx-auto"})})}):F.length>0?F.map(B=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium text-foreground",children:B.name}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:B.description}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:B.locationName||"All"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>D(B),className:"text-primary hover:text-primary/80",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>_(B.id),className:"text-red-500 hover:text-red-600",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},B.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"4",className:"text-center py-10",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-foreground",children:"No Price Categories Found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"Get started by adding a new category."})]})})})]})})]})},tabs$4=[{name:"Inventory Types",icon:Layers,component:InventoryTypesTab},{name:"Price Categories",icon:DollarSign,component:PriceCategoriesTab}],GeneralSettings=({locationId:e})=>{const[t,n]=reactExports.useState(tabs$4[0].name),o=tabs$4.find(l=>l.name===t)?.component;return jsxRuntimeExports.jsxs("div",{className:"bg-card p-6 rounded-xl shadow-sm",children:[jsxRuntimeExports.jsx("div",{className:"border-b border-border mb-6",children:jsxRuntimeExports.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:tabs$4.map(l=>jsxRuntimeExports.jsxs("button",{onClick:()=>n(l.name),className:`whitespace-nowrap flex items-center py-3 px-1 border-b-2 font-medium text-sm transition-colors ${t===l.name?"border-primary text-primary":"border-transparent text-foreground-muted hover:text-foreground hover:border-border"}`,children:[jsxRuntimeExports.jsx(l.icon,{className:"mr-2 h-5 w-5"}),l.name]},l.name))})}),jsxRuntimeExports.jsx("div",{children:o&&jsxRuntimeExports.jsx(o,{locationId:e})})]})},SearchableSelect=({options:e,selected:t,onSelect:n,placeholder:o="Select..."})=>{const[l,u]=reactExports.useState(""),[m,p]=reactExports.useState(!1),j=reactExports.useRef(null),f=reactExports.useMemo(()=>{if(!l)return e;const v=l.toLowerCase();return e.filter(N=>N.label.toLowerCase().includes(v))},[e,l]);reactExports.useEffect(()=>{function v(N){j.current&&!j.current.contains(N.target)&&p(!1)}return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[j]);const g=v=>{n(v)},R=!t||t.length===0?o:t.length===1?e.find(v=>v.value===t[0])?.label||o:`${t.length} employees selected`;return jsxRuntimeExports.jsxs("div",{className:"relative",ref:j,children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>p(!m),className:"input bg-background-muted border-border text-foreground w-full text-left flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"truncate",children:R}),jsxRuntimeExports.jsx(ChevronDown,{className:`h-4 w-4 transition-transform ${m?"rotate-180":""}`})]}),m&&jsxRuntimeExports.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-card border border-border rounded-md shadow-lg max-h-60 overflow-y-auto",children:[jsxRuntimeExports.jsx("div",{className:"p-2 sticky top-0 bg-card border-b border-border",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",value:l,onChange:v=>u(v.target.value),className:"input bg-background-muted w-full pr-8"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-2 top-1/2 -translate-y-1/2 h-4 w-4 text-foreground-muted"})]})}),jsxRuntimeExports.jsx("ul",{children:f.map(v=>{const N=t.includes(v.value);return jsxRuntimeExports.jsxs("li",{onClick:()=>g(v),className:"px-4 py-2 hover:bg-background-muted cursor-pointer flex items-center gap-3",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:N,readOnly:!0,className:"h-4 w-4 rounded border-border text-primary focus:ring-primary"}),jsxRuntimeExports.jsx("span",{children:v.label})]},v.value)})})]})]})},API_URL$1d="https://javapaas-202946-0.cloudclusters.net/api",FormField$9=({label:e,children:t})=>jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-foreground-muted",children:e}),t]}),WorkstationFormPage=({item:e,onSave:t,onCancel:n})=>{const[o,l]=reactExports.useState({workstationName:"",workGroupId:"",employeeIds:[],locationId:""}),[u,m]=reactExports.useState([]),[p,j]=reactExports.useState([]),[f,g]=reactExports.useState(!0),[b,R]=reactExports.useState([]);reactExports.useEffect(()=>{(async()=>{g(!0);try{const T={Authorization:`Bearer ${localStorage.getItem("token")}`},[D,I,L]=await Promise.all([axios.get(`${API_URL$1d}/production/work-groups`,{headers:T}),axios.get(`${API_URL$1d}/employees/all`,{headers:T}),axios.get(`${API_URL$1d}/locations`,{headers:T})]);m(D.data),j(I.data),R(L.data)}catch(A){console.error("Failed to fetch data for form",A)}finally{g(!1)}})()},[]),reactExports.useEffect(()=>{e&&l({workstationName:e.workstationName||"",workGroupId:e.workGroup?.id||"",employeeIds:e.employees?.map(C=>C.id)||[],locationId:e.locationId||""})},[e]);const v=C=>l(A=>({...A,[C.target.name]:C.target.value})),N=C=>{const A=C.value;l(T=>({...T,employeeIds:T.employeeIds.includes(A)?T.employeeIds.filter(D=>D!==A):[...T.employeeIds,A]}))},S=C=>{C.preventDefault();const A={...o,locationId:o.locationId||null};t(A)},$=p.map(C=>({value:C.id,label:`${C.firstName} ${C.lastName} (${C.employeeCode})`}));return jsxRuntimeExports.jsxs("div",{className:"bg-card p-6 rounded-xl shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[jsxRuntimeExports.jsx("button",{onClick:n,className:"p-2 rounded-full hover:bg-background-muted",children:jsxRuntimeExports.jsx(ArrowLeft,{size:20})}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-foreground",children:e?"Edit Workstation":"Add New Workstation"})]}),jsxRuntimeExports.jsxs("form",{onSubmit:S,className:"space-y-4 max-w-lg mx-auto",children:[jsxRuntimeExports.jsx(FormField$9,{label:"Workstation Name",children:jsxRuntimeExports.jsx("input",{name:"workstationName",value:o.workstationName,onChange:v,required:!0,className:"input bg-background-muted border-border"})}),jsxRuntimeExports.jsx(FormField$9,{label:"Work Group",children:jsxRuntimeExports.jsxs("select",{name:"workGroupId",value:o.workGroupId,onChange:v,required:!0,className:"input bg-background-muted border-border",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Work Group"}),u.map(C=>jsxRuntimeExports.jsx("option",{value:C.id,children:C.name},C.id))]})}),jsxRuntimeExports.jsx(FormField$9,{label:"Location (Optional)",children:jsxRuntimeExports.jsxs("select",{name:"locationId",value:o.locationId,onChange:v,className:"input bg-background-muted border-border",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Location"}),b.map(C=>jsxRuntimeExports.jsx("option",{value:C.id,children:C.name},C.id))]})}),jsxRuntimeExports.jsx(FormField$9,{label:"Assign Employees",children:jsxRuntimeExports.jsx(SearchableSelect,{options:$,selected:o.employeeIds,onSelect:N,placeholder:"Search and select employees..."})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"btn-primary",children:"Save"})]})]})]})},API_URL$1c="https://javapaas-202946-0.cloudclusters.net/api",WorkstationTab=({locationId:e,onSwitchTab:t})=>{const[n,o]=reactExports.useState([]),[l,u]=reactExports.useState(!0),[m,p]=reactExports.useState("list"),[j,f]=reactExports.useState(null),[g,b]=reactExports.useState(""),R=reactExports.useCallback(async()=>{u(!0);try{const D=localStorage.getItem("token"),I=await axios.get(`${API_URL$1c}/production/work-stations`,{headers:{Authorization:`Bearer ${D}`}});o(I.data)}catch(D){console.error("Error fetching workstations:",D),alert(`Error fetching workstations: ${D.response?.data?.message||D.message}`)}finally{u(!1)}},[]);reactExports.useEffect(()=>{R()},[R]);const v=reactExports.useMemo(()=>{let D=n;if(e==="none"?D=n.filter(L=>!L.locationId):e&&e!=="all"&&(D=n.filter(L=>String(L.locationId)===String(e))),!g)return D;const I=g.toLowerCase();return D.filter(L=>L.workstationName.toLowerCase().includes(I)||L.workGroupName.toLowerCase().includes(I))},[n,g,e]),N=()=>{f({locationId:e!=="all"?e:""}),p("form")},S=D=>{f(D),p("form")},$=()=>{p("list"),f(null)},C=async D=>{const I=j?.id,L=I?`${API_URL$1c}/production/work-stations/${j.id}`:`${API_URL$1c}/production/work-stations`,_=I?"put":"post";try{const M=localStorage.getItem("token");await axios[_](L,D,{headers:{Authorization:`Bearer ${M}`}}),R(),$(),alert("Workstation saved successfully!")}catch(M){alert(`Error saving workstation: ${M.response?.data?.message||M.message}`)}},A=D=>{if(window.confirm("Are you sure you want to delete this workstation?")){const I=localStorage.getItem("token");axios.delete(`${API_URL$1c}/production/work-stations/${D}`,{headers:{Authorization:`Bearer ${I}`}}).then(()=>R()).catch(L=>alert(`Error deleting workstation: ${L.response?.data?.message||L.message}`))}},T=[{header:"Workstation Number",key:"workstationNumber"},{header:"Workstation Name",key:"workstationName"},{header:"Work Group",key:"workGroupName"},{header:"Location",key:"locationName"},{header:"Assigned Employees",key:"employees"},{header:"Maintenance Plan",key:"maintenancePlan"}];return m==="form"?jsxRuntimeExports.jsx(WorkstationFormPage,{item:j,onSave:C,onCancel:$}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Manage Workstations"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",value:g,onChange:D=>b(D.target.value),className:"input w-full sm:w-64 pr-10 bg-background-muted border-border"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-foreground-muted"})]}),jsxRuntimeExports.jsxs("button",{onClick:N,className:"flex items-center gap-2 btn-secondary",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Add Workstation"]})]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-border rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"#"}),T.map(D=>jsxRuntimeExports.jsx("th",{className:"th-cell",children:D.header},D.key)),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-card divide-y divide-border text-foreground-muted",children:l?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"5",className:"text-center py-10",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-primary mx-auto"})})}):v.length>0?v.map((D,I)=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-border hover:bg-background-muted",children:[jsxRuntimeExports.jsx("td",{className:"td-cell",children:I+1}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:D.workstationNumber}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:D.workstationName}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:D.workGroupName}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:D.locationName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:D.employees&&D.employees.length>0?D.employees.map(L=>L.name).join(", "):"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>t("Manage Tools",D.id),className:"btn-secondary btn-sm",children:"Manage Tool"}),jsxRuntimeExports.jsx("button",{onClick:()=>t("Manage Tasks",D.id),className:"btn-secondary btn-sm",children:"Manage Task"})]})}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>S(D),className:"text-primary hover:text-primary/80",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>A(D.id),className:"text-red-500 hover:text-red-600",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},D.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{className:"px-4 py-6 text-sm text-foreground-muted text-center",colSpan:T.length+2,children:"No workstations found."})})})]})})]})},API_URL$1b="https://javapaas-202946-0.cloudclusters.net/api",FormField$8=({label:e,name:t,value:n,onChange:o,required:l=!1,type:u="text",...m})=>jsxRuntimeExports.jsxs("div",{className:"space-y-1 w-full",children:[jsxRuntimeExports.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-foreground-muted",children:e}),jsxRuntimeExports.jsx("input",{id:t,name:t,type:u,value:n??"",onChange:o,required:l,className:"input bg-background-muted border-border text-foreground",...m})]}),WorkgroupFormPage=({item:e,onSave:t,onCancel:n})=>{const o={MONDAY:{startTime:"",endTime:""},TUESDAY:{startTime:"",endTime:""},WEDNESDAY:{startTime:"",endTime:""},THURSDAY:{startTime:"",endTime:""},FRIDAY:{startTime:"",endTime:""},SATURDAY:{startTime:"",endTime:""},SUNDAY:{startTime:"",endTime:""}},[l,u]=reactExports.useState({name:"",designation:"",numberOfEmployees:1,instanceCount:1,hourlyRate:"",fixedWorkingMinutes:480,customWorkingHours:!1,colorHex:"#FFFFFF",locationId:"",...e}),[m,p]=reactExports.useState(o),[j,f]=reactExports.useState([]),[g,b]=reactExports.useState([]),[R,v]=reactExports.useState(!1);reactExports.useEffect(()=>{const C=async()=>{try{const T=localStorage.getItem("token"),D=await axios.get(`${API_URL$1b}/designations`,{headers:{Authorization:`Bearer ${T}`}});f(D.data)}catch(T){console.error("Failed to fetch designations:",T)}},A=async()=>{try{const T=localStorage.getItem("token"),D=await axios.get(`${API_URL$1b}/locations`,{headers:{Authorization:`Bearer ${T}`}});b(D.data)}catch(T){console.error("Failed to fetch locations:",T)}};C(),A()},[]),reactExports.useEffect(()=>{if(e){u({name:e.name,designation:e.designation||"",numberOfEmployees:e.numberOfEmployees||1,instanceCount:e.instanceCount,hourlyRate:e.hourlyRate,fixedWorkingMinutes:e.fixedWorkingMinutes,customWorkingHours:e.customWorkingHours,colorHex:e.colorHex||"#FFFFFF",locationId:e.locationId||""});const C={...o};e.daySchedules?.forEach(A=>{C[A.dayOfWeek]={startTime:A.startTime||"",endTime:A.endTime||""}}),p(C)}},[e]);const N=C=>{const{name:A,value:T,type:D,checked:I}=C.target;u(L=>({...L,[A]:D==="checkbox"?I:T}))},S=(C,A,T)=>{p(D=>({...D,[C]:{...D[C],[A]:T}}))},$=C=>{C.preventDefault();const A={...l};l.customWorkingHours&&(A.daySchedules=Object.entries(m).filter(([,D])=>D.startTime&&D.endTime).map(([D,I])=>({dayOfWeek:D,...I})));const T={...A,locationId:A.locationId||null};t(T)};return jsxRuntimeExports.jsxs("div",{className:"bg-card p-6 rounded-xl shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[jsxRuntimeExports.jsx("button",{onClick:n,className:"p-2 rounded-full hover:bg-background-muted",children:jsxRuntimeExports.jsx(ArrowLeft,{size:20})}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-foreground",children:e?"Edit Work Group":"Add New Work Group"})]}),jsxRuntimeExports.jsxs("form",{onSubmit:$,className:"space-y-5",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsx(FormField$8,{label:"Work Group Name",name:"name",value:l.name,onChange:N,required:!0,placeholder:"e.g., Assembly Line A"}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("label",{htmlFor:"designation",className:"block text-sm font-medium text-foreground-muted",children:"Designation"}),jsxRuntimeExports.jsxs("select",{id:"designation",name:"designation",value:l.designation,onChange:N,className:"input bg-background-muted border-border text-foreground",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Designation"}),j.map(C=>jsxRuntimeExports.jsx("option",{value:C.title,children:C.title},C.id))]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("label",{htmlFor:"locationId",className:"block text-sm font-medium text-foreground-muted",children:"Location (Optional)"}),jsxRuntimeExports.jsxs("select",{id:"locationId",name:"locationId",value:l.locationId,onChange:N,className:"input bg-background-muted border-border text-foreground",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Location"}),g.map(C=>jsxRuntimeExports.jsx("option",{value:C.id,children:C.name},C.id))]})]}),jsxRuntimeExports.jsx(FormField$8,{label:"Number of Employees",name:"numberOfEmployees",type:"number",value:l.numberOfEmployees,onChange:N,required:!0,min:"1"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between border-b pb-2 mb-3 col-span-full",children:[jsxRuntimeExports.jsx("h3",{className:"text-base font-semibold text-foreground",children:"Advanced Options"}),jsxRuntimeExports.jsxs("label",{className:"flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("span",{className:"text-sm mr-2",children:R?"On":"Off"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:R,onChange:()=>v(C=>!C),className:"sr-only"}),jsxRuntimeExports.jsx("div",{className:`block w-10 h-6 rounded-full ${R?"bg-primary":"bg-gray-300"}`}),jsxRuntimeExports.jsx("div",{className:`dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-transform ${R?"transform translate-x-full":""}`})]})]})]})}),R&&jsxRuntimeExports.jsxs("div",{className:"space-y-5",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsx(FormField$8,{label:"Color",name:"colorHex",type:"color",value:l.colorHex,onChange:N,className:"input p-1 h-10 w-full"}),jsxRuntimeExports.jsx(FormField$8,{label:"Instance Count",name:"instanceCount",type:"number",value:l.instanceCount,onChange:N,required:!0,min:"1"}),jsxRuntimeExports.jsx(FormField$8,{label:"Hourly Rate",name:"hourlyRate",type:"number",step:"0.01",value:l.hourlyRate,onChange:N,required:!0,placeholder:"e.g., 25.50"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",id:"customWorkingHours",name:"customWorkingHours",checked:l.customWorkingHours,onChange:N,className:"h-4 w-4 rounded border-border text-primary focus:ring-primary"}),jsxRuntimeExports.jsx("label",{htmlFor:"customWorkingHours",className:"text-sm font-medium text-foreground-muted",children:"Use Custom Working Hours per Day"})]}),l.customWorkingHours?jsxRuntimeExports.jsxs("div",{className:"space-y-2 pt-2 border-t border-border",children:[jsxRuntimeExports.jsx("h4",{className:"text-md font-semibold text-foreground-muted",children:"Daily Schedule"}),Object.keys(m).map(C=>jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-2 items-center",children:[jsxRuntimeExports.jsx("label",{className:"text-sm capitalize text-foreground-muted",children:C.toLowerCase()}),jsxRuntimeExports.jsx("input",{type:"time",value:m[C].startTime,onChange:A=>S(C,"startTime",A.target.value),className:"input bg-background-muted border-border"}),jsxRuntimeExports.jsx("input",{type:"time",value:m[C].endTime,onChange:A=>S(C,"endTime",A.target.value),className:"input bg-background-muted border-border"})]},C))]}):jsxRuntimeExports.jsx(FormField$8,{label:"Fixed Working Minutes per Day",name:"fixedWorkingMinutes",type:"number",value:l.fixedWorkingMinutes,onChange:N,required:!0,min:"0"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"btn-primary",children:"Save"})]})]})]})},API_URL$1a="https://javapaas-202946-0.cloudclusters.net/api",Modal$9=({isOpen:e,onClose:t,title:n,children:o})=>e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-center z-50 p-4",onClick:t,children:jsxRuntimeExports.jsxs("div",{className:"bg-card text-card-foreground rounded-lg shadow-xl w-full max-w-lg",onClick:l=>l.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-foreground",children:n}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-1 rounded-full text-foreground-muted hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsx("div",{className:"p-6",children:o})]})}):null,FormField$7=({label:e,name:t,value:n,onChange:o,required:l=!1,...u})=>jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-foreground-muted",children:e}),jsxRuntimeExports.jsx("input",{id:t,name:t,value:n??"",onChange:o,required:l,className:"input mt-1 bg-background-muted border-border text-foreground",...u})]}),ToolCategoryForm=({item:e,onSave:t,onCancel:n,locations:o})=>{const[l,u]=reactExports.useState(e||{id:void 0,name:"",description:"",locationId:""});reactExports.useEffect(()=>{u(e?{...e,locationId:e.locationId||""}:{id:void 0,name:"",description:"",locationId:""})},[e]);const m=j=>u({...l,[j.target.name]:j.target.value}),p=j=>{j.preventDefault(),t(l)};return jsxRuntimeExports.jsxs("form",{onSubmit:p,className:"space-y-5",children:[jsxRuntimeExports.jsx(FormField$7,{label:"Tool Category Name",name:"name",value:l.name,onChange:m,required:!0,placeholder:"e.g., Hand Tools, Power Tools"}),jsxRuntimeExports.jsx(FormField$7,{label:"Description",name:"description",value:l.description,onChange:m,placeholder:"Brief description of this tool category"}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("label",{htmlFor:"locationId",className:"block text-sm font-medium text-foreground-muted",children:"Location (Optional)"}),jsxRuntimeExports.jsxs("select",{id:"locationId",name:"locationId",value:l.locationId,onChange:m,className:"input mt-1 bg-background-muted border-border text-foreground",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Location"}),o.map(j=>jsxRuntimeExports.jsx("option",{value:j.id,children:j.name},j.id))]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"btn-primary",children:"Save"})]})]})},ToolCategory=({locationId:e})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState(!0),[u,m]=reactExports.useState(!1),[p,j]=reactExports.useState(null),[f,g]=reactExports.useState([]),[b,R]=reactExports.useState(""),v=reactExports.useMemo(()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),[]),N=reactExports.useCallback(async()=>{l(!0);try{const[I,L]=await Promise.all([axios.get(`${API_URL$1a}/production/tool-categories`,{headers:v}),axios.get(`${API_URL$1a}/locations`,{headers:v})]);n(Array.isArray(I.data)?I.data:[]),g(Array.isArray(L.data)?L.data:[])}catch(I){console.error("Error fetching tool categories:",I),alert(`Error fetching data: ${I.response?.data?.message||I.message}`)}finally{l(!1)}},[v]);reactExports.useEffect(()=>{N()},[N]);const S=reactExports.useMemo(()=>{let I=t;if(e==="none"?I=t.filter(_=>!_.locationId):e&&e!=="all"&&(I=t.filter(_=>String(_.locationId)===String(e))),!b)return I;const L=b.toLowerCase();return I.filter(_=>_.name?.toLowerCase().includes(L)||_.description?.toLowerCase().includes(L))},[t,b,e]),$=()=>{j({locationId:e!=="all"?e:""}),m(!0)},C=I=>{j(I),m(!0)},A=()=>{m(!1),j(null)},T=async I=>{const L={...I,locationId:I.locationId||null},_=!!I.id,M=_?`${API_URL$1a}/production/tool-categories/${I.id}`:`${API_URL$1a}/production/tool-categories`,F=_?"put":"post";try{await axios[F](M,L,{headers:v}),N(),A()}catch(B){alert(`Error saving Tool Category: ${B.response?.data?.message||B.message}`)}},D=async I=>{if(window.confirm("Are you sure you want to delete this tool category?"))try{await axios.delete(`${API_URL$1a}/production/tool-categories/${I}`,{headers:v}),N()}catch(L){alert(`Error deleting Tool Category: ${L.response?.data?.message||L.message}`)}};return o?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary"})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Manage Tool Categories"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",value:b,onChange:I=>R(I.target.value),className:"input w-full sm:w-64 pr-10 bg-background-muted border-border"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-foreground-muted"})]}),jsxRuntimeExports.jsxs("button",{onClick:$,className:"flex items-center gap-2 btn-secondary",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Add Category"]})]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-border rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"#"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Description"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Location"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-card divide-y divide-border text-foreground-muted",children:S.length>0?S.map((I,L)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-background-muted transition-colors",children:[jsxRuntimeExports.jsx("td",{className:"td-cell",children:L+1}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:I.name}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:I.description}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:I.locationName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>C(I),className:"text-primary hover:text-primary/80",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>D(I.id),className:"text-red-500 hover:text-red-600",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},I.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"5",className:"px-4 py-6 text-sm text-foreground-muted text-center",children:"No records found."})})})]})}),jsxRuntimeExports.jsx(Modal$9,{isOpen:u,onClose:A,title:p?.id?"Edit Tool Category":"Add Tool Category",children:jsxRuntimeExports.jsx(ToolCategoryForm,{item:p,onSave:T,onCancel:A,locations:f})})]})},API_URL$19="https://javapaas-202946-0.cloudclusters.net/api",Modal$8=({isOpen:e,onClose:t,title:n,children:o})=>e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-center z-50 p-4",onClick:t,children:jsxRuntimeExports.jsxs("div",{className:"bg-card text-card-foreground rounded-lg shadow-xl w-full max-w-lg",onClick:l=>l.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-foreground",children:n}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-1 rounded-full text-foreground-muted hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsx("div",{className:"p-6",children:o})]})}):null,FormField$6=({label:e,name:t,value:n,onChange:o,required:l=!1,...u})=>jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-foreground-muted",children:e}),jsxRuntimeExports.jsx("input",{id:t,name:t,value:n??"",onChange:o,required:l,className:"input mt-1 bg-background-muted border-border text-foreground",...u})]}),TaskForm=({item:e,onSave:t,onCancel:n,locations:o})=>{const[l,u]=reactExports.useState(e||{id:void 0,name:"",description:"",locationId:""});reactExports.useEffect(()=>{u(e?{...e,locationId:e.locationId||""}:{id:void 0,name:"",description:"",locationId:""})},[e]);const m=j=>u({...l,[j.target.name]:j.target.value}),p=j=>{j.preventDefault(),t(l)};return jsxRuntimeExports.jsxs("form",{onSubmit:p,className:"space-y-5",children:[jsxRuntimeExports.jsx(FormField$6,{label:"Task Name",name:"name",value:l.name,onChange:m,required:!0,placeholder:"e.g., Quality Check, Packaging"}),jsxRuntimeExports.jsx(FormField$6,{label:"Description",name:"description",value:l.description,onChange:m,placeholder:"Brief description of this task"}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("label",{htmlFor:"locationId",className:"block text-sm font-medium text-foreground-muted",children:"Location (Optional)"}),jsxRuntimeExports.jsxs("select",{id:"locationId",name:"locationId",value:l.locationId,onChange:m,className:"input mt-1 bg-background-muted border-border text-foreground",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Location"}),o.map(j=>jsxRuntimeExports.jsx("option",{value:j.id,children:j.name},j.id))]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"btn-primary",children:"Save Task"})]})]})},Task=({locationId:e})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState(!0),[u,m]=reactExports.useState(!1),[p,j]=reactExports.useState(null),[f,g]=reactExports.useState([]),[b,R]=reactExports.useState(""),v=reactExports.useMemo(()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),[]),N=reactExports.useCallback(async()=>{l(!0);try{const[I,L]=await Promise.all([axios.get(`${API_URL$19}/production/tasks`,{headers:v}),axios.get(`${API_URL$19}/locations`,{headers:v})]);n(Array.isArray(I.data)?I.data:[]),g(Array.isArray(L.data)?L.data:[])}catch(I){console.error("Error fetching tasks:",I),alert(`Error fetching data: ${I.response?.data?.message||I.message}`)}finally{l(!1)}},[v]);reactExports.useEffect(()=>{N()},[N]);const S=reactExports.useMemo(()=>{let I=t;if(e==="none"?I=t.filter(_=>!_.locationId):e&&e!=="all"&&(I=t.filter(_=>String(_.locationId)===String(e))),!b)return I;const L=b.toLowerCase();return I.filter(_=>_.name?.toLowerCase().includes(L)||_.description?.toLowerCase().includes(L))},[t,b,e]),$=()=>{j({locationId:e!=="all"?e:""}),m(!0)},C=I=>{j(I),m(!0)},A=()=>{m(!1),j(null)},T=async I=>{const L={...I,locationId:I.locationId||null},_=!!I.id,M=_?`${API_URL$19}/production/tasks/${I.id}`:`${API_URL$19}/production/tasks`,F=_?"put":"post";try{await axios[F](M,L,{headers:v}),N(),A()}catch(B){alert(`Error saving Task: ${B.response?.data?.message||B.message}`)}},D=async I=>{if(window.confirm("Are you sure you want to delete this task?"))try{await axios.delete(`${API_URL$19}/production/tasks/${I}`,{headers:v}),N()}catch(L){alert(`Error deleting Task: ${L.response?.data?.message||L.message}`)}};return o?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary"})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Manage Tasks"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",value:b,onChange:I=>R(I.target.value),className:"input w-full sm:w-64 pr-10 bg-background-muted border-border"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-foreground-muted"})]}),jsxRuntimeExports.jsxs("button",{onClick:$,className:"flex items-center gap-2 btn-secondary",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Add Task"]})]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-border rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"#"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Description"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Location"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-card divide-y divide-border text-foreground-muted",children:S.length>0?S.map((I,L)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-background-muted transition-colors",children:[jsxRuntimeExports.jsx("td",{className:"td-cell",children:L+1}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:I.name}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:I.description}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:I.locationName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>C(I),className:"text-primary hover:text-primary/80",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>D(I.id),className:"text-red-500 hover:text-red-600",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},I.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"5",className:"px-4 py-6 text-sm text-foreground-muted text-center",children:"No records found."})})})]})}),jsxRuntimeExports.jsx(Modal$8,{isOpen:u,onClose:A,title:p?.id?"Edit Task":"Add Task",children:jsxRuntimeExports.jsx(TaskForm,{item:p,onSave:T,onCancel:A,locations:f})})]})},API_URL$18="https://javapaas-202946-0.cloudclusters.net/api",getAuthHeaders$1=()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),FREQUENCY_OPTIONS=["DAILY","WEEKLY","MONTHLY","QUARTERLY","YEARLY","CUSTOM"],ManageTaskForm=({item:e,onSave:t,onCancel:n})=>{const[o,l]=reactExports.useState({locationId:"",workGroupId:"",workstationId:"",taskId:"",frequency:"DAILY",lastPerformedOn:"",alertBeforeDays:0,notifyEmployeeIds:[]}),[u,m]=reactExports.useState({locations:[],workGroups:[],workstations:[],tasks:[],employees:[]}),[p,j]=reactExports.useState(!0);reactExports.useEffect(()=>{(async()=>{j(!0);try{const[N,S,$,C,A]=await Promise.all([axios.get(`${API_URL$18}/locations`,{headers:getAuthHeaders$1()}),axios.get(`${API_URL$18}/production/work-groups`,{headers:getAuthHeaders$1()}),axios.get(`${API_URL$18}/production/work-stations`,{headers:getAuthHeaders$1()}),axios.get(`${API_URL$18}/production/tasks`,{headers:getAuthHeaders$1()}),axios.get(`${API_URL$18}/employees/all`,{headers:getAuthHeaders$1()})]);m({locations:N.data,workGroups:S.data,workstations:$.data,tasks:C.data,employees:A.data})}catch(N){console.error("Failed to fetch form dependency data",N),alert("Failed to load necessary data for the form. Please try again.")}finally{j(!1)}})()},[]),reactExports.useEffect(()=>{e&&l({locationId:e.locationId||"",workGroupId:e.workGroupId||"",workstationId:e.workstationId||"",taskId:e.taskId||"",frequency:e.frequency||"DAILY",lastPerformedOn:e.lastPerformedOn||"",alertBeforeDays:e.alertBeforeDays||0,notifyEmployeeIds:e.notifyEmployees?.map(v=>v.id)||[]})},[e]);const f=v=>l(N=>({...N,[v.target.name]:v.target.value})),g=v=>{const N=v.value;l(S=>({...S,notifyEmployeeIds:S.notifyEmployeeIds.includes(N)?S.notifyEmployeeIds.filter($=>$!==N):[...S.notifyEmployeeIds,N]}))},b=v=>{v.preventDefault();const N={...o,locationId:o.locationId||null,workstationId:o.workstationId||null,alertBeforeDays:Number(o.alertBeforeDays)||0};t(N)};if(p)return jsxRuntimeExports.jsx("div",{className:"flex justify-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin"})});const R=u.employees.map(v=>({value:v.id,label:`${v.firstName} ${v.lastName}`}));return jsxRuntimeExports.jsxs("div",{className:"bg-card p-6 rounded-xl shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[jsxRuntimeExports.jsx("button",{onClick:n,className:"p-2 rounded-full hover:bg-background-muted",children:jsxRuntimeExports.jsx(ArrowLeft,{size:20})}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-foreground",children:e?.id?"Edit Managed Task":"Add New Managed Task"})]}),jsxRuntimeExports.jsxs("form",{onSubmit:b,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Task"}),jsxRuntimeExports.jsxs("select",{name:"taskId",value:o.taskId,onChange:f,className:"input",required:!0,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Task"}),u.tasks.map(v=>jsxRuntimeExports.jsx("option",{value:v.id,children:v.name},v.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Work Group"}),jsxRuntimeExports.jsxs("select",{name:"workGroupId",value:o.workGroupId,onChange:f,className:"input",required:!0,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Work Group"}),u.workGroups.map(v=>jsxRuntimeExports.jsx("option",{value:v.id,children:v.name},v.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Workstation (Optional)"}),jsxRuntimeExports.jsxs("select",{name:"workstationId",value:o.workstationId,onChange:f,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Workstation"}),u.workstations.map(v=>jsxRuntimeExports.jsx("option",{value:v.id,children:v.workstationName},v.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Location (Optional)"}),jsxRuntimeExports.jsxs("select",{name:"locationId",value:o.locationId,onChange:f,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Location"}),u.locations.map(v=>jsxRuntimeExports.jsx("option",{value:v.id,children:v.name},v.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Frequency"}),jsxRuntimeExports.jsx("select",{name:"frequency",value:o.frequency,onChange:f,className:"input",required:!0,children:FREQUENCY_OPTIONS.map(v=>jsxRuntimeExports.jsx("option",{value:v,children:v},v))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Last Performed On"}),jsxRuntimeExports.jsx("input",{type:"date",name:"lastPerformedOn",value:o.lastPerformedOn,onChange:f,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Alert Before (Days)"}),jsxRuntimeExports.jsx("input",{type:"number",name:"alertBeforeDays",value:o.alertBeforeDays,onChange:f,className:"input",min:"0"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Notify Employees (Optional)"}),jsxRuntimeExports.jsx(SearchableSelect,{options:R,selected:o.notifyEmployeeIds,onSelect:g,placeholder:"Search and select employees..."})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"btn-primary",children:"Save Task"})]})]})]})},ManageTaskDetailsModal=({isOpen:e,onClose:t,task:n})=>{if(!e||!n)return null;const o=({label:l,value:u})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-foreground-muted",children:l}),jsxRuntimeExports.jsx("p",{className:"font-medium text-foreground",children:u||"N/A"})]});return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-center z-50 p-4",onClick:t,children:jsxRuntimeExports.jsxs("div",{className:"bg-card text-card-foreground rounded-lg shadow-xl w-full max-w-3xl",onClick:l=>l.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h3",{className:"text-xl font-semibold text-foreground",children:["Managed Task Details: ",n.taskName]}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 max-h-[80vh] overflow-y-auto space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 border-b pb-4",children:[jsxRuntimeExports.jsx(o,{label:"Task",value:n.taskName}),jsxRuntimeExports.jsx(o,{label:"Work Group",value:n.workGroupName}),jsxRuntimeExports.jsx(o,{label:"Workstation",value:n.workstationName}),jsxRuntimeExports.jsx(o,{label:"Location",value:n.locationName}),jsxRuntimeExports.jsx(o,{label:"Frequency",value:n.frequency}),jsxRuntimeExports.jsx(o,{label:"Last Performed On",value:n.lastPerformedOn}),jsxRuntimeExports.jsx(o,{label:"Alert Before (Days)",value:n.alertBeforeDays})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold mb-3 text-foreground",children:"Employees to Notify"}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:n.notifyEmployees?.length>0?n.notifyEmployees.map(l=>jsxRuntimeExports.jsx("li",{className:"text-sm p-2 bg-background-muted rounded",children:l.name},l.id)):jsxRuntimeExports.jsx("li",{children:"No employees assigned for notification."})})]})]}),jsxRuntimeExports.jsx("div",{className:"p-4 bg-background-muted border-t flex justify-end",children:jsxRuntimeExports.jsx("button",{onClick:t,className:"btn-secondary",children:"Close"})})]})})},ManageTask=({locationId:e,workstationId:t})=>{const[n,o]=reactExports.useState([]),[l,u]=reactExports.useState(!0),[m,p]=reactExports.useState("list"),[j,f]=reactExports.useState(null),[g,b]=reactExports.useState(null),[R,v]=reactExports.useState(!1),N=reactExports.useCallback(()=>{u(!0),axios.get(`${API_URL$18}/production/manage-tasks`,{headers:getAuthHeaders$1()}).then(_=>o(Array.isArray(_.data)?_.data:[])).catch(_=>console.error("Error fetching managed tasks:",_)).finally(()=>u(!1))},[]);reactExports.useEffect(()=>{N()},[N]);const S=reactExports.useMemo(()=>{let _=n;return e==="none"?_=n.filter(M=>!M.locationId):e&&e!=="all"&&(_=n.filter(M=>String(M.locationId)===String(e))),t&&(_=_.filter(M=>String(M.workstationId)===String(t))),_},[n,e,t]),$=()=>{f({locationId:e!=="all"?e:""}),p("form")},C=_=>{f(_),p("form")},A=_=>{b(_),v(!0)},T=()=>{v(!1),b(null)},D=()=>{p("list"),f(null)},I=async _=>{const M=!!j?.id,F=M?`${API_URL$18}/production/manage-tasks/${j.id}`:`${API_URL$18}/production/manage-tasks`,B=M?"put":"post";try{await axios[B](F,_,{headers:getAuthHeaders$1()}),N(),D()}catch(q){alert(`Error saving managed task: ${q.response?.data?.message||q.message}`)}},L=async _=>{if(window.confirm("Are you sure you want to delete this managed task?"))try{await axios.delete(`${API_URL$18}/production/manage-tasks/${_}`,{headers:getAuthHeaders$1()}),N()}catch(M){alert(`Error deleting managed task: ${M.response?.data?.message||M.message}`)}};return m==="form"?jsxRuntimeExports.jsx(ManageTaskForm,{item:j,onSave:I,onCancel:D}):l?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary"})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Manage Recurring Tasks"}),jsxRuntimeExports.jsxs("button",{onClick:$,className:"flex items-center gap-2 btn-secondary",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Add Managed Task"]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-border rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Task"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Work Group"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Workstation"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Location"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Frequency"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Last Performed"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-card divide-y divide-border text-foreground-muted",children:S.length>0?S.map(_=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-background-muted transition-colors",children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium",children:_.taskName}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:_.workGroupName}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:_.workstationName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:_.locationName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:_.frequency}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:_.lastPerformedOn||"Never"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>A(_),className:"text-sky-500 hover:text-sky-600",title:"View Details",children:jsxRuntimeExports.jsx(Eye,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>C(_),className:"text-primary hover:text-primary/80",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>L(_.id),className:"text-red-500 hover:text-red-600",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},_.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"7",className:"px-4 py-6 text-sm text-foreground-muted text-center",children:"No managed tasks found."})})})]})}),jsxRuntimeExports.jsx(ManageTaskDetailsModal,{isOpen:R,onClose:T,task:g})]})},API_URL$17="https://javapaas-202946-0.cloudclusters.net/api",getAuthHeaders=()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),ToolForm=({item:e,onSave:t,onCancel:n})=>{const[o,l]=reactExports.useState({name:"",manufacturingDate:"",workGroupId:"",workstationId:"",categoryId:"",locationId:"",stations:[],parameters:[]}),[u,m]=reactExports.useState({workGroups:[],workstations:[],categories:[],locations:[]}),[p,j]=reactExports.useState(!0),[f,g]=reactExports.useState(!1);reactExports.useEffect(()=>{(async()=>{j(!0);try{const[D,I,L,_]=await Promise.all([axios.get(`${API_URL$17}/production/work-groups`,{headers:getAuthHeaders()}),axios.get(`${API_URL$17}/production/work-stations`,{headers:getAuthHeaders()}),axios.get(`${API_URL$17}/production/tool-categories`,{headers:getAuthHeaders()}),axios.get(`${API_URL$17}/locations`,{headers:getAuthHeaders()})]);m({workGroups:D.data,workstations:I.data,categories:L.data,locations:_.data})}catch(D){console.error("Failed to fetch form data",D)}finally{j(!1)}})()},[]),reactExports.useEffect(()=>{if(e){l({name:e.name||"",manufacturingDate:e.manufacturingDate||"",workGroupId:e.workGroupId||"",workstationId:e.workstationId||"",categoryId:e.categoryId||"",locationId:e.locationId||"",stations:e.stations||[],parameters:e.parameters||[]});const T=e.workstationId||e.locationId||e.stations&&e.stations.length>0||e.parameters&&e.parameters.length>0;g(T)}else l({name:"",manufacturingDate:"",workGroupId:"",workstationId:"",categoryId:"",locationId:"",stations:[{name:"",position:1}],parameters:[{name:"",values:[{value:"",position:1}]}]})},[e]);const b=T=>l(D=>({...D,[T.target.name]:T.target.value})),R=(T,D,I,L)=>{l(_=>{const M=[..._[T]];return M[D]={...M[D],[I]:L},{..._,[T]:M}})},v=(T,D)=>{l(I=>({...I,[T]:[...I[T],D]}))},N=(T,D)=>{l(I=>({...I,[T]:I[T].filter((L,_)=>_!==D)}))},S=(T,D,I,L)=>{l(_=>{const M=[..._.parameters],F=[...M[T].values];return F[D]={...F[D],[I]:L},M[T]={...M[T],values:F},{..._,parameters:M}})},$=T=>{l(D=>{const I=[...D.parameters];return I[T].values.push({value:"",position:I[T].values.length+1}),{...D,parameters:I}})},C=(T,D)=>{l(I=>{const L=[...I.parameters];return L[T].values=L[T].values.filter((_,M)=>M!==D),{...I,parameters:L}})},A=T=>{T.preventDefault();const D={...o,workstationId:o.workstationId||null,locationId:o.locationId||null};t(D)};return p?jsxRuntimeExports.jsx("div",{className:"flex justify-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin"})}):jsxRuntimeExports.jsxs("div",{className:"bg-card rounded-xl shadow-sm flex flex-col h-full",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 p-6 border-b border-border flex-shrink-0",children:[jsxRuntimeExports.jsx("button",{onClick:n,className:"p-2 rounded-full hover:bg-background-muted",children:jsxRuntimeExports.jsx(ArrowLeft,{size:20})}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-foreground",children:e?.id?"Edit Tool":"Add New Tool"})]}),jsxRuntimeExports.jsxs("form",{onSubmit:A,className:"flex flex-col flex-grow overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex-grow overflow-y-auto p-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-x-8 gap-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground border-b pb-2 mb-4",children:"Tool Information"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-foreground-muted",children:"Tool Name"}),jsxRuntimeExports.jsx("input",{name:"name",value:o.name,onChange:b,placeholder:"Tool Name",className:"input",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-foreground-muted",children:"Category"}),jsxRuntimeExports.jsxs("select",{name:"categoryId",value:o.categoryId,onChange:b,className:"input",required:!0,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Category"}),u.categories.map(T=>jsxRuntimeExports.jsx("option",{value:T.id,children:T.name},T.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-foreground-muted",children:"Work Group"}),jsxRuntimeExports.jsxs("select",{name:"workGroupId",value:o.workGroupId,onChange:b,className:"input",required:!0,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Work Group"}),u.workGroups.map(T=>jsxRuntimeExports.jsx("option",{value:T.id,children:T.name},T.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-foreground-muted",children:"Manufacturing Date"}),jsxRuntimeExports.jsx("input",{name:"manufacturingDate",type:"date",value:o.manufacturingDate,onChange:b,className:"input"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between border-b pb-2 mb-3",children:[jsxRuntimeExports.jsx("h3",{className:"text-base font-semibold text-foreground",children:"Advanced Options"}),jsxRuntimeExports.jsxs("label",{className:"flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("span",{className:"text-sm mr-2",children:f?"On":"Off"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:f,onChange:()=>g(T=>!T),className:"sr-only"}),jsxRuntimeExports.jsx("div",{className:`block w-10 h-6 rounded-full ${f?"bg-primary":"bg-gray-300"}`}),jsxRuntimeExports.jsx("div",{className:`dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-transform ${f?"transform translate-x-full":""}`})]})]})]}),f&&jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-foreground-muted",children:"Workstation (Optional)"}),jsxRuntimeExports.jsxs("select",{name:"workstationId",value:o.workstationId,onChange:b,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Workstation"}),u.workstations.map(T=>jsxRuntimeExports.jsx("option",{value:T.id,children:T.workstationName},T.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-foreground-muted",children:"Location (Optional)"}),jsxRuntimeExports.jsxs("select",{name:"locationId",value:o.locationId,onChange:b,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Location"}),u.locations.map(T=>jsxRuntimeExports.jsx("option",{value:T.id,children:T.name},T.id))]})]})]})]})]}),f&&jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 pt-6 border-t",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-2 text-foreground",children:"Stations"}),o.stations.map((T,D)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("input",{value:T.name,onChange:I=>R("stations",D,"name",I.target.value),placeholder:"Station Name",className:"input w-full"}),jsxRuntimeExports.jsx("input",{type:"number",value:T.position,onChange:I=>R("stations",D,"position",I.target.value),placeholder:"Pos",className:"input w-20"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>N("stations",D),className:"p-2 text-red-500 hover:bg-red-100 rounded-full",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]},D)),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>v("stations",{name:"",position:o.stations.length+1}),className:"btn-secondary text-sm",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16,className:"mr-2"}),"Add Station"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-2 text-foreground",children:"Parameters"}),o.parameters.map((T,D)=>jsxRuntimeExports.jsxs("div",{className:"p-3 border rounded-md mb-3 bg-background-muted",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("input",{value:T.name,onChange:I=>R("parameters",D,"name",I.target.value),placeholder:"Parameter Name",className:"input w-full"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>N("parameters",D),className:"p-2 text-red-500 hover:bg-red-100 rounded-full",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]}),jsxRuntimeExports.jsxs("div",{className:"pl-4",children:[T.values.map((I,L)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx("input",{value:I.value,onChange:_=>S(D,L,"value",_.target.value),placeholder:"Value",className:"input w-full text-sm"}),jsxRuntimeExports.jsx("input",{type:"number",value:I.position,onChange:_=>S(D,L,"position",_.target.value),placeholder:"Pos",className:"input w-20 text-sm"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>C(D,L),className:"p-1 text-red-500 hover:bg-red-100 rounded-full",children:jsxRuntimeExports.jsx(Trash2,{size:14})})]},L)),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>$(D),className:"btn-secondary btn-sm",children:[jsxRuntimeExports.jsx(CirclePlus,{size:14,className:"mr-1"}),"Add Value"]})]})]},D)),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>v("parameters",{name:"",values:[{value:"",position:1}]}),className:"btn-secondary text-sm",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16,className:"mr-2"}),"Add Parameter"]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 p-6 border-t border-border flex-shrink-0",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"btn-primary",children:"Save Tool"})]})]})]})},ToolDetailsModal=({isOpen:e,onClose:t,tool:n})=>{if(!e||!n)return null;const o=({label:l,value:u})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-foreground-muted",children:l}),jsxRuntimeExports.jsx("p",{className:"font-medium text-foreground",children:u||"N/A"})]});return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-center z-50 p-4",onClick:t,children:jsxRuntimeExports.jsxs("div",{className:"bg-card text-card-foreground rounded-lg shadow-xl w-full max-w-3xl",onClick:l=>l.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h3",{className:"text-xl font-semibold text-foreground",children:["Tool Details: ",n.name]}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 max-h-[80vh] overflow-y-auto space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 border-b pb-4",children:[jsxRuntimeExports.jsx(o,{label:"Tool Name",value:n.name}),jsxRuntimeExports.jsx(o,{label:"Category",value:n.categoryName}),jsxRuntimeExports.jsx(o,{label:"Work Group",value:n.workGroupName}),jsxRuntimeExports.jsx(o,{label:"Workstation",value:n.workstationName}),jsxRuntimeExports.jsx(o,{label:"Location",value:n.locationName}),jsxRuntimeExports.jsx(o,{label:"Manufacturing Date",value:n.manufacturingDate})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold mb-3 text-foreground",children:"Stations"}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:n.stations?.map(l=>jsxRuntimeExports.jsxs("li",{className:"text-sm p-2 bg-background-muted rounded",children:[l.name," (Pos: ",l.position,")"]},l.id))||jsxRuntimeExports.jsx("li",{children:"No stations assigned."})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold mb-3 text-foreground",children:"Parameters"}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:n.parameters?.map(l=>jsxRuntimeExports.jsxs("div",{className:"text-sm",children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:l.name}),jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside pl-2 text-foreground-muted",children:l.values?.map(u=>jsxRuntimeExports.jsxs("li",{children:[u.value," (Pos: ",u.position,")"]},u.id))})]},l.id))||jsxRuntimeExports.jsx("p",{children:"No parameters defined."})})]})]})]}),jsxRuntimeExports.jsx("div",{className:"p-4 bg-background-muted border-t flex justify-end",children:jsxRuntimeExports.jsx("button",{onClick:t,className:"btn-secondary",children:"Close"})})]})})},ManageTools=({locationId:e,workstationId:t})=>{const[n,o]=reactExports.useState([]),[l,u]=reactExports.useState(!0),[m,p]=reactExports.useState("list"),[j,f]=reactExports.useState(null),[g,b]=reactExports.useState(null),[R,v]=reactExports.useState(!1),[N,S]=reactExports.useState({workstationId:"",toolId:"",fromDate:"",toDate:""}),[$,C]=reactExports.useState({}),[A,T]=reactExports.useState([]),D=reactExports.useCallback(()=>{u(!0),Promise.all([axios.get(`${API_URL$17}/production/tools`,{headers:getAuthHeaders()}),axios.get(`${API_URL$17}/production/work-stations`,{headers:getAuthHeaders()})]).then(([G,K])=>{o(Array.isArray(G.data)?G.data:[]),T(Array.isArray(K.data)?K.data:[])}).catch(G=>{console.error("Error fetching data:",G),alert("Failed to fetch necessary data. Please try again.")}).finally(()=>{u(!1)})},[]);reactExports.useEffect(()=>{D()},[D]);const I=reactExports.useMemo(()=>{let G=n;return e==="none"?G=n.filter(K=>!K.locationId):e&&e!=="all"&&(G=n.filter(K=>String(K.locationId)===String(e))),t&&(G=G.filter(K=>String(K.workstationId)===String(t))),$.workstationId&&(G=G.filter(K=>String(K.workstationId)===$.workstationId)),$.toolId&&(G=G.filter(K=>String(K.id)===$.toolId)),$.fromDate&&(G=G.filter(K=>new Date(K.manufacturingDate)>=new Date($.fromDate))),$.toDate&&(G=G.filter(K=>new Date(K.manufacturingDate)<=new Date($.toDate))),G},[n,$,e,t]),L=()=>{f({locationId:e!=="all"?e:""}),p("form")},_=G=>{f(G),p("form")},M=G=>{b(G),v(!0)},F=()=>{v(!1),b(null)},B=()=>{p("list"),f(null)},q=async G=>{const K=!!j?.id,J=K?`${API_URL$17}/production/tools/${j.id}`:`${API_URL$17}/production/tools`,ne=K?"put":"post";try{await axios[ne](J,G,{headers:getAuthHeaders()}),D(),B()}catch(H){alert(`Error saving tool: ${H.response?.data?.message||H.message}`)}},z=async G=>{if(window.confirm("Are you sure you want to delete this tool?"))try{await axios.delete(`${API_URL$17}/production/tools/${G}`,{headers:getAuthHeaders()}),D()}catch(K){alert(`Error deleting tool: ${K.response?.data?.message||K.message}`)}},V=G=>{S(K=>({...K,[G.target.name]:G.target.value}))},Q=()=>{C(N)},ee=()=>{S({workstationId:"",toolId:"",fromDate:"",toDate:""}),C({})};return m==="form"?jsxRuntimeExports.jsx("div",{className:"h-full",children:jsxRuntimeExports.jsx(ToolForm,{item:j,onSave:q,onCancel:B})}):l?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary"})}):jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-end gap-4 mb-4 p-4 border rounded-lg bg-background-muted",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-foreground-muted mb-1",children:"Workstation"}),jsxRuntimeExports.jsxs("select",{name:"workstationId",value:N.workstationId,onChange:V,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Workstations"}),A.map(G=>jsxRuntimeExports.jsx("option",{value:G.id,children:G.workstationName},G.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-foreground-muted mb-1",children:"Tool"}),jsxRuntimeExports.jsxs("select",{name:"toolId",value:N.toolId,onChange:V,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Tools"}),n.map(G=>jsxRuntimeExports.jsx("option",{value:G.id,children:G.name},G.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-foreground-muted mb-1",children:"From Mfg. Date"}),jsxRuntimeExports.jsx("input",{type:"date",name:"fromDate",value:N.fromDate,onChange:V,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-foreground-muted mb-1",children:"To Mfg. Date"}),jsxRuntimeExports.jsx("input",{type:"date",name:"toDate",value:N.toDate,onChange:V,className:"input"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-end gap-2",children:[jsxRuntimeExports.jsxs("button",{onClick:Q,className:"btn-primary flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx(Funnel,{size:16})," Search"]}),jsxRuntimeExports.jsxs("button",{onClick:ee,className:"btn-secondary flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx(CircleX,{size:16})," Reset"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-foreground",children:["Tools List (",I.length,")"]}),jsxRuntimeExports.jsxs("button",{onClick:L,className:"flex items-center gap-2 btn-secondary",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Add Tool"]})]}),jsxRuntimeExports.jsx("div",{className:"flex-grow overflow-auto border border-border rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Work Group"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Workstation"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Location"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Mfg. Date"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-card divide-y divide-border text-foreground-muted",children:I.length>0?I.map(G=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-background-muted transition-colors",children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium",children:G.name}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:G.categoryName}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:G.workGroupName}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:G.workstationName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:G.locationName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:G.manufacturingDate}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>M(G),className:"text-sky-500 hover:text-sky-600",title:"View Details",children:jsxRuntimeExports.jsx(Eye,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>_(G),className:"text-primary hover:text-primary/80",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>z(G.id),className:"text-red-500 hover:text-red-600",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},G.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"7",className:"px-4 py-6 text-sm text-foreground-muted text-center",children:"No tools found."})})})]})}),jsxRuntimeExports.jsx(ToolDetailsModal,{isOpen:R,onClose:F,tool:g})]})},API_URL$16="https://javapaas-202946-0.cloudclusters.net/api",WorkgroupDetailsModal=({isOpen:e,onClose:t,item:n})=>{if(!e||!n)return null;const o=({label:l,value:u})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-foreground-muted",children:l}),jsxRuntimeExports.jsx("p",{className:"font-medium text-foreground",children:u||"N/A"})]});return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-center z-50 p-4",onClick:t,children:jsxRuntimeExports.jsxs("div",{className:"bg-card text-card-foreground rounded-lg shadow-xl w-full max-w-3xl",onClick:l=>l.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h3",{className:"text-xl font-semibold text-foreground",children:["Workgroup Details: ",n.name]}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 max-h-[80vh] overflow-y-auto space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 border-b pb-4",children:[jsxRuntimeExports.jsx(o,{label:"Workgroup Name",value:n.name}),jsxRuntimeExports.jsx(o,{label:"Designation",value:n.designation}),jsxRuntimeExports.jsx(o,{label:"Number of Employees",value:n.numberOfEmployees}),jsxRuntimeExports.jsx(o,{label:"Instance Count",value:n.instanceCount}),jsxRuntimeExports.jsx(o,{label:"Hourly Rate",value:n.hourlyRate}),jsxRuntimeExports.jsx(o,{label:"Location",value:n.locationName}),jsxRuntimeExports.jsx(o,{label:"Working Minutes",value:n.customWorkingHours?"Custom":n.fixedWorkingMinutes})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold mb-3 text-foreground",children:"Day Schedules"}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:n.daySchedules?.length>0?n.daySchedules.map(l=>jsxRuntimeExports.jsxs("li",{className:"text-sm p-2 bg-background-muted rounded",children:[l.dayOfWeek,": ",l.startTime," - ",l.endTime]},l.dayOfWeek)):jsxRuntimeExports.jsx("li",{children:"No custom schedules defined. Using fixed working minutes."})})]})]}),jsxRuntimeExports.jsx("div",{className:"p-4 bg-background-muted border-t flex justify-end",children:jsxRuntimeExports.jsx("button",{onClick:t,className:"btn-secondary",children:"Close"})})]})})},WorkgroupTab=({locationId:e})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState(!0),[u,m]=reactExports.useState("list"),[p,j]=reactExports.useState(null),[f,g]=reactExports.useState(""),[b,R]=reactExports.useState(null),[v,N]=reactExports.useState(!1),S=reactExports.useMemo(()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),[]),$=reactExports.useCallback(()=>{l(!0),axios.get(`${API_URL$16}/production/work-groups`,{headers:S}).then(B=>n(Array.isArray(B.data)?B.data:[])).catch(B=>{console.error("Error fetching work groups:",B),alert(`Error fetching work groups: ${B.response?.data?.message||B.message}`)}).finally(()=>l(!1))},[S]);reactExports.useEffect(()=>{$()},[$]);const C=reactExports.useMemo(()=>{let B=t;if(e==="none"?B=t.filter(z=>!z.locationId):e&&e!=="all"&&(B=t.filter(z=>String(z.locationId)===String(e))),!f)return B;const q=f.toLowerCase();return B.filter(z=>String(z.name??"").toLowerCase().includes(q)||String(z.number??"").toLowerCase().includes(q))},[t,f,e]),A=()=>{j({locationId:e!=="all"?e:""}),m("form")},T=B=>{j(B),m("form")},D=B=>{R(B),N(!0)},I=()=>{N(!1),R(null)},L=()=>{m("list"),j(null)},_=async B=>{const q=!!p?.id,z=q?`${API_URL$16}/production/work-groups/${p.id}`:`${API_URL$16}/production/work-groups`,V=q?"put":"post";try{await axios[V](z,B,{headers:S}),$(),L()}catch(Q){alert(`Error saving work group: ${Q.response?.data?.message||Q.message}`)}},M=B=>{if(!B){alert("Missing id for work group.");return}window.confirm("Are you sure you want to delete this work group?")&&axios.delete(`${API_URL$16}/production/work-groups/${B}`,{headers:S}).then(()=>$()).catch(q=>alert(`Error deleting work group: ${q.response?.data?.message||q.message}`))},F=[{header:"Number",key:"number"},{header:"Name",key:"name"},{header:"Designation",key:"designation"},{header:"Employees",key:"numberOfEmployees"},{header:"Location",key:"locationName"},{header:"Instances",key:"instanceCount"},{header:"Hourly Rate",key:"hourlyRate"}];return u==="form"?jsxRuntimeExports.jsx(WorkgroupFormPage,{item:p,onSave:_,onCancel:L}):o?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary"})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Manage Work Groups"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",value:f,onChange:B=>g(B.target.value),className:"input w-full sm:w-64 pr-10 bg-background-muted border-border"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-foreground-muted"})]}),jsxRuntimeExports.jsxs("button",{onClick:A,className:"flex items-center gap-2 btn-secondary",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Add Work Group"]})]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-border rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"#"}),F.map(B=>jsxRuntimeExports.jsx("th",{className:"th-cell",children:B.header},B.key)),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsxs("tbody",{className:"bg-card divide-y divide-border text-foreground-muted",children:[C.map((B,q)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-background-muted",children:[jsxRuntimeExports.jsx("td",{className:"td-cell",children:q+1}),F.map(z=>jsxRuntimeExports.jsx("td",{className:"td-cell",children:String(B[z.key]??"")},z.key)),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>D(B),className:"text-sky-500 hover:text-sky-600",title:"View Details",children:jsxRuntimeExports.jsx(Eye,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>T(B),className:"text-primary hover:text-primary/80",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>M(B.id),className:"text-red-500 hover:text-red-600",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},B.id??q)),C.length===0&&jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{className:"px-4 py-6 text-sm text-foreground-muted text-center",colSpan:F.length+2,children:"No records found."})})]})]})}),jsxRuntimeExports.jsx(WorkgroupDetailsModal,{isOpen:v,onClose:I,item:b})]})},tabs$3=[{name:"Workgroup",icon:Users,component:WorkgroupTab,color:"text-blue-500"},{name:"Workstation",icon:Factory,component:WorkstationTab,color:"text-indigo-500"},{name:"Tool Category",icon:Wrench,component:ToolCategory,color:"text-amber-500"},{name:"Manage Tools",icon:ToolCase,component:ManageTools,color:"text-green-500"},{name:"Tasks",icon:ClipboardCheck,component:Task,color:"text-rose-500"},{name:"Manage Tasks",icon:ListChecks,component:ManageTask,color:"text-purple-500"}],WorkGroup=({locationId:e})=>{const[t,n]=reactExports.useState(tabs$3[0].name),[o,l]=reactExports.useState(null),u=(p,j)=>{n(p),l(j)},m=reactExports.useMemo(()=>tabs$3.find(p=>p.name===t)?.component,[t]);return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full",children:[jsxRuntimeExports.jsx("div",{className:"border-b border-border flex-shrink-0 mb-6",children:jsxRuntimeExports.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:tabs$3.map(p=>jsxRuntimeExports.jsxs("button",{onClick:()=>n(p.name),className:`whitespace-nowrap flex items-center gap-2 py-3 px-1 border-b-2 font-medium text-sm transition-colors group ${t===p.name?"border-primary text-primary font-semibold":"border-transparent text-foreground-muted hover:text-foreground hover:border-border group-hover:text-primary"}`,children:[jsxRuntimeExports.jsx(p.icon,{className:"mr-2 h-5 w-5"}),p.name]},p.name))})}),jsxRuntimeExports.jsx("div",{className:"flex-grow overflow-y-auto",children:m&&jsxRuntimeExports.jsx(m,{locationId:e,workstationId:o,onSwitchTab:u})})]})},API_URL$15="https://javapaas-202946-0.cloudclusters.net/api",ProcessModal=({isOpen:e,onClose:t,onSave:n,process:o,loading:l,locations:u,workGroups:m})=>{const[p,j]=reactExports.useState({name:"",locationId:"",workGroups:[]}),[f,g]=reactExports.useState("");reactExports.useEffect(()=>{j(o?{name:o.name||"",locationId:o.locationId||"",workGroups:o.workGroups?o.workGroups.map($=>({workGroupId:$.workGroupId,sequenceIndex:$.sequenceIndex})):[]}:{name:"",locationId:"",workGroups:[]}),g("")},[o,e]);const b=$=>{const{name:C,value:A}=$.target;j(T=>({...T,[C]:A}))},R=($,C,A)=>{const T=[...p.workGroups];T[$][C]=A,j(D=>({...D,workGroups:T}))},v=()=>{const $=p.workGroups.length>0?Math.max(...p.workGroups.map(C=>C.sequenceIndex))+1:1;j(C=>({...C,workGroups:[...C.workGroups,{workGroupId:"",sequenceIndex:$}]}))},N=$=>{j(C=>({...C,workGroups:C.workGroups.filter((A,T)=>T!==$)}))},S=$=>{if($.preventDefault(),!p.name.trim()){g("Process name is required.");return}n({id:o?.id,...p})};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-center z-50 p-4",onClick:t,children:jsxRuntimeExports.jsxs("div",{className:"bg-card text-card-foreground rounded-lg shadow-xl w-full max-w-2xl",onClick:$=>$.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h3",{className:"text-xl font-semibold text-foreground",children:[o?"Edit":"Add"," Process"]}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-1 rounded-full text-foreground-muted hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:S,children:[jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"label",children:"Process Name"}),jsxRuntimeExports.jsx("input",{id:"name",name:"name",value:p.name,onChange:b,required:!0,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"locationId",className:"label",children:"Location"}),jsxRuntimeExports.jsxs("select",{id:"locationId",name:"locationId",value:p.locationId,onChange:b,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Locations"}),u.map($=>jsxRuntimeExports.jsx("option",{value:$.id,children:$.name},$.id))]})]})]}),jsxRuntimeExports.jsxs("div",{className:"pt-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold mb-2",children:"Workgroups Sequence"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[p.workGroups.sort(($,C)=>$.sequenceIndex-C.sequenceIndex).map(($,C)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 p-3 bg-background-muted rounded-md",children:[jsxRuntimeExports.jsx(ChevronsUpDown,{className:"h-5 w-5 text-foreground-muted"}),jsxRuntimeExports.jsx("input",{type:"number",value:$.sequenceIndex,onChange:A=>R(C,"sequenceIndex",parseInt(A.target.value,10)),className:"input w-20 text-center",min:"1"}),jsxRuntimeExports.jsxs("select",{value:$.workGroupId,onChange:A=>R(C,"workGroupId",A.target.value),className:"input flex-grow",required:!0,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Workgroup"}),m.map(A=>jsxRuntimeExports.jsxs("option",{value:A.id,children:[A.name," (",A.number,")"]},A.id))]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>N(C),className:"p-2 text-red-500 hover:bg-red-100 rounded-full",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]},C)),jsxRuntimeExports.jsxs("button",{type:"button",onClick:v,className:"btn-secondary btn-sm w-full",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16,className:"mr-2"})," Add Workgroup Step"]})]})]}),f&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm",children:f})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t bg-slate-50 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:l,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:l,children:[l&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"})," Save Process"]})]})]})]})}):null},ManageProcess=({locationId:e})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState([]),[u,m]=reactExports.useState([]),[p,j]=reactExports.useState(!0),[f,g]=reactExports.useState(""),[b,R]=reactExports.useState(!1),[v,N]=reactExports.useState(null),[S,$]=reactExports.useState(!1),[C,A]=reactExports.useState(""),[T,D]=reactExports.useState(0),[I,L]=reactExports.useState(10),[_,M]=reactExports.useState(0),[F,B]=reactExports.useState(0),q=reactExports.useMemo(()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),[]),z=reactExports.useCallback(async()=>{j(!0),g("");try{const[Y,le,je]=await Promise.all([axios.get(`${API_URL$15}/production/processes?page=${T}&size=${I}`,{headers:q}),axios.get(`${API_URL$15}/locations`,{headers:q}),axios.get(`${API_URL$15}/production/work-groups`,{headers:q})]);n(Array.isArray(Y.data.content)?Y.data.content:[]),l(Array.isArray(le.data)?le.data:[]),M(Y.data.totalPages||0),B(Y.data.totalElements||0),m(Array.isArray(je.data)?je.data:[])}catch(Y){g("Failed to fetch data."),console.error(Y)}finally{j(!1)}},[q,T,I]);reactExports.useEffect(()=>{z()},[z,T,I]);const V=()=>{N(null),R(!0)},Q=Y=>{N(Y),R(!0)},ee=()=>{R(!1),N(null)},G=async Y=>{$(!0);const le={...Y,locationId:Y.locationId||null},je=!!Y.id,ae=je?`${API_URL$15}/production/processes/${Y.id}`:`${API_URL$15}/production/processes`,Z=je?"put":"post";try{await axios[Z](ae,le,{headers:q}),await z(),ee()}catch(ce){alert(`Error: ${ce.response?.data?.message||"Failed to save process."}`)}finally{$(!1)}},K=async Y=>{if(window.confirm("Are you sure you want to delete this process?"))try{await axios.delete(`${API_URL$15}/production/processes/${Y}`,{headers:q}),await z()}catch(le){alert(`Error: ${le.response?.data?.message||"Failed to delete process."}`)}},J=reactExports.useMemo(()=>{let Y=t;return e&&e!=="all"&&(Y=t.filter(le=>String(le.locationId)===String(e))),Y.filter(le=>!C||le.name.toLowerCase().includes(C.toLowerCase()))},[t,C,e]),ne=Y=>{L(Number(Y.target.value)),D(0)},H=()=>{D(Y=>Math.max(Y-1,0))},te=()=>{D(Y=>Math.min(Y+1,_-1))};return jsxRuntimeExports.jsxs("div",{className:"p-6 bg-card rounded-xl shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Manage Processes"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",value:C,onChange:Y=>A(Y.target.value),className:"input w-full sm:w-64 pr-10 bg-background-muted border-border"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-foreground-muted"})]}),jsxRuntimeExports.jsxs("button",{onClick:V,className:"flex items-center gap-2 btn-secondary",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Add Process"]})]})]}),f&&jsxRuntimeExports.jsx("p",{className:"text-red-500 mb-4",children:f}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-border rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Process Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Location"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Workgroups"}),jsxRuntimeExports.jsx("th",{className:"th-cell w-32",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-card divide-y divide-border text-foreground-muted",children:p?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"4",className:"text-center py-10",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary mx-auto"})})}):J.length>0?J.map(Y=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-background-muted transition-colors",children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium text-foreground",children:Y.name}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:Y.locationName||"All Locations"}),jsxRuntimeExports.jsx("td",{className:"td-cell text-xs",children:Y.workGroups?.sort((le,je)=>le.sequenceIndex-je.sequenceIndex).map(le=>le.workGroupName).join("  ")||"None"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Q(Y),className:"text-primary hover:text-primary/80 p-1",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>K(Y.id),className:"text-red-500 hover:text-red-600 p-1",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},Y.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"4",className:"text-center py-10",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-foreground",children:"No processes found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"Get started by adding a new process."})]})})})]})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mt-4 text-sm text-foreground-muted",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{children:"Show"}),jsxRuntimeExports.jsxs("select",{value:I,onChange:ne,className:"input py-1 px-2 h-auto text-sm",children:[jsxRuntimeExports.jsx("option",{value:"5",children:"5"}),jsxRuntimeExports.jsx("option",{value:"10",children:"10"}),jsxRuntimeExports.jsx("option",{value:"20",children:"20"}),jsxRuntimeExports.jsx("option",{value:"50",children:"50"})]}),jsxRuntimeExports.jsx("span",{children:"entries"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("span",{children:["Page ",_>0?T+1:0," of ",_]}),jsxRuntimeExports.jsx("button",{onClick:H,disabled:T===0,className:"btn-secondary btn-sm disabled:opacity-50",children:"Previous"}),jsxRuntimeExports.jsx("button",{onClick:te,disabled:T>=_-1,className:"btn-secondary btn-sm disabled:opacity-50",children:"Next"})]})]}),jsxRuntimeExports.jsx(ProcessModal,{isOpen:b,onClose:ee,onSave:G,process:v,loading:S,locations:o,workGroups:u})]})},API_URL$14="https://javapaas-202946-0.cloudclusters.net/api",Modal$7=({isOpen:e,onClose:t,title:n,children:o})=>e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-center z-50 p-4",onClick:t,children:jsxRuntimeExports.jsxs("div",{className:"bg-card text-card-foreground rounded-lg shadow-xl w-full max-w-2xl",onClick:l=>l.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-foreground",children:n}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-1 rounded-full text-foreground-muted hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsx("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:o})]})}):null,ParameterForm=({item:e,onSave:t,onCancel:n,loading:o,locations:l})=>{const[u,m]=reactExports.useState({name:"",changesQuantity:!1,locationId:"",values:[{code:"",value:""}]});reactExports.useEffect(()=>{m(e?{name:e.name||"",changesQuantity:e.changesQuantity||!1,locationId:e.locationId||"",values:e.values?.length>0?e.values:[{code:"",value:""}]}:{name:"",changesQuantity:!1,locationId:"",values:[{code:"",value:""}]})},[e]);const p=R=>{const{name:v,value:N,type:S,checked:$}=R.target;m(C=>({...C,[v]:S==="checkbox"?$:N}))},j=(R,v,N)=>{const S=[...u.values];S[R][v]=N,m($=>({...$,values:S}))},f=()=>{m(R=>({...R,values:[...R.values,{code:"",value:""}]}))},g=R=>{m(v=>({...v,values:v.values.filter((N,S)=>S!==R)}))},b=R=>{R.preventDefault(),t({id:e?.id,...u})};return jsxRuntimeExports.jsxs("form",{onSubmit:b,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"label",children:"Parameter Name"}),jsxRuntimeExports.jsx("input",{id:"name",name:"name",value:u.name,onChange:p,required:!0,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"locationId",className:"label",children:"Location (Optional)"}),jsxRuntimeExports.jsxs("select",{id:"locationId",name:"locationId",value:u.locationId,onChange:p,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Locations"}),l.map(R=>jsxRuntimeExports.jsx("option",{value:R.id,children:R.name},R.id))]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",id:"changesQuantity",name:"changesQuantity",checked:u.changesQuantity,onChange:p,className:"h-4 w-4 rounded"}),jsxRuntimeExports.jsx("label",{htmlFor:"changesQuantity",className:"text-sm font-medium",children:"This parameter affects quantity"})]}),jsxRuntimeExports.jsxs("div",{className:"pt-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold mb-2",children:"Parameter Values"}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:u.values.map((R,v)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{value:R.code,onChange:N=>j(v,"code",N.target.value),placeholder:"Code",className:"input",required:!0}),jsxRuntimeExports.jsx("input",{value:R.value,onChange:N=>j(v,"value",N.target.value),placeholder:"Value",className:"input",required:!0}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>g(v),className:"p-2 text-red-500 hover:bg-red-100 rounded-full",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]},v))}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:f,className:"btn-secondary btn-sm mt-2",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16,className:"mr-2"}),"Add Value"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",disabled:o,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:o,children:[o&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"})," Save"]})]})]})},ProParameter=({locationId:e})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState([]),[u,m]=reactExports.useState(!0),[p,j]=reactExports.useState(""),[f,g]=reactExports.useState(!1),[b,R]=reactExports.useState(null),[v,N]=reactExports.useState(!1),[S,$]=reactExports.useState(""),C=reactExports.useMemo(()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),[]),A=reactExports.useCallback(async()=>{m(!0),j("");try{const[F,B]=await Promise.all([axios.get(`${API_URL$14}/production/parameters`,{headers:C}),axios.get(`${API_URL$14}/locations`,{headers:C})]);n(Array.isArray(F.data)?F.data:[]),l(Array.isArray(B.data)?B.data:[])}catch(F){j("Failed to fetch data."),console.error(F)}finally{m(!1)}},[C]);reactExports.useEffect(()=>{A()},[A]);const T=()=>{R({locationId:e!=="all"?e:""}),g(!0)},D=F=>{R(F),g(!0)},I=()=>{g(!1),R(null)},L=async F=>{N(!0),{...F,locationId:F.locationId};const B=!!F.id,q=B?`${API_URL$14}/production/parameters/${F.id}`:`${API_URL$14}/production/parameters`,z=B?"put":"post";try{await axios[z](q,F,{headers:C}),await A(),I()}catch(V){alert(`Error: ${V.response?.data?.message||"Failed to save parameter."}`)}finally{N(!1)}},_=async F=>{if(window.confirm("Are you sure you want to delete this parameter?"))try{await axios.delete(`${API_URL$14}/production/parameters/${F}`,{headers:C}),await A()}catch(B){alert(`Error: ${B.response?.data?.message||"Failed to delete parameter."}`)}},M=reactExports.useMemo(()=>{let F=t;return e==="none"?F=t.filter(B=>!B.locationId):e&&e!=="all"&&(F=t.filter(B=>String(B.locationId)===String(e))),F.filter(B=>!S||B.name.toLowerCase().includes(S.toLowerCase()))},[t,S,e]);return jsxRuntimeExports.jsxs("div",{className:"p-6 bg-card rounded-xl shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Manage Parameters"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",value:S,onChange:F=>$(F.target.value),className:"input w-full sm:w-64 pr-10 bg-background-muted border-border"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-foreground-muted"})]}),jsxRuntimeExports.jsxs("button",{onClick:T,className:"flex items-center gap-2 btn-secondary",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Add Parameter"]})]})]}),p&&jsxRuntimeExports.jsx("p",{className:"text-red-500 mb-4",children:p}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-border rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Affects Qty"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Location"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Values"}),jsxRuntimeExports.jsx("th",{className:"th-cell w-32",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-card divide-y divide-border text-foreground-muted",children:u?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"5",className:"text-center py-10",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary mx-auto"})})}):M.length>0?M.map(F=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium text-foreground",children:F.name}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:F.changesQuantity?"Yes":"No"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:F.locationName||"All"}),jsxRuntimeExports.jsx("td",{className:"td-cell text-xs max-w-xs truncate",title:F.values.map(B=>`${B.code}: ${B.value}`).join(", "),children:F.values.map(B=>B.value).join(", ")}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>D(F),className:"text-primary hover:text-primary/80",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>_(F.id),className:"text-red-500 hover:text-red-600",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},F.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"5",className:"text-center py-10",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-foreground",children:"No Parameters Found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"Get started by adding a new parameter."})]})})})]})}),jsxRuntimeExports.jsx(Modal$7,{isOpen:f,onClose:I,title:b?"Edit Parameter":"Add Parameter",children:jsxRuntimeExports.jsx(ParameterForm,{item:b,onSave:L,onCancel:I,loading:v,locations:o})})]})},API_URL$13="https://javapaas-202946-0.cloudclusters.net/api",CategoryTab=({locationId:e})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState([]),[u,m]=reactExports.useState(!0),[p,j]=reactExports.useState(""),[f,g]=reactExports.useState(!1),[b,R]=reactExports.useState(null),[v,N]=reactExports.useState(!1),[S,$]=reactExports.useState({name:"",code:"",locationId:""}),[C,A]=reactExports.useState(""),T=reactExports.useMemo(()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),[]),D=reactExports.useCallback(async()=>{m(!0),j("");try{const[z,V]=await Promise.all([axios.get(`${API_URL$13}/production/categories`,{headers:T}),axios.get(`${API_URL$13}/locations`,{headers:T})]);n(Array.isArray(z.data)?z.data:[]),l(Array.isArray(V.data)?V.data:[])}catch(z){j("Failed to fetch data."),console.error(z)}finally{m(!1)}},[T]);reactExports.useEffect(()=>{D()},[D]),reactExports.useEffect(()=>{b&&$({name:b.name||"",code:b.code||"",locationId:b.locationId||(e!=="all"?e:"")})},[b,e]);const I=()=>{R({}),g(!0)},L=z=>{R(z),g(!0)},_=()=>{g(!1),R(null),$({name:"",code:"",locationId:""})},M=async z=>{N(!0);const V={...z,locationId:z.locationId||null},Q=!!z.id,ee=Q?`${API_URL$13}/production/categories/${z.id}`:`${API_URL$13}/production/categories`,G=Q?"put":"post";try{await axios[G](ee,V,{headers:T}),await D(),_()}catch(K){alert(`Error: ${K.response?.data?.message||"Failed to save category."}`)}finally{N(!1)}},F=async z=>{if(window.confirm("Are you sure you want to delete this category? This will also delete all its sub-categories."))try{await axios.delete(`${API_URL$13}/production/categories/${z}`,{headers:T}),await D()}catch(V){alert(`Error: ${V.response?.data?.message||"Failed to delete category."}`)}},B=z=>{z.preventDefault(),M({id:b?.id,...S})},q=reactExports.useMemo(()=>{let z=t;return e==="none"?z=t.filter(V=>!V.locationId):e&&e!=="all"&&(z=t.filter(V=>String(V.locationId)===String(e))),z.filter(V=>!C||V.name.toLowerCase().includes(C.toLowerCase())||V.code.toLowerCase().includes(C.toLowerCase()))},[t,C,e]);return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Manage Categories"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",value:C,onChange:z=>A(z.target.value),className:"input w-full sm:w-64 pr-10 bg-background-muted border-border"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-foreground-muted"})]}),jsxRuntimeExports.jsxs("button",{onClick:I,className:"flex items-center gap-2 btn-secondary",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Add Category"]})]})]}),f&&jsxRuntimeExports.jsxs("div",{className:"bg-card p-4 rounded-lg border border-border mb-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-md font-semibold mb-3",children:b?.id?"Edit Category":"Add New Category"}),jsxRuntimeExports.jsxs("form",{onSubmit:B,className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 items-end",children:[jsxRuntimeExports.jsxs("div",{className:"col-span-1",children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"label",children:"Category Name"}),jsxRuntimeExports.jsx("input",{id:"name",name:"name",value:S.name,onChange:z=>$(V=>({...V,name:z.target.value})),required:!0,className:"input"})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-1",children:[jsxRuntimeExports.jsx("label",{htmlFor:"code",className:"label",children:"Category Code"}),jsxRuntimeExports.jsx("input",{id:"code",name:"code",value:S.code,onChange:z=>$(V=>({...V,code:z.target.value})),required:!0,className:"input"})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-1",children:[jsxRuntimeExports.jsx("label",{htmlFor:"locationId",className:"label",children:"Location (Optional)"}),jsxRuntimeExports.jsxs("select",{id:"locationId",name:"locationId",value:S.locationId,onChange:z=>$(V=>({...V,locationId:z.target.value})),className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Locations"}),o.map(z=>jsxRuntimeExports.jsx("option",{value:z.id,children:z.name},z.id))]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 col-span-1",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:_,className:"btn-secondary",disabled:v,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:v,children:[v&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"})," Save"]})]})]})]}),p&&jsxRuntimeExports.jsx("p",{className:"text-red-500 mb-4",children:p}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-border rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Code"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Location"}),jsxRuntimeExports.jsx("th",{className:"th-cell w-32",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-card divide-y divide-border text-foreground-muted",children:u?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"4",className:"text-center py-10",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary mx-auto"})})}):q.length>0?q.map(z=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium text-foreground",children:z.name}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:z.code}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:z.locationName||"All"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>L(z),className:"text-primary hover:text-primary/80",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>F(z.id),className:"text-red-500 hover:text-red-600",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},z.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"4",className:"text-center py-10",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-foreground",children:"No Categories Found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"Get started by adding a new category."})]})})})]})})]})},API_URL$12="https://javapaas-202946-0.cloudclusters.net/api",SubCategoryTab=({locationId:e})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState([]),[u,m]=reactExports.useState([]),[p,j]=reactExports.useState(""),[f,g]=reactExports.useState({cats:!0,subCats:!1}),[b,R]=reactExports.useState(""),[v,N]=reactExports.useState(!1),[S,$]=reactExports.useState(null),[C,A]=reactExports.useState(!1),[T,D]=reactExports.useState({name:"",code:"",locationId:""}),I=reactExports.useMemo(()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),[]);reactExports.useEffect(()=>{(async()=>{g({cats:!0,subCats:!1});try{const[V,Q]=await Promise.all([axios.get(`${API_URL$12}/production/categories`,{headers:I}),axios.get(`${API_URL$12}/locations`,{headers:I})]);n(Array.isArray(V.data)?V.data:[]),m(Array.isArray(Q.data)?Q.data:[])}catch{R("Failed to fetch initial data.")}finally{g(V=>({...V,cats:!1}))}})()},[I]),reactExports.useEffect(()=>{if(!p){l([]);return}(async()=>{g(V=>({...V,subCats:!0}));try{const V=await axios.get(`${API_URL$12}/production/sub-categories?categoryId=${p}`,{headers:I});l(V.data)}catch{R("Failed to fetch sub-categories.")}finally{g(V=>({...V,subCats:!1}))}})()},[p,I]),reactExports.useEffect(()=>{S&&D({name:S.name||"",code:S.code||"",locationId:S.locationId||(e!=="all"?e:"")})},[S,e]);const L=()=>{$({}),N(!0)},_=z=>{$(z),N(!0)},M=()=>{N(!1),$(null),D({name:"",code:"",locationId:""})},F=async z=>{if(!p){alert("Please select a category first.");return}A(!0);const V={...z,categoryId:p,locationId:z.locationId||null},Q=!!z.id,ee=Q?`${API_URL$12}/production/sub-categories/${z.id}`:`${API_URL$12}/production/sub-categories`,G=Q?"put":"post";try{await axios[G](ee,V,{headers:I});const K=await axios.get(`${API_URL$12}/production/sub-categories?categoryId=${p}`,{headers:I});l(K.data),M()}catch(K){alert(`Error: ${K.response?.data?.message||"Failed to save sub-category."}`)}finally{A(!1)}},B=async z=>{if(window.confirm("Are you sure you want to delete this sub-category?"))try{await axios.delete(`${API_URL$12}/production/sub-categories/${z}`,{headers:I});const V=await axios.get(`${API_URL$12}/production/sub-categories?categoryId=${p}`,{headers:I});l(V.data)}catch(V){alert(`Error: ${V.response?.data?.message||"Failed to delete sub-category."}`)}},q=z=>{z.preventDefault(),F({id:S?.id,...T})};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("label",{htmlFor:"category-select",className:"label",children:"Filter by Category:"}),jsxRuntimeExports.jsxs("select",{id:"category-select",value:p,onChange:z=>j(z.target.value),className:"input w-64",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select a Category"}),t.map(z=>jsxRuntimeExports.jsx("option",{value:z.id,children:z.name},z.id))]})]}),jsxRuntimeExports.jsxs("button",{onClick:L,className:"flex items-center gap-2 btn-secondary",disabled:!p,children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Add Sub-Category"]})]}),b&&jsxRuntimeExports.jsx("p",{className:"text-red-500 mb-4",children:b}),v&&jsxRuntimeExports.jsxs("div",{className:"bg-card p-4 rounded-lg border border-border mb-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-md font-semibold mb-3",children:S?.id?"Edit Sub-Category":"Add New Sub-Category"}),jsxRuntimeExports.jsxs("form",{onSubmit:q,className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 items-end",children:[jsxRuntimeExports.jsxs("div",{className:"col-span-1",children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"label",children:"Sub-Category Name"}),jsxRuntimeExports.jsx("input",{id:"name",name:"name",value:T.name,onChange:z=>D(V=>({...V,name:z.target.value})),required:!0,className:"input"})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-1",children:[jsxRuntimeExports.jsx("label",{htmlFor:"code",className:"label",children:"Sub-Category Code"}),jsxRuntimeExports.jsx("input",{id:"code",name:"code",value:T.code,onChange:z=>D(V=>({...V,code:z.target.value})),required:!0,className:"input"})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-1",children:[jsxRuntimeExports.jsx("label",{htmlFor:"locationId",className:"label",children:"Location (Optional)"}),jsxRuntimeExports.jsxs("select",{id:"locationId",name:"locationId",value:T.locationId,onChange:z=>D(V=>({...V,locationId:z.target.value})),className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Locations"}),u.map(z=>jsxRuntimeExports.jsx("option",{value:z.id,children:z.name},z.id))]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 col-span-1",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:M,className:"btn-secondary",disabled:C,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:C,children:[C&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"})," Save"]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-border rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Code"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Location"}),jsxRuntimeExports.jsx("th",{className:"th-cell w-32",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-card divide-y divide-border text-foreground-muted",children:f.subCats?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"4",className:"text-center py-10",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary mx-auto"})})}):o.length>0?o.map(z=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium text-foreground",children:z.name}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:z.code}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:z.locationName||"All"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>_(z),className:"text-primary hover:text-primary/80",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>B(z.id),className:"text-red-500 hover:text-red-600",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},z.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"4",className:"text-center py-10",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-foreground",children:"No Sub-Categories Found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:p?"Get started by adding a new sub-category.":"Please select a category first."})]})})})]})})]})},subTabs$1=[{name:"Category",icon:LayoutGrid,component:CategoryTab},{name:"Sub Category",icon:ListTree,component:SubCategoryTab}],ProCategories=({locationId:e})=>{const[t,n]=reactExports.useState(subTabs$1[0].name),o=subTabs$1.find(l=>l.name===t)?.component;return jsxRuntimeExports.jsxs("div",{className:"p-6 bg-card rounded-xl shadow-sm",children:[jsxRuntimeExports.jsx("div",{className:"border-b border-border mb-6",children:jsxRuntimeExports.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:subTabs$1.map(l=>jsxRuntimeExports.jsxs("button",{onClick:()=>n(l.name),className:`whitespace-nowrap flex items-center py-3 px-1 border-b-2 font-medium text-sm transition-colors ${t===l.name?"border-primary text-primary":"border-transparent text-foreground-muted hover:text-foreground hover:border-border"}`,children:[jsxRuntimeExports.jsx(l.icon,{className:"mr-2 h-5 w-5"}),l.name]},l.name))})}),jsxRuntimeExports.jsx("div",{children:o&&jsxRuntimeExports.jsx(o,{locationId:e})})]})},API_URL$11="https://javapaas-202946-0.cloudclusters.net/api",UnitTab=({locationId:e})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState([]),[u,m]=reactExports.useState(!0),[p,j]=reactExports.useState(""),[f,g]=reactExports.useState(!1),[b,R]=reactExports.useState(null),[v,N]=reactExports.useState(!1),[S,$]=reactExports.useState({name:"",description:"",locationId:""}),[C,A]=reactExports.useState(""),T=reactExports.useMemo(()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),[]),D=reactExports.useCallback(async()=>{m(!0);try{const[z,V]=await Promise.all([axios.get(`${API_URL$11}/production/units`,{headers:T}),axios.get(`${API_URL$11}/locations`,{headers:T})]);n(Array.isArray(z.data)?z.data:[]),l(Array.isArray(V.data)?V.data:[])}catch{j("Failed to fetch units. Please ensure the backend is running and the endpoint exists.")}finally{m(!1)}},[T]);reactExports.useEffect(()=>{D()},[D]),reactExports.useEffect(()=>{b&&$({name:b.name||"",description:b.description||"",locationId:b.locationId||(e!=="all"?e:"")})},[b,e]);const I=()=>{R({}),g(!0)},L=z=>{R(z),g(!0)},_=()=>{g(!1),R(null),$({name:"",description:"",locationId:""})},M=async z=>{N(!0),{...z,locationId:z.locationId};const V=!!z.id,Q=V?`${API_URL$11}/production/units/${z.id}`:`${API_URL$11}/production/units`,ee=V?"put":"post";try{await axios[ee](Q,z,{headers:T}),await D(),_()}catch(G){alert(`Error: ${G.response?.data?.message||"Failed to save unit."}`)}finally{N(!1)}},F=async z=>{if(window.confirm("Are you sure you want to delete this unit?"))try{await axios.delete(`${API_URL$11}/production/units/${z}`,{headers:T}),await D()}catch(V){alert(`Error: ${V.response?.data?.message||"Failed to delete unit."}`)}},B=z=>{z.preventDefault(),M({id:b?.id,...S})},q=reactExports.useMemo(()=>{let z=t;return e==="none"?z=t.filter(V=>!V.locationId):e&&e!=="all"&&(z=t.filter(V=>String(V.locationId)===String(e))),z.filter(V=>!C||V.name.toLowerCase().includes(C.toLowerCase())||V.description?.toLowerCase().includes(C.toLowerCase()))},[t,C,e]);return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Manage Units"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",value:C,onChange:z=>A(z.target.value),className:"input w-full sm:w-64 pr-10 bg-background-muted border-border"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-foreground-muted"})]}),jsxRuntimeExports.jsxs("button",{onClick:I,className:"flex items-center gap-2 btn-secondary",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Add Unit"]})]})]}),f&&jsxRuntimeExports.jsxs("div",{className:"bg-card p-4 rounded-lg border border-border mb-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-md font-semibold mb-3",children:b?.id?"Edit Unit":"Add New Unit"}),jsxRuntimeExports.jsxs("form",{onSubmit:B,className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 items-end",children:[jsxRuntimeExports.jsxs("div",{className:"col-span-1",children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"label",children:"Unit Name"}),jsxRuntimeExports.jsx("input",{id:"name",name:"name",value:S.name,onChange:z=>$(V=>({...V,name:z.target.value})),required:!0,className:"input",placeholder:"e.g., Kilogram"})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-1",children:[jsxRuntimeExports.jsx("label",{htmlFor:"description",className:"label",children:"Description"}),jsxRuntimeExports.jsx("input",{id:"description",name:"description",value:S.description,onChange:z=>$(V=>({...V,description:z.target.value})),className:"input",placeholder:"e.g., Standard unit of mass"})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-1",children:[jsxRuntimeExports.jsx("label",{htmlFor:"locationId",className:"label",children:"Location (Optional)"}),jsxRuntimeExports.jsxs("select",{id:"locationId",name:"locationId",value:S.locationId,onChange:z=>$(V=>({...V,locationId:z.target.value})),className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Locations"}),o.map(z=>jsxRuntimeExports.jsx("option",{value:z.id,children:z.name},z.id))]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 col-span-1",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:_,className:"btn-secondary",disabled:v,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:v,children:[v&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"})," Save"]})]})]})]}),p&&jsxRuntimeExports.jsx("p",{className:"text-red-500 mb-4",children:p}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-border rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Description"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Location"}),jsxRuntimeExports.jsx("th",{className:"th-cell w-32",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-card divide-y divide-border text-foreground-muted",children:u?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"4",className:"text-center py-10",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary mx-auto"})})}):q.length>0?q.map(z=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium text-foreground",children:z.name}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:z.description}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:z.locationName||"All"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>L(z),className:"text-primary hover:text-primary/80",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>F(z.id),className:"text-red-500 hover:text-red-600",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},z.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"4",className:"text-center py-10",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-foreground",children:"No Units Found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"Get started by adding a new unit."})]})})})]})})]})},API_URL$10="https://javapaas-202946-0.cloudclusters.net/api",TaxTab=({locationId:e})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState([]),[u,m]=reactExports.useState(!0),[p,j]=reactExports.useState(""),[f,g]=reactExports.useState(!1),[b,R]=reactExports.useState(null),[v,N]=reactExports.useState(!1),[S,$]=reactExports.useState({code:"",rate:0,description:"",locationId:""}),[C,A]=reactExports.useState(""),T=reactExports.useMemo(()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),[]),D=reactExports.useCallback(async()=>{m(!0);try{const[z,V]=await Promise.all([axios.get(`${API_URL$10}/production/taxes`,{headers:T}),axios.get(`${API_URL$10}/locations`,{headers:T})]);n(Array.isArray(z.data)?z.data:[]),l(Array.isArray(V.data)?V.data:[])}catch{j("Failed to fetch taxes. Please ensure the backend is running and the endpoint exists.")}finally{m(!1)}},[T]);reactExports.useEffect(()=>{D()},[D]),reactExports.useEffect(()=>{b&&$({code:b.code||"",rate:b.rate||0,description:b.description||"",locationId:b.locationId||(e!=="all"?e:"")})},[b,e]);const I=()=>{R({}),g(!0)},L=z=>{R(z),g(!0)},_=()=>{g(!1),R(null),$({code:"",rate:0,description:"",locationId:""})},M=async z=>{N(!0),{...z,locationId:z.locationId};const V=!!z.id,Q=V?`${API_URL$10}/production/taxes/${z.id}`:`${API_URL$10}/production/taxes`,ee=V?"put":"post";try{await axios[ee](Q,z,{headers:T}),await D(),_()}catch(G){alert(`Error: ${G.response?.data?.message||"Failed to save tax."}`)}finally{N(!1)}},F=async z=>{if(window.confirm("Are you sure you want to delete this tax?"))try{await axios.delete(`${API_URL$10}/production/taxes/${z}`,{headers:T}),await D()}catch(V){alert(`Error: ${V.response?.data?.message||"Failed to delete tax."}`)}},B=z=>{z.preventDefault(),M({id:b?.id,...S})},q=reactExports.useMemo(()=>{let z=t;return e==="none"?z=t.filter(V=>!V.locationId):e&&e!=="all"&&(z=t.filter(V=>String(V.locationId)===String(e))),z.filter(V=>!C||V.code.toLowerCase().includes(C.toLowerCase())||V.description?.toLowerCase().includes(C.toLowerCase()))},[t,C,e]);return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Manage Taxes"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",value:C,onChange:z=>A(z.target.value),className:"input w-full sm:w-64 pr-10 bg-background-muted border-border"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-foreground-muted"})]}),jsxRuntimeExports.jsxs("button",{onClick:I,className:"flex items-center gap-2 btn-secondary",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Add Tax"]})]})]}),f&&jsxRuntimeExports.jsxs("div",{className:"bg-card p-4 rounded-lg border border-border mb-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-md font-semibold mb-3",children:b?.id?"Edit Tax":"Add New Tax"}),jsxRuntimeExports.jsxs("form",{onSubmit:B,className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 items-end",children:[jsxRuntimeExports.jsxs("div",{className:"col-span-1",children:[jsxRuntimeExports.jsx("label",{htmlFor:"code",className:"label",children:"Tax Code"}),jsxRuntimeExports.jsx("input",{id:"code",name:"code",value:S.code,onChange:z=>$(V=>({...V,code:z.target.value})),required:!0,className:"input",placeholder:"e.g., VAT5"})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-1",children:[jsxRuntimeExports.jsx("label",{htmlFor:"rate",className:"label",children:"Rate (%)"}),jsxRuntimeExports.jsx("input",{id:"rate",name:"rate",type:"number",step:"0.01",value:S.rate,onChange:z=>$(V=>({...V,rate:z.target.value})),required:!0,className:"input",placeholder:"e.g., 5"})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-1",children:[jsxRuntimeExports.jsx("label",{htmlFor:"locationId",className:"label",children:"Location (Optional)"}),jsxRuntimeExports.jsxs("select",{id:"locationId",name:"locationId",value:S.locationId,onChange:z=>$(V=>({...V,locationId:z.target.value})),className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Locations"}),o.map(z=>jsxRuntimeExports.jsx("option",{value:z.id,children:z.name},z.id))]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 col-span-1",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:_,className:"btn-secondary",disabled:v,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:v,children:[v&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"})," Save"]})]})]})]}),p&&jsxRuntimeExports.jsx("p",{className:"text-red-500 mb-4",children:p}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-border rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Code"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Rate (%)"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Description"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Location"}),jsxRuntimeExports.jsx("th",{className:"th-cell w-32",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-card divide-y divide-border text-foreground-muted",children:u?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"5",className:"text-center py-10",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary mx-auto"})})}):q.length>0?q.map(z=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium text-foreground",children:z.code}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:z.rate}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:z.description}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:z.locationName||"All"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>L(z),className:"text-primary hover:text-primary/80",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>F(z.id),className:"text-red-500 hover:text-red-600",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},z.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"5",className:"text-center py-10",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-foreground",children:"No Taxes Found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"Get started by adding a new tax."})]})})})]})})]})},API_URL$$="https://javapaas-202946-0.cloudclusters.net/api",FormSection$4=({title:e,children:t})=>jsxRuntimeExports.jsxs("div",{className:"pt-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-md font-semibold text-foreground-muted border-b border-border pb-2 mb-4",children:e}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t})]}),RawMaterialFormPage=({item:e,onSave:t,onCancel:n,loading:o})=>{const[l,u]=reactExports.useState({itemCode:"",name:"",description:"",barcode:"",categoryId:"",subCategoryId:"",issueUnitId:"",purchaseUnitId:"",taxId:"",locationId:"",inventoryType:"RAW_MATERIAL",itemType:"PRODUCT",forPurchase:!0,forSales:!1,discontinued:!1,purchasePrice:0,salesPrice:0,reorderLimit:0,unitRelation:1,picturePath:""}),[m,p]=reactExports.useState({categories:[],subCategories:[],units:[],taxes:[],locations:[]}),[j,f]=reactExports.useState(!0),g=reactExports.useCallback(async()=>{f(!0);try{const N={Authorization:`Bearer ${localStorage.getItem("token")}`},[S,$,C,A]=await Promise.all([axios.get(`${API_URL$$}/production/categories`,{headers:N}),axios.get(`${API_URL$$}/production/units`,{headers:N}),axios.get(`${API_URL$$}/production/taxes`,{headers:N}),axios.get(`${API_URL$$}/locations`,{headers:N})]);p(T=>({...T,categories:S.data||[],units:$.data||[],taxes:C.data||[],locations:A.data||[],subCategories:T.subCategories||[]}))}catch(v){console.error("Failed to fetch form dependencies",v),alert("Failed to load required data for the form.")}finally{f(!1)}},[]);reactExports.useEffect(()=>{g()},[g]),reactExports.useEffect(()=>{(async()=>{if(!l.categoryId){p(N=>({...N,subCategories:[]}));return}try{const S={Authorization:`Bearer ${localStorage.getItem("token")}`},$=await axios.get(`${API_URL$$}/production/sub-categories?categoryId=${l.categoryId}`,{headers:S});p(C=>({...C,subCategories:$.data||[]}))}catch(N){console.error("Failed to fetch sub-categories",N),p(S=>({...S,subCategories:[]}))}})()},[l.categoryId]),reactExports.useEffect(()=>{e&&u({itemCode:e.itemCode??"",name:e.name??"",description:e.description??"",barcode:e.barcode??"",categoryId:e.categoryId!=null?String(e.categoryId):"",subCategoryId:e.subCategoryId!=null?String(e.subCategoryId):"",issueUnitId:e.issueUnitId!=null?String(e.issueUnitId):"",purchaseUnitId:e.purchaseUnitId!=null?String(e.purchaseUnitId):"",taxId:e.taxId!=null?String(e.taxId):"",locationId:e.locationId!=null?String(e.locationId):"",inventoryType:e.inventoryType??"RAW_MATERIAL",itemType:e.itemType??"PRODUCT",forPurchase:!!e.forPurchase,forSales:!!e.forSales,discontinued:!!e.discontinued,purchasePrice:e.purchasePrice??0,salesPrice:e.salesPrice??0,reorderLimit:e.reorderLimit??0,unitRelation:e.unitRelation??1,picturePath:e.picturePath??""})},[e]);const b=v=>{const{name:N,value:S,type:$,checked:C}=v.target;u(A=>({...A,[N]:$==="checkbox"?C:S}))},R=v=>{v.preventDefault();const N={...l,locationId:l.locationId||null,categoryId:l.categoryId||null,subCategoryId:l.subCategoryId||null,taxId:l.taxId||null};t(N)};return j?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-full",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary"})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("header",{className:"p-4 border-b flex-shrink-0 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:n,className:"p-1.5 rounded-full hover:bg-background-muted",children:jsxRuntimeExports.jsx(ArrowLeft,{size:20})}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-foreground",children:e?"Edit Raw Material":"Add New Raw Material"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",disabled:o,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",form:"raw-material-form",className:"btn-primary flex items-center",disabled:o,children:[o?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}):jsxRuntimeExports.jsx(Save,{className:"h-4 w-4 mr-2"})," Save"]})]})]}),jsxRuntimeExports.jsxs("form",{id:"raw-material-form",onSubmit:R,className:"flex-grow overflow-y-auto p-6 space-y-4",children:[jsxRuntimeExports.jsxs(FormSection$4,{title:"Basic Information",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Item Code"}),jsxRuntimeExports.jsx("input",{name:"itemCode",value:l.itemCode,onChange:b,required:!0,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Name"}),jsxRuntimeExports.jsx("input",{name:"name",value:l.name,onChange:b,required:!0,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Barcode"}),jsxRuntimeExports.jsx("input",{name:"barcode",value:l.barcode,onChange:b,className:"input",placeholder:"Auto-generated if left blank"})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Description"}),jsxRuntimeExports.jsx("textarea",{name:"description",value:l.description,onChange:b,className:"input",rows:"2"})]})]}),jsxRuntimeExports.jsxs(FormSection$4,{title:"Classification",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Category"}),jsxRuntimeExports.jsxs("select",{name:"categoryId",value:l.categoryId,onChange:b,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Category"}),(m.categories||[]).map(v=>jsxRuntimeExports.jsx("option",{value:String(v.id),children:v.name},v.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Sub-Category"}),jsxRuntimeExports.jsxs("select",{name:"subCategoryId",value:l.subCategoryId,onChange:b,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Sub-Category"}),(m.subCategories||[]).filter(v=>!l.categoryId||String(v.categoryId)===String(l.categoryId)).map(v=>jsxRuntimeExports.jsx("option",{value:String(v.id),children:v.name},v.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Inventory Type"}),jsxRuntimeExports.jsxs("select",{name:"inventoryType",value:l.inventoryType,onChange:b,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"RAW_MATERIAL",children:"Raw Material"}),jsxRuntimeExports.jsx("option",{value:"FINISHED_GOOD",children:"Finished Good"}),jsxRuntimeExports.jsx("option",{value:"SERVICE",children:"Service"}),jsxRuntimeExports.jsx("option",{value:"OTHER",children:"Other"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Item Type"}),jsxRuntimeExports.jsxs("select",{name:"itemType",value:l.itemType,onChange:b,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"PRODUCT",children:"Product"}),jsxRuntimeExports.jsx("option",{value:"SERVICE",children:"Service"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Location"}),jsxRuntimeExports.jsxs("select",{name:"locationId",value:l.locationId,onChange:b,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Locations"}),(m.locations||[]).map(v=>jsxRuntimeExports.jsx("option",{value:String(v.id),children:v.name},v.id))]})]})]}),jsxRuntimeExports.jsxs(FormSection$4,{title:"Units & Pricing",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Issue Unit"}),jsxRuntimeExports.jsxs("select",{name:"issueUnitId",value:l.issueUnitId,onChange:b,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Unit"}),(m.units||[]).map(v=>jsxRuntimeExports.jsx("option",{value:String(v.id),children:v.name},v.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Purchase Unit"}),jsxRuntimeExports.jsxs("select",{name:"purchaseUnitId",value:l.purchaseUnitId,onChange:b,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Unit"}),(m.units||[]).map(v=>jsxRuntimeExports.jsx("option",{value:String(v.id),children:v.name},v.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Unit Relation"}),jsxRuntimeExports.jsx("input",{name:"unitRelation",type:"number",value:l.unitRelation,onChange:b,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Purchase Price"}),jsxRuntimeExports.jsx("input",{name:"purchasePrice",type:"number",step:"0.01",value:l.purchasePrice,onChange:b,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Sales Price"}),jsxRuntimeExports.jsx("input",{name:"salesPrice",type:"number",step:"0.01",value:l.salesPrice,onChange:b,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Tax"}),jsxRuntimeExports.jsxs("select",{name:"taxId",value:l.taxId,onChange:b,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"No Tax"}),(m.taxes||[]).map(v=>jsxRuntimeExports.jsxs("option",{value:String(v.id),children:[v.code," (",v.rate,"%)"]},v.id))]})]})]}),jsxRuntimeExports.jsxs(FormSection$4,{title:"Inventory & Flags",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Reorder Limit"}),jsxRuntimeExports.jsx("input",{name:"reorderLimit",type:"number",value:l.reorderLimit,onChange:b,className:"input"})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2 flex items-center flex-wrap gap-x-6 gap-y-2 pt-4",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"forPurchase",checked:l.forPurchase,onChange:b,className:"h-4 w-4 rounded"}),jsxRuntimeExports.jsx("span",{children:"Available for Purchase"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"forSales",checked:l.forSales,onChange:b,className:"h-4 w-4 rounded"}),jsxRuntimeExports.jsx("span",{children:"Available for Sales"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"discontinued",checked:l.discontinued,onChange:b,className:"h-4 w-4 rounded"}),jsxRuntimeExports.jsx("span",{children:"Discontinued"})]})]})]})]})]})},API_URL$_="https://javapaas-202946-0.cloudclusters.net/api",ManageRawMaterialTab=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState(""),[m,p]=reactExports.useState(!1),[j,f]=reactExports.useState(null),[g,b]=reactExports.useState(null),[R,v]=reactExports.useState(!1),[N,S]=reactExports.useState(""),[$,C]=reactExports.useState(0),[A,T]=reactExports.useState(10),[D,I]=reactExports.useState(0),[L,_]=reactExports.useState(!1),M=reactExports.useRef(null),F=reactExports.useMemo(()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),[]),B=reactExports.useCallback(async()=>{o(!0);try{const Y=await axios.get(`${API_URL$_}/production/raw-materials`,{headers:F,params:{page:$,size:A}});t(Y.data.content||[]),I(Y.data.totalPages||0)}catch{u("Failed to fetch data. Please ensure the backend is running and all endpoints exist.")}finally{o(!1)}},[F,$,A]);reactExports.useEffect(()=>{B()},[B,$,A]);const q=()=>{f(null),p(!0)},z=Y=>{f(Y),p(!0)},V=()=>{p(!1),f(null)},Q=Y=>{b(Y)},ee=async Y=>{v(!0);const le=!!j?.id,je=le?`${API_URL$_}/production/raw-materials/${j.id}`:`${API_URL$_}/production/raw-materials`,ae=le?"put":"post";try{await axios[ae](je,Y,{headers:F}),await B(),V()}catch(Z){alert(`Error: ${Z.response?.data?.message||"Failed to save raw material."}`)}finally{v(!1)}},G=async Y=>{if(window.confirm("Are you sure you want to delete this raw material?"))try{await axios.delete(`${API_URL$_}/production/raw-materials/${Y}`,{headers:F}),await B()}catch(le){alert(`Error: ${le.response?.data?.message||"Failed to delete raw material."}`)}},K=async()=>{try{const Y=await axios.get(`${API_URL$_}/production/raw-materials/bulk-template`,{headers:F,responseType:"blob"}),le=window.URL.createObjectURL(new Blob([Y.data])),je=document.createElement("a");je.href=le,je.setAttribute("download","raw_materials_bulk_upload_template.xlsx"),document.body.appendChild(je),je.click(),je.remove()}catch{alert("Failed to download template.")}},J=async Y=>{const le=Y.target.files[0];if(!le)return;_(!0);const je=new FormData;je.append("file",le);try{await axios.post(`${API_URL$_}/production/raw-materials/bulk`,je,{headers:{...F,"Content-Type":"multipart/form-data"}}),alert("Raw materials imported successfully!"),B()}catch(ae){const Z=ae.response?.data,ce=Array.isArray(Z)?`Upload failed:
- ${Z.join(`
- `)}`:Z||"An unknown error occurred.";alert(ce)}finally{_(!1),Y.target.value=null}},ne=async()=>{try{const Y=await axios.get(`${API_URL$_}/production/raw-materials/export`,{headers:F,responseType:"blob"}),le=window.URL.createObjectURL(new Blob([Y.data])),je=document.createElement("a");je.href=le,je.setAttribute("download","raw_materials_export.xlsx"),document.body.appendChild(je),je.click(),je.remove()}catch{alert("Failed to export data.")}},H=Y=>{if(!Y.barcodeImgUrl){alert("Barcode image is not available for this item.");return}const le=window.open("","_blank");le.document.write(`
            <html>
                <head><title>Print Barcode</title></head>
                <body style="text-align: center; margin-top: 50px;">
                    <img src="${Y.barcodeImgUrl}" alt="Barcode for ${Y.name}" />
                    <p>${Y.itemCode}</p>
                    <script>
                        window.onload = function() { window.print(); window.close(); }
                    <\/script>
                </body>
            </html>
        `),le.document.close()},te=reactExports.useMemo(()=>e.filter(Y=>!N||Y.name.toLowerCase().includes(N.toLowerCase())||Y.code.toLowerCase().includes(N.toLowerCase())),[e,N]);return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Manage Raw Materials"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",value:N,onChange:Y=>S(Y.target.value),className:"input w-full sm:w-64 pr-10 bg-background-muted border-border"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-foreground-muted"})]}),jsxRuntimeExports.jsx("input",{type:"file",ref:M,onChange:J,className:"hidden",accept:".xlsx, .xls"}),jsxRuntimeExports.jsx("button",{onClick:K,className:"btn-secondary flex items-center gap-2",title:"Download Template",children:jsxRuntimeExports.jsx(Download,{size:16})}),jsxRuntimeExports.jsxs("button",{onClick:()=>M.current.click(),className:"btn-secondary flex items-center gap-2",disabled:L,children:[L?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4"}):jsxRuntimeExports.jsx(Upload,{size:16}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Bulk Upload"})]}),jsxRuntimeExports.jsxs("button",{onClick:ne,className:"btn-secondary flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileSpreadsheet,{size:16}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Export"})]}),jsxRuntimeExports.jsxs("button",{onClick:q,className:"flex items-center gap-2 btn-secondary",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Add Material"]})]})]}),l&&jsxRuntimeExports.jsx("p",{className:"text-red-500 mb-4",children:l}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-border rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"#"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Item Code"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Barcode"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Purchase Price"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Sales Price"}),jsxRuntimeExports.jsx("th",{className:"th-cell w-32",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-card divide-y divide-border text-foreground-muted",children:n?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"7",className:"text-center py-10",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary mx-auto"})})}):te.length>0?te.map((Y,le)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"td-cell",children:$*A+le+1}),jsxRuntimeExports.jsx("td",{className:"td-cell font-mono text-xs",children:Y.itemCode}),jsxRuntimeExports.jsx("td",{className:"td-cell font-medium text-foreground",children:Y.name}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:Y.barcodeImgUrl?jsxRuntimeExports.jsx("img",{src:Y.barcodeImgUrl,alt:`Barcode for ${Y.name}`,className:"h-8"}):"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:Y.categoryName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:Y.purchasePrice||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:Y.salesPrice||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Q(Y),className:"text-blue-500 hover:text-blue-600",title:"View",children:jsxRuntimeExports.jsx(Eye,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>H(Y),className:"text-gray-500 hover:text-gray-600",title:"Print Barcode",children:jsxRuntimeExports.jsx(Printer,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>z(Y),className:"text-primary hover:text-primary/80",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>G(Y.id),className:"text-red-500 hover:text-red-600",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},Y.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"8",className:"text-center py-10",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-foreground",children:"No Raw Materials Found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"Get started by adding a new raw material."})]})})})]})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mt-4 text-sm",children:[jsxRuntimeExports.jsxs("p",{className:"text-foreground-muted",children:["Page ",$+1," of ",D]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>C(Y=>Y-1),disabled:$===0,className:"btn-secondary disabled:opacity-50",children:jsxRuntimeExports.jsx(ChevronLeft,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>C(Y=>Y+1),disabled:$>=D-1,className:"btn-secondary disabled:opacity-50",children:jsxRuntimeExports.jsx(ChevronRight,{size:16})})]})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:m&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-40",onClick:V}),jsxRuntimeExports.jsx(motion.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 right-0 h-full w-full max-w-2xl bg-card shadow-2xl z-50 flex flex-col",children:jsxRuntimeExports.jsx(RawMaterialFormPage,{item:j,onSave:ee,onCancel:V,loading:R})})]})}),jsxRuntimeExports.jsx(AnimatePresence,{children:g&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-40",onClick:()=>b(null)}),jsxRuntimeExports.jsxs(motion.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"fixed inset-0 m-auto h-fit max-h-[90vh] w-full max-w-2xl bg-card shadow-2xl z-50 rounded-lg flex flex-col",children:[jsxRuntimeExports.jsxs("header",{className:"p-4 border-b flex items-center justify-between flex-shrink-0",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[jsxRuntimeExports.jsx(Package,{size:20})," Raw Material Details"]}),jsxRuntimeExports.jsx("button",{onClick:()=>b(null),className:"p-1.5 rounded-full hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 overflow-y-auto",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center mb-4",children:g.barcodeImgUrl&&jsxRuntimeExports.jsx("img",{src:g.barcodeImgUrl,alt:"Barcode",className:"h-16"})}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(DetailItem$1,{icon:Tag,label:"Item Name",value:g.name}),jsxRuntimeExports.jsx(DetailItem$1,{icon:Barcode,label:"Item Code",value:g.itemCode}),jsxRuntimeExports.jsx(DetailItem$1,{icon:Layers,label:"Category",value:g.categoryName||"N/A"}),jsxRuntimeExports.jsx(DetailItem$1,{icon:SlidersHorizontal,label:"Sub-Category",value:g.subCategoryName||"N/A"}),jsxRuntimeExports.jsx(DetailItem$1,{icon:Warehouse,label:"Location",value:g.locationName||"All Locations"}),jsxRuntimeExports.jsx(DetailItem$1,{icon:DollarSign,label:"Purchase Price",value:g.purchasePrice?.toFixed(2)||"N/A"}),jsxRuntimeExports.jsx(DetailItem$1,{icon:DollarSign,label:"Sales Price",value:g.salesPrice?.toFixed(2)||"N/A"}),jsxRuntimeExports.jsx(DetailItem$1,{icon:Scale,label:"Issue Unit",value:g.issueUnitName||"N/A"}),jsxRuntimeExports.jsx(DetailItem$1,{icon:Scale,label:"Purchase Unit",value:g.purchaseUnitName||"N/A"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-2",children:[jsxRuntimeExports.jsx(FlagItem$1,{label:"For Purchase",active:g.forPurchase}),jsxRuntimeExports.jsx(FlagItem$1,{label:"For Sales",active:g.forSales}),jsxRuntimeExports.jsx(FlagItem$1,{label:"Discontinued",active:g.discontinued})]})]})]})]})]})})]})},DetailItem$1=({icon:e,label:t,value:n})=>jsxRuntimeExports.jsxs("div",{className:"flex items-start",children:[jsxRuntimeExports.jsx(e,{className:"h-5 w-5 text-foreground-muted mt-1 mr-3 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-foreground-muted",children:t}),jsxRuntimeExports.jsx("p",{className:"font-semibold text-foreground",children:n})]})]}),FlagItem$1=({label:e,active:t})=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 p-3 bg-background-muted rounded-lg",children:[t?jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-5 w-5 text-green-500 flex-shrink-0"}):jsxRuntimeExports.jsx(CircleX,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-foreground",children:e})]}),subTabs=[{name:"Unit",icon:Scale,component:UnitTab},{name:"Tax",icon:Percent,component:TaxTab},{name:"Manage Raw Material",icon:Package,component:ManageRawMaterialTab}],ProRawMaterial=({locationId:e})=>{const[t,n]=reactExports.useState(subTabs[0].name),o=subTabs.find(l=>l.name===t)?.component;return jsxRuntimeExports.jsxs("div",{className:"p-6 bg-card rounded-xl shadow-sm",children:[jsxRuntimeExports.jsx("div",{className:"border-b border-border mb-6",children:jsxRuntimeExports.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:subTabs.map(l=>jsxRuntimeExports.jsxs("button",{onClick:()=>n(l.name),className:`whitespace-nowrap flex items-center py-3 px-1 border-b-2 font-medium text-sm transition-colors ${t===l.name?"border-primary text-primary":"border-transparent text-foreground-muted hover:text-foreground hover:border-border"}`,children:[jsxRuntimeExports.jsx(l.icon,{className:"mr-2 h-5 w-5"}),l.name]},l.name))})}),jsxRuntimeExports.jsx("div",{children:o&&jsxRuntimeExports.jsx(o,{locationId:e})})]})},API_URL$Z="https://javapaas-202946-0.cloudclusters.net/api",FormSection$3=({title:e,children:t})=>jsxRuntimeExports.jsxs("div",{className:"pt-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-md font-semibold text-foreground-muted border-b border-border pb-2 mb-4",children:e}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t})]}),SemiFinishedFormPage=({item:e,onSave:t,onCancel:n,loading:o,locationId:l})=>{const[u,m]=reactExports.useState({itemCode:"",name:"",description:"",categoryId:"",subCategoryId:"",issueUnitId:"",purchaseUnitId:"",taxId:"",locationId:l!=="all"?l:"",inventoryType:"SEMI_FINISHED_GOOD",itemType:"PRODUCT",forPurchase:!0,forSales:!0,isRoll:!1,isScrapItem:!1,isTaxInclusive:!1,purchasePrice:0,salesPrice:0,reorderLimit:0,unitRelation:1,wastagePercentage:0,picturePath:""}),[p,j]=reactExports.useState({categories:[],subCategories:[],units:[],taxes:[],locations:[]}),[f,g]=reactExports.useState(!0),b=reactExports.useCallback(async()=>{g(!0);try{const S={Authorization:`Bearer ${localStorage.getItem("token")}`},[$,C,A,T]=await Promise.all([axios.get(`${API_URL$Z}/production/categories`,{headers:S}),axios.get(`${API_URL$Z}/production/units`,{headers:S}),axios.get(`${API_URL$Z}/production/taxes`,{headers:S}),axios.get(`${API_URL$Z}/locations`,{headers:S})]);j(D=>({...D,categories:$.data||[],units:C.data||[],taxes:A.data||[],locations:T.data||[],subCategories:D.subCategories||[]}))}catch(N){console.error("Failed to fetch form dependencies",N),alert("Failed to load required data for the form.")}finally{g(!1)}},[]);reactExports.useEffect(()=>{b()},[b]),reactExports.useEffect(()=>{(async()=>{if(!u.categoryId){j(S=>({...S,subCategories:[]}));return}try{const $={Authorization:`Bearer ${localStorage.getItem("token")}`},C=await axios.get(`${API_URL$Z}/production/sub-categories?categoryId=${u.categoryId}`,{headers:$});j(A=>({...A,subCategories:C.data||[]}))}catch(S){console.error("Failed to fetch sub-categories",S),j($=>({...$,subCategories:[]}))}})()},[u.categoryId]),reactExports.useEffect(()=>{e&&m({itemCode:e.itemCode??"",name:e.name??"",description:e.description??"",categoryId:e.categoryId!=null?String(e.categoryId):"",subCategoryId:e.subCategoryId!=null?String(e.subCategoryId):"",issueUnitId:e.issueUnitId!=null?String(e.issueUnitId):"",purchaseUnitId:e.purchaseUnitId!=null?String(e.purchaseUnitId):"",taxId:e.taxId!=null?String(e.taxId):"",locationId:e.locationId!=null?String(e.locationId):l!=="all"?l:"",inventoryType:e.inventoryType??"SEMI_FINISHED_GOOD",itemType:e.itemType??"PRODUCT",forPurchase:!!e.forPurchase,forSales:!!e.forSales,isRoll:!!e.isRoll,isScrapItem:!!e.isScrapItem,isTaxInclusive:!!e.isTaxInclusive,purchasePrice:e.purchasePrice??0,salesPrice:e.salesPrice??0,reorderLimit:e.reorderLimit??0,unitRelation:e.unitRelation??1,wastagePercentage:e.wastagePercentage??0,picturePath:e.picturePath??""})},[e,l]);const R=N=>{const{name:S,value:$,type:C,checked:A}=N.target;m(T=>({...T,[S]:C==="checkbox"?A:$}))},v=N=>{N.preventDefault();const S={...u,locationId:u.locationId||null,categoryId:u.categoryId||null,subCategoryId:u.subCategoryId||null,taxId:u.taxId||null};t(S)};return f?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-full",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary"})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("header",{className:"p-4 border-b flex-shrink-0 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:n,className:"p-1.5 rounded-full hover:bg-background-muted",children:jsxRuntimeExports.jsx(ArrowLeft,{size:20})}),jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold text-foreground",children:[e?"Edit":"Add New"," Semi-Finished Product"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",disabled:o,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",form:"semi-finished-form",className:"btn-primary flex items-center",disabled:o,children:[o?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}):jsxRuntimeExports.jsx(Save,{className:"h-4 w-4 mr-2"})," Save"]})]})]}),jsxRuntimeExports.jsxs("form",{id:"semi-finished-form",onSubmit:v,className:"flex-grow overflow-y-auto p-6 space-y-4",children:[jsxRuntimeExports.jsxs(FormSection$3,{title:"Basic Information",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Item Code *"}),jsxRuntimeExports.jsx("input",{name:"itemCode",value:u.itemCode,onChange:R,required:!0,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Name *"}),jsxRuntimeExports.jsx("input",{name:"name",value:u.name,onChange:R,required:!0,className:"input"})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Description"}),jsxRuntimeExports.jsx("textarea",{name:"description",value:u.description,onChange:R,className:"input",rows:"2"})]})]}),jsxRuntimeExports.jsxs(FormSection$3,{title:"Classification",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Category"}),jsxRuntimeExports.jsxs("select",{name:"categoryId",value:u.categoryId,onChange:R,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Category"}),(p.categories||[]).map(N=>jsxRuntimeExports.jsx("option",{value:String(N.id),children:N.name},N.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Sub-Category"}),jsxRuntimeExports.jsxs("select",{name:"subCategoryId",value:u.subCategoryId,onChange:R,className:"input",disabled:!u.categoryId,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Sub-Category"}),(p.subCategories||[]).map(N=>jsxRuntimeExports.jsx("option",{value:String(N.id),children:N.name},N.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Inventory Type"}),jsxRuntimeExports.jsxs("select",{name:"inventoryType",value:u.inventoryType,onChange:R,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"SEMI_FINISHED_GOOD",children:"Semi-Finished Good"}),jsxRuntimeExports.jsx("option",{value:"RAW_MATERIAL",children:"Raw Material"}),jsxRuntimeExports.jsx("option",{value:"FINISHED_GOOD",children:"Finished Good"}),jsxRuntimeExports.jsx("option",{value:"SERVICE",children:"Service"}),jsxRuntimeExports.jsx("option",{value:"OTHER",children:"Other"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Item Type"}),jsxRuntimeExports.jsxs("select",{name:"itemType",value:u.itemType,onChange:R,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"PRODUCT",children:"Product"}),jsxRuntimeExports.jsx("option",{value:"SERVICE",children:"Service"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Location"}),jsxRuntimeExports.jsxs("select",{name:"locationId",value:u.locationId,onChange:R,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Locations"}),(p.locations||[]).map(N=>jsxRuntimeExports.jsx("option",{value:String(N.id),children:N.name},N.id))]})]})]}),jsxRuntimeExports.jsxs(FormSection$3,{title:"Units & Pricing",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Issue Unit"}),jsxRuntimeExports.jsxs("select",{name:"issueUnitId",value:u.issueUnitId,onChange:R,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Unit"}),(p.units||[]).map(N=>jsxRuntimeExports.jsx("option",{value:String(N.id),children:N.name},N.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Purchase Unit"}),jsxRuntimeExports.jsxs("select",{name:"purchaseUnitId",value:u.purchaseUnitId,onChange:R,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Unit"}),(p.units||[]).map(N=>jsxRuntimeExports.jsx("option",{value:String(N.id),children:N.name},N.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Unit Relation"}),jsxRuntimeExports.jsx("input",{name:"unitRelation",type:"number",value:u.unitRelation,onChange:R,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Purchase Price"}),jsxRuntimeExports.jsx("input",{name:"purchasePrice",type:"number",step:"0.01",value:u.purchasePrice,onChange:R,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Sales Price"}),jsxRuntimeExports.jsx("input",{name:"salesPrice",type:"number",step:"0.01",value:u.salesPrice,onChange:R,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Tax"}),jsxRuntimeExports.jsxs("select",{name:"taxId",value:u.taxId,onChange:R,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"No Tax"}),(p.taxes||[]).map(N=>jsxRuntimeExports.jsxs("option",{value:String(N.id),children:[N.code," (",N.rate,"%)"]},N.id))]})]})]}),jsxRuntimeExports.jsxs(FormSection$3,{title:"Inventory & Flags",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Wastage %"}),jsxRuntimeExports.jsx("input",{name:"wastagePercentage",type:"number",value:u.wastagePercentage,onChange:R,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Reorder Limit"}),jsxRuntimeExports.jsx("input",{name:"reorderLimit",type:"number",value:u.reorderLimit,onChange:R,className:"input"})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2 flex items-center flex-wrap gap-x-6 gap-y-2 pt-4",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"forPurchase",checked:u.forPurchase,onChange:R,className:"h-4 w-4 rounded"}),jsxRuntimeExports.jsx("span",{children:"For Purchase"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"forSales",checked:u.forSales,onChange:R,className:"h-4 w-4 rounded"}),jsxRuntimeExports.jsx("span",{children:"For Sales"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"isRoll",checked:u.isRoll,onChange:R,className:"h-4 w-4 rounded"}),jsxRuntimeExports.jsx("span",{children:"Is Roll"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"isScrapItem",checked:u.isScrapItem,onChange:R,className:"h-4 w-4 rounded"}),jsxRuntimeExports.jsx("span",{children:"Is Scrap Item"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"isTaxInclusive",checked:u.isTaxInclusive,onChange:R,className:"h-4 w-4 rounded"}),jsxRuntimeExports.jsx("span",{children:"Tax Inclusive"})]})]})]})]})]})},API_URL$Y="https://javapaas-202946-0.cloudclusters.net/api",ManageSemiFinished=({locationId:e})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState(!0),[u,m]=reactExports.useState(""),[p,j]=reactExports.useState(!1),[f,g]=reactExports.useState(null),[b,R]=reactExports.useState(null),[v,N]=reactExports.useState(!1),[S,$]=reactExports.useState(""),[C,A]=reactExports.useState(0),[T,D]=reactExports.useState(10),[I,L]=reactExports.useState(0),[_,M]=reactExports.useState(!1),F=reactExports.useRef(null),B=reactExports.useMemo(()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),[]),q=reactExports.useCallback(async()=>{l(!0);try{const te=await axios.get(`${API_URL$Y}/production/semi-finished`,{headers:B,params:{page:C,size:T,locationId:e==="all"?null:e,search:S}});n(te.data.content||[]),L(te.data.totalPages||0)}catch{m("Failed to fetch data. Please ensure the backend is running and all endpoints exist.")}finally{l(!1)}},[B,C,T,e,S]);reactExports.useEffect(()=>{q()},[q]);const z=()=>{g(null),j(!0)},V=te=>{g(te),j(!0)},Q=()=>{j(!1),g(null)},ee=te=>{R(te)},G=async te=>{N(!0);const Y=!!f?.id,le=Y?`${API_URL$Y}/production/semi-finished/${f.id}`:`${API_URL$Y}/production/semi-finished`,je=Y?"put":"post";try{await axios[je](le,te,{headers:B}),await q(),Q()}catch(ae){alert(`Error: ${ae.response?.data?.message||"Failed to save semi-finished product."}`)}finally{N(!1)}},K=async te=>{if(window.confirm("Are you sure you want to delete this semi-finished product?"))try{await axios.delete(`${API_URL$Y}/production/semi-finished/${te}`,{headers:B}),await q()}catch(Y){alert(`Error: ${Y.response?.data?.message||"Failed to delete product."}`)}},J=async()=>{try{const te=await axios.get(`${API_URL$Y}/production/semi-finished/bulk-template`,{headers:B,responseType:"blob"}),Y=window.URL.createObjectURL(new Blob([te.data])),le=document.createElement("a");le.href=Y,le.setAttribute("download","semi_finished_bulk_upload_template.xlsx"),document.body.appendChild(le),le.click(),le.remove()}catch{alert("Failed to download template.")}},ne=async te=>{const Y=te.target.files[0];if(!Y)return;M(!0);const le=new FormData;le.append("file",Y);try{await axios.post(`${API_URL$Y}/production/semi-finished/bulk`,le,{headers:{...B,"Content-Type":"multipart/form-data"}}),alert("Semi-finished products imported successfully!"),q()}catch(je){const ae=je.response?.data,Z=Array.isArray(ae)?`Upload failed:
- ${ae.join(`
- `)}`:ae||"An unknown error occurred.";alert(Z)}finally{M(!1),te.target.value=null}},H=async()=>{try{const te=await axios.get(`${API_URL$Y}/production/semi-finished/export`,{headers:B,responseType:"blob"}),Y=window.URL.createObjectURL(new Blob([te.data])),le=document.createElement("a");le.href=Y,le.setAttribute("download","semi_finished_export.xlsx"),document.body.appendChild(le),le.click(),le.remove()}catch{alert("Failed to export data.")}};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Manage Semi-Finished Products"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",value:S,onChange:te=>$(te.target.value),className:"input w-full sm:w-64 pr-10 bg-background-muted border-border"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-foreground-muted"})]}),jsxRuntimeExports.jsx("input",{type:"file",ref:F,onChange:ne,className:"hidden",accept:".xlsx, .xls"}),jsxRuntimeExports.jsx("button",{onClick:J,className:"btn-secondary flex items-center gap-2",title:"Download Template",children:jsxRuntimeExports.jsx(Download,{size:16})}),jsxRuntimeExports.jsxs("button",{onClick:()=>F.current.click(),className:"btn-secondary flex items-center gap-2",disabled:_,children:[_?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4"}):jsxRuntimeExports.jsx(Upload,{size:16}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Bulk Upload"})]}),jsxRuntimeExports.jsxs("button",{onClick:H,className:"btn-secondary flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileSpreadsheet,{size:16}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Export"})]}),jsxRuntimeExports.jsxs("button",{onClick:z,className:"flex items-center gap-2 btn-secondary",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Add Product"]})]})]}),u&&jsxRuntimeExports.jsx("p",{className:"text-red-500 mb-4",children:u}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-border rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"#"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Item Code"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Purchase Price"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Sales Price"}),jsxRuntimeExports.jsx("th",{className:"th-cell w-32",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-card divide-y divide-border text-foreground-muted",children:o?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"7",className:"text-center py-10",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary mx-auto"})})}):t.length>0?t.map((te,Y)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"td-cell",children:C*T+Y+1}),jsxRuntimeExports.jsx("td",{className:"td-cell font-mono text-xs",children:te.itemCode}),jsxRuntimeExports.jsx("td",{className:"td-cell font-medium text-foreground",children:te.name}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:te.categoryName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:te.purchasePrice?.toFixed(2)||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:te.salesPrice?.toFixed(2)||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>ee(te),className:"text-blue-500 hover:text-blue-600",title:"View",children:jsxRuntimeExports.jsx(Eye,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>V(te),className:"text-primary hover:text-primary/80",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>K(te.id),className:"text-red-500 hover:text-red-600",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},te.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"7",className:"text-center py-10",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-foreground",children:"No Products Found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"Get started by adding a new semi-finished product."})]})})})]})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mt-4 text-sm",children:[jsxRuntimeExports.jsxs("p",{className:"text-foreground-muted",children:["Page ",C+1," of ",I]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>A(te=>te-1),disabled:C===0,className:"btn-secondary disabled:opacity-50",children:jsxRuntimeExports.jsx(ChevronLeft,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>A(te=>te+1),disabled:C>=I-1,className:"btn-secondary disabled:opacity-50",children:jsxRuntimeExports.jsx(ChevronRight,{size:16})})]})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:p&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-40",onClick:Q}),jsxRuntimeExports.jsx(motion.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 right-0 h-full w-full max-w-2xl bg-card shadow-2xl z-50 flex flex-col",children:jsxRuntimeExports.jsx(SemiFinishedFormPage,{item:f,onSave:G,onCancel:Q,loading:v,locationId:e})})]})}),jsxRuntimeExports.jsx(AnimatePresence,{children:b&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-40",onClick:()=>R(null)}),jsxRuntimeExports.jsxs(motion.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"fixed inset-0 m-auto h-fit max-h-[90vh] w-full max-w-2xl bg-card shadow-2xl z-50 rounded-lg flex flex-col",children:[jsxRuntimeExports.jsxs("header",{className:"p-4 border-b flex items-center justify-between flex-shrink-0",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[jsxRuntimeExports.jsx(Box,{size:20})," Semi-Finished Product Details"]}),jsxRuntimeExports.jsx("button",{onClick:()=>R(null),className:"p-1.5 rounded-full hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsx("div",{className:"p-6 overflow-y-auto",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(DetailItem,{icon:Tag,label:"Item Name",value:b.name}),jsxRuntimeExports.jsx(DetailItem,{icon:Tag,label:"Item Code",value:b.itemCode}),jsxRuntimeExports.jsx(DetailItem,{icon:Layers,label:"Category",value:b.categoryName||"N/A"}),jsxRuntimeExports.jsx(DetailItem,{icon:SlidersHorizontal,label:"Sub-Category",value:b.subCategoryName||"N/A"}),jsxRuntimeExports.jsx(DetailItem,{icon:Warehouse,label:"Location",value:b.locationName||"All Locations"}),jsxRuntimeExports.jsx(DetailItem,{icon:DollarSign,label:"Purchase Price",value:b.purchasePrice?.toFixed(2)||"N/A"}),jsxRuntimeExports.jsx(DetailItem,{icon:DollarSign,label:"Sales Price",value:b.salesPrice?.toFixed(2)||"N/A"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-2",children:[jsxRuntimeExports.jsx(FlagItem,{label:"For Purchase",active:b.forPurchase}),jsxRuntimeExports.jsx(FlagItem,{label:"For Sales",active:b.forSales}),jsxRuntimeExports.jsx(FlagItem,{label:"Is Roll",active:b.isRoll}),jsxRuntimeExports.jsx(FlagItem,{label:"Is Scrap",active:b.isScrapItem}),jsxRuntimeExports.jsx(FlagItem,{label:"Tax Inclusive",active:b.isTaxInclusive})]})]})})]})]})})]})},DetailItem=({icon:e,label:t,value:n})=>jsxRuntimeExports.jsxs("div",{className:"flex items-start",children:[jsxRuntimeExports.jsx(e,{className:"h-5 w-5 text-foreground-muted mt-1 mr-3 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-foreground-muted",children:t}),jsxRuntimeExports.jsx("p",{className:"font-semibold text-foreground",children:n})]})]}),FlagItem=({label:e,active:t})=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 p-3 bg-background-muted rounded-lg",children:[t?jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-5 w-5 text-green-500 flex-shrink-0"}):jsxRuntimeExports.jsx(CircleX,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-foreground",children:e})]}),API_URL$X="https://javapaas-202946-0.cloudclusters.net/api",FormSection$2=({title:e,children:t})=>jsxRuntimeExports.jsxs("div",{className:"pt-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-md font-semibold text-foreground-muted border-b border-border pb-2 mb-4",children:e}),t]}),ManageSemiFinishedProcessForm=({item:e,onSave:t,onCancel:n,loading:o,locationId:l})=>{const[u,m]=reactExports.useState({itemId:"",processFlowName:"",otherFixedCost:0,otherVariableCost:0,isLocked:!1,locationId:l!=="all"?l:"",details:[]}),[p,j]=reactExports.useState({items:[],processes:[],workGroups:[],locations:[]}),[f,g]=reactExports.useState(!0),b=reactExports.useCallback(async()=>{g(!0);try{const A={Authorization:`Bearer ${localStorage.getItem("token")}`},[T,D,I,L]=await Promise.all([axios.get(`${API_URL$X}/production/semi-finished`,{headers:A}),axios.get(`${API_URL$X}/production/processes`,{headers:A}),axios.get(`${API_URL$X}/production/work-groups`,{headers:A}),axios.get(`${API_URL$X}/locations`,{headers:A})]);j({items:T.data.content||[],processes:D.data.content||[],workGroups:I.data||[],locations:L.data||[]})}catch(C){console.error("Failed to fetch form dependencies",C),alert("Failed to load required data for the form.")}finally{g(!1)}},[]);reactExports.useEffect(()=>{b()},[b]),reactExports.useEffect(()=>{m(e?{itemId:e.itemId||"",processFlowName:e.processFlowName||"",otherFixedCost:e.otherFixedCost||0,otherVariableCost:e.otherVariableCost||0,isLocked:!!e.isLocked,locationId:e.locationId!=null?String(e.locationId):l!=="all"?l:"",details:e.details||[]}:{itemId:"",processFlowName:"",otherFixedCost:0,otherVariableCost:0,isLocked:!1,locationId:l!=="all"?l:"",details:[{processId:"",workGroupId:"",setupTime:0,cycleTime:0,fixedCost:0,variableCost:0,isOutsource:!1,isTesting:!1,notes:"",sequence:1}]})},[e,l]);const R=C=>{const{name:A,value:T,type:D,checked:I}=C.target;m(L=>({...L,[A]:D==="checkbox"?I:T}))},v=(C,A,T,D="text")=>{const I=[...u.details];I[C][A]=D==="checkbox"?T.target.checked:T,m(L=>({...L,details:I}))},N=()=>{const C=u.details.length>0?Math.max(...u.details.map(A=>A.sequence||0))+1:1;m(A=>({...A,details:[...A.details,{processId:"",workGroupId:"",setupTime:0,cycleTime:0,fixedCost:0,variableCost:0,isOutsource:!1,isTesting:!1,notes:"",sequence:C}]}))},S=C=>{m(A=>({...A,details:A.details.filter((T,D)=>D!==C)}))},$=C=>{C.preventDefault();const A={...u,locationId:u.locationId||null};t(A)};return f?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-full",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary"})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("header",{className:"p-4 border-b flex-shrink-0 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:n,className:"p-1.5 rounded-full hover:bg-background-muted",children:jsxRuntimeExports.jsx(ArrowLeft,{size:20})}),jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold text-foreground",children:[e?"Edit":"Add New"," Process Flow"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",disabled:o,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",form:"process-flow-form",className:"btn-primary flex items-center",disabled:o,children:[o?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}):jsxRuntimeExports.jsx(Save,{className:"h-4 w-4 mr-2"})," Save"]})]})]}),jsxRuntimeExports.jsxs("form",{id:"process-flow-form",onSubmit:$,className:"flex-grow overflow-y-auto p-6 space-y-4",children:[jsxRuntimeExports.jsx(FormSection$2,{title:"Process Flow Header",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Semi-Finished Item *"}),jsxRuntimeExports.jsxs("select",{name:"itemId",value:u.itemId,onChange:R,required:!0,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Item"}),p.items.map(C=>jsxRuntimeExports.jsx("option",{value:C.id,children:C.name},C.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Process Flow Name *"}),jsxRuntimeExports.jsx("input",{name:"processFlowName",value:u.processFlowName,onChange:R,required:!0,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Location"}),jsxRuntimeExports.jsxs("select",{name:"locationId",value:u.locationId,onChange:R,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Locations"}),p.locations.map(C=>jsxRuntimeExports.jsx("option",{value:C.id,children:C.name},C.id))]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"isLocked",checked:u.isLocked,onChange:R,className:"h-4 w-4 rounded"}),jsxRuntimeExports.jsx("span",{children:"Is Locked"})]})]})}),jsxRuntimeExports.jsx(FormSection$2,{title:"Process Details",children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[u.details.map((C,A)=>jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded-md bg-background-muted space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ChevronsUpDown,{className:"h-5 w-5 text-foreground-muted"}),jsxRuntimeExports.jsxs("span",{className:"font-semibold",children:["Step ",C.sequence]})]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>S(A),className:"p-1.5 text-red-500 hover:bg-red-100 rounded-full",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label text-xs",children:"Sequence"}),jsxRuntimeExports.jsx("input",{type:"number",value:C.sequence,onChange:T=>v(A,"sequence",T.target.value),className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label text-xs",children:"Process"}),jsxRuntimeExports.jsxs("select",{value:C.processId,onChange:T=>v(A,"processId",T.target.value),className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Process"}),p.processes.map(T=>jsxRuntimeExports.jsx("option",{value:T.id,children:T.name},T.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label text-xs",children:"Work Group"}),jsxRuntimeExports.jsxs("select",{value:C.workGroupId,onChange:T=>v(A,"workGroupId",T.target.value),className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Work Group"}),p.workGroups.map(T=>jsxRuntimeExports.jsx("option",{value:T.id,children:T.name},T.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label text-xs",children:"Setup Time (min)"}),jsxRuntimeExports.jsx("input",{type:"number",value:C.setupTime,onChange:T=>v(A,"setupTime",T.target.value),className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label text-xs",children:"Cycle Time (min)"}),jsxRuntimeExports.jsx("input",{type:"number",value:C.cycleTime,onChange:T=>v(A,"cycleTime",T.target.value),className:"input"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label text-xs",children:"Fixed Cost"}),jsxRuntimeExports.jsx("input",{type:"number",step:"0.01",value:C.fixedCost,onChange:T=>v(A,"fixedCost",T.target.value),className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label text-xs",children:"Variable Cost"}),jsxRuntimeExports.jsx("input",{type:"number",step:"0.01",value:C.variableCost,onChange:T=>v(A,"variableCost",T.target.value),className:"input"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label text-xs",children:"Notes"}),jsxRuntimeExports.jsx("textarea",{value:C.notes,onChange:T=>v(A,"notes",T.target.value),className:"input",rows:"2"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 pt-2",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:C.isOutsource,onChange:T=>v(A,"isOutsource",T,"checkbox"),className:"h-4 w-4 rounded"}),jsxRuntimeExports.jsx("span",{children:"Is Outsource"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:C.isTesting,onChange:T=>v(A,"isTesting",T,"checkbox"),className:"h-4 w-4 rounded"}),jsxRuntimeExports.jsx("span",{children:"Is Testing"})]})]})]},A)),jsxRuntimeExports.jsxs("button",{type:"button",onClick:N,className:"btn-secondary w-full",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16,className:"mr-2"}),"Add Process Step"]})]})}),jsxRuntimeExports.jsx(FormSection$2,{title:"Additional Costs",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Other Fixed Cost"}),jsxRuntimeExports.jsx("input",{name:"otherFixedCost",type:"number",step:"0.01",value:u.otherFixedCost,onChange:R,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Other Variable Cost"}),jsxRuntimeExports.jsx("input",{name:"otherVariableCost",type:"number",step:"0.01",value:u.otherVariableCost,onChange:R,className:"input"})]})]})})]})]})},API_URL$W="https://javapaas-202946-0.cloudclusters.net/api",ManageSemiFinishedProcess=({locationId:e})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState(!0),[u,m]=reactExports.useState(""),[p,j]=reactExports.useState(!1),[f,g]=reactExports.useState(null),[b,R]=reactExports.useState(null),[v,N]=reactExports.useState(!1),[S,$]=reactExports.useState(""),[C,A]=reactExports.useState(0),[T,D]=reactExports.useState(10),[I,L]=reactExports.useState(0),_=reactExports.useMemo(()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),[]),M=reactExports.useCallback(async()=>{l(!0);try{const ee={page:C,size:T,search:S};e&&e!=="all"&&(ee.locationId=e);const G=await axios.get(`${API_URL$W}/production/process-semi-finished`,{headers:_,params:ee});n(G.data.content||[]),L(G.data.totalPages||0)}catch{m("Failed to fetch data. Please ensure the backend is running.")}finally{l(!1)}},[_,C,T,e,S]);reactExports.useEffect(()=>{M()},[M]);const F=()=>{g(null),j(!0)},B=ee=>{g(ee),j(!0)},q=()=>{j(!1),g(null)},z=ee=>{R(ee)},V=async ee=>{N(!0);const G=!!f?.id,K=G?`${API_URL$W}/production/process-semi-finished/${f.id}`:`${API_URL$W}/production/process-semi-finished`,J=G?"put":"post";try{await axios[J](K,ee,{headers:_}),await M(),q()}catch(ne){alert(`Error: ${ne.response?.data?.message||"Failed to save process flow."}`)}finally{N(!1)}},Q=async ee=>{if(window.confirm("Are you sure you want to delete this process flow?"))try{await axios.delete(`${API_URL$W}/production/process-semi-finished/${ee}`,{headers:_}),await M()}catch(G){alert(`Error: ${G.response?.data?.message||"Failed to delete process flow."}`)}};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Manage Process Flows"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",value:S,onChange:ee=>$(ee.target.value),className:"input w-full sm:w-64 pr-10 bg-background-muted border-border"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-foreground-muted"})]}),jsxRuntimeExports.jsxs("button",{onClick:F,className:"flex items-center gap-2 btn-secondary",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Add Process Flow"]})]})]}),u&&jsxRuntimeExports.jsx("p",{className:"text-red-500 mb-4",children:u}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-border rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-border border-collapse",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell w-12",children:"#"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Item Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Process Flow Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Location"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Locked"}),jsxRuntimeExports.jsx("th",{className:"th-cell w-32",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-card divide-y divide-border text-foreground-muted",children:o?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"6",className:"text-center py-10",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary mx-auto"})})}):t.length>0?t.map((ee,G)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"td-cell text-center",children:C*T+G+1}),jsxRuntimeExports.jsx("td",{className:"td-cell font-medium text-foreground ",children:ee.itemName}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:ee.processFlowName}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:ee.locationName||"All"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:ee.isLocked?jsxRuntimeExports.jsx(Lock,{size:16,className:"text-red-500"}):jsxRuntimeExports.jsx(LockOpen,{size:16,className:"text-green-500"})}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>z(ee),className:"text-blue-500 hover:text-blue-600",title:"View",children:jsxRuntimeExports.jsx(Eye,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>B(ee),className:"text-primary hover:text-primary/80",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>Q(ee.id),className:"text-red-500 hover:text-red-600",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},ee.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"6",className:"text-center py-10",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-foreground",children:"No Process Flows Found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"Get started by adding a new process flow."})]})})})]})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mt-4 text-sm",children:[jsxRuntimeExports.jsxs("p",{className:"text-foreground-muted",children:["Page ",C+1," of ",I]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>A(ee=>ee-1),disabled:C===0,className:"btn-secondary disabled:opacity-50",children:jsxRuntimeExports.jsx(ChevronLeft,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>A(ee=>ee+1),disabled:C>=I-1,className:"btn-secondary disabled:opacity-50",children:jsxRuntimeExports.jsx(ChevronRight,{size:16})})]})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:p&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-40",onClick:q}),jsxRuntimeExports.jsx(motion.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 right-0 h-full w-full max-w-3xl bg-card shadow-2xl z-50 flex flex-col",children:jsxRuntimeExports.jsx(ManageSemiFinishedProcessForm,{item:f,onSave:V,onCancel:q,loading:v,locationId:e})})]})}),jsxRuntimeExports.jsx(AnimatePresence,{children:b&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-40",onClick:()=>R(null)}),jsxRuntimeExports.jsxs(motion.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"fixed inset-0 m-auto h-fit max-h-[90vh] w-full max-w-4xl bg-card shadow-2xl z-50 rounded-lg flex flex-col",children:[jsxRuntimeExports.jsxs("header",{className:"p-4 border-b flex items-center justify-between flex-shrink-0",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[jsxRuntimeExports.jsx(GitBranchPlus,{size:20})," Process Flow Details"]}),jsxRuntimeExports.jsx("button",{onClick:()=>R(null),className:"p-1.5 rounded-full hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 overflow-y-auto",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4 pb-4 border-b",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-foreground-muted",children:"Item"}),jsxRuntimeExports.jsx("p",{className:"font-semibold",children:b.itemName})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-foreground-muted",children:"Flow Name"}),jsxRuntimeExports.jsx("p",{className:"font-semibold",children:b.processFlowName})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-foreground-muted",children:"Location"}),jsxRuntimeExports.jsx("p",{className:"font-semibold",children:b.locationName||"All"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-foreground-muted",children:"Other Fixed Cost"}),jsxRuntimeExports.jsx("p",{className:"font-semibold",children:b.otherFixedCost?.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-foreground-muted",children:"Other Variable Cost"}),jsxRuntimeExports.jsx("p",{className:"font-semibold",children:b.otherVariableCost?.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-foreground-muted",children:"Status"}),jsxRuntimeExports.jsx("p",{className:"font-semibold flex items-center gap-2",children:b.isLocked?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Lock,{size:14,className:"text-red-500"}),"Locked"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LockOpen,{size:14,className:"text-green-500"}),"Unlocked"]})})]})]}),jsxRuntimeExports.jsx("h4",{className:"font-semibold mb-3",children:"Process Steps"}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:b.details?.sort((ee,G)=>ee.sequence-G.sequence).map(ee=>jsxRuntimeExports.jsxs("div",{className:"p-3 border rounded-md text-sm",children:[jsxRuntimeExports.jsxs("p",{className:"font-bold",children:["Step ",ee.sequence,": ",ee.processName," ",jsxRuntimeExports.jsxs("span",{className:"font-normal text-foreground-muted",children:["(",ee.workGroupName,")"]})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-foreground-muted",children:ee.notes})]},ee.id))})]})]})]})})]})},API_URL$V="https://javapaas-202946-0.cloudclusters.net/api",FormSection$1=({title:e,children:t})=>jsxRuntimeExports.jsxs("div",{className:"pt-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-md font-semibold text-foreground-muted border-b border-border pb-2 mb-4",children:e}),t]}),ManageSemiFinishedBOMForm=({item:e,onSave:t,onCancel:n,loading:o,locationId:l})=>{const[u,m]=reactExports.useState({itemId:"",bomName:"",isLocked:!1,details:[]}),[p,j]=reactExports.useState({semiFinishedItems:[],rawMaterials:[],processes:[]}),[f,g]=reactExports.useState(!0),b=reactExports.useCallback(async()=>{g(!0);try{const A={Authorization:`Bearer ${localStorage.getItem("token")}`},[T,D,I]=await Promise.all([axios.get(`${API_URL$V}/production/semi-finished`,{headers:A}),axios.get(`${API_URL$V}/production/raw-materials`,{headers:A}),axios.get(`${API_URL$V}/production/processes`,{headers:A})]);j({semiFinishedItems:T.data.content||[],rawMaterials:D.data.content||[],processes:I.data.content||[]})}catch(C){console.error("Failed to fetch form dependencies",C),alert("Failed to load required data for the form.")}finally{g(!1)}},[]);reactExports.useEffect(()=>{b()},[b]),reactExports.useEffect(()=>{m(e?{itemId:e.item?.id||"",bomName:e.bomName||"",isLocked:!!e.isLocked,details:(e.details||[]).map(C=>({...C,componentType:C.rawMaterial?"rawMaterial":"semiFinished",rawMaterialId:C.rawMaterial?.id||"",childSemiFinishedId:C.childSemiFinished?.id||"",processId:C.process?.id||""}))}:{itemId:"",bomName:"",isLocked:!1,details:[{componentType:"rawMaterial",rawMaterialId:"",childSemiFinishedId:"",processId:"",quantity:1,notes:"",sequence:1}]})},[e]);const R=C=>{const{name:A,value:T,type:D,checked:I}=C.target;m(L=>({...L,[A]:D==="checkbox"?I:T}))},v=(C,A,T)=>{const D=[...u.details];D[C][A]=T,A==="componentType"&&(D[C].rawMaterialId="",D[C].childSemiFinishedId=""),m(I=>({...I,details:D}))},N=()=>{const C=u.details.length>0?Math.max(...u.details.map(A=>A.sequence||0))+1:1;m(A=>({...A,details:[...A.details,{componentType:"rawMaterial",rawMaterialId:"",childSemiFinishedId:"",processId:"",quantity:1,notes:"",sequence:C}]}))},S=C=>{m(A=>({...A,details:A.details.filter((T,D)=>D!==C)}))},$=C=>{C.preventDefault();const A={...u,details:u.details.map(T=>({processId:T.processId||null,rawMaterialId:T.componentType==="rawMaterial"?T.rawMaterialId:null,childSemiFinishedId:T.componentType==="semiFinished"?T.childSemiFinishedId:null,quantity:T.quantity,notes:T.notes,sequence:T.sequence}))};t(A)};return f?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-full",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary"})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("header",{className:"p-4 border-b flex-shrink-0 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:n,className:"p-1.5 rounded-full hover:bg-background-muted",children:jsxRuntimeExports.jsx(ArrowLeft,{size:20})}),jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold text-foreground",children:[e?"Edit":"Create"," Bill of Materials"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",disabled:o,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",form:"bom-form",className:"btn-primary flex items-center",disabled:o,children:[o?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}):jsxRuntimeExports.jsx(Save,{className:"h-4 w-4 mr-2"})," Save BOM"]})]})]}),jsxRuntimeExports.jsxs("form",{id:"bom-form",onSubmit:$,className:"flex-grow overflow-y-auto p-6 space-y-4",children:[jsxRuntimeExports.jsx(FormSection$1,{title:"BOM Header",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Semi-Finished Product *"}),jsxRuntimeExports.jsxs("select",{name:"itemId",value:u.itemId,onChange:R,required:!0,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Product"}),p.semiFinishedItems.map(C=>jsxRuntimeExports.jsx("option",{value:C.id,children:C.name},C.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"BOM Name *"}),jsxRuntimeExports.jsx("input",{name:"bomName",value:u.bomName,onChange:R,required:!0,className:"input"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"isLocked",checked:u.isLocked,onChange:R,className:"h-4 w-4 rounded"}),jsxRuntimeExports.jsx("span",{children:"Is Locked"})]})]})}),jsxRuntimeExports.jsx(FormSection$1,{title:"BOM Components",children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[u.details.map((C,A)=>jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded-md bg-background-muted space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ChevronsUpDown,{className:"h-5 w-5 text-foreground-muted"}),jsxRuntimeExports.jsxs("span",{className:"font-semibold",children:["Component #",C.sequence]})]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>S(A),className:"p-1.5 text-red-500 hover:bg-red-100 rounded-full",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label text-xs",children:"Sequence"}),jsxRuntimeExports.jsx("input",{type:"number",value:C.sequence,onChange:T=>v(A,"sequence",T.target.value),className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label text-xs",children:"Component Type"}),jsxRuntimeExports.jsxs("select",{value:C.componentType,onChange:T=>v(A,"componentType",T.target.value),className:"input",children:[jsxRuntimeExports.jsx("option",{value:"rawMaterial",children:"Raw Material"}),jsxRuntimeExports.jsx("option",{value:"semiFinished",children:"Semi-Finished Good"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label text-xs",children:"Component Name"}),C.componentType==="rawMaterial"?jsxRuntimeExports.jsxs("select",{value:C.rawMaterialId,onChange:T=>v(A,"rawMaterialId",T.target.value),className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Raw Material"}),p.rawMaterials.map(T=>jsxRuntimeExports.jsx("option",{value:T.id,children:T.name},T.id))]}):jsxRuntimeExports.jsxs("select",{value:C.childSemiFinishedId,onChange:T=>v(A,"childSemiFinishedId",T.target.value),className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Semi-Finished"}),p.semiFinishedItems.map(T=>jsxRuntimeExports.jsx("option",{value:T.id,children:T.name},T.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label text-xs",children:"Process"}),jsxRuntimeExports.jsxs("select",{value:C.processId,onChange:T=>v(A,"processId",T.target.value),className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Process"}),p.processes.map(T=>jsxRuntimeExports.jsx("option",{value:T.id,children:T.name},T.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label text-xs",children:"Quantity"}),jsxRuntimeExports.jsx("input",{type:"number",step:"0.0001",value:C.quantity,onChange:T=>v(A,"quantity",T.target.value),className:"input"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label text-xs",children:"Notes"}),jsxRuntimeExports.jsx("textarea",{value:C.notes,onChange:T=>v(A,"notes",T.target.value),className:"input",rows:"2"})]})]},A)),jsxRuntimeExports.jsxs("button",{type:"button",onClick:N,className:"btn-secondary w-full",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16,className:"mr-2"}),"Add Component"]})]})})]})]})},API_URL$U="https://javapaas-202946-0.cloudclusters.net/api",ManageSemiFinishedBOM=({locationId:e})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState(!0),[u,m]=reactExports.useState(""),[p,j]=reactExports.useState(!1),[f,g]=reactExports.useState(null),[b,R]=reactExports.useState(null),[v,N]=reactExports.useState(!1),[S,$]=reactExports.useState(""),[C,A]=reactExports.useState(0),[T,D]=reactExports.useState(10),[I,L]=reactExports.useState(0),_=reactExports.useMemo(()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),[]),M=reactExports.useCallback(async()=>{l(!0);try{const ee={page:C,size:T,search:S},G=await axios.get(`${API_URL$U}/production/bom-semi-finished`,{headers:_,params:ee});let K=G.data.content||[];e&&e!=="all"&&(K=K.filter(J=>J.item?.locationId===Number(e))),n(K),L(G.data.totalPages||0)}catch{m("Failed to fetch data. Please ensure the backend is running.")}finally{l(!1)}},[_,C,T,e,S]);reactExports.useEffect(()=>{M()},[M]);const F=()=>{g(null),j(!0)},B=ee=>{g(ee),j(!0)},q=()=>{j(!1),g(null)},z=ee=>{R(ee)},V=async ee=>{N(!0);const G=!!f?.id,K=G?`${API_URL$U}/production/bom-semi-finished/${f.id}`:`${API_URL$U}/production/bom-semi-finished`,J=G?"put":"post";try{await axios[J](K,ee,{headers:_}),await M(),q()}catch(ne){alert(`Error: ${ne.response?.data?.message||"Failed to save BOM."}`)}finally{N(!1)}},Q=async ee=>{if(window.confirm("Are you sure you want to delete this BOM?"))try{await axios.delete(`${API_URL$U}/production/bom-semi-finished/${ee}`,{headers:_}),await M()}catch(G){alert(`Error: ${G.response?.data?.message||"Failed to delete BOM."}`)}};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Manage Bill of Materials (BOM)"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",value:S,onChange:ee=>$(ee.target.value),className:"input w-full sm:w-64 pr-10 bg-background-muted border-border"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-foreground-muted"})]}),jsxRuntimeExports.jsxs("button",{onClick:F,className:"flex items-center gap-2 btn-secondary",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Add BOM"]})]})]}),u&&jsxRuntimeExports.jsx("p",{className:"text-red-500 mb-4",children:u}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-border rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-border border-collapse",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell w-12",children:"#"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Product Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"BOM Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Locked"}),jsxRuntimeExports.jsx("th",{className:"th-cell w-32",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-card divide-y divide-border text-foreground-muted",children:o?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"5",className:"text-center py-10",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary mx-auto"})})}):t.length>0?t.map((ee,G)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"td-cell text-center",children:C*T+G+1}),jsxRuntimeExports.jsx("td",{className:"td-cell font-medium text-foreground",children:ee.item?.name}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:ee.bomName}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:ee.isLocked?jsxRuntimeExports.jsx(Lock,{size:16,className:"text-red-500"}):jsxRuntimeExports.jsx(LockOpen,{size:16,className:"text-green-500"})}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>z(ee),className:"text-blue-500 hover:text-blue-600",title:"View",children:jsxRuntimeExports.jsx(Eye,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>B(ee),className:"text-primary hover:text-primary/80",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>Q(ee.id),className:"text-red-500 hover:text-red-600",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},ee.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"5",className:"text-center py-10",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-foreground",children:"No BOMs Found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"Get started by creating a new Bill of Materials."})]})})})]})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mt-4 text-sm",children:[jsxRuntimeExports.jsxs("p",{className:"text-foreground-muted",children:["Page ",C+1," of ",I]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>A(ee=>ee-1),disabled:C===0,className:"btn-secondary disabled:opacity-50",children:jsxRuntimeExports.jsx(ChevronLeft,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>A(ee=>ee+1),disabled:C>=I-1,className:"btn-secondary disabled:opacity-50",children:jsxRuntimeExports.jsx(ChevronRight,{size:16})})]})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:p&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-40",onClick:q}),jsxRuntimeExports.jsx(motion.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 right-0 h-full w-full max-w-3xl bg-card shadow-2xl z-50 flex flex-col",children:jsxRuntimeExports.jsx(ManageSemiFinishedBOMForm,{item:f,onSave:V,onCancel:q,loading:v,locationId:e})})]})})]})},semiFinishedNavLinks=[{name:"Manage SemiFinished",icon:Box,component:ManageSemiFinished,color:"text-cyan-500"},{name:"Manage Processes",icon:Layers,component:ManageSemiFinishedProcess,color:"text-green-500"},{name:"Manage BOM",icon:List,component:ManageSemiFinishedBOM,color:"text-purple-500"}],ProSemiFinished=({locationId:e})=>{const[t,n]=reactExports.useState(semiFinishedNavLinks[0].name),o=()=>{const l=semiFinishedNavLinks.find(m=>m.name===t),u=l?l.component:ManageSemiFinished;return jsxRuntimeExports.jsx(u,{locationId:e})};return jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col",children:[jsxRuntimeExports.jsx("div",{className:"border-b border-slate-200",children:jsxRuntimeExports.jsx("nav",{className:"-mb-px flex space-x-6 overflow-x-auto","aria-label":"Tabs",children:semiFinishedNavLinks.map(l=>jsxRuntimeExports.jsxs("button",{onClick:()=>n(l.name),className:`whitespace-nowrap flex items-center gap-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors group ${t===l.name?"border-blue-600 text-blue-600 font-semibold":"border-transparent text-slate-500 hover:text-blue-600 hover:border-blue-300"}`,children:[jsxRuntimeExports.jsx(l.icon,{className:`h-5 w-5 ${l.color} ${t!==l.name&&"opacity-70 group-hover:opacity-100"}`}),jsxRuntimeExports.jsx("span",{children:l.name})]},l.name))})}),jsxRuntimeExports.jsx("div",{className:"mt-6 flex-grow overflow-hidden",children:o()})]})},API_URL$T="https://javapaas-202946-0.cloudclusters.net/api",BomSettings=()=>jsxRuntimeExports.jsxs("div",{className:"text-center py-10 border-2 border-dashed border-border rounded-lg bg-background-muted text-foreground-muted mt-6",children:[jsxRuntimeExports.jsx("h3",{className:"mt-2 text-lg font-medium text-foreground",children:"Bill of Materials (BOM)"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"Manage your product BOMs here."})]}),productionNavLinks$1=[{name:"General",icon:Settings$1,component:GeneralSettings,color:"text-cyan-500"},{name:"Workgroup",icon:Factory,component:WorkGroup,color:"text-orange-500"},{name:"Manage Process",icon:Layers,component:ManageProcess,color:"text-green-500"},{name:"Parameter",icon:SlidersHorizontal,component:ProParameter,color:"text-indigo-500"},{name:"Categories",icon:LayoutGrid,component:ProCategories,color:"text-rose-500"},{name:"Raw Materials",icon:Package,component:ProRawMaterial,color:"text-amber-500"},{name:"Semi Finished",icon:Box,component:ProSemiFinished,color:"text-teal-500"},{name:"BOM",icon:List,component:BomSettings,color:"text-purple-500"}],ProductionSettings=()=>{const e=useNavigate(),[t,n]=reactExports.useState(!1),[o,l]=reactExports.useState(productionNavLinks$1[0].name),[u,m]=reactExports.useState([]),[p,j]=reactExports.useState(""),[f,g]=reactExports.useState(!0);reactExports.useEffect(()=>{(async()=>{g(!0);try{const S=localStorage.getItem("token"),$=await axios.get(`${API_URL$T}/locations`,{headers:{Authorization:`Bearer ${S}`}});m($.data),$.data.length>0&&j("all")}catch(S){console.error("Failed to fetch locations:",S)}finally{g(!1)}})()},[]);const b=()=>{const N=productionNavLinks$1.find($=>$.name===o),S=N?N.component:GeneralSettings;return jsxRuntimeExports.jsx(S,{locationId:p})},R="bg-blue-50 border-l-4 border-blue-600 text-blue-700 font-semibold",v="border-l-4 border-transparent text-slate-600 hover:bg-slate-50 hover:text-slate-800";return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full bg-slate-50",children:[jsxRuntimeExports.jsx("header",{className:"bg-white shadow-sm p-4 border-b border-slate-200 z-20",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>e(-1),className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"h-5 w-5 text-slate-600"})}),jsxRuntimeExports.jsx("button",{onClick:()=>n(!0),className:"md:hidden p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(Menu,{className:"h-5 w-5 text-slate-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold text-slate-800",children:"Production Configuration"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-500",children:"Manage company-wide settings for the Production module."})]})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(MapPin,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),jsxRuntimeExports.jsxs("select",{value:p,onChange:N=>j(N.target.value),className:"pl-10 pr-8 py-2 text-sm border border-slate-300 rounded-md focus:ring-blue-500 focus:border-blue-500 w-full sm:w-56",disabled:f,children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Locations"}),f?jsxRuntimeExports.jsx("option",{children:"Loading..."}):u.map(N=>jsxRuntimeExports.jsx("option",{value:N.id,children:N.name},N.id))]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex-grow flex",children:[t&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 md:hidden",onClick:()=>n(!1)}),jsxRuntimeExports.jsxs("aside",{className:`fixed inset-y-0 left-0 z-40 w-64 bg-white border-r border-slate-200 p-4 md:p-6 transform transition-transform duration-300 ease-in-out md:relative md:translate-x-0 ${t?"translate-x-0":"-translate-x-full"}`,children:[jsxRuntimeExports.jsx("button",{onClick:()=>n(!1),className:"md:hidden p-2 rounded-full hover:bg-slate-100 absolute top-2 right-2",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5 text-slate-600"})}),jsxRuntimeExports.jsx("nav",{className:"flex flex-col space-y-2 mt-10 md:mt-0",children:productionNavLinks$1.map(N=>jsxRuntimeExports.jsxs("button",{onClick:()=>{l(N.name),n(!1)},className:`flex items-center gap-3 px-3 py-2.5 rounded-md text-sm font-medium transition-all ${o===N.name?R:v}`,children:[jsxRuntimeExports.jsx(N.icon,{className:`h-5 w-5 ${N.color}`}),jsxRuntimeExports.jsx("span",{children:N.name})]},N.name))})]}),jsxRuntimeExports.jsx("main",{className:"flex-grow p-6 md:p-8 w-full md:w-auto",children:b()})]})]})},tabs$2=[{name:"Tenant",icon:User,component:jsxRuntimeExports.jsx(TenantInfo,{})},{name:"Company",icon:Building,component:jsxRuntimeExports.jsx(CompanyInfo$1,{})}],CompanyDetails=()=>{const[e,t]=reactExports.useState(tabs$2[0].name),n=tabs$2.find(o=>o.name===e)?.component;return jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-8 h-full",children:[jsxRuntimeExports.jsx("div",{className:"border-b border-border mb-6",children:jsxRuntimeExports.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:tabs$2.map(o=>jsxRuntimeExports.jsxs("button",{onClick:()=>t(o.name),className:`whitespace-nowrap flex items-center py-3 px-1 border-b-2 font-medium text-sm transition-colors ${e===o.name?"border-primary text-primary":"border-transparent text-foreground-muted hover:text-foreground hover:border-border"}`,children:[jsxRuntimeExports.jsx(o.icon,{className:"mr-2 h-5 w-5"}),o.name]},o.name))})}),jsxRuntimeExports.jsx("div",{children:n})]})},LocationModal=({isOpen:e,onClose:t,onSave:n,location:o,loading:l})=>{const[u,m]=reactExports.useState({name:"",address:"",city:"",state:"",postalCode:"",country:"",primary:!1}),[p,j]=reactExports.useState("");reactExports.useEffect(()=>{m(o?{name:o.name||"",address:o.address||"",city:o.city||"",state:o.state||"",postalCode:o.postalCode||"",country:o.country||"",primary:o.primary||!1}:{name:"",address:"",city:"",state:"",postalCode:"",country:"",primary:!1}),j("")},[o,e]);const f=b=>{const{name:R,value:v,type:N,checked:S}=b.target;m($=>({...$,[R]:N==="checkbox"?S:v}))},g=b=>{if(b.preventDefault(),!u.name.trim()){j("Location Name is required.");return}n(u)};return e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold",children:[o?"Edit":"Add"," Work Location"]}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:g,children:[jsxRuntimeExports.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-4 max-h-[70vh] overflow-y-auto",children:[jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-700",children:"Location Name"}),jsxRuntimeExports.jsx("input",{id:"name",name:"name",value:u.name,onChange:f,required:!0,className:"input"})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-slate-700",children:"Address"}),jsxRuntimeExports.jsx("input",{id:"address",name:"address",value:u.address,onChange:f,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-slate-700",children:"City"}),jsxRuntimeExports.jsx("input",{id:"city",name:"city",value:u.city,onChange:f,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-slate-700",children:"State"}),jsxRuntimeExports.jsx("input",{id:"state",name:"state",value:u.state,onChange:f,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"postalCode",className:"block text-sm font-medium text-slate-700",children:"Postal Code"}),jsxRuntimeExports.jsx("input",{id:"postalCode",name:"postalCode",value:u.postalCode,onChange:f,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-slate-700",children:"Country"}),jsxRuntimeExports.jsx("input",{id:"country",name:"country",value:u.country,onChange:f,className:"input"})]}),jsxRuntimeExports.jsx("div",{className:"md:col-span-2",children:jsxRuntimeExports.jsxs("label",{className:"inline-flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"primary",checked:u.primary,onChange:f,className:"h-4 w-4 rounded"})," ",jsxRuntimeExports.jsx("span",{className:"ml-2 text-sm",children:"Set as primary location"})]})}),p&&jsxRuntimeExports.jsx("p",{className:"md:col-span-2 text-red-500 text-sm",children:p})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t bg-slate-50 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:l,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:l,children:[l&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"})," Save"]})]})]})]})}):null},UpgradeModal=({isOpen:e,onClose:t,message:n})=>e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md text-center p-6",children:[jsxRuntimeExports.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-yellow-100",children:jsxRuntimeExports.jsx(ShieldAlert,{className:"h-6 w-6 text-yellow-600"})}),jsxRuntimeExports.jsx("h3",{className:"mt-4 text-lg font-semibold text-slate-900",children:"Subscription Limit Reached"}),jsxRuntimeExports.jsxs("div",{className:"mt-2 text-sm text-slate-600",children:[jsxRuntimeExports.jsx("p",{children:n}),jsxRuntimeExports.jsx("p",{className:"mt-2",children:"Please upgrade your plan to add more locations."})]}),jsxRuntimeExports.jsx("button",{onClick:t,className:"btn-primary mt-6 w-full",children:"Got it"})]})}):null,WorkLocations=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState(!1),[m,p]=reactExports.useState(""),[j,f]=reactExports.useState(!1),[g,b]=reactExports.useState(null),[R,v]=reactExports.useState(!1),[N,S]=reactExports.useState(null),$="https://javapaas-202946-0.cloudclusters.net/api",C=reactExports.useCallback(async()=>{o(!0),p("");try{const M=localStorage.getItem("token"),F=await axios.get(`${$}/locations`,{headers:{Authorization:`Bearer ${M}`}});t(F.data)}catch(M){p("Failed to fetch locations."),console.error(M)}finally{o(!1)}},[$]);reactExports.useEffect(()=>{C()},[C]);const A=()=>{b(null),f(!0)},T=M=>{b(M),f(!0)},D=async M=>{if(window.confirm("Are you sure you want to delete this location?"))try{const F=localStorage.getItem("token");await axios.delete(`${$}/locations/${M}`,{headers:{Authorization:`Bearer ${F}`}}),C()}catch(F){p("Failed to delete location."),console.error(F)}},I=async M=>{u(!0),p("");try{const F=localStorage.getItem("token");await(g?axios.put(`${$}/locations/${g.id}`,M,{headers:{Authorization:`Bearer ${F}`}}):axios.post(`${$}/locations`,M,{headers:{Authorization:`Bearer ${F}`}})),f(!1),C()}catch(F){const B=F.response?.data||"Failed to save location.";typeof B=="string"&&B.includes("limit has been reached")?(p(B),v(!0)):p(B)}finally{u(!1)}},L=M=>{S(M)},_=async(M,F)=>{if(F.length===0){alert("No employees selected.");return}p("");let B=0,q=0;try{const z=localStorage.getItem("token"),V="https://javapaas-202946-0.cloudclusters.net/api";for(const Q of F)try{const ee={workLocationId:M.id};await axios.put(`${V}/time-attendence/${Q}`,ee,{headers:{Authorization:`Bearer ${z}`}}),B++}catch(ee){console.error(`Failed to update location for ${Q}:`,ee),q++}alert(`Sync complete!
- ${B} employees updated successfully.
- ${q} updates failed.`)}catch(z){p("An unexpected error occurred during the sync process."),console.error(z)}};return jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold",children:"Work Locations"}),jsxRuntimeExports.jsxs("button",{onClick:A,className:"btn-primary flex items-center",children:[jsxRuntimeExports.jsx(Plus,{className:"h-5 w-5 mr-2"})," Add Location"]})]}),m&&!R&&jsxRuntimeExports.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:m}),n?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-40",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-blue-600"})}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-white",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"#"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Location Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"City"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"State"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Primary"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"text-slate-700",children:e.length>0?e.map(M=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-slate-200 hover:bg-slate-50",children:[jsxRuntimeExports.jsx("td",{className:"td-cell text-sm text-slate-500",children:M.id}),jsxRuntimeExports.jsx("td",{className:"td-cell font-medium",children:M.name}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:M.city}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:M.state}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:M.primary?"Yes":"No"}),jsxRuntimeExports.jsxs("td",{className:"td-cell flex items-center gap-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>L(M),className:"p-2 text-slate-500 hover:text-green-600 hover:bg-green-100 rounded-full",title:"Sync to employees",disabled:!!N,children:N?.id===M.id?jsxRuntimeExports.jsx(Loader,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>T(M),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-100 rounded-full",title:"Edit",disabled:!!N,children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>D(M.id),className:"p-2 text-slate-500 hover:text-red-600 hover:bg-red-100 rounded-full",title:"Delete",disabled:!!N,children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})]},M.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"6",className:"text-center py-10 text-slate-500",children:"No locations found."})})})]})}),jsxRuntimeExports.jsx(UpgradeModal,{isOpen:R,onClose:()=>v(!1),message:m}),jsxRuntimeExports.jsx(LocationModal,{isOpen:j,onClose:()=>f(!1),onSave:I,location:g,loading:l}),jsxRuntimeExports.jsx(SyncPolicyModal,{isOpen:!!N,onClose:()=>S(null),policy:N,onSync:_})]})},tabs$1=[{name:"Locations",icon:MapPin,component:jsxRuntimeExports.jsx(WorkLocations,{})}],LocationDetails=()=>{const[e,t]=reactExports.useState(tabs$1[0].name),n=tabs$1.find(o=>o.name===e)?.component;return jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-8 h-full",children:[jsxRuntimeExports.jsx("div",{className:"border-b border-border mb-6",children:jsxRuntimeExports.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:tabs$1.map(o=>jsxRuntimeExports.jsxs("button",{onClick:()=>t(o.name),className:`whitespace-nowrap flex items-center py-3 px-1 border-b-2 font-medium text-sm transition-colors ${e===o.name?"border-primary text-primary":"border-transparent text-foreground-muted hover:text-foreground hover:border-border"}`,children:[jsxRuntimeExports.jsx(o.icon,{className:"mr-2 h-5 w-5"}),o.name]},o.name))})}),jsxRuntimeExports.jsx("div",{children:n})]})},API_URL$S="https://javapaas-202946-0.cloudclusters.net/api",Modal$6=({isOpen:e,onClose:t,title:n,children:o})=>e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-center z-50 p-4",onClick:t,children:jsxRuntimeExports.jsxs("div",{className:"bg-card text-card-foreground rounded-lg shadow-xl w-full max-w-md",onClick:l=>l.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-foreground",children:n}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-1 rounded-full text-foreground-muted hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsx("div",{className:"p-6",children:o})]})}):null,CompanyTypeForm=({item:e,onSave:t,onCancel:n,loading:o,locations:l})=>{const[u,m]=reactExports.useState({name:"",locationId:""});reactExports.useEffect(()=>{m(e?{name:e.name||"",locationId:e.locationId||""}:{name:"",locationId:""})},[e]);const p=f=>{m(g=>({...g,[f.target.name]:f.target.value}))},j=f=>{f.preventDefault(),t({id:e?.id,...u})};return jsxRuntimeExports.jsxs("form",{onSubmit:j,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-foreground-muted",children:"Company Type Name"}),jsxRuntimeExports.jsx("input",{id:"name",name:"name",value:u.name,onChange:p,required:!0,className:"input mt-1 bg-background-muted border-border text-foreground",placeholder:"e.g., Corporation, LLC, Partnership"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"locationId",className:"block text-sm font-medium text-foreground-muted",children:"Location (Optional)"}),jsxRuntimeExports.jsxs("select",{id:"locationId",name:"locationId",value:u.locationId,onChange:p,className:"input mt-1 bg-background-muted border-border text-foreground",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Location"}),l.map(f=>jsxRuntimeExports.jsx("option",{value:f.id,children:f.name},f.id))]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",disabled:o,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:o,children:[o&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}),"Save"]})]})]})},CrmCompanyType=({locationId:e})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState(!0),[u,m]=reactExports.useState(""),[p,j]=reactExports.useState(!1),[f,g]=reactExports.useState([]),[b,R]=reactExports.useState(null),[v,N]=reactExports.useState(!1),[S,$]=reactExports.useState(""),C=reactExports.useMemo(()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),[]),A=reactExports.useCallback(async()=>{l(!0),m("");try{const[F,B]=await Promise.all([axios.get(`${API_URL$S}/crm/company-types`,{headers:C}),axios.get(`${API_URL$S}/locations`,{headers:C})]);n(Array.isArray(F.data)?F.data:[]),g(Array.isArray(B.data)?B.data:[])}catch(F){console.error(F),m(F.response?.data?.message||"Failed to fetch data.")}finally{l(!1)}},[C]);reactExports.useEffect(()=>{A()},[A]);const T=()=>{R({locationId:e!=="all"?e:""}),j(!0)},D=F=>{R(F),j(!0)},I=()=>{j(!1),R(null)},L=async F=>{N(!0);const B={...F,locationId:F.locationId||null},q=!!B.id,z=q?`${API_URL$S}/crm/company-types/${B.id}`:`${API_URL$S}/crm/company-types`,V=q?"put":"post";try{await axios[V](z,B,{headers:C}),await A(),I()}catch(Q){console.error(Q),alert(`Error: ${Q.response?.data?.message||"Failed to save company type."}`)}finally{N(!1)}},_=async F=>{if(!F){alert("Missing id for company type.");return}if(window.confirm("Are you sure you want to delete this company type?"))try{await axios.delete(`${API_URL$S}/crm/company-types/${F}`,{headers:C}),await A()}catch(B){console.error(B),alert(`Error: ${B.response?.data?.message||"Failed to delete company type."}`)}},M=reactExports.useMemo(()=>{const F=S.trim().toLowerCase();let B=t;return e==="none"?B=t.filter(q=>!q.locationId):e&&e!=="all"&&(B=t.filter(q=>String(q.locationId)===String(e))),B.filter(q=>!F||String(q?.name??"").toLowerCase().includes(F))},[t,S,e]);return jsxRuntimeExports.jsxs("div",{className:"p-6 bg-card rounded-xl shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Manage Company Types"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",value:S,onChange:F=>$(F.target.value),className:"input w-full sm:w-64 pr-10 bg-background-muted border-border"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-foreground-muted"})]}),jsxRuntimeExports.jsxs("button",{onClick:T,className:"flex items-center gap-2 btn-secondary",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Add Type"]})]})]}),u&&jsxRuntimeExports.jsx("p",{className:"text-red-500 mb-4",children:u}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-border rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell w-16",children:"#"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Location"}),jsxRuntimeExports.jsx("th",{className:"th-cell w-32",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-card divide-y divide-border text-foreground-muted",children:o?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:4,className:"text-center py-10",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary mx-auto"})})}):M.length>0?M.map((F,B)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"td-cell",children:B+1}),jsxRuntimeExports.jsx("td",{className:"td-cell font-medium text-foreground",children:String(F?.name??"")}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:F.locationName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>D(F),className:"text-primary hover:text-primary/80",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>_(F.id),className:"text-red-500 hover:text-red-600",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},F.id??B)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:4,className:"text-center py-10",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-foreground",children:"No company types found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"Get started by adding a new company type."})]})})})]})}),jsxRuntimeExports.jsx(Modal$6,{isOpen:p,onClose:I,title:b?"Edit Company Type":"Add Company Type",children:jsxRuntimeExports.jsx(CompanyTypeForm,{item:b,onSave:L,onCancel:I,loading:v,locations:f})})]})},API_URL$R="https://javapaas-202946-0.cloudclusters.net/api",Modal$5=({isOpen:e,onClose:t,title:n,children:o})=>e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-center z-50 p-4",onClick:t,children:jsxRuntimeExports.jsxs("div",{className:"bg-card text-card-foreground rounded-lg shadow-xl w-full max-w-md",onClick:l=>l.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-foreground",children:n}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-1 rounded-full text-foreground-muted hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsx("div",{className:"p-6",children:o})]})}):null,IndustryForm=({item:e,onSave:t,onCancel:n,loading:o,locations:l})=>{const[u,m]=reactExports.useState({name:"",locationId:""});reactExports.useEffect(()=>{m(e?{name:e.name||"",locationId:e.locationId||""}:{name:"",locationId:""})},[e]);const p=f=>{m(g=>({...g,[f.target.name]:f.target.value}))},j=f=>{f.preventDefault(),t({id:e?.id,...u})};return jsxRuntimeExports.jsxs("form",{onSubmit:j,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-foreground-muted",children:"Industry Name"}),jsxRuntimeExports.jsx("input",{id:"name",name:"name",value:u.name,onChange:p,required:!0,className:"input mt-1 bg-background-muted border-border text-foreground",placeholder:"e.g., Technology, Healthcare, Finance"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"locationId",className:"block text-sm font-medium text-foreground-muted",children:"Location (Optional)"}),jsxRuntimeExports.jsxs("select",{id:"locationId",name:"locationId",value:u.locationId,onChange:p,className:"input mt-1 bg-background-muted border-border text-foreground",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Location"}),l.map(f=>jsxRuntimeExports.jsx("option",{value:f.id,children:f.name},f.id))]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",disabled:o,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:o,children:[o&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}),"Save"]})]})]})},CrmIndustry=({locationId:e})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState([]),[u,m]=reactExports.useState(!0),[p,j]=reactExports.useState(""),[f,g]=reactExports.useState(!1),[b,R]=reactExports.useState(null),[v,N]=reactExports.useState(!1),[S,$]=reactExports.useState(""),C=reactExports.useMemo(()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),[]),A=reactExports.useCallback(async()=>{m(!0),j("");try{const[F,B]=await Promise.all([axios.get(`${API_URL$R}/settings/industries`,{headers:C}),axios.get(`${API_URL$R}/locations`,{headers:C})]);n(Array.isArray(F.data)?F.data:[]),l(Array.isArray(B.data)?B.data:[])}catch(F){j("Failed to fetch data."),console.error(F)}finally{m(!1)}},[C]);reactExports.useEffect(()=>{A()},[A]);const T=()=>{R({locationId:e!=="all"?e:""}),g(!0)},D=F=>{R(F),g(!0)},I=()=>{g(!1),R(null)},L=async F=>{N(!0);const B={...F,locationId:F.locationId||null},q=!!F.id,z=q?`${API_URL$R}/settings/industries/${F.id}`:`${API_URL$R}/settings/industries`,V=q?"put":"post";try{await axios[V](z,B,{headers:C}),await A(),I()}catch(Q){alert(`Error: ${Q.response?.data?.message||"Failed to save industry."}`)}finally{N(!1)}},_=async F=>{if(window.confirm("Are you sure you want to delete this industry?"))try{await axios.delete(`${API_URL$R}/settings/industries/${F}`,{headers:C}),await A()}catch(B){alert(`Error: ${B.response?.data?.message||"Failed to delete industry."}`)}},M=reactExports.useMemo(()=>{let F=t;return e==="none"?F=t.filter(B=>!B.locationId):e&&e!=="all"&&(F=t.filter(B=>String(B.locationId)===String(e))),F.filter(B=>!S||B.name.toLowerCase().includes(S.toLowerCase()))},[t,S,e]);return jsxRuntimeExports.jsxs("div",{className:"p-6 bg-card rounded-xl shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Manage Industries"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",value:S,onChange:F=>$(F.target.value),className:"input w-full sm:w-64 pr-10 bg-background-muted border-border"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-foreground-muted"})]}),jsxRuntimeExports.jsxs("button",{onClick:T,className:"flex items-center gap-2 btn-secondary",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Add Industry"]})]})]}),p&&jsxRuntimeExports.jsx("p",{className:"text-red-500 mb-4",children:p}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-border rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell w-16",children:"#"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Location"}),jsxRuntimeExports.jsx("th",{className:"th-cell w-32",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-card divide-y divide-border text-foreground-muted",children:u?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"4",className:"text-center py-10",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary mx-auto"})})}):M.length>0?M.map((F,B)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"td-cell",children:B+1}),jsxRuntimeExports.jsx("td",{className:"td-cell font-medium text-foreground",children:F.name}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:F.locationName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>D(F),className:"text-primary hover:text-primary/80",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>_(F.id),className:"text-red-500 hover:text-red-600",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},F.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"4",className:"text-center py-10",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-foreground",children:"No industries found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"Get started by adding a new industry."})]})})})]})}),jsxRuntimeExports.jsx(Modal$5,{isOpen:f,onClose:I,title:b?"Edit Industry":"Add Industry",children:jsxRuntimeExports.jsx(IndustryForm,{item:b,onSave:L,onCancel:I,loading:v,locations:o})})]})},API_URL$Q="https://javapaas-202946-0.cloudclusters.net/api",Modal$4=({isOpen:e,onClose:t,title:n,children:o})=>e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-center z-50 p-4",onClick:t,children:jsxRuntimeExports.jsxs("div",{className:"bg-card text-card-foreground rounded-lg shadow-xl w-full max-w-md",onClick:l=>l.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-foreground",children:n}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-1 rounded-full text-foreground-muted hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsx("div",{className:"p-6",children:o})]})}):null,ProductForm=({item:e,onSave:t,onCancel:n,loading:o,industries:l,locations:u})=>{const[m,p]=reactExports.useState({name:"",industryId:"",locationId:""});reactExports.useEffect(()=>{p({name:e?.name||"",industryId:e?.industryId||"",locationId:e?.locationId||""})},[e]);const j=f=>{f.preventDefault(),t({id:e?.id,...m})};return jsxRuntimeExports.jsxs("form",{onSubmit:j,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-foreground-muted",children:"Product Name"}),jsxRuntimeExports.jsx("input",{id:"name",name:"name",value:m.name,onChange:f=>p(g=>({...g,name:f.target.value})),required:!0,className:"input mt-1 bg-background-muted border-border text-foreground",placeholder:"e.g., CRM Software Suite"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"industryId",className:"block text-sm font-medium text-foreground-muted",children:"Industry"}),jsxRuntimeExports.jsxs("select",{id:"industryId",name:"industryId",value:m.industryId,onChange:f=>p(g=>({...g,industryId:f.target.value})),required:!0,className:"input mt-1 bg-background-muted border-border text-foreground",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select an Industry"}),l.map(f=>jsxRuntimeExports.jsx("option",{value:f.id,children:f.name},f.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"locationId",className:"block text-sm font-medium text-foreground-muted",children:"Location (Optional)"}),jsxRuntimeExports.jsxs("select",{id:"locationId",name:"locationId",value:m.locationId,onChange:f=>p(g=>({...g,locationId:f.target.value})),className:"input mt-1 bg-background-muted border-border text-foreground",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Location"}),u.map(f=>jsxRuntimeExports.jsx("option",{value:f.id,children:f.name},f.id))]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",disabled:o,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:o,children:[o&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}),"Save"]})]})]})},CrmProduct=({locationId:e})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState([]),[u,m]=reactExports.useState([]),[p,j]=reactExports.useState(!0),[f,g]=reactExports.useState(""),[b,R]=reactExports.useState(!1),[v,N]=reactExports.useState(null),[S,$]=reactExports.useState(!1),[C,A]=reactExports.useState(""),[T,D]=reactExports.useState(""),I=reactExports.useMemo(()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),[]),L=reactExports.useCallback(async()=>{j(!0),g("");try{const[V,Q,ee]=await Promise.all([axios.get(`${API_URL$Q}/crm/products`,{headers:I}),axios.get(`${API_URL$Q}/settings/industries`,{headers:I}),axios.get(`${API_URL$Q}/locations`,{headers:I})]);n(Array.isArray(V.data)?V.data:[]),l(Array.isArray(Q.data)?Q.data:[]),m(Array.isArray(ee.data)?ee.data:[])}catch(V){g("Failed to fetch data."),console.error(V)}finally{j(!1)}},[I]);reactExports.useEffect(()=>{L()},[L]);const _=()=>{N({locationId:e!=="all"?e:""}),R(!0)},M=V=>{N(V),R(!0)},F=()=>{R(!1),N(null)},B=async V=>{$(!0);const Q={...V,locationId:V.locationId||null},ee=!!Q.id,G=ee?`${API_URL$Q}/crm/products/${V.id}`:`${API_URL$Q}/crm/products`,K=ee?"put":"post";try{await axios[K](G,Q,{headers:I}),await L(),F()}catch(J){alert(`Error: ${J.response?.data?.message||"Failed to save product."}`)}finally{$(!1)}},q=async V=>{if(window.confirm("Are you sure you want to delete this product?"))try{await axios.delete(`${API_URL$Q}/crm/products/${V}`,{headers:I}),await L()}catch(Q){alert(`Error: ${Q.response?.data?.message||"Failed to delete product."}`)}},z=reactExports.useMemo(()=>{let V=t;return e==="none"?V=t.filter(Q=>!Q.locationId):e&&e!=="all"&&(V=t.filter(Q=>String(Q.locationId)===String(e))),V.filter(Q=>!T||Q.industryId==T).filter(Q=>!C||Q.name.toLowerCase().includes(C.toLowerCase()))},[t,C,T,e]);return jsxRuntimeExports.jsxs("div",{className:"p-6 bg-card rounded-xl shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Manage Products"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("select",{value:T,onChange:V=>D(V.target.value),className:"input bg-background-muted border-border text-foreground-muted",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Industries"}),o.map(V=>jsxRuntimeExports.jsx("option",{value:V.id,children:V.name},V.id))]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",value:C,onChange:V=>A(V.target.value),className:"input w-full sm:w-52 pr-10 bg-background-muted border-border"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-foreground-muted"})]}),jsxRuntimeExports.jsxs("button",{onClick:_,className:"flex items-center gap-2 btn-secondary",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Add Product"]})]})]}),f&&jsxRuntimeExports.jsx("p",{className:"text-red-500 mb-4",children:f}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-border rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell w-16",children:"#"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Product Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Industry"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Location"}),jsxRuntimeExports.jsx("th",{className:"th-cell w-32",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-card divide-y divide-border text-foreground-muted",children:p?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"5",className:"text-center py-10",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary mx-auto"})})}):z.length>0?z.map((V,Q)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"td-cell",children:Q+1}),jsxRuntimeExports.jsx("td",{className:"td-cell font-medium text-foreground",children:V.name}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:V.industryName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:V.locationName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>M(V),className:"text-primary hover:text-primary/80",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>q(V.id),className:"text-red-500 hover:text-red-600",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},V.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"5",className:"text-center py-10",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-foreground",children:"No products found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"Get started by adding a new product."})]})})})]})}),jsxRuntimeExports.jsx(Modal$4,{isOpen:b,onClose:F,title:v?"Edit Product":"Add Product",children:jsxRuntimeExports.jsx(ProductForm,{item:v,onSave:B,onCancel:F,loading:S,industries:o,locations:u})})]})},API_URL$P="https://javapaas-202946-0.cloudclusters.net/api",FormField$5=({label:e,children:t})=>jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-foreground-muted",children:e}),t]}),KpiFormPage=({item:e=null,onSave:t,onCancel:n})=>{const[o,l]=reactExports.useState({name:"",description:"",dataType:"NUMBER",type:"DAILY",locationId:"",assignedEmployees:[],ranges:[]}),[u,m]=reactExports.useState([]),[p,j]=reactExports.useState([]),[f,g]=reactExports.useState(!0),[b,R]=reactExports.useState(!1);reactExports.useEffect(()=>{let D=!0;return(async()=>{g(!0);try{const L=localStorage.getItem("token"),_=L?{headers:{Authorization:`Bearer ${L}`}}:{},[M,F]=await Promise.allSettled([axios.get(`${API_URL$P}/employees/all`,_),axios.get(`${API_URL$P}/locations`,_)]);if(!D)return;const B=M.status==="fulfilled"&&Array.isArray(M.value?.data)?M.value.data:[],q=F.status==="fulfilled"&&Array.isArray(F.value?.data)?F.value.data:[];m(B),j(q)}catch(L){console.error("Failed to fetch data:",L)}finally{D&&g(!1)}})(),()=>{D=!1}},[]),reactExports.useEffect(()=>{l(e?{name:e.name??"",description:e.description??"",dataType:e.dataType??"NUMBER",type:e.type??"DAILY",locationId:e.locationId??"",assignedEmployees:Array.isArray(e.assignedEmployees)?e.assignedEmployees.map(D=>({employeeId:D.employee?.id,targetValue:D.targetValue===0||D.targetValue?String(D.targetValue):""})):[],ranges:Array.isArray(e.ranges)?e.ranges:[]}:{name:"",description:"",dataType:"NUMBER",type:"DAILY",locationId:e?.locationId||"",assignedEmployees:[],ranges:[]})},[e]);const v=D=>{const{name:I,value:L}=D.target;l(_=>({..._,[I]:L}))},N=D=>{const I=D?.value??D;I!=null&&l(L=>{const M=L.assignedEmployees.some(F=>String(F.employeeId)===String(I))?L.assignedEmployees.filter(F=>String(F.employeeId)!==String(I)):[...L.assignedEmployees,{employeeId:I,targetValue:""}];return{...L,assignedEmployees:M}})},S=(D,I)=>{l(L=>({...L,assignedEmployees:L.assignedEmployees.map(_=>String(_.employeeId)===String(D)?{..._,targetValue:I}:_)}))},$=D=>{l(I=>({...I,assignedEmployees:I.assignedEmployees.filter(L=>String(L.employeeId)!==String(D))}))},C=reactExports.useMemo(()=>(u||[]).map(D=>({value:D.id,label:`${D.firstName??""} ${D.lastName??""}$${D.employeeCode?` (${D.employeeCode})`:""}`.replace("$","")})),[u]),A=reactExports.useMemo(()=>o.assignedEmployees.map(D=>D.employeeId),[o.assignedEmployees]),T=async D=>{if(D.preventDefault(),!o.name.trim()){alert("Please enter a KPI name.");return}if(!o.dataType){alert("Please choose a data type.");return}if(!o.type){alert("Please choose a KPI type.");return}const I=new Set,L=[];for(const M of o.assignedEmployees){const F=String(M.employeeId??"").trim();if(!F)continue;if(I.has(F)){alert("Each employee can only be assigned once.");return}if(I.add(F),M.targetValue===""){alert(`Please enter a numeric target value for employee ID ${F}.`);return}const B=Number(M.targetValue);if(Number.isNaN(B)){alert(`Please enter a numeric target value for employee ID ${F}.`);return}L.push({employeeId:F,targetValue:B})}const _={name:o.name.trim(),description:o.description.trim(),dataType:o.dataType,type:o.type,locationId:o.locationId||null,assignedEmployees:L,ranges:Array.isArray(o.ranges)?o.ranges:[]};try{R(!0),await Promise.resolve(t?.(_))}catch(M){console.error("onSave failed:",M),alert("Something went wrong while saving. Please try again.")}finally{R(!1)}};return f?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-10",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin text-primary"})}):jsxRuntimeExports.jsxs("div",{className:"bg-card rounded-xl shadow-sm flex flex-col h-full",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 p-6 border-b border-border flex-shrink-0",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"p-2 rounded-full hover:bg-background-muted",children:jsxRuntimeExports.jsx(ArrowLeft,{size:20})}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-foreground",children:e?"Edit KPI":"Create New KPI"})]}),jsxRuntimeExports.jsxs("form",{onSubmit:T,className:"flex flex-col flex-grow overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex-grow overflow-y-auto p-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border border-border rounded-lg",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"KPI Details"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(FormField$5,{label:"KPI Name",children:jsxRuntimeExports.jsx("input",{name:"name",value:o.name,onChange:v,required:!0,className:"input bg-background-muted border-border"})}),jsxRuntimeExports.jsx(FormField$5,{label:"Description",children:jsxRuntimeExports.jsx("input",{name:"description",value:o.description,onChange:v,className:"input bg-background-muted border-border"})}),jsxRuntimeExports.jsx(FormField$5,{label:"Data Type",children:jsxRuntimeExports.jsxs("select",{name:"dataType",value:o.dataType,onChange:v,className:"input bg-background-muted border-border",children:[jsxRuntimeExports.jsx("option",{value:"NUMBER",children:"Number"}),jsxRuntimeExports.jsx("option",{value:"PERCENTAGE",children:"Percentage"}),jsxRuntimeExports.jsx("option",{value:"CURRENCY",children:"Currency"}),jsxRuntimeExports.jsx("option",{value:"BOOLEAN",children:"Boolean"}),jsxRuntimeExports.jsx("option",{value:"TEXT",children:"Text"})]})}),jsxRuntimeExports.jsx(FormField$5,{label:"KPI Type",children:jsxRuntimeExports.jsxs("select",{name:"type",value:o.type,onChange:v,className:"input bg-background-muted border-border",children:[jsxRuntimeExports.jsx("option",{value:"DAILY",children:"Daily"}),jsxRuntimeExports.jsx("option",{value:"WEEKLY",children:"Weekly"}),jsxRuntimeExports.jsx("option",{value:"MONTHLY",children:"Monthly"}),jsxRuntimeExports.jsx("option",{value:"QUARTERLY",children:"Quarterly"}),jsxRuntimeExports.jsx("option",{value:"YEARLY",children:"Yearly"}),jsxRuntimeExports.jsx("option",{value:"CUSTOM",children:"Custom"})]})}),jsxRuntimeExports.jsx(FormField$5,{label:"Location (Optional)",children:jsxRuntimeExports.jsxs("select",{name:"locationId",value:o.locationId,onChange:v,className:"input bg-background-muted border-border",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Location"}),(p||[]).map(D=>jsxRuntimeExports.jsx("option",{value:D.id,children:D.name},D.id))]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border border-border rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center mb-4",children:jsxRuntimeExports.jsx("h3",{className:"font-semibold text-foreground",children:"Assign Employees & Targets"})}),jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsx(SearchableSelect,{options:C,selected:A,onSelect:N,placeholder:"Search and select employees..."})}),jsxRuntimeExports.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto pr-2 border-t pt-4",children:o.assignedEmployees.length===0?jsxRuntimeExports.jsx("p",{className:"text-foreground-muted text-sm",children:"No employees assigned yet."}):o.assignedEmployees.map(D=>{const I=(u||[]).find(L=>String(L.id)===String(D.employeeId));return jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center",children:[jsxRuntimeExports.jsx("div",{className:"col-span-6 text-sm font-medium text-foreground truncate",children:I?`${I.firstName??""} ${I.lastName??""}`.trim()||`Employee ID: ${D.employeeId}`:`Employee ID: ${D.employeeId}`}),jsxRuntimeExports.jsx("div",{className:"col-span-5",children:jsxRuntimeExports.jsx("input",{type:"number",inputMode:"decimal",step:"any",min:"0",placeholder:"Target Value",value:D.targetValue,onChange:L=>S(D.employeeId,L.target.value),className:"input bg-background-muted border-border",required:!0})}),jsxRuntimeExports.jsx("div",{className:"col-span-1",children:jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>$(D.employeeId),className:"p-2 text-red-500 hover:bg-red-500/10 rounded-full",title:"Remove Employee",children:jsxRuntimeExports.jsx(Trash2,{size:16})})})]},D.employeeId)})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 p-6 border-t border-border flex-shrink-0",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",disabled:b,children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"btn-primary",disabled:b,children:b?jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-2",children:[jsxRuntimeExports.jsx(Loader,{className:"animate-spin",size:16})," Saving..."]}):"Save KPI"})]})]})]})},API_URL$O="https://javapaas-202946-0.cloudclusters.net/api",KpiDetailsModal=({isOpen:e,onClose:t,kpi:n})=>{if(!e||!n)return null;const o=({label:l,value:u})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-foreground-muted",children:l}),jsxRuntimeExports.jsx("p",{className:"font-medium text-foreground",children:u||"N/A"})]});return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-center z-50 p-4",onClick:t,children:jsxRuntimeExports.jsxs("div",{className:"bg-card text-card-foreground rounded-lg shadow-xl w-full max-w-3xl",onClick:l=>l.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h3",{className:"text-xl font-semibold text-foreground",children:["KPI Details: ",n.name]}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 max-h-[80vh] overflow-y-auto space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 border-b pb-4",children:[jsxRuntimeExports.jsx(o,{label:"KPI Name",value:n.name}),jsxRuntimeExports.jsx(o,{label:"Description",value:n.description}),jsxRuntimeExports.jsx(o,{label:"Type",value:n.type}),jsxRuntimeExports.jsx(o,{label:"Data Type",value:n.dataType}),jsxRuntimeExports.jsx(o,{label:"Location",value:n.locationName})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold mb-3 text-foreground",children:"Assigned Employees & Targets"}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:n.assignedEmployees?.map(l=>jsxRuntimeExports.jsxs("li",{className:"text-sm p-2 bg-background-muted rounded flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:l.employeeName}),jsxRuntimeExports.jsx("span",{className:"font-semibold",children:l.targetValue})]},l.id))||jsxRuntimeExports.jsx("li",{children:"No employees assigned."})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold mb-3 text-foreground",children:"Performance Ranges"}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:n.ranges?.map(l=>jsxRuntimeExports.jsxs("li",{className:"text-sm p-2 bg-background-muted rounded flex items-center justify-between",children:[jsxRuntimeExports.jsxs("span",{children:[l.fromPercent,"% to ",l.toPercent,"%"]}),jsxRuntimeExports.jsx("div",{className:"w-5 h-5 rounded-full border",style:{backgroundColor:l.color}})]},l.id))||jsxRuntimeExports.jsx("li",{children:"No ranges defined."})})]})]})]}),jsxRuntimeExports.jsx("div",{className:"p-4 bg-background-muted border-t flex justify-end",children:jsxRuntimeExports.jsx("button",{onClick:t,className:"btn-secondary",children:"Close"})})]})})},KpiList=({locationId:e})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState(!0),[u,m]=reactExports.useState(""),[p,j]=reactExports.useState("list"),[f,g]=reactExports.useState(null),[b,R]=reactExports.useState(null),[v,N]=reactExports.useState(!1),[S,$]=reactExports.useState(""),C=reactExports.useMemo(()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),[]),A=reactExports.useCallback(async()=>{l(!0),m("");try{const q=await axios.get(`${API_URL$O}/crm/kpis`,{headers:C});n(Array.isArray(q.data)?q.data:[])}catch(q){console.error(q),m(q.response?.data?.message||"Failed to fetch KPIs.")}finally{l(!1)}},[C]);reactExports.useEffect(()=>{A()},[A]);const T=()=>{g(null),j("form")},D=q=>{g(q),j("form")},I=()=>{j("list"),g(null)},L=q=>{R(q),N(!0)},_=()=>{N(!1),R(null)},M=async q=>{const z=!!f?.id,V=z?`${API_URL$O}/crm/kpis/${f.id}`:`${API_URL$O}/crm/kpis`,Q=z?"put":"post";try{await axios[Q](V,q,{headers:C}),await A(),I()}catch(ee){console.error(ee);const G=ee.response?.data?.message||ee.message||"Failed to save KPI.";alert(`Error: ${G}`)}},F=async q=>{if(!q){alert("Missing KPI id.");return}if(window.confirm("Are you sure you want to delete this KPI and all its assignments?"))try{await axios.delete(`${API_URL$O}/crm/kpis/${q}`,{headers:C}),await A()}catch(z){console.error(z);const V=z.response?.data?.message||z.message||"Failed to delete KPI.";alert(`Error: ${V}`)}},B=reactExports.useMemo(()=>{const q=S.trim().toLowerCase();let z=t;return e==="none"?z=t.filter(V=>!V.locationId):e&&e!=="all"&&(z=t.filter(V=>String(V.locationId)===String(e))),z.filter(V=>!q||String(V?.name??"").toLowerCase().includes(q))},[t,S,e]);return p==="form"?jsxRuntimeExports.jsx("div",{className:"h-full",children:jsxRuntimeExports.jsx(KpiFormPage,{item:f,onSave:M,onCancel:I})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Manage KPIs"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",value:S,onChange:q=>$(q.target.value),className:"input w-full sm:w-64 pr-10 bg-background-muted border-border"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-foreground-muted"})]}),jsxRuntimeExports.jsxs("button",{onClick:T,className:"flex items-center gap-2 btn-secondary",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Add KPI"]})]})]}),u&&jsxRuntimeExports.jsx("p",{className:"text-red-500 mb-4",children:u}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-border rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"KPI Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Type"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Data Type"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Location"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Assigned Employees"}),jsxRuntimeExports.jsx("th",{className:"th-cell w-32",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-card divide-y divide-border text-foreground-muted",children:o?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"6",className:"text-center py-10",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary mx-auto"})})}):B.length>0?B.map(q=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium text-foreground",children:String(q?.name??"")}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:String(q?.type??"")}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:String(q?.dataType??"")}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:q.locationName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell max-w-xs truncate",title:Array.isArray(q?.assignedEmployees)&&q.assignedEmployees.length>0?q.assignedEmployees.map(z=>z.employeeName).join(", "):"None",children:Array.isArray(q?.assignedEmployees)&&q.assignedEmployees.length>0?q.assignedEmployees.map(z=>z.employeeName).join(", "):jsxRuntimeExports.jsx("span",{className:"text-foreground-muted/70",children:"None"})}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>L(q),className:"text-sky-500 hover:text-sky-600",title:"View Details",children:jsxRuntimeExports.jsx(Eye,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>D(q),className:"text-primary hover:text-primary/80",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>F(q.id),className:"text-red-500 hover:text-red-600",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},q.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"6",className:"text-center py-10",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-foreground",children:"No KPIs found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"Get started by adding a new KPI."})]})})})]})}),jsxRuntimeExports.jsx(KpiDetailsModal,{isOpen:v,onClose:_,kpi:b})]})},API_URL$N="https://javapaas-202946-0.cloudclusters.net/api",Modal$3=({isOpen:e,onClose:t,title:n,children:o})=>e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-center z-50 p-4",onClick:t,children:jsxRuntimeExports.jsxs("div",{className:"bg-card text-card-foreground rounded-lg shadow-xl w-full max-w-md",onClick:l=>l.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-foreground",children:n}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-1 rounded-full text-foreground-muted hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsx("div",{className:"p-6",children:o})]})}):null,RangeForm=({item:e,onSave:t,onCancel:n,loading:o})=>{const[l,u]=reactExports.useState({fromPercent:0,toPercent:100,color:"#4ade80"});reactExports.useEffect(()=>{u(e?{fromPercent:e.fromPercent||0,toPercent:e.toPercent||100,color:e.color||"#4ade80"}:{fromPercent:0,toPercent:100,color:"#4ade80"})},[e]);const m=j=>{const{name:f,value:g}=j.target;u(b=>({...b,[f]:g}))},p=j=>{j.preventDefault(),t({...e,...l})};return jsxRuntimeExports.jsxs("form",{onSubmit:p,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"fromPercent",className:"block text-sm font-medium text-foreground-muted",children:"From %"}),jsxRuntimeExports.jsx("input",{type:"number",id:"fromPercent",name:"fromPercent",value:l.fromPercent,onChange:m,className:"input bg-background-muted border-border"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"toPercent",className:"block text-sm font-medium text-foreground-muted",children:"To %"}),jsxRuntimeExports.jsx("input",{type:"number",id:"toPercent",name:"toPercent",value:l.toPercent,onChange:m,className:"input bg-background-muted border-border"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"color",className:"block text-sm font-medium text-foreground-muted",children:"Color"}),jsxRuntimeExports.jsx("input",{type:"color",id:"color",name:"color",value:l.color,onChange:m,className:"input p-1 h-10 w-full bg-background-muted border-border"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",disabled:o,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:o,children:[o&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"})," Save Range"]})]})]})},KpiRangeTab=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(""),[l,u]=reactExports.useState([]),[m,p]=reactExports.useState({kpis:!0,ranges:!1}),[j,f]=reactExports.useState(""),[g,b]=reactExports.useState(!1),[R,v]=reactExports.useState(null),[N,S]=reactExports.useState(!1),$=reactExports.useMemo(()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),[]);reactExports.useEffect(()=>{(async()=>{p(_=>({..._,kpis:!0}));try{const _=await axios.get(`${API_URL$N}/crm/kpis`,{headers:$});t(_.data),_.data.length>0&&o(_.data[0].id)}catch{f("Failed to fetch KPIs.")}finally{p(_=>({..._,kpis:!1}))}})()},[$]),reactExports.useEffect(()=>{if(!n){u([]);return}(async()=>{p(_=>({..._,ranges:!0}));try{const _=await axios.get(`${API_URL$N}/crm/kpis/${n}/ranges`,{headers:$});u(_.data)}catch{f("Failed to fetch ranges for the selected KPI.")}finally{p(_=>({..._,ranges:!1}))}})()},[n,$]);const C=()=>{v(null),b(!0)},A=L=>{v(L),b(!0)},T=()=>{b(!1),v(null)},D=async L=>{S(!0);const _=!!L.id,M=_?`${API_URL$N}/crm/kpis/${n}/ranges/${L.id}`:`${API_URL$N}/crm/kpis/${n}/ranges`,F=_?"put":"post";try{await axios[F](M,L,{headers:$});const B=await axios.get(`${API_URL$N}/crm/kpis/${n}/ranges`,{headers:$});u(B.data),T()}catch(B){alert(`Error: ${B.response?.data?.message||"Failed to save range."}`)}finally{S(!1)}},I=async L=>{if(window.confirm("Are you sure you want to delete this range?"))try{await axios.delete(`${API_URL$N}/crm/kpis/${n}/ranges/${L}`,{headers:$}),u(_=>_.filter(M=>M.id!==L))}catch(_){alert(`Error: ${_.response?.data?.message||"Failed to delete range."}`)}};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("label",{htmlFor:"kpi-select",className:"text-sm font-medium text-foreground-muted",children:"Select KPI:"}),jsxRuntimeExports.jsx("select",{id:"kpi-select",value:n,onChange:L=>o(L.target.value),className:"input bg-background-muted border-border",disabled:m.kpis,children:m.kpis?jsxRuntimeExports.jsx("option",{children:"Loading KPIs..."}):e.map(L=>jsxRuntimeExports.jsx("option",{value:L.id,children:L.name},L.id))})]}),jsxRuntimeExports.jsxs("button",{onClick:C,className:"flex items-center gap-2 btn-secondary",disabled:!n,children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Add Range"]})]}),j&&jsxRuntimeExports.jsx("p",{className:"text-red-500 mb-4",children:j}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-border rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"From (%)"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"To (%)"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Color"}),jsxRuntimeExports.jsx("th",{className:"th-cell w-32",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-card divide-y divide-border text-foreground-muted",children:m.ranges?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"4",className:"text-center py-10",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary mx-auto"})})}):l.length>0?l.map(L=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"td-cell",children:L.fromPercent}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:L.toPercent}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsx("div",{className:"w-6 h-6 rounded-full border border-border",style:{backgroundColor:L.color}})}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>A(L),className:"text-primary hover:text-primary/80",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>I(L.id),className:"text-red-500 hover:text-red-600",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},L.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"4",className:"text-center py-10",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-foreground",children:"No ranges found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"Get started by adding a new range for this KPI."})]})})})]})}),jsxRuntimeExports.jsx(Modal$3,{isOpen:g,onClose:T,title:R?"Edit Range":"Add Range",children:jsxRuntimeExports.jsx(RangeForm,{item:R,onSave:D,onCancel:T,loading:N})})]})},KpiEmployeeDetailsTab=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState(""),[m,p]=reactExports.useState(""),j=reactExports.useMemo(()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),[]);reactExports.useEffect(()=>{(async()=>{o(!0),u("");try{const b=await axios.get(`${API_URL$N}/crm/kpis`,{headers:j}),v=(Array.isArray(b.data)?b.data:[]).flatMap(N=>(N.assignedEmployees||[]).map(S=>({...S,kpiName:N.name})));t(v)}catch(b){u("Failed to fetch employee KPI assignments."),console.error(b)}finally{o(!1)}})()},[j]);const f=reactExports.useMemo(()=>{if(!m)return e;const g=m.toLowerCase();return e.filter(b=>(b.employeeName||"").toLowerCase().includes(g)||(b.kpiName||"").toLowerCase().includes(g))},[e,m]);return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"All Employee KPI Assignments"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by employee or KPI...",value:m,onChange:g=>p(g.target.value),className:"input w-full sm:w-64 pr-10 bg-background-muted border-border"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-foreground-muted"})]})]}),l&&jsxRuntimeExports.jsx("p",{className:"text-red-500 mb-4",children:l}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-border rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell w-16",children:"#"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Employee Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"KPI Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Target Value"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-card divide-y divide-border text-foreground-muted",children:n?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"4",className:"text-center py-10",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary mx-auto"})})}):f.length>0?f.map((g,b)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"td-cell",children:b+1}),jsxRuntimeExports.jsx("td",{className:"td-cell font-medium text-foreground",children:g.employeeName}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:g.kpiName}),jsxRuntimeExports.jsx("td",{className:"td-cell font-semibold",children:g.targetValue})]},`${g.kpiId}-${g.employeeId}`)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"4",className:"text-center py-10",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-foreground",children:"No Assignments Found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"No employees have been assigned to any KPIs yet."})]})})})]})})]})},tabs=[{name:"KPIs",icon:Target,component:KpiList},{name:"Ranges",icon:SlidersVertical,component:KpiRangeTab},{name:"Employee Details",icon:Users,component:KpiEmployeeDetailsTab}],ManageKpi=({locationId:e})=>{const[t,n]=reactExports.useState(tabs[0].name),o=tabs.find(l=>l.name===t)?.component;return jsxRuntimeExports.jsxs("div",{className:"p-6 bg-card rounded-xl shadow-sm flex flex-col h-full",children:[jsxRuntimeExports.jsx("div",{className:"border-b border-border mb-6",children:jsxRuntimeExports.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:tabs.map(l=>jsxRuntimeExports.jsxs("button",{onClick:()=>n(l.name),className:`whitespace-nowrap flex items-center py-3 px-1 border-b-2 font-medium text-sm transition-colors ${t===l.name?"border-primary text-primary":"border-transparent text-foreground-muted hover:text-foreground hover:border-border"}`,children:[jsxRuntimeExports.jsx(l.icon,{className:"mr-2 h-5 w-5"}),l.name]},l.name))})}),jsxRuntimeExports.jsx("div",{className:"flex-grow overflow-hidden",children:o&&jsxRuntimeExports.jsx(o,{locationId:e})})]})},API_URL$M="https://javapaas-202946-0.cloudclusters.net/api",Modal$2=({isOpen:e,onClose:t,title:n,children:o})=>e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-center z-50 p-4",onClick:t,children:jsxRuntimeExports.jsxs("div",{className:"bg-card text-card-foreground rounded-lg shadow-xl w-full max-w-md",onClick:l=>l.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-foreground",children:n}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-1 rounded-full text-foreground-muted hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsx("div",{className:"p-6",children:o})]})}):null,LeadStageForm=({item:e,onSave:t,onCancel:n,loading:o,locations:l})=>{const[u,m]=reactExports.useState({name:"",isDefault:!1,locationId:""});reactExports.useEffect(()=>{m(e?{name:e.name||"",isDefault:e.isDefault||!1,locationId:e.locationId||""}:{name:"",isDefault:!1,locationId:""})},[e]);const p=f=>{const{name:g,value:b,type:R,checked:v}=f.target;m(N=>({...N,[g]:R==="checkbox"?v:b}))},j=f=>{f.preventDefault(),t({id:e?.id,...u})};return jsxRuntimeExports.jsxs("form",{onSubmit:j,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-foreground-muted",children:"Stage Name"}),jsxRuntimeExports.jsx("input",{id:"name",name:"name",value:u.name,onChange:p,required:!0,className:"input mt-1 bg-background-muted border-border text-foreground",placeholder:"e.g., New, Qualified, Proposal"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"locationId",className:"block text-sm font-medium text-foreground-muted",children:"Location (Optional)"}),jsxRuntimeExports.jsxs("select",{id:"locationId",name:"locationId",value:u.locationId,onChange:p,className:"input mt-1 bg-background-muted border-border text-foreground",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Location"}),l.map(f=>jsxRuntimeExports.jsx("option",{value:f.id,children:f.name},f.id))]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-6 pt-2",children:jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"isDefault",checked:u.isDefault,onChange:p,className:"h-4 w-4 rounded"})," Set as default stage"]})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",disabled:o,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:o,children:[o&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"})," Save"]})]})]})},CrmLeadStage=({locationId:e})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState([]),[u,m]=reactExports.useState(!0),[p,j]=reactExports.useState(""),[f,g]=reactExports.useState(!1),[b,R]=reactExports.useState(null),[v,N]=reactExports.useState(!1),[S,$]=reactExports.useState(""),C=reactExports.useMemo(()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),[]),A=reactExports.useCallback(async()=>{m(!0),j("");try{const[q,z]=await Promise.all([axios.get(`${API_URL$M}/crm/lead-stages`,{headers:C}),axios.get(`${API_URL$M}/locations`,{headers:C})]);n(Array.isArray(q.data)?q.data:[]),l(Array.isArray(z.data)?z.data:[])}catch(q){j("Failed to fetch data."),console.error(q)}finally{m(!1)}},[C]);reactExports.useEffect(()=>{A()},[A]);const T=()=>{R({locationId:e!=="all"?e:""}),g(!0)},D=q=>{R(q),g(!0)},I=()=>{g(!1),R(null)},L=async q=>{N(!0),{...q,locationId:q.locationId};const z=!!q.id,V=z?`${API_URL$M}/crm/lead-stages/${q.id}`:`${API_URL$M}/crm/lead-stages`,Q=z?"put":"post";try{await axios[Q](V,q,{headers:C}),await A(),I()}catch(ee){alert(`Error: ${ee.response?.data?.message||"Failed to save lead stage."}`)}finally{N(!1)}},_=async q=>{if(window.confirm("Are you sure you want to delete this lead stage?"))try{await axios.delete(`${API_URL$M}/crm/lead-stages/${q}`,{headers:C}),await A()}catch(z){alert(`Error: ${z.response?.data?.message||"Failed to delete lead stage."}`)}},M=async(q,z)=>{try{await axios.post(`${API_URL$M}/crm/lead-stages/${q}/move-${z}`,{},{headers:C}),await A()}catch(V){alert(`Error moving stage: ${V.response?.data?.message||"Operation failed."}`)}},F=async q=>{try{await axios.post(`${API_URL$M}/crm/lead-stages/${q}/set-default`,{},{headers:C}),await A()}catch(z){alert(`Error setting default: ${z.response?.data?.message||"Operation failed."}`)}},B=reactExports.useMemo(()=>{let q=t;return e==="none"?q=t.filter(z=>!z.locationId):e&&e!=="all"&&(q=t.filter(z=>String(z.locationId)===String(e))),q.filter(z=>!S||z.name.toLowerCase().includes(S.toLowerCase()))},[t,S,e]);return jsxRuntimeExports.jsxs("div",{className:"p-6 bg-card rounded-xl shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Manage Lead Stages"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",value:S,onChange:q=>$(q.target.value),className:"input w-full sm:w-64 pr-10 bg-background-muted border-border"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-foreground-muted"})]}),jsxRuntimeExports.jsxs("button",{onClick:T,className:"flex items-center gap-2 btn-secondary",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Add Stage"]})]})]}),p&&jsxRuntimeExports.jsx("p",{className:"text-red-500 mb-4",children:p}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-border rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell w-16",children:"Order"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Stage Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Location"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Is Default"}),jsxRuntimeExports.jsx("th",{className:"th-cell w-24",children:"Reorder"}),jsxRuntimeExports.jsx("th",{className:"th-cell w-48",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-card divide-y divide-border text-foreground-muted",children:u?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"6",className:"text-center py-10",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary mx-auto"})})}):B.length>0?B.map((q,z,V)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-background-muted transition-colors",children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium",children:q.sortOrder}),jsxRuntimeExports.jsx("td",{className:"td-cell font-medium text-foreground",children:q.name}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:q.locationName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:q.isDefault?jsxRuntimeExports.jsx(Star,{size:16,className:"text-amber-500 fill-amber-400",title:"Default Stage"}):null}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>M(q.id,"up"),disabled:z===0,className:"p-1 disabled:opacity-30",children:jsxRuntimeExports.jsx(ArrowUp,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>M(q.id,"down"),disabled:z===V.length-1,className:"p-1 disabled:opacity-30",children:jsxRuntimeExports.jsx(ArrowDown,{size:16})})]})}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>F(q.id),disabled:q.isDefault,className:"btn-secondary btn-sm disabled:opacity-50",children:"Set Default"}),jsxRuntimeExports.jsx("button",{onClick:()=>D(q),className:"text-primary hover:text-primary/80 p-1",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>_(q.id),className:"text-red-500 hover:text-red-600 p-1",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},q.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"6",className:"text-center py-10",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-foreground",children:"No lead stages found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"Get started by adding a new lead stage."})]})})})]})}),jsxRuntimeExports.jsx(Modal$2,{isOpen:f,onClose:I,title:b?.id?"Edit Lead Stage":"Add Lead Stage",children:jsxRuntimeExports.jsx(LeadStageForm,{item:b,onSave:L,onCancel:I,loading:v,locations:o})})]})},API_URL$L="https://javapaas-202946-0.cloudclusters.net/api",Modal$1=({isOpen:e,onClose:t,title:n,children:o})=>e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-center z-50 p-4",onClick:t,children:jsxRuntimeExports.jsxs("div",{className:"bg-card text-card-foreground rounded-lg shadow-xl w-full max-w-md",onClick:l=>l.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-foreground",children:n}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-1 rounded-full text-foreground-muted hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsx("div",{className:"p-6",children:o})]})}):null,TaskStageForm=({item:e,onSave:t,onCancel:n,loading:o,locations:l})=>{const[u,m]=reactExports.useState({statusName:"",completed:!1,isDefault:!1,locationId:""});reactExports.useEffect(()=>{m(e?{statusName:e.statusName||"",completed:e.completed||!1,isDefault:e.isDefault||!1,locationId:e.locationId||""}:{statusName:"",completed:!1,isDefault:!1,locationId:""})},[e]);const p=f=>{const{name:g,value:b,type:R,checked:v}=f.target;m(N=>({...N,[g]:R==="checkbox"?v:b}))},j=f=>{f.preventDefault(),t({id:e?.id,...u})};return jsxRuntimeExports.jsxs("form",{onSubmit:j,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"statusName",className:"block text-sm font-medium text-foreground-muted",children:"Stage Name"}),jsxRuntimeExports.jsx("input",{id:"statusName",name:"statusName",value:u.statusName,onChange:p,required:!0,className:"input mt-1 bg-background-muted border-border text-foreground",placeholder:"e.g., To Do, In Progress"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"locationId",className:"block text-sm font-medium text-foreground-muted",children:"Location (Optional)"}),jsxRuntimeExports.jsxs("select",{id:"locationId",name:"locationId",value:u.locationId,onChange:p,className:"input mt-1 bg-background-muted border-border text-foreground",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Location"}),l.map(f=>jsxRuntimeExports.jsx("option",{value:f.id,children:f.name},f.id))]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-6 pt-2",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"completed",checked:u.completed,onChange:p,className:"h-4 w-4 rounded"}),' Mark as "Completed" stage']}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"isDefault",checked:u.isDefault,onChange:p,className:"h-4 w-4 rounded"})," Set as default stage"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",disabled:o,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:o,children:[o&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"})," Save"]})]})]})},TaskStage=({locationId:e})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState([]),[u,m]=reactExports.useState(!0),[p,j]=reactExports.useState(""),[f,g]=reactExports.useState(!1),[b,R]=reactExports.useState(null),[v,N]=reactExports.useState(!1),[S,$]=reactExports.useState(""),C=reactExports.useMemo(()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),[]),A=reactExports.useCallback(async()=>{m(!0),j("");try{const[q,z]=await Promise.all([axios.get(`${API_URL$L}/crm/task-stages`,{headers:C}),axios.get(`${API_URL$L}/locations`,{headers:C})]);n(Array.isArray(q.data)?q.data:[]),l(Array.isArray(z.data)?z.data:[])}catch(q){j("Failed to fetch data."),console.error(q)}finally{m(!1)}},[C]);reactExports.useEffect(()=>{A()},[A]);const T=()=>{R({locationId:e!=="all"?e:""}),g(!0)},D=q=>{R(q),g(!0)},I=()=>{g(!1),R(null)},L=async q=>{N(!0),{...q,locationId:q.locationId};const z=!!q.id,V=z?`${API_URL$L}/crm/task-stages/${q.id}`:`${API_URL$L}/crm/task-stages`,Q=z?"put":"post";try{await axios[Q](V,q,{headers:C}),await A(),I()}catch(ee){alert(`Error: ${ee.response?.data?.message||"Failed to save task stage."}`)}finally{N(!1)}},_=async q=>{if(window.confirm("Are you sure you want to delete this task stage?"))try{await axios.delete(`${API_URL$L}/crm/task-stages/${q}`,{headers:C}),await A()}catch(z){alert(`Error: ${z.response?.data?.message||"Failed to delete task stage."}`)}},M=async(q,z)=>{try{await axios.post(`${API_URL$L}/crm/task-stages/${q}/move-${z}`,{},{headers:C}),await A()}catch(V){alert(`Error moving stage: ${V.response?.data?.message||"Operation failed."}`)}},F=async q=>{try{await axios.post(`${API_URL$L}/crm/task-stages/${q}/set-default`,{},{headers:C}),await A()}catch(z){alert(`Error setting default: ${z.response?.data?.message||"Operation failed."}`)}},B=reactExports.useMemo(()=>{let q=t;return e==="none"?q=t.filter(z=>!z.locationId):e&&e!=="all"&&(q=t.filter(z=>String(z.locationId)===String(e))),q.filter(z=>!S||z.statusName.toLowerCase().includes(S.toLowerCase()))},[t,S,e]);return jsxRuntimeExports.jsxs("div",{className:"p-6 bg-card rounded-xl shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Manage Task Stages"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",value:S,onChange:q=>$(q.target.value),className:"input w-full sm:w-64 pr-10 bg-background-muted border-border"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-foreground-muted"})]}),jsxRuntimeExports.jsxs("button",{onClick:T,className:"flex items-center gap-2 btn-secondary",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Add Stage"]})]})]}),p&&jsxRuntimeExports.jsx("p",{className:"text-red-500 mb-4",children:p}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-border rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell w-16",children:"#"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Stage Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Location"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:'Is "Completed"'}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Is Default"}),jsxRuntimeExports.jsx("th",{className:"th-cell w-24",children:"Order"})," ",jsxRuntimeExports.jsx("th",{className:"th-cell w-48",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-card divide-y divide-border text-foreground-muted",children:u?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"6",className:"text-center py-10",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary mx-auto"})})}):B.length>0?B.map((q,z,V)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-background-muted transition-colors",children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium",children:q.sortOrder})," ",jsxRuntimeExports.jsx("td",{className:"td-cell font-medium text-foreground",children:q.statusName}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:q.locationName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsx("span",{className:`inline-block h-3 w-3 rounded-full ${q.completed?"bg-green-500":"bg-slate-300"}`,title:q.completed?"Completed":"Not Completed"})}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:q.isDefault?jsxRuntimeExports.jsx(Star,{size:16,className:"text-amber-500 fill-amber-400",title:"Default Stage"}):jsxRuntimeExports.jsx("span",{className:"inline-block h-3 w-3 rounded-full bg-slate-300",title:"Not Default"})}),jsxRuntimeExports.jsxs("td",{className:"td-cell",children:[" ",jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>M(q.id,"up"),disabled:z===0,className:"p-1 disabled:opacity-30 disabled:cursor-not-allowed",children:jsxRuntimeExports.jsx(ArrowUp,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>M(q.id,"down"),disabled:z===V.length-1,className:"p-1 disabled:opacity-30 disabled:cursor-not-allowed",children:jsxRuntimeExports.jsx(ArrowDown,{size:16})})]})]}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>F(q.id),disabled:q.isDefault,className:"btn-secondary btn-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Set Default"}),jsxRuntimeExports.jsx("button",{onClick:()=>D(q),className:"text-primary hover:text-primary/80 p-1",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>_(q.id),className:"text-red-500 hover:text-red-600 p-1",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},q.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"7",className:"text-center py-10",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-foreground",children:"No task stages found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"Get started by adding a new task stage."})]})})})]})}),jsxRuntimeExports.jsx(Modal$1,{isOpen:f,onClose:I,title:b?"Edit Task Stage":"Add Task Stage",children:jsxRuntimeExports.jsx(TaskStageForm,{item:b,onSave:L,onCancel:I,loading:v,locations:o})})]})},API_URL$K="https://javapaas-202946-0.cloudclusters.net/api",HumanResourceTab=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState(""),[m,p]=reactExports.useState(""),[j,f]=reactExports.useState(!1),[g,b]=reactExports.useState(null),R=reactExports.useMemo(()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),[]),v=reactExports.useCallback(async()=>{o(!0),u("");try{const A=await axios.get(`${API_URL$K}/employees/all`,{headers:R}),T=await Promise.all(A.data.map(async D=>{try{const I=await axios.get(`${API_URL$K}/job-details/${D.employeeCode}`,{headers:R});console.log(`Job details for ${D.employeeCode}:`,I.data);const L=await axios.get(`${API_URL$K}/users/email/${D.emailWork}`,{headers:R}).catch(()=>({data:{roles:["EMPLOYEE"]}}));return{...D,jobDetails:I.data,roles:L.data.roles}}catch(I){return console.warn(`Could not fetch job details or user roles for ${D.employeeCode}:`,I),{...D,jobDetails:null,roles:["EMPLOYEE"]}}}));t(T)}catch(A){u("Failed to fetch employee data."),console.error(A)}finally{o(!1)}},[R]);reactExports.useEffect(()=>{v()},[v]);const N=reactExports.useMemo(()=>{if(!m)return e;const A=m.toLowerCase();return e.filter(T=>T.firstName&&T.firstName.toLowerCase().includes(A)||T.lastName&&T.lastName.toLowerCase().includes(A)||T.employeeCode&&T.employeeCode.toLowerCase().includes(A)||T.emailWork&&T.emailWork.toLowerCase().includes(A)||T.jobDetails?.department&&T.jobDetails.department.toLowerCase().includes(A)||T.jobDetails?.designation&&T.jobDetails.designation.toLowerCase().includes(A))},[e,m]),S=()=>{v(),f(!1),b(null)},$=A=>{f(!0),b(A)},C=async(A,T)=>{if(window.confirm(`Are you sure you want to delete employee ${T} (${A})? This action cannot be undone.`))try{o(!0),await axios.delete(`${API_URL$K}/employees/${A}`,{headers:R}),alert("Employee deleted successfully!"),v()}catch(D){u(`Failed to delete employee: ${D.response?.data?.message||D.message}`)}finally{o(!1)}};return jsxRuntimeExports.jsxs("div",{className:"p-6 bg-card rounded-xl shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Manage Employees"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search employees...",value:m,onChange:A=>p(A.target.value),className:"input w-full sm:w-64 pr-10 bg-background-muted border-border text-foreground"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-foreground-muted"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{f(!0),b(null)},className:"flex items-center gap-2 btn-secondary",children:[jsxRuntimeExports.jsx(Plus,{size:16})," Add Employee"]})]})]}),l&&jsxRuntimeExports.jsx("p",{className:"text-red-500 mb-4",children:l}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-border rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell w-16",children:"#"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Department"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Designation"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Employee Code"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Reports To"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Email ID"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Mobile Number"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Roles"}),jsxRuntimeExports.jsx("th",{className:"th-cell w-32",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-card divide-y divide-border text-foreground-muted",children:n?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"10",className:"text-center py-10",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary mx-auto"})})}):N.length>0?N.map((A,T)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-background-muted transition-colors",children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium",children:T+1}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:A.jobDetails?.department||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:A.jobDetails?.designation||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell font-medium text-foreground",children:`${A.firstName} ${A.lastName}`}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:A.employeeCode}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:A.jobDetails?.reportsTo||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:A.emailWork||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:A.phonePrimary||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:A.roles?.join(", ")||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>$(A),className:"text-primary hover:text-primary/80 p-1",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>C(A.employeeCode,`${A.firstName} ${A.lastName}`),className:"text-red-500 hover:text-red-600 p-1",title:"Delete",disabled:n,children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},A.employeeCode)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"10",className:"text-center py-10",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-foreground",children:"No employees found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"Add new employees to get started."})]})})})]})}),jsxRuntimeExports.jsx(AddEmployeeModal,{isOpen:j,onClose:()=>{f(!1),b(null)},onEmployeeAdded:S,simplified:!0,employeeToEdit:g})]})},API_URL$J="https://javapaas-202946-0.cloudclusters.net/api",crmNavLinks$1=[{name:"Company Details",icon:Building,component:jsxRuntimeExports.jsx(CompanyDetails,{title:"Company Details"}),color:"text-cyan-500"},{name:"Location Details",icon:MapPin,component:jsxRuntimeExports.jsx(LocationDetails,{title:"Location Details"}),color:"text-orange-500"},{name:"Department",icon:Building2,component:jsxRuntimeExports.jsx(Department,{embedded:!0}),color:"text-red-500"},{name:"Human Resources",icon:Users,component:jsxRuntimeExports.jsx(HumanResourceTab,{}),color:"text-indigo-500"},{name:"Designation",icon:Briefcase,component:jsxRuntimeExports.jsx(Designation,{embedded:!0}),color:"text-blue-500"},{name:"Company Type",icon:Tags,component:jsxRuntimeExports.jsx(CrmCompanyType,{title:"Company Type"}),color:"text-purple-500"},{name:"Industry",icon:Factory,component:jsxRuntimeExports.jsx(CrmIndustry,{title:"Industry"}),color:"text-rose-500"},{name:"Product",icon:Package,component:jsxRuntimeExports.jsx(CrmProduct,{title:"Product"}),color:"text-green-500"},{name:"Manage KPI",icon:Target,component:jsxRuntimeExports.jsx(ManageKpi,{title:"Manage KPI"}),color:"text-indigo-500"},{name:"Lead Stage",icon:ListFilter,component:jsxRuntimeExports.jsx(CrmLeadStage,{title:"Lead Stage"}),color:"text-yellow-500"},{name:"Task Stage",icon:ListTodo,component:jsxRuntimeExports.jsx(TaskStage,{title:"Task Stage"}),color:"text-teal-500"}],CrmSettings=()=>{const e=useNavigate(),[t,n]=reactExports.useState(!1),[o,l]=reactExports.useState(crmNavLinks$1[0].name),[u,m]=reactExports.useState([]),[p,j]=reactExports.useState(""),[f,g]=reactExports.useState(!0);reactExports.useEffect(()=>{(async()=>{g(!0);try{const S=localStorage.getItem("token"),$=await axios.get(`${API_URL$J}/locations`,{headers:{Authorization:`Bearer ${S}`}});m($.data),$.data.length>0&&j("all")}catch(S){console.error("Failed to fetch locations:",S)}finally{g(!1)}})()},[]);const b=crmNavLinks$1.find(N=>N.name===o)?.component,R="bg-blue-50 border-l-4 border-blue-600 text-blue-700 font-semibold",v="border-l-4 border-transparent text-slate-600 hover:bg-slate-50 hover:text-slate-800";return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full bg-slate-50",children:[jsxRuntimeExports.jsx("header",{className:"bg-white shadow-sm p-4 border-b border-slate-200 z-20",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>e(-1),className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"h-5 w-5 text-slate-600"})}),jsxRuntimeExports.jsx("button",{onClick:()=>n(!0),className:"md:hidden p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(Menu,{className:"h-5 w-5 text-slate-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold text-slate-800",children:"CRM Configuration"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-500",children:"Manage company-wide settings for the CRM module."})]})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(MapPin,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),jsxRuntimeExports.jsxs("select",{value:p,onChange:N=>j(N.target.value),className:"pl-10 pr-8 py-2 text-sm border border-slate-300 rounded-md focus:ring-blue-500 focus:border-blue-500 w-full sm:w-56",disabled:f,children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Locations"}),f?jsxRuntimeExports.jsx("option",{children:"Loading..."}):u.map(N=>jsxRuntimeExports.jsx("option",{value:N.id,children:N.name},N.id))]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex-grow flex",children:[t&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 md:hidden",onClick:()=>n(!1)}),jsxRuntimeExports.jsxs("aside",{className:`fixed inset-y-0 left-0 z-40 w-64 bg-white border-r border-slate-200 p-4 md:p-6 transform transition-transform duration-300 ease-in-out md:relative md:translate-x-0 ${t?"translate-x-0":"-translate-x-full"}`,children:[jsxRuntimeExports.jsx("button",{onClick:()=>n(!1),className:"md:hidden p-2 rounded-full hover:bg-slate-100 absolute top-2 right-2",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5 text-slate-600"})}),jsxRuntimeExports.jsx("nav",{className:"flex flex-col space-y-2 mt-10 md:mt-0",children:crmNavLinks$1.map(N=>jsxRuntimeExports.jsxs("button",{onClick:()=>{l(N.name),n(!1)},className:`flex items-center gap-3 px-3 py-2.5 rounded-md text-sm font-medium transition-all ${o===N.name?R:v}`,children:[jsxRuntimeExports.jsx(N.icon,{className:`h-5 w-5 ${N.color}`}),jsxRuntimeExports.jsx("span",{children:N.name})]},N.name))})]}),jsxRuntimeExports.jsx("main",{className:"flex-grow p-6 md:p-8 w-full md:w-auto",children:b?React.cloneElement(b,{locationId:p}):jsxRuntimeExports.jsx("p",{children:"Select a setting from the sidebar."})})]})]})},productionNavLinks=[{name:"Manage Manufacturing Order",icon:Factory,href:"/production-dashboard/manage-manufacturing-order"},{name:"View Manufacturing Order",icon:List,href:"/production-dashboard/view-manufacturing-order"},{name:"Production Schedule",icon:Calendar,href:"/production-dashboard/production-schedule"},{name:"Production Operation",icon:Activity,href:"/production-dashboard/production-operation"},{name:"My Production",icon:User,href:"/production-dashboard/my-production"},{name:"Material Requisition",icon:ClipboardList,href:"/production-dashboard/material-requisition"},{name:"Work Order Report",icon:FileText,href:"/production-dashboard/work-order-report"}],SidebarContent$4=({onLinkClick:e})=>{useLocation();const t=useNavigate(),n=()=>{localStorage.clear(),t("/login")},o=({item:l})=>jsxRuntimeExports.jsxs(NavLink,{to:l.href,onClick:e,end:!0,className:({isActive:u})=>`flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors group ${u?"bg-primary text-primary-foreground shadow-sm":"text-foreground-muted hover:bg-background-muted"}`,children:[jsxRuntimeExports.jsx(l.icon,{className:"h-5 w-5 mr-3 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{children:l.name})]});return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full bg-card text-card-foreground",children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b border-border flex-shrink-0",children:jsxRuntimeExports.jsxs("button",{onClick:()=>t("/company-dashboard"),className:"flex items-center gap-3 w-full text-left",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"h-6 w-6 text-primary"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-xl text-foreground",children:"Company Hub"})]})}),jsxRuntimeExports.jsx("nav",{className:"flex-1 px-4 py-4 space-y-1 overflow-y-auto",children:productionNavLinks.map(l=>jsxRuntimeExports.jsx(o,{item:l},l.name))}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t border-border flex-shrink-0 space-y-2",children:[jsxRuntimeExports.jsxs(NavLink,{to:"/company-settings/production",onClick:e,className:({isActive:l})=>`flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors group ${l?"bg-primary text-primary-foreground shadow-sm":"text-foreground-muted hover:bg-background-muted"}`,children:[jsxRuntimeExports.jsx(Settings$1,{className:"h-5 w-5 mr-3"}),jsxRuntimeExports.jsx("span",{children:"Settings"})]}),jsxRuntimeExports.jsxs("button",{onClick:n,className:"w-full flex items-center px-4 py-2.5 text-sm font-medium rounded-lg text-foreground-muted hover:bg-background-muted group",title:"Logout",children:[jsxRuntimeExports.jsx(LogOut,{className:"h-5 w-5 mr-3 text-foreground-muted group-hover:text-red-600"}),jsxRuntimeExports.jsx("span",{children:"Logout"})]})]})]})},ProductionLayout=({children:e})=>{const[t,n]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("div",{className:"flex h-screen bg-background text-foreground",children:[jsxRuntimeExports.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0",children:jsxRuntimeExports.jsx("div",{className:"flex flex-col w-72 border-r border-border",children:jsxRuntimeExports.jsx(SidebarContent$4,{})})}),jsxRuntimeExports.jsx(AnimatePresence,{children:t&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black/50 z-20 lg:hidden",onClick:()=>n(!1)}),jsxRuntimeExports.jsx(motion.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 left-0 h-full w-72 z-30 bg-card text-card-foreground",children:jsxRuntimeExports.jsx(SidebarContent$4,{onLinkClick:()=>n(!1)})})]})}),jsxRuntimeExports.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[jsxRuntimeExports.jsxs("header",{className:"lg:hidden sticky top-0 z-10 flex-shrink-0 flex h-16 bg-card shadow-sm items-center px-4",children:[jsxRuntimeExports.jsx("button",{type:"button",className:"text-foreground-muted",onClick:()=>n(!0),children:jsxRuntimeExports.jsx(Menu,{className:"h-6 w-6"})}),jsxRuntimeExports.jsx("div",{className:"flex-1 flex justify-center items-center",children:jsxRuntimeExports.jsx("span",{className:"font-bold text-lg text-foreground",children:"Production Module"})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 bg-background-muted",children:e})]})]})},Production=()=>jsxRuntimeExports.jsx(ProductionLayout,{children:jsxRuntimeExports.jsx(Outlet,{})}),crmNavLinks=[{name:"Dashboard",icon:LayoutDashboard,href:"/crm-dashboard/dashboard",color:"text-blue-500"},{name:"Home",icon:House,href:"/crm-dashboard/home",color:"text-green-500"},{name:"Calling Data",icon:Phone,href:"/crm-dashboard/calling-data",color:"text-yellow-500"},{name:"Leads",icon:Users,href:"/crm-dashboard/leads",color:"text-purple-500"},{name:"Companies",icon:Building,href:"/crm-dashboard/companies",color:"text-indigo-500"},{name:"Contacts",icon:Contact,href:"/crm-dashboard/contacts",color:"text-rose-500"},{name:"Products",icon:Package,href:"/crm-dashboard/products",color:"text-teal-500"},{name:"Deals",icon:Handshake,href:"/crm-dashboard/deals",color:"text-orange-500"},{name:"Tasks",icon:ListTodo,href:"/crm-dashboard/tasks",color:"text-cyan-500"},{name:"Operations",icon:Activity,href:"/crm-dashboard/operations",color:"text-lime-500"}],SidebarContent$3=({onLinkClick:e})=>{const t=useLocation(),n=useNavigate(),o=()=>{localStorage.clear(),n("/login")},l=({item:u})=>{const m=t.pathname===u.href;return jsxRuntimeExports.jsxs(NavLink,{to:u.href,onClick:e,end:!0,className:({isActive:p})=>`flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors group ${p?"bg-primary text-primary-foreground shadow-sm":"text-foreground-muted hover:bg-background-muted"}`,children:[jsxRuntimeExports.jsx(u.icon,{className:`h-5 w-5 mr-3 flex-shrink-0 ${m?"":u.color}`}),jsxRuntimeExports.jsx("span",{children:u.name})]})};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full bg-card text-card-foreground",children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b border-border flex-shrink-0",children:jsxRuntimeExports.jsxs("button",{onClick:()=>n("/company-dashboard"),className:"flex items-center gap-3 w-full text-left",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"h-6 w-6 text-primary"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-xl text-foreground",children:"Company Hub"})]})}),jsxRuntimeExports.jsx("nav",{className:"flex-1 px-4 py-4 space-y-1 overflow-y-auto",children:crmNavLinks.map(u=>jsxRuntimeExports.jsx(l,{item:u},u.name))}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t border-border flex-shrink-0 space-y-2",children:[jsxRuntimeExports.jsxs(NavLink,{to:"/company-settings/crm",onClick:e,className:({isActive:u})=>`flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors group ${u?"bg-primary text-primary-foreground shadow-sm":"text-foreground-muted hover:bg-background-muted"}`,children:[jsxRuntimeExports.jsx(Settings$1,{className:"h-5 w-5 mr-3"}),jsxRuntimeExports.jsx("span",{children:"Settings"})]}),jsxRuntimeExports.jsxs("button",{onClick:o,className:"w-full flex items-center px-4 py-2.5 text-sm font-medium rounded-lg text-foreground-muted hover:bg-background-muted group",title:"Logout",children:[jsxRuntimeExports.jsx(LogOut,{className:"h-5 w-5 mr-3 text-foreground-muted group-hover:text-red-600"}),jsxRuntimeExports.jsx("span",{children:"Logout"})]})]})]})},CrmLayout=({children:e})=>{const[t,n]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("div",{className:"flex h-screen bg-background text-foreground",children:[jsxRuntimeExports.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0",children:jsxRuntimeExports.jsx("div",{className:"flex flex-col w-64 border-r border-border",children:jsxRuntimeExports.jsx(SidebarContent$3,{})})}),jsxRuntimeExports.jsx(AnimatePresence,{children:t&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black/50 z-20 lg:hidden",onClick:()=>n(!1)}),jsxRuntimeExports.jsx(motion.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 left-0 h-full w-64 z-30 bg-card text-card-foreground",children:jsxRuntimeExports.jsx(SidebarContent$3,{onLinkClick:()=>n(!1)})})]})}),jsxRuntimeExports.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[jsxRuntimeExports.jsxs("header",{className:"lg:hidden sticky top-0 z-10 flex-shrink-0 flex h-16 bg-card shadow-sm items-center px-4",children:[jsxRuntimeExports.jsx("button",{type:"button",className:"text-foreground-muted",onClick:()=>n(!0),children:jsxRuntimeExports.jsx(Menu,{className:"h-6 w-6"})}),jsxRuntimeExports.jsx("div",{className:"flex-1 flex justify-center items-center",children:jsxRuntimeExports.jsx("span",{className:"font-bold text-lg text-foreground",children:"CRM Module"})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 bg-background-muted",children:e})]})]})},CrmModule=()=>jsxRuntimeExports.jsx(CrmLayout,{children:jsxRuntimeExports.jsx(Outlet,{})}),API_URL$I="https://javapaas-202946-0.cloudclusters.net/api",Modal=({isOpen:e,onClose:t,title:n,children:o})=>e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-center z-[60] p-4",onClick:t,children:jsxRuntimeExports.jsxs("div",{className:"bg-card text-card-foreground rounded-lg shadow-xl w-full max-w-md",onClick:l=>l.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-foreground",children:n}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-1 rounded-full text-foreground-muted hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsx("div",{className:"p-6",children:o})]})}):null,LeadSourceForm=({item:e,onSave:t,onCancel:n,loading:o})=>{const[l,u]=reactExports.useState("");reactExports.useEffect(()=>{u(e?.name||"")},[e]);const m=p=>{p.preventDefault(),t({id:e?.id,name:l})};return jsxRuntimeExports.jsxs("form",{onSubmit:m,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-foreground-muted",children:"Source Name"}),jsxRuntimeExports.jsx("input",{id:"name",value:l,onChange:p=>u(p.target.value),required:!0,className:"input mt-1 bg-background-muted border-border text-foreground",placeholder:"e.g., Website, Referral, Cold Call"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",disabled:o,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:o,children:[o&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"})," Save"]})]})]})},LeadSource=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState(""),[m,p]=reactExports.useState(!1),[j,f]=reactExports.useState(null),[g,b]=reactExports.useState(!1),[R,v]=reactExports.useState(""),N=reactExports.useMemo(()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),[]),S=reactExports.useCallback(async()=>{o(!0),u("");try{const T=await axios.get(`${API_URL$I}/crm/lead-sources`,{headers:N});t(Array.isArray(T.data)?T.data:[])}catch(T){u("Failed to fetch lead sources."),console.error(T)}finally{o(!1)}},[N]);reactExports.useEffect(()=>{S()},[S]);const $=()=>{f(null),p(!0)},C=()=>{p(!1),f(null)},A=async T=>{b(!0);const D=!!T.id,I=D?`${API_URL$I}/crm/lead-sources/${T.id}`:`${API_URL$I}/crm/lead-sources`,L=D?"put":"post";try{await axios[L](I,T,{headers:N}),await S(),C()}catch(_){alert(`Error: ${_.response?.data?.message||"Failed to save lead source."}`)}finally{b(!1)}};return reactExports.useMemo(()=>e.filter(T=>!R||T.name.toLowerCase().includes(R.toLowerCase())),[e,R]),jsxRuntimeExports.jsxs("div",{className:"p-6 bg-card rounded-xl shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Manage Lead Sources"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",value:R,onChange:T=>v(T.target.value),className:"input w-full sm:w-64 pr-10 bg-background-muted border-border"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-foreground-muted"})]}),jsxRuntimeExports.jsxs("button",{onClick:$,className:"flex items-center gap-2 btn-secondary",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Add Source"]})]})]}),l&&jsxRuntimeExports.jsx("p",{className:"text-red-500 mb-4",children:l}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-border rounded-lg",children:jsxRuntimeExports.jsx("table",{className:"min-w-full divide-y divide-border",children:jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell w-32",children:"Actions"})]})})})}),jsxRuntimeExports.jsx(Modal,{isOpen:m,onClose:C,title:j?"Edit Lead Source":"Add Lead Source",children:jsxRuntimeExports.jsx(LeadSourceForm,{item:j,onSave:A,onCancel:C,loading:g})})]})},API_URL$H="https://javapaas-202946-0.cloudclusters.net/api",FormField$4=({label:e,children:t,required:n})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-foreground-muted",children:[e," ",n&&jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("div",{className:"mt-1",children:t})]}),ManagementModal=({isOpen:e,onClose:t,title:n,children:o})=>e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/60 flex justify-center items-center z-50 p-4",onClick:t,children:jsxRuntimeExports.jsxs("div",{className:"bg-card text-card-foreground rounded-lg shadow-xl w-full max-w-4xl h-[90vh] flex flex-col",onClick:l=>l.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center flex-shrink-0",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-foreground",children:n}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-1 rounded-full text-foreground-muted hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsx("div",{className:"flex-grow overflow-y-auto",children:o})]})}):null,forecastCategoryOptions=[{value:"PIPELINE",label:"Pipeline"},{value:"BEST_CASE_FORECAST",label:"Best Case Forecast"},{value:"COMMIT_FORECAST",label:"Commit Forecast"},{value:"CLOSED_ONLY",label:"Closed Only"},{value:"QUOTA",label:"Quota"},{value:"OPEN_PIPELINE",label:"Open Pipeline"}],crmLeadStatusOptions=[{value:"NEW",label:"New"},{value:"DUPLICATE",label:"Duplicate"},{value:"TRANSFERRED",label:"Transferred"},{value:"NOT_RESPONDING",label:"Not Responding"},{value:"JUNK",label:"Junk"},{value:"LOST",label:"Lost"},{value:"UNASSIGNED",label:"Unassigned"},{value:"PENDING",label:"Pending"},{value:"ACTIVE",label:"Active"}],CrmLeadForm=({item:e,onSave:t,onCancel:n,loading:o})=>{const[l,u]=reactExports.useState({firstName:"",lastName:"",companyId:"",email:"",phone:"",leadNo:"",industryId:"",designation:"",website:"",productIds:[],requirements:"",leadSourceId:"",notes:"",ownerId:"",currentStageId:"",locationId:"",forecastCategory:"PIPELINE",expectedCloseDate:"",amount:"",status:"NEW",address:{street:"",city:"",state:"",zip:"",country:""}}),[m,p]=reactExports.useState({companies:[],industries:[],products:[],employees:[],leadStages:[],locations:[],leadSources:[]}),[j,f]=reactExports.useState(!0),[g,b]=reactExports.useState(!1),[R,v]=reactExports.useState(!1),N=async()=>{f(!0);try{const T={Authorization:`Bearer ${localStorage.getItem("token")}`},[D,I,L,_,M,F,B]=await Promise.all([axios.get(`${API_URL$H}/crm/companies`,{headers:T}),axios.get(`${API_URL$H}/settings/industries`,{headers:T}),axios.get(`${API_URL$H}/crm/products`,{headers:T}),axios.get(`${API_URL$H}/employees/all`,{headers:T}),axios.get(`${API_URL$H}/crm/lead-stages`,{headers:T}),axios.get(`${API_URL$H}/locations`,{headers:T}),axios.get(`${API_URL$H}/crm/lead-sources`,{headers:T})]);p({companies:D.data.content||D.data,industries:I.data,products:L.data,employees:_.data,leadStages:M.data,locations:F.data,leadSources:B.data})}catch(A){console.error("Failed to fetch form select data",A),alert("Failed to load required data for the form. Please try again.")}finally{f(!1)}};reactExports.useEffect(()=>{N()},[]),reactExports.useEffect(()=>{e&&u({firstName:e.firstName||"",lastName:e.lastName||"",companyId:e.companyId||"",email:e.email||"",phone:e.phone||"",leadNo:e.leadNo||"",industryId:e.industryId||"",designation:e.designation||"",website:e.website||"",productIds:e.products?.map(A=>A.id)||[],requirements:e.requirements||"",leadSourceId:e.leadSourceId||"",notes:e.notes||"",ownerId:e.ownerId||"",currentStageId:e.currentStageId||"",locationId:e.locationId||"",forecastCategory:e.forecastCategory||"PIPELINE",expectedCloseDate:e.expectedCloseDate?e.expectedCloseDate.split("T")[0]:"",amount:e.amount||"",status:e.status||"NEW",address:e.address||{street:"",city:"",state:"",zip:"",country:""}})},[e,m]);const S=A=>{const{name:T,value:D}=A.target;if(T.startsWith("address.")){const I=T.split(".")[1];u(L=>({...L,address:{...L.address,[I]:D}}))}else u(I=>({...I,[T]:D}))},$=A=>{const{name:T,options:D}=A.target,I=[];for(let L=0,_=D.length;L<_;L++)D[L].selected&&I.push(D[L].value);u(L=>({...L,[T]:I}))},C=A=>{A.preventDefault();const T={...l,amount:l.amount?parseFloat(l.amount):null,companyId:l.companyId?parseInt(l.companyId):null,productIds:l.productIds.map(D=>parseInt(D))};t(T)};return j?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-full",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary"})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("form",{onSubmit:C,className:"flex flex-col h-full",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 p-6 space-y-4 overflow-y-auto",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-foreground",children:e?"Edit Lead":"Add New Lead"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(FormField$4,{label:"First Name",required:!0,children:jsxRuntimeExports.jsx("input",{name:"firstName",value:l.firstName,onChange:S,required:!0,className:"input bg-background-muted border-border"})}),jsxRuntimeExports.jsx(FormField$4,{label:"Last Name",required:!0,children:jsxRuntimeExports.jsx("input",{name:"lastName",value:l.lastName,onChange:S,required:!0,className:"input bg-background-muted border-border"})}),jsxRuntimeExports.jsx(FormField$4,{label:"Lead No.",required:!0,children:jsxRuntimeExports.jsx("input",{name:"leadNo",value:l.leadNo,onChange:S,required:!0,className:"input bg-background-muted border-border"})}),jsxRuntimeExports.jsx(FormField$4,{label:"Email",required:!0,children:jsxRuntimeExports.jsx("input",{name:"email",type:"email",value:l.email,onChange:S,required:!0,className:"input bg-background-muted border-border"})}),jsxRuntimeExports.jsx(FormField$4,{label:"Phone",children:jsxRuntimeExports.jsx("input",{name:"phone",value:l.phone,onChange:S,className:"input bg-background-muted border-border"})}),jsxRuntimeExports.jsx(FormField$4,{label:"Company",required:!0,children:jsxRuntimeExports.jsxs("select",{name:"companyId",value:l.companyId,onChange:S,className:"input bg-background-muted border-border",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Company"}),m.companies.map(A=>jsxRuntimeExports.jsx("option",{value:A.id,children:A.name},A.id))]})}),jsxRuntimeExports.jsx(FormField$4,{label:"Industry",children:jsxRuntimeExports.jsxs("select",{name:"industryId",value:l.industryId,onChange:S,className:"input bg-background-muted border-border",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Industry"}),m.industries.map(A=>jsxRuntimeExports.jsx("option",{value:A.id,children:A.name},A.id))]})}),jsxRuntimeExports.jsx(FormField$4,{label:"Lead Stage",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("select",{name:"currentStageId",value:l.currentStageId,onChange:S,className:"input bg-background-muted border-border w-full",required:!0,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Stage"}),m.leadStages.map(A=>jsxRuntimeExports.jsx("option",{value:A.id,children:A.name},A.id))]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>b(!0),className:"btn-secondary p-2",title:"Add New Stage",children:jsxRuntimeExports.jsx(CirclePlus,{size:16})})]})}),jsxRuntimeExports.jsx(FormField$4,{label:"Lead Owner",children:jsxRuntimeExports.jsxs("select",{name:"ownerId",value:l.ownerId,onChange:S,className:"input bg-background-muted border-border",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Owner"}),m.employees.map(A=>jsxRuntimeExports.jsxs("option",{value:A.id,children:[A.firstName," ",A.lastName]},A.id))]})}),jsxRuntimeExports.jsx(FormField$4,{label:"Status",children:jsxRuntimeExports.jsx("select",{name:"status",value:l.status,onChange:S,className:"input bg-background-muted border-border",children:crmLeadStatusOptions.map(A=>jsxRuntimeExports.jsx("option",{value:A.value,children:A.label},A.value))})}),jsxRuntimeExports.jsx(FormField$4,{label:"Location",children:jsxRuntimeExports.jsxs("select",{name:"locationId",value:l.locationId,onChange:S,className:"input bg-background-muted border-border",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Location"}),m.locations.map(A=>jsxRuntimeExports.jsx("option",{value:A.id,children:A.name},A.id))]})}),jsxRuntimeExports.jsx(FormField$4,{label:"Amount",children:jsxRuntimeExports.jsx("input",{name:"amount",type:"number",value:l.amount,onChange:S,className:"input bg-background-muted border-border",placeholder:"e.g., 5000.00"})}),jsxRuntimeExports.jsx(FormField$4,{label:"Expected Close Date",children:jsxRuntimeExports.jsx("input",{name:"expectedCloseDate",type:"date",value:l.expectedCloseDate,onChange:S,className:"input bg-background-muted border-border"})}),jsxRuntimeExports.jsx(FormField$4,{label:"Forecast Category",children:jsxRuntimeExports.jsx("select",{name:"forecastCategory",value:l.forecastCategory,onChange:S,className:"input bg-background-muted border-border",children:forecastCategoryOptions.map(A=>jsxRuntimeExports.jsx("option",{value:A.value,children:A.label},A.value))})}),jsxRuntimeExports.jsx(FormField$4,{label:"Lead Source",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("select",{name:"leadSourceId",value:l.leadSourceId,onChange:S,className:"input bg-background-muted border-border w-full",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Source"}),m.leadSources.map(A=>jsxRuntimeExports.jsx("option",{value:A.id,children:A.name},A.id))]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>v(!0),className:"btn-secondary p-2",title:"Add New Source",children:jsxRuntimeExports.jsx(CirclePlus,{size:16})})]})})]}),jsxRuntimeExports.jsx(FormField$4,{label:"Products",children:jsxRuntimeExports.jsx("select",{name:"productIds",value:l.productIds,onChange:$,multiple:!0,className:"input h-32 bg-background-muted border-border",children:m.products.map(A=>jsxRuntimeExports.jsx("option",{value:A.id,children:A.name},A.id))})}),jsxRuntimeExports.jsx("h4",{className:"text-md font-semibold text-foreground pt-2 border-t border-border",children:"Address Information"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(FormField$4,{label:"Street",children:jsxRuntimeExports.jsx("input",{name:"address.street",value:l.address.street,onChange:S,className:"input bg-background-muted border-border"})}),jsxRuntimeExports.jsx(FormField$4,{label:"City",children:jsxRuntimeExports.jsx("input",{name:"address.city",value:l.address.city,onChange:S,className:"input bg-background-muted border-border"})}),jsxRuntimeExports.jsx(FormField$4,{label:"State/Province",children:jsxRuntimeExports.jsx("input",{name:"address.state",value:l.address.state,onChange:S,className:"input bg-background-muted border-border"})}),jsxRuntimeExports.jsx(FormField$4,{label:"Zip/Postal Code",children:jsxRuntimeExports.jsx("input",{name:"address.zip",value:l.address.zip,onChange:S,className:"input bg-background-muted border-border"})}),jsxRuntimeExports.jsx(FormField$4,{label:"Country",children:jsxRuntimeExports.jsx("input",{name:"address.country",value:l.address.country,onChange:S,className:"input bg-background-muted border-border"})})]}),jsxRuntimeExports.jsx(FormField$4,{label:"Requirements",children:jsxRuntimeExports.jsx("textarea",{name:"requirements",value:l.requirements,onChange:S,rows:"3",className:"input bg-background-muted border-border"})}),jsxRuntimeExports.jsx(FormField$4,{label:"Notes",children:jsxRuntimeExports.jsx("textarea",{name:"notes",value:l.notes,onChange:S,rows:"3",className:"input bg-background-muted border-border"})})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-background-muted border-t border-border flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",disabled:o,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:o,children:[o?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}):jsxRuntimeExports.jsx(Save,{className:"h-4 w-4 mr-2"}),"Save Lead"]})]})]}),jsxRuntimeExports.jsx(ManagementModal,{isOpen:g,onClose:()=>{b(!1),N()},title:"Manage Lead Stages",children:jsxRuntimeExports.jsx(CrmLeadStage,{})}),jsxRuntimeExports.jsx(ManagementModal,{isOpen:R,onClose:()=>{v(!1),N()},title:"Manage Lead Sources",children:jsxRuntimeExports.jsx(LeadSource,{})})]})},API_URL$G="https://javapaas-202946-0.cloudclusters.net/api",LeadDetails=({onClose:e})=>{const[t,n]=reactExports.useState([]),[o,l]=reactExports.useState(!0),[u,m]=reactExports.useState(""),[p,j]=reactExports.useState(0),[f,g]=reactExports.useState(10),[b,R]=reactExports.useState(0),[v,N]=reactExports.useState(0),[S,$]=reactExports.useState(""),[C,A]=reactExports.useState(!1),[T,D]=reactExports.useState(null),[I,L]=reactExports.useState(!1),_=useNavigate(),M=reactExports.useMemo(()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),[]),F=reactExports.useCallback(async()=>{l(!0),m("");try{const J=await axios.get(`${API_URL$G}/crm/leads`,{headers:M,params:{page:p,size:f,sort:"createdAt,desc"}});n(J.data.content),R(J.data.totalPages),N(J.data.totalElements)}catch(J){m("Failed to fetch leads. Please try again."),console.error(J)}finally{l(!1)}},[p,f,M]);reactExports.useEffect(()=>{F()},[F]);const B=reactExports.useMemo(()=>{if(!S)return t;const J=S.toLowerCase();return t.filter(ne=>ne.firstName.toLowerCase().includes(J)||ne.lastName.toLowerCase().includes(J)||ne.email.toLowerCase().includes(J)||ne.leadNo?.toLowerCase().includes(J)||ne.companyName?.toLowerCase().includes(J)||ne.currentStageName?.toLowerCase().includes(J))},[t,S]),q=J=>{J>=0&&J<b&&j(J)},z=J=>{g(parseInt(J.target.value,10)),j(0)},V=J=>{$(J.target.value)},Q=J=>{D(J),A(!0)},ee=async J=>{if(window.confirm("Are you sure you want to delete this lead?"))try{l(!0),await axios.delete(`${API_URL$G}/crm/leads/${J}`,{headers:M}),F()}catch(ne){alert(`Error: ${ne.response?.data?.message||"Failed to delete lead."}`),m("Failed to delete lead.")}finally{l(!1)}},G=async J=>{L(!0);try{T?await axios.put(`${API_URL$G}/crm/leads/${T.id}`,J,{headers:M}):await axios.post(`${API_URL$G}/crm/leads`,J,{headers:M}),A(!1),D(null),F()}catch(ne){alert(`Error: ${ne.response?.data?.message||"Failed to save lead."}`)}finally{L(!1)}},K=J=>{_(`/crm-dashboard/leads/${J.id}`)};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-screen bg-background text-foreground relative",children:[jsxRuntimeExports.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-border flex-shrink-0 gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:e,className:"p-1.5 rounded-full hover:bg-background-muted",children:jsxRuntimeExports.jsx(ChevronLeft,{className:"h-5 w-5 text-foreground"})}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-foreground",children:"All Leads"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",value:S,onChange:V,className:"input w-40 sm:w-48 pr-9 bg-background-muted border-border text-sm"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-foreground-muted"})]}),jsxRuntimeExports.jsxs("select",{value:f,onChange:z,className:"input bg-card border-border text-sm",children:[jsxRuntimeExports.jsx("option",{value:10,children:"10/page"}),jsxRuntimeExports.jsx("option",{value:20,children:"20/page"}),jsxRuntimeExports.jsx("option",{value:50,children:"50/page"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{D(null),A(!0)},className:"btn-primary flex items-center gap-1",children:[jsxRuntimeExports.jsx(CirclePlus,{className:"h-5 w-5"})," Add"]})]})]}),jsxRuntimeExports.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:o?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-full",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-10 w-10 text-primary"})}):u?jsxRuntimeExports.jsxs("div",{className:"bg-destructive/10 border border-destructive/20 text-destructive px-4 py-3 rounded-lg flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("p",{children:u})]}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-border rounded-lg shadow-sm",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full border-collapse",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell border border-border",children:"#"}),jsxRuntimeExports.jsx("th",{className:"th-cell border border-border",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell border border-border",children:"Lead No."}),jsxRuntimeExports.jsx("th",{className:"th-cell border border-border",children:"Company"}),jsxRuntimeExports.jsx("th",{className:"th-cell border border-border",children:"Email"}),jsxRuntimeExports.jsx("th",{className:"th-cell border border-border",children:"Phone"}),jsxRuntimeExports.jsx("th",{className:"th-cell border border-border",children:"Stage"}),jsxRuntimeExports.jsx("th",{className:"th-cell border border-border",children:"Source"}),jsxRuntimeExports.jsx("th",{className:"th-cell border border-border",children:"Owner"}),jsxRuntimeExports.jsx("th",{className:"th-cell border border-border",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"th-cell border border-border w-32",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-card text-foreground-muted",children:B.length>0?B.map((J,ne)=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-border hover:bg-background-muted transition-colors",children:[jsxRuntimeExports.jsx("td",{className:"td-cell border border-border",children:p*f+ne+1}),jsxRuntimeExports.jsx("td",{className:"td-cell border border-border",children:jsxRuntimeExports.jsxs("button",{onClick:()=>K(J),className:"text-primary hover:underline font-medium",children:[J.firstName," ",J.lastName]})}),jsxRuntimeExports.jsx("td",{className:"td-cell border border-border",children:jsxRuntimeExports.jsx("button",{onClick:()=>K(J),className:"text-primary hover:underline",children:J.leadNo||"N/A"})}),jsxRuntimeExports.jsx("td",{className:"td-cell border border-border",children:J.companyName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell border border-border",children:J.email}),jsxRuntimeExports.jsx("td",{className:"td-cell border border-border",children:J.phone||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell border border-border",children:J.currentStageName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell border border-border",children:J.leadSource||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell border border-border",children:J.ownerName||"Unassigned"}),jsxRuntimeExports.jsx("td",{className:"td-cell border border-border capitalize",children:J.status?.toLowerCase()||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell border border-border",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Q(J),className:"text-primary hover:text-primary/80 p-1",title:"Edit Lead",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>ee(J.id),className:"text-red-500 hover:text-red-600 p-1",title:"Delete Lead",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},J.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"11",className:"text-center py-10",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-foreground",children:"No leads found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"Adjust your search or add a new lead."})]})})})]})})}),!o&&!u&&b>1&&jsxRuntimeExports.jsxs("footer",{className:"flex flex-wrap justify-between items-center p-6 border-t border-border flex-shrink-0 gap-4",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-foreground-muted",children:["Showing ",Math.min(p*f+1,v)," - ",Math.min((p+1)*f,v)," of ",v," leads"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>q(p-1),disabled:p===0,className:"btn-secondary flex items-center gap-1",children:[jsxRuntimeExports.jsx(ChevronLeft,{size:16})," Previous"]}),Array.from({length:b},(J,ne)=>jsxRuntimeExports.jsx("button",{onClick:()=>q(ne),className:`px-3 py-1 rounded-md text-sm font-medium ${p===ne?"bg-primary text-primary-foreground":"bg-background-muted hover:bg-background-hover"}`,children:ne+1},ne)),jsxRuntimeExports.jsxs("button",{onClick:()=>q(p+1),disabled:p===b-1,className:"btn-secondary flex items-center gap-1",children:["Next ",jsxRuntimeExports.jsx(ChevronRight,{size:16})]})]})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:C&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black/50 z-40",onClick:()=>A(!1)}),jsxRuntimeExports.jsx(motion.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 right-0 h-full w-full max-w-2xl bg-card text-card-foreground shadow-lg z-50",children:jsxRuntimeExports.jsx(CrmLeadForm,{item:T,onSave:G,onCancel:()=>A(!1),loading:I})})]})})]})},API_URL$F="https://javapaas-202946-0.cloudclusters.net/api",initialKpiData=[{id:"total",title:"Total Lead",value:0,icon:jsxRuntimeExports.jsx(Users,{className:"h-6 w-6 text-primary"}),color:"text-primary"},{id:"active",title:"Active Lead",value:0,icon:jsxRuntimeExports.jsx(UserCheck,{className:"h-6 w-6 text-green-500"}),color:"text-green-500"},{id:"new",title:"New Lead",value:0,icon:jsxRuntimeExports.jsx(TrendingUp,{className:"h-6 w-6 text-blue-500"}),color:"text-blue-500"},{id:"lost",title:"Lost Lead",value:0,icon:jsxRuntimeExports.jsx(UserX,{className:"h-6 w-6 text-red-500"}),color:"text-red-500"},{id:"converted",title:"Lead to Operation",value:0,icon:jsxRuntimeExports.jsx(Briefcase,{className:"h-6 w-6 text-indigo-500"}),color:"text-indigo-500"},{id:"taskPending",title:"Lead Task Pending",value:0,icon:jsxRuntimeExports.jsx(Clock,{className:"h-6 w-6 text-yellow-500"}),color:"text-yellow-500"},{id:"notResponded",title:"Not Respond Leads",value:0,icon:jsxRuntimeExports.jsx(PhoneOff,{className:"h-6 w-6 text-gray-500"}),color:"text-gray-500"},{id:"notAssigned",title:"Not Assigned Lead",value:0,icon:jsxRuntimeExports.jsx(UserCog,{className:"h-6 w-6 text-orange-500"}),color:"text-orange-500"},{id:"transferred",title:"Transfer Leads",value:0,icon:jsxRuntimeExports.jsx(GitPullRequest,{className:"h-6 w-6 text-purple-500"}),color:"text-purple-500"},{id:"duplicate",title:"Duplicate Lead",value:0,icon:jsxRuntimeExports.jsx(Copy,{className:"h-6 w-6 text-pink-500"}),color:"text-pink-500"}],KpiCard=({item:e})=>jsxRuntimeExports.jsxs("div",{className:"bg-card p-4 rounded-lg shadow-sm flex items-center space-x-4",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:e.icon}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-foreground-muted",children:e.title}),jsxRuntimeExports.jsx("p",{className:`text-2xl font-bold ${e.color}`,children:e.value})]})]}),ChartCard=({title:e,children:t,className:n=""})=>jsxRuntimeExports.jsxs("div",{className:`bg-card p-6 rounded-lg shadow-sm ${n}`,children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:e}),jsxRuntimeExports.jsx("div",{className:"h-64 flex items-center justify-center bg-background-muted rounded",children:jsxRuntimeExports.jsx("p",{className:"text-foreground-muted",children:t||"Chart Placeholder"})})]}),CrmLead=()=>{const[e,t]=reactExports.useState(initialKpiData),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState(""),[m,p]=reactExports.useState(!1),[j,f]=reactExports.useState(!1),[g,b]=reactExports.useState(!1),R=["light","dark","greenish","blueish"],[v,N]=reactExports.useState(localStorage.getItem("theme")||"light");reactExports.useEffect(()=>{const T=window.document.documentElement;R.forEach(D=>T.classList.remove(D)),T.classList.add(v),localStorage.setItem("theme",v)},[v]);const S=()=>{const D=(R.indexOf(v)+1)%R.length;N(R[D])},$=async()=>{o(!0),u("");try{const T=localStorage.getItem("token"),I=(await axios.get(`${API_URL$F}/crm/leads?size=1000`,{headers:{Authorization:`Bearer ${T}`}})).data.content;C(I)}catch(T){u("Failed to fetch lead data. Please try again."),console.error(T)}finally{o(!1)}};reactExports.useEffect(()=>{$()},[]);const C=T=>{const D=T.reduce((L,_)=>{const M=_.status||"UNKNOWN";return L[M]=(L[M]||0)+1,L},{}),I=T.filter(L=>!L.ownerId).length;t(L=>L.map(_=>{switch(_.id){case"total":return{..._,value:T.length};case"active":return{..._,value:D.ACTIVE||0};case"new":return{..._,value:D.NEW||0};case"lost":return{..._,value:D.LOST||0};case"converted":return{..._,value:D.CONVERTED||0};case"notAssigned":return{..._,value:I};case"taskPending":return{..._,value:45};case"notResponded":return{..._,value:32};case"transferred":return{..._,value:27};case"duplicate":return{..._,value:12};default:return _}}))},A=async T=>{f(!0);try{const D=localStorage.getItem("token");await axios.post(`${API_URL$F}/crm/leads`,T,{headers:{Authorization:`Bearer ${D}`}}),p(!1),$()}catch(D){alert(`Error: ${D.response?.data?.message||"Failed to save lead."}`)}finally{f(!1)}};return g?jsxRuntimeExports.jsx(LeadDetails,{onClose:()=>b(!1)}):jsxRuntimeExports.jsxs("div",{className:"space-y-6 relative",children:[jsxRuntimeExports.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Lead Dashboard"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-foreground bg-card border border-border rounded-lg shadow-sm hover:bg-background-muted",children:[jsxRuntimeExports.jsx(Funnel,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:"Monthly"})]})}),jsxRuntimeExports.jsxs("button",{onClick:()=>b(!0),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-foreground bg-card border border-border rounded-lg shadow-sm hover:bg-background-muted",children:[jsxRuntimeExports.jsx(Users,{className:"h-4 w-4"})," ",jsxRuntimeExports.jsx("span",{children:"View All Leads"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-primary-foreground bg-primary rounded-lg shadow-sm hover:bg-primary/90",children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:"Add New Lead"})]}),jsxRuntimeExports.jsx("button",{onClick:S,className:"p-2 rounded-full hover:bg-background-muted",title:"Cycle Theme",children:jsxRuntimeExports.jsx(Palette,{className:"h-6 w-6 text-foreground-muted"})}),jsxRuntimeExports.jsx("button",{className:"p-2 rounded-full hover:bg-background-muted",children:jsxRuntimeExports.jsx(CircleUser,{className:"h-6 w-6 text-foreground-muted"})})]})]}),jsxRuntimeExports.jsxs("main",{className:"space-y-8",children:[n?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-24",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary"})}):l?jsxRuntimeExports.jsxs("div",{className:"bg-destructive/10 border border-destructive/20 text-destructive px-4 py-3 rounded-lg flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("p",{children:l})]}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:e.map(T=>jsxRuntimeExports.jsx(KpiCard,{item:T},T.id))}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsx(ChartCard,{title:"Lead Pipeline",className:"lg:col-span-1"}),jsxRuntimeExports.jsx(ChartCard,{title:"Lead vs Sale",className:"lg:col-span-1"}),jsxRuntimeExports.jsx(ChartCard,{title:"Lead by Stage",className:"lg:col-span-1"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsx(ChartCard,{title:"Lead by Source"}),jsxRuntimeExports.jsx(ChartCard,{title:"Lead Lost by Stage"}),jsxRuntimeExports.jsx(ChartCard,{title:"Lead Lost by Reason"}),jsxRuntimeExports.jsx(ChartCard,{title:"Lead by Industry"})]})]})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:m&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black/50 z-40",onClick:()=>p(!1)}),jsxRuntimeExports.jsx(motion.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 right-0 h-full w-full max-w-2xl bg-card text-card-foreground shadow-lg z-50",children:jsxRuntimeExports.jsx(CrmLeadForm,{onSave:A,onCancel:()=>p(!1),loading:j})})]})})]})},FormSection=({title:e,children:t})=>jsxRuntimeExports.jsxs("div",{className:"pt-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-md font-semibold text-foreground-muted border-b border-border pb-2 mb-4",children:e}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t})]}),CrmCompanyForm=({item:e,onSave:t,onCancel:n,loading:o,companies:l,companyTypes:u,industries:m,locations:p})=>{const[j,f]=reactExports.useState({name:"",companyOwner:"",phone:"",email:"",website:"",locationId:"",companyTypeId:"",industryId:"",parentCompanyId:"",billingStreet:"",billingCity:"",billingZip:"",billingState:"",billingCountry:"",shippingStreet:"",shippingCity:"",shippingZip:"",shippingState:"",shippingCountry:""}),[g,b]=reactExports.useState(!1);reactExports.useEffect(()=>{f(e?{name:e.name||"",companyOwner:e.companyOwner||"",phone:e.phone||"",email:e.email||"",website:e.website||"",locationId:e.locationId||"",companyTypeId:e.companyTypeId||"",industryId:e.industryId||"",parentCompanyId:e.parentCompanyId||"",billingStreet:e.billingStreet||"",billingCity:e.billingCity||"",billingZip:e.billingZip||"",billingState:e.billingState||"",billingCountry:e.billingCountry||"",shippingStreet:e.shippingStreet||"",shippingCity:e.shippingCity||"",shippingZip:e.shippingZip||"",shippingState:e.shippingState||"",shippingCountry:e.shippingCountry||""}:{name:"",companyOwner:"",phone:"",email:"",website:"",locationId:"",companyTypeId:"",industryId:"",parentCompanyId:"",billingStreet:"",billingCity:"",billingZip:"",billingState:"",billingCountry:"",shippingStreet:"",shippingCity:"",shippingZip:"",shippingState:"",shippingCountry:""})},[e]);const R=N=>{f(S=>({...S,[N.target.name]:N.target.value}))};reactExports.useEffect(()=>{g&&f(N=>({...N,shippingStreet:N.billingStreet,shippingCity:N.billingCity,shippingState:N.billingState,shippingZip:N.billingZip,shippingCountry:N.billingCountry}))},[g,j.billingStreet,j.billingCity,j.billingState,j.billingZip,j.billingCountry]);const v=N=>{N.preventDefault(),t({id:e?.id,...j})};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("header",{className:"p-4 border-b flex-shrink-0 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:n,className:"p-1.5 rounded-full hover:bg-background-muted",children:jsxRuntimeExports.jsx(ArrowLeft,{size:20})}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-foreground",children:e?"Edit Company":"Add New Company"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",disabled:o,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",form:"company-form",className:"btn-primary flex items-center",disabled:o,children:[o&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"})," Save"]})]})]}),jsxRuntimeExports.jsxs("form",{id:"company-form",onSubmit:v,className:"flex-grow overflow-y-auto p-6 space-y-4",children:[jsxRuntimeExports.jsxs(FormSection,{title:"Company Information",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Name"}),jsxRuntimeExports.jsx("input",{name:"name",value:j.name,onChange:R,required:!0,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Company Owner"}),jsxRuntimeExports.jsx("input",{name:"companyOwner",value:j.companyOwner,onChange:R,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Phone"}),jsxRuntimeExports.jsx("input",{name:"phone",value:j.phone,onChange:R,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Email"}),jsxRuntimeExports.jsx("input",{name:"email",type:"email",value:j.email,onChange:R,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Website"}),jsxRuntimeExports.jsx("input",{name:"website",value:j.website,onChange:R,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Parent Company"}),jsxRuntimeExports.jsxs("select",{name:"parentCompanyId",value:j.parentCompanyId,onChange:R,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"None"}),l.filter(N=>N.id!==e?.id).map(N=>jsxRuntimeExports.jsx("option",{value:N.id,children:N.name},N.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Industry"}),jsxRuntimeExports.jsxs("select",{name:"industryId",value:j.industryId,onChange:R,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Industry"}),m.map(N=>jsxRuntimeExports.jsx("option",{value:N.id,children:N.name},N.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Company Type"}),jsxRuntimeExports.jsxs("select",{name:"companyTypeId",value:j.companyTypeId,onChange:R,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Type"}),u.map(N=>jsxRuntimeExports.jsx("option",{value:N.id,children:N.name},N.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Location"}),jsxRuntimeExports.jsxs("select",{name:"locationId",value:j.locationId,onChange:R,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Location"}),p.map(N=>jsxRuntimeExports.jsx("option",{value:N.id,children:N.name},N.id))]})]})]}),jsxRuntimeExports.jsxs(FormSection,{title:"Billing Address",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Street"}),jsxRuntimeExports.jsx("input",{name:"billingStreet",value:j.billingStreet,onChange:R,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"City"}),jsxRuntimeExports.jsx("input",{name:"billingCity",value:j.billingCity,onChange:R,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"State"}),jsxRuntimeExports.jsx("input",{name:"billingState",value:j.billingState,onChange:R,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Zip Code"}),jsxRuntimeExports.jsx("input",{name:"billingZip",value:j.billingZip,onChange:R,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Country"}),jsxRuntimeExports.jsx("input",{name:"billingCountry",value:j.billingCountry,onChange:R,className:"input"})]})]}),jsxRuntimeExports.jsx("div",{className:"pt-2",children:jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:g,onChange:N=>b(N.target.checked),className:"h-4 w-4 rounded border-border text-primary focus:ring-primary"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-foreground-muted",children:"Shipping address is the same as billing address"})]})}),jsxRuntimeExports.jsxs(FormSection,{title:"Shipping Address",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Street"}),jsxRuntimeExports.jsx("input",{name:"shippingStreet",value:j.shippingStreet,onChange:R,className:"input disabled:bg-background-muted",disabled:g})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"City"}),jsxRuntimeExports.jsx("input",{name:"shippingCity",value:j.shippingCity,onChange:R,className:"input disabled:bg-background-muted",disabled:g})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"State"}),jsxRuntimeExports.jsx("input",{name:"shippingState",value:j.shippingState,onChange:R,className:"input disabled:bg-background-muted",disabled:g})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Zip Code"}),jsxRuntimeExports.jsx("input",{name:"shippingZip",value:j.shippingZip,onChange:R,className:"input disabled:bg-background-muted",disabled:g})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Country"}),jsxRuntimeExports.jsx("input",{name:"shippingCountry",value:j.shippingCountry,onChange:R,className:"input disabled:bg-background-muted",disabled:g})]})]})]})]})},API_URL$E="https://javapaas-202946-0.cloudclusters.net/api",CompanyDetailsModal=({isOpen:e,onClose:t,company:n,companies:o,selectData:l})=>{if(!e||!n)return null;const u=(p,j)=>j.find(f=>f.id===p)?.name||"N/A",m=({label:p,value:j})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-foreground-muted",children:p}),jsxRuntimeExports.jsx("p",{className:"font-medium text-foreground",children:j||"N/A"})]});return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/60 flex justify-center items-center z-50 p-4",onClick:t,children:jsxRuntimeExports.jsxs("div",{className:"bg-card text-card-foreground rounded-lg shadow-xl w-full max-w-4xl",onClick:p=>p.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h3",{className:"text-xl font-semibold text-foreground",children:["Company Details: ",n.name]}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-1 rounded-full text-foreground-muted hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 max-h-[80vh] overflow-y-auto grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[jsxRuntimeExports.jsx(m,{label:"Company Name",value:n.name}),jsxRuntimeExports.jsx(m,{label:"Company Owner",value:n.companyOwner}),jsxRuntimeExports.jsx(m,{label:"Phone",value:n.phone}),jsxRuntimeExports.jsx(m,{label:"Email",value:n.email}),jsxRuntimeExports.jsx(m,{label:"Website",value:n.website}),jsxRuntimeExports.jsx(m,{label:"Parent Company",value:u(n.parentCompanyId,o)}),jsxRuntimeExports.jsx(m,{label:"Industry",value:u(n.industryId,l.industries)}),jsxRuntimeExports.jsx(m,{label:"Company Type",value:u(n.companyTypeId,l.companyTypes)}),jsxRuntimeExports.jsx(m,{label:"Location",value:u(n.locationId,l.locations)}),jsxRuntimeExports.jsx("div",{className:"md:col-span-2 mt-4 pt-4 border-t border-border",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-foreground mb-3",children:"Billing Address"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3 text-sm",children:[jsxRuntimeExports.jsx("p",{children:n.billingStreet}),jsxRuntimeExports.jsxs("p",{children:[n.billingCity,", ",n.billingState," ",n.billingZip]}),jsxRuntimeExports.jsx("p",{children:n.billingCountry})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-foreground mb-3",children:"Shipping Address"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3 text-sm",children:[jsxRuntimeExports.jsx("p",{children:n.shippingStreet}),jsxRuntimeExports.jsxs("p",{children:[n.shippingCity,", ",n.shippingState," ",n.shippingZip]}),jsxRuntimeExports.jsx("p",{children:n.shippingCountry})]})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"p-4 bg-background-muted border-t flex justify-end",children:jsxRuntimeExports.jsx("button",{onClick:t,className:"btn-secondary",children:"Close"})})]})})},CrmCompanies=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState({companyTypes:[],industries:[],locations:[]}),[l,u]=reactExports.useState(!0),[m,p]=reactExports.useState(""),[j,f]=reactExports.useState(!1),[g,b]=reactExports.useState(null),[R,v]=reactExports.useState(!1),[N,S]=reactExports.useState(null),[$,C]=reactExports.useState(!1),[A,T]=reactExports.useState(!1),[D,I]=reactExports.useState(""),[L,_]=reactExports.useState(""),M=reactExports.useRef(null),F=reactExports.useMemo(()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),[]),B=reactExports.useCallback(async()=>{l||u(!0),p("");try{const[te,Y,le,je]=await Promise.all([axios.get(`${API_URL$E}/crm/companies`,{headers:F}),axios.get(`${API_URL$E}/crm/company-types`,{headers:F}),axios.get(`${API_URL$E}/settings/industries`,{headers:F}),axios.get(`${API_URL$E}/locations`,{headers:F})]);t(Array.isArray(te.data)?te.data:[]),o({companyTypes:Array.isArray(Y.data)?Y.data:[],industries:Array.isArray(le.data)?le.data:[],locations:Array.isArray(je.data)?je.data:[]})}catch(te){p("Failed to fetch data. Please try again."),console.error(te)}finally{u(!1)}},[F]);reactExports.useEffect(()=>{B()},[B]);const q=()=>{b(null),f(!0)},z=te=>{b(te),f(!0)},V=()=>{f(!1),b(null)},Q=te=>{S(te),C(!0)},ee=()=>{C(!1),S(null)},G=async te=>{v(!0);const Y={...te};["locationId","companyTypeId","industryId","parentCompanyId"].forEach(Z=>{Y[Z]===""&&(Y[Z]=null)});const le=!!Y.id,je=le?`${API_URL$E}/crm/companies/${Y.id}`:`${API_URL$E}/crm/companies`,ae=le?"put":"post";try{await axios[ae](je,te,{headers:F}),await B(),V()}catch(Z){alert(`Error: ${Z.response?.data?.message||"Failed to save company."}`)}finally{v(!1)}},K=async te=>{if(window.confirm("Are you sure you want to delete this company? This may affect associated leads and contacts."))try{await axios.delete(`${API_URL$E}/crm/companies/${te}`,{headers:F}),await B()}catch(Y){alert(`Error: ${Y.response?.data?.message||"Failed to delete company."}`)}},J=async()=>{try{const te=await axios.get(`${API_URL$E}/crm/companies/bulk-template`,{headers:F,responseType:"blob"}),Y=window.URL.createObjectURL(new Blob([te.data])),le=document.createElement("a");le.href=Y,le.setAttribute("download","crm_companies_bulk_upload_template.xlsx"),document.body.appendChild(le),le.click(),le.remove()}catch(te){alert("Failed to download template."),console.error(te)}},ne=async te=>{const Y=te.target.files[0];if(!Y)return;T(!0),I("");const le=new FormData;le.append("file",Y);try{await axios.post(`${API_URL$E}/crm/companies/bulk`,le,{headers:{...F,"Content-Type":"multipart/form-data"}}),alert("Companies imported successfully!"),B()}catch(je){const ae=je.response?.data,Z=Array.isArray(ae)?`Upload failed with the following errors:
- ${ae.join(`
- `)}`:ae||"An unknown error occurred.";I(Z),alert(Z)}finally{T(!1),te.target.value=null}},H=reactExports.useMemo(()=>{const te=L.trim().toLowerCase();return te?e.filter(Y=>Y.name.toLowerCase().includes(te)||Y.email?.toLowerCase().includes(te)||Y.companyOwner?.toLowerCase().includes(te)):e},[e,L]);return jsxRuntimeExports.jsxs("div",{className:"p-6 bg-card rounded-xl shadow-sm h-full flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-foreground",children:"Companies"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by name, email...",value:L,onChange:te=>_(te.target.value),className:"input w-full sm:w-64 pr-10 bg-background-muted border-border"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-foreground-muted"})]}),jsxRuntimeExports.jsx("input",{type:"file",ref:M,onChange:ne,className:"hidden",accept:".xlsx, .xls"}),jsxRuntimeExports.jsxs("button",{onClick:J,className:"btn-secondary flex items-center gap-2",title:"Download bulk upload template",children:[jsxRuntimeExports.jsx(Download,{size:16}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Template"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>M.current.click(),className:"btn-secondary flex items-center gap-2",disabled:A,children:[A?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4"}):jsxRuntimeExports.jsx(Upload,{size:16}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:A?"Uploading...":"Bulk Upload"})]}),jsxRuntimeExports.jsxs("button",{onClick:q,className:"btn-primary flex items-center gap-2",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Add Company"]})]})]}),m&&jsxRuntimeExports.jsx("p",{className:"text-red-500 mb-4",children:m}),D&&jsxRuntimeExports.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4 whitespace-pre-wrap",role:"alert",children:D}),jsxRuntimeExports.jsx("div",{className:"flex-grow overflow-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full border-collapse border border-border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted sticky top-0",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell border border-border",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell border border-border",children:"Owner"}),jsxRuntimeExports.jsx("th",{className:"th-cell border border-border",children:"Phone"}),jsxRuntimeExports.jsx("th",{className:"th-cell border border-border",children:"Email"}),jsxRuntimeExports.jsx("th",{className:"th-cell border border-border",children:"Industry"}),jsxRuntimeExports.jsx("th",{className:"th-cell border border-border w-32",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-card text-foreground-muted",children:l?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"6",className:"text-center py-10",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary mx-auto"})})}):H.length>0?H.map(te=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-background-muted transition-colors border-t border-border",children:[jsxRuntimeExports.jsx("td",{className:"td-cell border border-border font-medium text-foreground",children:te.name}),jsxRuntimeExports.jsx("td",{className:"td-cell border border-border",children:te.companyOwner||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell border border-border",children:te.phone||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell border border-border",children:te.email||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell border border-border",children:te.industryName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell border border-border",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Q(te),className:"text-sky-500 hover:text-sky-600",title:"View Details",children:jsxRuntimeExports.jsx(Eye,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>z(te),className:"text-primary hover:text-primary/80",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>K(te.id),className:"text-red-500 hover:text-red-600",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},te.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"6",className:"text-center py-10",children:[jsxRuntimeExports.jsx(Building,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-foreground",children:"No companies found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"Get started by adding a new company."})]})})})]})}),jsxRuntimeExports.jsx(AnimatePresence,{children:j&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black bg-opacity-60 z-40",onClick:V}),jsxRuntimeExports.jsx(motion.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 right-0 h-full w-full max-w-3xl bg-card shadow-2xl z-50 flex flex-col",children:jsxRuntimeExports.jsx(CrmCompanyForm,{item:g,onSave:G,onCancel:V,loading:R,companies:e,companyTypes:n.companyTypes,industries:n.industries,locations:n.locations})})]})}),jsxRuntimeExports.jsx(CompanyDetailsModal,{isOpen:$,onClose:ee,company:N,companies:e,selectData:n})]})},InfoDisplay$1=({label:e,value:t})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-foreground-muted",children:e}),jsxRuntimeExports.jsx("p",{className:"font-medium text-foreground",children:t||jsxRuntimeExports.jsx("span",{className:"text-foreground-muted/50",children:"N/A"})})]}),Section=({title:e,children:t})=>jsxRuntimeExports.jsxs("div",{className:"p-4 border border-border rounded-lg bg-background-muted",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold mb-4 text-foreground-muted",children:e}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t})]}),LeadFullDetailsModal=({isOpen:e,onClose:t,lead:n})=>!e||!n?null:jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/60 flex justify-center items-center z-50 p-4",onClick:t,children:jsxRuntimeExports.jsxs("div",{className:"bg-card text-card-foreground rounded-lg shadow-xl w-full max-w-4xl h-[90vh] flex flex-col",onClick:o=>o.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center flex-shrink-0",children:[jsxRuntimeExports.jsxs("h3",{className:"text-xl font-semibold text-foreground",children:["All Details for ",n.firstName," ",n.lastName]}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-1 rounded-full text-foreground-muted hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsxs("div",{className:"flex-grow overflow-y-auto p-6 space-y-6",children:[jsxRuntimeExports.jsxs(Section,{title:"General Information",children:[jsxRuntimeExports.jsx(InfoDisplay$1,{label:"Lead No.",value:n.leadNo}),jsxRuntimeExports.jsx(InfoDisplay$1,{label:"First Name",value:n.firstName}),jsxRuntimeExports.jsx(InfoDisplay$1,{label:"Last Name",value:n.lastName}),jsxRuntimeExports.jsx(InfoDisplay$1,{label:"Designation",value:n.designation}),jsxRuntimeExports.jsx(InfoDisplay$1,{label:"Email",value:n.email}),jsxRuntimeExports.jsx(InfoDisplay$1,{label:"Phone",value:n.phone}),jsxRuntimeExports.jsx(InfoDisplay$1,{label:"Website",value:n.website})]}),jsxRuntimeExports.jsxs(Section,{title:"Company Information",children:[jsxRuntimeExports.jsx(InfoDisplay$1,{label:"Company Name",value:n.companyName}),jsxRuntimeExports.jsx(InfoDisplay$1,{label:"Industry",value:n.industryName})]}),jsxRuntimeExports.jsxs(Section,{title:"Lead Status & Origin",children:[jsxRuntimeExports.jsx(InfoDisplay$1,{label:"Current Stage",value:n.currentStageName}),jsxRuntimeExports.jsx(InfoDisplay$1,{label:"Lead Source",value:n.leadSource}),jsxRuntimeExports.jsx(InfoDisplay$1,{label:"Status",value:n.status}),jsxRuntimeExports.jsx(InfoDisplay$1,{label:"Owner",value:n.ownerName}),jsxRuntimeExports.jsx(InfoDisplay$1,{label:"Location",value:n.locationName})]}),n.address&&jsxRuntimeExports.jsxs(Section,{title:"Address",children:[jsxRuntimeExports.jsx(InfoDisplay$1,{label:"Street",value:n.address.street}),jsxRuntimeExports.jsx(InfoDisplay$1,{label:"City",value:n.address.city}),jsxRuntimeExports.jsx(InfoDisplay$1,{label:"State",value:n.address.state}),jsxRuntimeExports.jsx(InfoDisplay$1,{label:"Zip",value:n.address.zip}),jsxRuntimeExports.jsx(InfoDisplay$1,{label:"Country",value:n.address.country})]}),n.products&&n.products.length>0&&jsxRuntimeExports.jsx(Section,{title:"Products/Services of Interest",children:jsxRuntimeExports.jsx("div",{className:"md:col-span-3",children:jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside pl-2",children:n.products.map(o=>jsxRuntimeExports.jsx("li",{children:o.name},o.id))})})}),n.requirements&&jsxRuntimeExports.jsx(Section,{title:"Requirements",children:jsxRuntimeExports.jsx("p",{className:"md:col-span-3 text-foreground",children:n.requirements})}),n.notes&&jsxRuntimeExports.jsx(Section,{title:"Notes",children:jsxRuntimeExports.jsx("p",{className:"md:col-span-3 text-foreground",children:n.notes})})]})]})}),API_URL$D="https://javapaas-202946-0.cloudclusters.net/api",FormField$3=({label:e,children:t,required:n})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-foreground-muted",children:[e," ",n&&jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("div",{className:"mt-1",children:t})]}),CrmTaskForm=({item:e,onSave:t,onCancel:n,loading:o,leadId:l})=>{const[u,m]=reactExports.useState({subject:"TASK",comments:"",dueDate:"",callTime:"",assignedToEmployeeId:"",employeeIds:[],contactIds:[],status:"OPEN",leadId:l||null}),[p,j]=reactExports.useState({employees:[],contacts:[]}),[f,g]=reactExports.useState(!0);reactExports.useEffect(()=>{(async()=>{g(!0);try{const $={Authorization:`Bearer ${localStorage.getItem("token")}`},[C,A]=await Promise.all([axios.get(`${API_URL$D}/employees/all`,{headers:$}),axios.get(`${API_URL$D}/contacts`,{headers:$})]);j({employees:C.data,contacts:A.data.content||A.data})}catch(S){console.error("Failed to fetch form select data",S),alert("Failed to load required data for the form.")}finally{g(!1)}})()},[]),reactExports.useEffect(()=>{m(e?{subject:e.subject||"TASK",comments:e.comments||"",dueDate:e.dueDate||"",callTime:e.callTime||"",assignedToEmployeeId:e.assignedToId||"",employeeIds:e.employees?.map(N=>N.id)||[],contactIds:e.contacts?.map(N=>N.id)||[],status:e.status||"OPEN",leadId:e.leadId||l}:N=>({...N,leadId:l}))},[e,l]);const b=N=>{const{name:S,value:$}=N.target;m(C=>({...C,[S]:$}))},R=N=>{const{name:S,options:$}=N.target,C=Array.from($).filter(A=>A.selected).map(A=>A.value);m(A=>({...A,[S]:C}))},v=N=>{N.preventDefault(),t({...u,leadId:l})};return f?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-full",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary"})}):jsxRuntimeExports.jsxs("form",{onSubmit:v,className:"flex flex-col h-full bg-card",children:[jsxRuntimeExports.jsxs("header",{className:"p-4 border-b flex-shrink-0 flex items-center justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-foreground",children:e?"Edit Task":"New Task"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"p-1.5 rounded-full hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 p-6 space-y-4 overflow-y-auto",children:[jsxRuntimeExports.jsx(FormField$3,{label:"Subject",required:!0,children:jsxRuntimeExports.jsxs("select",{name:"subject",value:u.subject,onChange:b,required:!0,className:"input bg-background-muted border-border",children:[jsxRuntimeExports.jsx("option",{value:"TASK",children:"Task"}),jsxRuntimeExports.jsx("option",{value:"CALL",children:"Call"}),jsxRuntimeExports.jsx("option",{value:"EVENT",children:"Event"}),jsxRuntimeExports.jsx("option",{value:"MEETING",children:"Meeting"}),jsxRuntimeExports.jsx("option",{value:"OTHER",children:"Other"})]})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(FormField$3,{label:"Due Date",children:jsxRuntimeExports.jsx("input",{type:"date",name:"dueDate",value:u.dueDate,onChange:b,className:"input bg-background-muted border-border"})}),jsxRuntimeExports.jsx(FormField$3,{label:"Time",children:jsxRuntimeExports.jsx("input",{type:"time",name:"callTime",value:u.callTime,onChange:b,className:"input bg-background-muted border-border"})})]}),jsxRuntimeExports.jsx(FormField$3,{label:"Assigned To",required:!0,children:jsxRuntimeExports.jsxs("select",{name:"assignedToEmployeeId",value:u.assignedToEmployeeId,onChange:b,required:!0,className:"input bg-background-muted border-border",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Employee"}),p.employees.map(N=>jsxRuntimeExports.jsxs("option",{value:N.id,children:[N.firstName," ",N.lastName]},N.id))]})}),jsxRuntimeExports.jsx(FormField$3,{label:"Additional Employees",children:jsxRuntimeExports.jsx("select",{name:"employeeIds",value:u.employeeIds,onChange:R,multiple:!0,className:"input h-24 bg-background-muted border-border",children:p.employees.map(N=>jsxRuntimeExports.jsxs("option",{value:N.id,children:[N.firstName," ",N.lastName]},N.id))})}),jsxRuntimeExports.jsx(FormField$3,{label:"Related Contacts",children:jsxRuntimeExports.jsx("select",{name:"contactIds",value:u.contactIds,onChange:R,multiple:!0,className:"input h-24 bg-background-muted border-border",children:p.contacts.map(N=>jsxRuntimeExports.jsxs("option",{value:N.id,children:[N.firstName," ",N.lastName]},N.id))})}),jsxRuntimeExports.jsx(FormField$3,{label:"Status",children:jsxRuntimeExports.jsxs("select",{name:"status",value:u.status,onChange:b,className:"input bg-background-muted border-border",children:[jsxRuntimeExports.jsx("option",{value:"OPEN",children:"Open"}),jsxRuntimeExports.jsx("option",{value:"IN_PROGRESS",children:"In Progress"}),jsxRuntimeExports.jsx("option",{value:"COMPLETED",children:"Completed"}),jsxRuntimeExports.jsx("option",{value:"CANCELLED",children:"Cancelled"})]})}),jsxRuntimeExports.jsx(FormField$3,{label:"Comments",children:jsxRuntimeExports.jsx("textarea",{name:"comments",value:u.comments,onChange:b,rows:"4",className:"input bg-background-muted border-border"})})]}),jsxRuntimeExports.jsxs("footer",{className:"p-4 bg-background-muted border-t flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",disabled:o,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:o,children:[o?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}):jsxRuntimeExports.jsx(Save,{className:"h-4 w-4 mr-2"}),"Save Task"]})]})]})},API_URL$C="https://javapaas-202946-0.cloudclusters.net/api",FormField$2=({label:e,children:t,required:n})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-foreground-muted",children:[e," ",n&&jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("div",{className:"mt-1",children:t})]}),CrmEventForm=({item:e,onSave:t,onCancel:n,loading:o,leadId:l})=>{const[u,m]=reactExports.useState({subject:"MEETING",description:"",sameStartEnd:!1,date:"",fromTime:"",toTime:"",primaryContactId:"",employeeIds:[],contactIds:[],status:"OPEN",priority:"NORMAL",meetingType:"ONLINE",meetingWith:"",leadId:l||null}),[p,j]=reactExports.useState({employees:[],contacts:[]}),[f,g]=reactExports.useState(!0);reactExports.useEffect(()=>{(async()=>{g(!0);try{const $={Authorization:`Bearer ${localStorage.getItem("token")}`},[C,A]=await Promise.all([axios.get(`${API_URL$C}/employees/all`,{headers:$}),axios.get(`${API_URL$C}/crm/contacts`,{headers:$})]);j({employees:C.data,contacts:A.data.content||A.data})}catch(S){console.error("Failed to fetch form select data",S)}finally{g(!1)}})()},[]),reactExports.useEffect(()=>{m(e?{subject:e.subject||"MEETING",description:e.description||"",sameStartEnd:e.sameStartEnd||!1,date:e.date||"",fromTime:e.fromTime||"",toTime:e.toTime||"",primaryContactId:e.primaryContactId||"",employeeIds:e.employeeIds||[],contactIds:e.contactIds||[],status:e.status||"OPEN",priority:e.priority||"NORMAL",meetingType:e.meetingType||"ONLINE",meetingWith:e.meetingWith||"",leadId:e.leadId||l}:N=>({...N,leadId:l}))},[e,l]);const b=N=>{const{name:S,value:$,type:C,checked:A}=N.target;m(T=>({...T,[S]:C==="checkbox"?A:$}))},R=N=>{const{name:S,options:$}=N.target,C=Array.from($).filter(A=>A.selected).map(A=>A.value);m(A=>({...A,[S]:C}))},v=N=>{N.preventDefault(),t({...u,leadId:l})};return f?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-full",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary"})}):jsxRuntimeExports.jsxs("form",{onSubmit:v,className:"flex flex-col h-full bg-card",children:[jsxRuntimeExports.jsxs("header",{className:"p-4 border-b flex-shrink-0 flex items-center justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-foreground",children:e?"Edit Event":"New Event"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"p-1.5 rounded-full hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 p-6 space-y-4 overflow-y-auto",children:[jsxRuntimeExports.jsx(FormField$2,{label:"Subject",required:!0,children:jsxRuntimeExports.jsxs("select",{name:"subject",value:u.subject,onChange:b,required:!0,className:"input bg-background-muted border-border",children:[jsxRuntimeExports.jsx("option",{value:"MEETING",children:"Meeting"}),jsxRuntimeExports.jsx("option",{value:"CALL",children:"Call"}),jsxRuntimeExports.jsx("option",{value:"EVENT",children:"Event"}),jsxRuntimeExports.jsx("option",{value:"TASK",children:"Task"}),jsxRuntimeExports.jsx("option",{value:"OTHER",children:"Other"})]})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(FormField$2,{label:"Date",required:!0,children:jsxRuntimeExports.jsx("input",{type:"date",name:"date",value:u.date,onChange:b,required:!0,className:"input bg-background-muted border-border"})}),jsxRuntimeExports.jsx(FormField$2,{label:"From Time",required:!0,children:jsxRuntimeExports.jsx("input",{type:"time",name:"fromTime",value:u.fromTime,onChange:b,required:!0,className:"input bg-background-muted border-border"})}),jsxRuntimeExports.jsx(FormField$2,{label:"To Time",children:jsxRuntimeExports.jsx("input",{type:"time",name:"toTime",value:u.toTime,onChange:b,className:"input bg-background-muted border-border"})}),jsxRuntimeExports.jsx(FormField$2,{label:"Priority",children:jsxRuntimeExports.jsxs("select",{name:"priority",value:u.priority,onChange:b,className:"input bg-background-muted border-border",children:[jsxRuntimeExports.jsx("option",{value:"NORMAL",children:"Normal"}),jsxRuntimeExports.jsx("option",{value:"LOW",children:"Low"}),jsxRuntimeExports.jsx("option",{value:"HIGH",children:"High"})]})})]}),u.subject==="MEETING"&&jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(FormField$2,{label:"Meeting Type",children:jsxRuntimeExports.jsxs("select",{name:"meetingType",value:u.meetingType,onChange:b,className:"input bg-background-muted border-border",children:[jsxRuntimeExports.jsx("option",{value:"ONLINE",children:"Online"}),jsxRuntimeExports.jsx("option",{value:"ONSITE",children:"On-site"})]})}),jsxRuntimeExports.jsx(FormField$2,{label:"Meeting Link/Location",children:jsxRuntimeExports.jsx("input",{name:"meetingWith",value:u.meetingWith,onChange:b,className:"input bg-background-muted border-border",placeholder:"e.g., Google Meet Link or Address"})})]}),jsxRuntimeExports.jsx(FormField$2,{label:"Primary Contact",children:jsxRuntimeExports.jsxs("select",{name:"primaryContactId",value:u.primaryContactId,onChange:b,className:"input bg-background-muted border-border",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Contact"}),p.contacts.map(N=>jsxRuntimeExports.jsxs("option",{value:N.id,children:[N.firstName," ",N.lastName]},N.id))]})}),jsxRuntimeExports.jsx(FormField$2,{label:"Participating Employees",children:jsxRuntimeExports.jsx("select",{name:"employeeIds",value:u.employeeIds,onChange:R,multiple:!0,className:"input h-24 bg-background-muted border-border",children:p.employees.map(N=>jsxRuntimeExports.jsxs("option",{value:N.id,children:[N.firstName," ",N.lastName]},N.id))})}),jsxRuntimeExports.jsx(FormField$2,{label:"Additional Contacts",children:jsxRuntimeExports.jsx("select",{name:"contactIds",value:u.contactIds,onChange:R,multiple:!0,className:"input h-24 bg-background-muted border-border",children:p.contacts.map(N=>jsxRuntimeExports.jsxs("option",{value:N.id,children:[N.firstName," ",N.lastName]},N.id))})}),jsxRuntimeExports.jsx(FormField$2,{label:"Description",children:jsxRuntimeExports.jsx("textarea",{name:"description",value:u.description,onChange:b,rows:"4",className:"input bg-background-muted border-border"})})]}),jsxRuntimeExports.jsxs("footer",{className:"p-4 bg-background-muted border-t flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",disabled:o,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:o,children:[o?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}):jsxRuntimeExports.jsx(Save,{className:"h-4 w-4 mr-2"}),"Save Event"]})]})]})},API_URL$B="https://javapaas-202946-0.cloudclusters.net/api",FormField$1=({label:e,children:t,required:n})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-foreground-muted",children:[e," ",n&&jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("div",{className:"mt-1",children:t})]}),CrmCallLogForm=({item:e,onSave:t,onCancel:n,loading:o,leadId:l})=>{const[u,m]=reactExports.useState({comments:"",callDate:new Date().toISOString().split("T")[0],callTime:new Date().toTimeString().slice(0,5),remindMeBefore:!1,reminderTime:"",employeeId:"",contactId:"",leadId:l||null}),[p,j]=reactExports.useState({employees:[],contacts:[]}),[f,g]=reactExports.useState(!0);reactExports.useEffect(()=>{(async()=>{g(!0);try{const S={Authorization:`Bearer ${localStorage.getItem("token")}`},[$,C]=await Promise.all([axios.get(`${API_URL$B}/employees/all`,{headers:S}),axios.get(`${API_URL$B}/contacts?size=200`,{headers:S})]);j({employees:$.data,contacts:C.data.content||C.data})}catch(N){console.error("Failed to fetch form select data",N),alert("Failed to load required data for the form.")}finally{g(!1)}})()},[]),reactExports.useEffect(()=>{m(e?{comments:e.comments||"",callDate:e.callDate||new Date().toISOString().split("T")[0],callTime:e.callTime||new Date().toTimeString().slice(0,5),remindMeBefore:e.remindMeBefore||!1,reminderTime:e.reminderTime||"",employeeId:e.employeeId||"",contactId:e.contactId||"",leadId:e.leadId||l}:v=>({...v,leadId:l}))},[e,l]);const b=v=>{const{name:N,value:S,type:$,checked:C}=v.target;m(A=>({...A,[N]:$==="checkbox"?C:S}))},R=v=>{v.preventDefault(),t({...u,leadId:l})};return f?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-full",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary"})}):jsxRuntimeExports.jsxs("form",{onSubmit:R,className:"flex flex-col h-full bg-card",children:[jsxRuntimeExports.jsxs("header",{className:"p-4 border-b flex-shrink-0 flex items-center justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-foreground",children:e?"Edit Call Log":"Log a Call"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"p-1.5 rounded-full hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 p-6 space-y-4 overflow-y-auto",children:[jsxRuntimeExports.jsx(FormField$1,{label:"Call Date",required:!0,children:jsxRuntimeExports.jsx("input",{type:"date",name:"callDate",value:u.callDate,onChange:b,required:!0,className:"input bg-background-muted border-border"})}),jsxRuntimeExports.jsx(FormField$1,{label:"Call Time",children:jsxRuntimeExports.jsx("input",{type:"time",name:"callTime",value:u.callTime,onChange:b,className:"input bg-background-muted border-border"})}),jsxRuntimeExports.jsx(FormField$1,{label:"Assigned To (Caller)",required:!0,children:jsxRuntimeExports.jsxs("select",{name:"employeeId",value:u.employeeId,onChange:b,required:!0,className:"input bg-background-muted border-border",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Employee"}),p.employees.map(v=>jsxRuntimeExports.jsxs("option",{value:v.id,children:[v.firstName," ",v.lastName]},v.id))]})}),jsxRuntimeExports.jsx(FormField$1,{label:"Related Contact (Optional)",children:jsxRuntimeExports.jsxs("select",{name:"contactId",value:u.contactId,onChange:b,className:"input bg-background-muted border-border",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Contact"}),p.contacts.map(v=>jsxRuntimeExports.jsxs("option",{value:v.id,children:[v.firstName," ",v.lastName]},v.id))]})}),jsxRuntimeExports.jsx(FormField$1,{label:"Comments",children:jsxRuntimeExports.jsx("textarea",{name:"comments",value:u.comments,onChange:b,rows:"4",className:"input bg-background-muted border-border"})})]}),jsxRuntimeExports.jsxs("footer",{className:"p-4 bg-background-muted border-t flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",disabled:o,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:o,children:[o?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}):jsxRuntimeExports.jsx(Save,{className:"h-4 w-4 mr-2"}),"Save Log"]})]})]})},API_URL$A="https://javapaas-202946-0.cloudclusters.net/api",FormField=({label:e,children:t,required:n})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-foreground-muted",children:[e," ",n&&jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("div",{className:"mt-1",children:t})]}),CrmEmailForm=({lead:e,onSave:t,onCancel:n,loading:o})=>{const[l,u]=reactExports.useState({subject:"",body:"",ccAddress:"",leadId:e?.id||null,sentByEmployeeId:""}),[m,p]=reactExports.useState([]);reactExports.useEffect(()=>{(async()=>{try{const b=localStorage.getItem("token"),R=await axios.get(`${API_URL$A}/employees/all`,{headers:{Authorization:`Bearer ${b}`}});p(R.data)}catch(b){console.error("Failed to fetch employees",b)}})()},[]);const j=g=>{const{name:b,value:R}=g.target;u(v=>({...v,[b]:R}))},f=g=>{if(g.preventDefault(),!l.sentByEmployeeId){alert("Please select the sender.");return}t(l)};return jsxRuntimeExports.jsxs("form",{onSubmit:f,className:"flex flex-col h-full bg-card",children:[jsxRuntimeExports.jsxs("header",{className:"p-4 border-b flex-shrink-0 flex items-center justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-foreground",children:"Compose Email"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"p-1.5 rounded-full hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 p-6 space-y-4 overflow-y-auto",children:[jsxRuntimeExports.jsxs("div",{className:"p-2 bg-background-muted rounded-md text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-foreground-muted",children:"To: "}),jsxRuntimeExports.jsx("span",{className:"font-medium text-foreground",children:e?.email||"No recipient email"})]}),jsxRuntimeExports.jsx(FormField,{label:"CC",children:jsxRuntimeExports.jsx("input",{type:"email",name:"ccAddress",value:l.ccAddress,onChange:j,placeholder:"cc@example.com",className:"input bg-background-muted border-border"})}),jsxRuntimeExports.jsx(FormField,{label:"Subject",required:!0,children:jsxRuntimeExports.jsx("input",{type:"text",name:"subject",value:l.subject,onChange:j,required:!0,className:"input bg-background-muted border-border"})}),jsxRuntimeExports.jsx(FormField,{label:"Body",required:!0,children:jsxRuntimeExports.jsx("textarea",{name:"body",value:l.body,onChange:j,required:!0,rows:"10",className:"input bg-background-muted border-border"})}),jsxRuntimeExports.jsx(FormField,{label:"Send As (Internal Tracker)",required:!0,children:jsxRuntimeExports.jsxs("select",{name:"sentByEmployeeId",value:l.sentByEmployeeId,onChange:j,required:!0,className:"input bg-background-muted border-border",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Your Name"}),m.map(g=>jsxRuntimeExports.jsxs("option",{value:g.id,children:[g.firstName," ",g.lastName]},g.id))]})})]}),jsxRuntimeExports.jsxs("footer",{className:"p-4 bg-background-muted border-t flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:"btn-secondary",disabled:o,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:o||!e?.email,children:[o?jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-4 w-4 mr-2"}):jsxRuntimeExports.jsx(Send,{className:"h-4 w-4 mr-2"}),"Send Email"]})]})]})},API_URL$z="https://javapaas-202946-0.cloudclusters.net/api",EventItem=({event:e,onEdit:t,onDelete:n})=>jsxRuntimeExports.jsxs("div",{className:"p-4 bg-background-muted rounded-lg border border-border",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{className:"font-semibold text-foreground",children:[e.subject,": ",e.description?.substring(0,50)||"No description",e.description?.length>50?"...":""]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-foreground-muted mt-1",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Calendar,{size:14})," ",e.date]}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1 mt-1",children:[jsxRuntimeExports.jsx(Clock,{size:14})," ",e.fromTime," - ",e.toTime||"N/A"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>t(e),className:"p-1 text-primary hover:text-primary/80",title:"Edit Event",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>n(e.id),className:"p-1 text-red-500 hover:text-red-600",title:"Delete Event",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-3 pt-3 border-t border-border/50 flex flex-wrap items-center gap-x-4 gap-y-2 text-xs text-foreground-muted",children:jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Users,{size:14})," Participants: ",e.employeeNames?.join(", ")||"None"]})})]}),EventsTab=({leadId:e,onAddEvent:t,onEditEvent:n})=>{const[o,l]=reactExports.useState([]),[u,m]=reactExports.useState(!0),[p,j]=reactExports.useState(""),f=reactExports.useCallback(async()=>{if(e){m(!0),j("");try{const b=localStorage.getItem("token"),R=await axios.get(`${API_URL$z}/crm/events/lead/${e}`,{headers:{Authorization:`Bearer ${b}`}});l(R.data)}catch(b){j("Failed to fetch events."),console.error(b)}finally{m(!1)}}},[e]);reactExports.useEffect(()=>{f()},[f]);const g=async b=>{if(window.confirm("Are you sure you want to delete this event?"))try{const R=localStorage.getItem("token");await axios.delete(`${API_URL$z}/crm/events/${b}`,{headers:{Authorization:`Bearer ${R}`}}),f()}catch(R){alert(`Error: ${R.response?.data?.message||"Failed to delete event."}`)}};return u?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary"})}):p?jsxRuntimeExports.jsx("div",{className:"text-center text-red-500 p-4",children:p}):jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Events"}),jsxRuntimeExports.jsxs("button",{onClick:t,className:"btn-primary flex items-center gap-2",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," New Event"]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:o.length>0?o.map(b=>jsxRuntimeExports.jsx(EventItem,{event:b,onEdit:n,onDelete:g},b.id)):jsxRuntimeExports.jsxs("div",{className:"text-center py-10 border-2 border-dashed border-border rounded-lg bg-background-muted text-foreground-muted",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-foreground",children:"No events found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"Get started by creating a new event for this lead."})]})})]})},API_URL$y="https://javapaas-202946-0.cloudclusters.net/api",TaskItem=({task:e,onEdit:t,onDelete:n})=>jsxRuntimeExports.jsxs("div",{className:"p-4 bg-background-muted rounded-lg border border-border",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-foreground",children:e.subject}),jsxRuntimeExports.jsx("p",{className:"text-sm text-foreground-muted mt-1",children:e.comments})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>t(e),className:"p-1 text-primary hover:text-primary/80",title:"Edit Task",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>n(e.id),className:"p-1 text-red-500 hover:text-red-600",title:"Delete Task",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-3 pt-3 border-t border-border/50 flex flex-wrap items-center gap-x-4 gap-y-2 text-xs text-foreground-muted",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Calendar,{size:14})," Due: ",e.dueDate||"N/A"]}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(User,{size:14})," To: ",e.assignedToName||"N/A"]}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Tag,{size:14})," Status: ",e.status||"N/A"]})]})]}),TasksTab=({leadId:e,onAddTask:t,onEditTask:n})=>{const[o,l]=reactExports.useState([]),[u,m]=reactExports.useState(!0),[p,j]=reactExports.useState(""),f=reactExports.useCallback(async()=>{if(e){m(!0),j("");try{const b=localStorage.getItem("token"),R=await axios.get(`${API_URL$y}/crm/tasks/lead/${e}`,{headers:{Authorization:`Bearer ${b}`}});l(R.data)}catch(b){j("Failed to fetch tasks."),console.error(b)}finally{m(!1)}}},[e]);reactExports.useEffect(()=>{f()},[f]);const g=async b=>{if(window.confirm("Are you sure you want to delete this task?"))try{const R=localStorage.getItem("token");await axios.delete(`${API_URL$y}/crm/tasks/${b}`,{headers:{Authorization:`Bearer ${R}`}}),f()}catch(R){alert(`Error: ${R.response?.data?.message||"Failed to delete task."}`)}};return u?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary"})}):p?jsxRuntimeExports.jsx("div",{className:"text-center text-red-500 p-4",children:p}):jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Tasks"}),jsxRuntimeExports.jsxs("button",{onClick:t,className:"btn-primary flex items-center gap-2",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," New Task"]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:o.length>0?o.map(b=>jsxRuntimeExports.jsx(TaskItem,{task:b,onEdit:n,onDelete:g},b.id)):jsxRuntimeExports.jsxs("div",{className:"text-center py-10 border-2 border-dashed border-border rounded-lg bg-background-muted text-foreground-muted",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-foreground",children:"No tasks found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"Get started by creating a new task for this lead."})]})})]})},API_URL$x="https://javapaas-202946-0.cloudclusters.net/api",CallLogItem=({log:e,onEdit:t,onDelete:n})=>jsxRuntimeExports.jsxs("div",{className:"p-4 bg-background-muted rounded-lg border border-border",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{className:"font-semibold text-foreground",children:["Call with ",e.contactName||e.leadName]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-foreground-muted mt-1",children:e.comments})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>t(e),className:"p-1 text-primary hover:text-primary/80",title:"Edit Log",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>n(e.id),className:"p-1 text-red-500 hover:text-red-600",title:"Delete Log",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-3 pt-3 border-t border-border/50 flex flex-wrap items-center gap-x-4 gap-y-2 text-xs text-foreground-muted",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Calendar,{size:14})," Date: ",e.callDate||"N/A"," at ",e.callTime||"N/A"]}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(User,{size:14})," By: ",e.employeeName||"N/A"]})]})]}),CallLogsTab=({leadId:e,onAddCallLog:t,onEditCallLog:n})=>{const[o,l]=reactExports.useState([]),[u,m]=reactExports.useState(!0),[p,j]=reactExports.useState(""),f=reactExports.useCallback(async()=>{if(e){m(!0),j("");try{const b=localStorage.getItem("token"),R=await axios.get(`${API_URL$x}/crm/call-logs/by-lead/${e}`,{headers:{Authorization:`Bearer ${b}`}});l(R.data)}catch(b){j("Failed to fetch call logs."),console.error(b)}finally{m(!1)}}},[e]);reactExports.useEffect(()=>{f()},[f]);const g=async b=>{if(window.confirm("Are you sure you want to delete this call log?"))try{const R=localStorage.getItem("token");await axios.delete(`${API_URL$x}/crm/call-logs/${b}`,{headers:{Authorization:`Bearer ${R}`}}),f()}catch(R){alert(`Error: ${R.response?.data?.message||"Failed to delete call log."}`)}};return u?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary"})}):p?jsxRuntimeExports.jsx("div",{className:"text-center text-red-500 p-4",children:p}):jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Call Logs"}),jsxRuntimeExports.jsxs("button",{onClick:t,className:"btn-primary flex items-center gap-2",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Log a Call"]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:o.length>0?o.map(b=>jsxRuntimeExports.jsx(CallLogItem,{log:b,onEdit:n,onDelete:g},b.id)):jsxRuntimeExports.jsxs("div",{className:"text-center py-10 border-2 border-dashed border-border rounded-lg bg-background-muted text-foreground-muted",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-foreground",children:"No call logs found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"Get started by logging a call for this lead."})]})})]})},API_URL$w="https://javapaas-202946-0.cloudclusters.net/api",EmailStatusIcon=({status:e})=>{switch(e){case"SENT":return jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4 text-green-500",title:"Sent"});case"FAILED":return jsxRuntimeExports.jsx(TriangleAlert,{className:"h-4 w-4 text-red-500",title:"Failed"});default:return jsxRuntimeExports.jsx(Send,{className:"h-4 w-4 text-gray-400",title:"Sending"})}},EmailItem=({email:e})=>jsxRuntimeExports.jsxs("div",{className:"p-4 bg-background-muted rounded-lg border border-border",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-foreground",children:e.subject}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-foreground-muted mt-1 truncate",children:["To: ",e.toAddress]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-xs text-foreground-muted",children:[jsxRuntimeExports.jsx(EmailStatusIcon,{status:e.status}),jsxRuntimeExports.jsx("span",{children:new Date(e.createdAt).toLocaleString()})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-3 pt-3 border-t border-border/50",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-foreground-muted whitespace-pre-wrap",children:e.body})}),jsxRuntimeExports.jsxs("div",{className:"mt-2 text-xs text-foreground-muted",children:["Sent by: ",e.sentByEmployeeName||"N/A"]})]}),EmailsTab=({leadId:e,onComposeEmail:t})=>{const[n,o]=reactExports.useState([]),[l,u]=reactExports.useState(!0),[m,p]=reactExports.useState(""),j=reactExports.useCallback(async()=>{if(e){u(!0),p("");try{const f=localStorage.getItem("token"),g=await axios.get(`${API_URL$w}/crm/emails/by-lead/${e}`,{headers:{Authorization:`Bearer ${f}`}});o(g.data)}catch(f){p("Failed to fetch emails."),console.error(f)}finally{u(!1)}}},[e]);return reactExports.useEffect(()=>{j()},[j]),l?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary"})}):m?jsxRuntimeExports.jsx("div",{className:"text-center text-red-500 p-4",children:m}):jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Email History"}),jsxRuntimeExports.jsxs("button",{onClick:t,className:"btn-primary flex items-center gap-2",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Compose Email"]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:n.length>0?n.map(f=>jsxRuntimeExports.jsx(EmailItem,{email:f},f.id)):jsxRuntimeExports.jsxs("div",{className:"text-center py-10 border-2 border-dashed border-border rounded-lg bg-background-muted text-foreground-muted",children:[jsxRuntimeExports.jsx(Mail,{className:"mx-auto h-12 w-12"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-foreground",children:"No emails found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"Get started by sending an email to this lead."})]})})]})},API_URL$v="https://javapaas-202946-0.cloudclusters.net/api",InfoDisplay=({label:e,value:t,icon:n})=>jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2",children:[n&&jsxRuntimeExports.jsx(n,{className:"h-4 w-4 text-foreground-muted mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-foreground-muted",children:e}),jsxRuntimeExports.jsx("p",{className:"font-medium text-foreground break-words",children:t||jsxRuntimeExports.jsx("span",{className:"text-foreground-muted/50",children:"N/A"})})]})]}),ContentTab=({icon:e,label:t,isActive:n,onClick:o})=>jsxRuntimeExports.jsxs("button",{onClick:o,className:`flex items-center gap-2 px-4 py-3 text-sm font-medium transition-colors border-b-2 -mb-px ${n?"border-primary text-primary":"border-transparent text-foreground-muted hover:text-foreground"}`,children:[jsxRuntimeExports.jsx(e,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{children:t})]}),ActivityFeed=({lead:e})=>jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Activity Feed"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-foreground-muted",children:"Activity feed for this lead will be displayed here. This can include notes, tasks, events, and emails."}),jsxRuntimeExports.jsx("div",{className:"mt-4 space-y-4",children:jsxRuntimeExports.jsxs("div",{className:"p-3 bg-background-muted rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:"Note Added"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-foreground-muted",children:["by Admin on ",new Date().toLocaleDateString()]}),jsxRuntimeExports.jsx("p",{className:"text-sm mt-1",children:"Called the lead, they are interested in a demo next week."})]})})]}),LeadStages=({allStages:e,currentStageName:t,onStatusChange:n,onStageChange:o})=>{const[l,u]=reactExports.useState(!1),m=[...e].sort((R,v)=>R.sortOrder-v.sortOrder),p=m.findIndex(R=>R.name===t),j=()=>{if(p>0){const R=m[p-1];o(R)}},f=()=>{if(l)n("NOT_RESPONDING");else if(p<m.length-1){const R=m[p+1];o(R)}},g=()=>n("LOST"),b=()=>n("ACTIVE");return jsxRuntimeExports.jsxs("div",{className:"p-6 bg-card rounded-lg shadow-sm space-y-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-foreground mb-6",children:"Lead Stage"}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between w-full",children:m.map((R,v)=>{const N=R.isCompleted,S=v===p;return jsxRuntimeExports.jsxs(React.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center text-center w-20",children:[jsxRuntimeExports.jsx("div",{className:`h-8 w-8 rounded-full flex items-center justify-center border-2 ${S?"bg-primary border-primary text-primary-foreground":N?"bg-green-500 border-green-500 text-white":"bg-background border-border"}`,children:N?"":v+1}),jsxRuntimeExports.jsx("p",{className:`mt-2 text-xs font-medium ${S?"text-primary":"text-foreground-muted"}`,children:R.name})]}),v<m.length-1&&jsxRuntimeExports.jsx("div",{className:`flex-1 h-0.5 mx-2 ${N?"bg-green-500":"bg-border"}`})]},R.id)})})]}),jsxRuntimeExports.jsxs("div",{className:"pt-6 border-t border-border",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Lead Progression Actions"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:l,onChange:R=>u(R.target.checked),className:"h-4 w-4 rounded"}),'Mark as "Not Responding"']}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-2 flex-1 justify-end",children:[jsxRuntimeExports.jsxs("button",{onClick:j,disabled:p<=0,className:"btn-secondary flex items-center gap-1 disabled:opacity-50",children:[jsxRuntimeExports.jsx(CircleArrowLeft,{size:16})," Back"]}),jsxRuntimeExports.jsxs("button",{onClick:f,className:"btn-primary flex items-center gap-1",children:["Next ",jsxRuntimeExports.jsx(ArrowRight,{size:16})]}),jsxRuntimeExports.jsxs("button",{onClick:g,className:"btn-danger flex items-center gap-1",children:[jsxRuntimeExports.jsx(CircleX,{size:16})," Lost"]}),jsxRuntimeExports.jsxs("button",{onClick:b,className:"btn-success flex items-center gap-1",children:[jsxRuntimeExports.jsx(CircleCheckBig,{size:16})," Completed"]})]})]})]})]})},ActionGrid=({onNewTaskClick:e,onNewEventClick:t,onLogCallClick:n,onEmailClick:o})=>{const l=[{label:"New Task",icon:SquareCheckBig,onClick:e},{label:"New Event",icon:Calendar,onClick:t},{label:"Log a Call",icon:Phone,onClick:n},{label:"Email",icon:Mail,onClick:o}];return jsxRuntimeExports.jsxs("div",{className:"p-6 border-t border-border",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Quick Actions"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:l.map(u=>jsxRuntimeExports.jsxs("button",{onClick:u.onClick,className:"flex flex-col items-center justify-center p-4 bg-background-muted rounded-lg hover:bg-primary/10 hover:text-primary transition-colors text-foreground-muted",children:[jsxRuntimeExports.jsx(u.icon,{className:"h-6 w-6 mb-2"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:u.label})]},u.label))})]})},LeadDetailsGrid=({lead:e})=>jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Lead Details"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsx(InfoDisplay,{icon:User,label:"Full Name",value:`${e.firstName} ${e.lastName}`}),jsxRuntimeExports.jsx(InfoDisplay,{icon:Building,label:"Company",value:e.companyName}),jsxRuntimeExports.jsx(InfoDisplay,{icon:Tag,label:"Status",value:e.status}),jsxRuntimeExports.jsx(InfoDisplay,{icon:Briefcase,label:"Industry",value:e.industryName}),jsxRuntimeExports.jsx(InfoDisplay,{icon:MapPin,label:"Location",value:e.locationName}),jsxRuntimeExports.jsx(InfoDisplay,{icon:Globe,label:"Website",value:e.website}),jsxRuntimeExports.jsx(InfoDisplay,{icon:User,label:"Owner",value:e.ownerName}),jsxRuntimeExports.jsx(InfoDisplay,{icon:Calendar,label:"Created At",value:e.createdAt?new Date(e.createdAt).toLocaleString():"N/A"}),jsxRuntimeExports.jsx(InfoDisplay,{icon:Calendar,label:"Last Updated At",value:e.updatedAt?new Date(e.updatedAt).toLocaleString():"N/A"})]})]}),LeadInfo=()=>{const{leadId:e}=useParams(),t=useNavigate(),[n,o]=reactExports.useState(null),[l,u]=reactExports.useState([]),[m,p]=reactExports.useState(!0),[j,f]=reactExports.useState(""),[g,b]=reactExports.useState(!1),[R,v]=reactExports.useState(!1),[N,S]=reactExports.useState("Activity"),[$,C]=reactExports.useState(!1),[A,T]=reactExports.useState(null),[D,I]=reactExports.useState(!1),[L,_]=reactExports.useState(null),[M,F]=reactExports.useState(!1),[B,q]=reactExports.useState(!1),[z,V]=reactExports.useState(null),[Q,ee]=reactExports.useState(!1),G=reactExports.useCallback(async()=>{p(!0),f("");try{const ge={Authorization:`Bearer ${localStorage.getItem("token")}`},[Ce,Ae]=await Promise.all([axios.get(`${API_URL$v}/crm/leads/${e}`,{headers:ge}),axios.get(`${API_URL$v}/crm/lead-stages`,{headers:ge})]);o(Ce.data),Array.isArray(Ae.data)?u(Ae.data):(console.warn("Lead stages data is not an array:",Ae.data),u([]))}catch(xe){f("Failed to fetch lead details."),console.error(xe)}finally{p(!1)}},[e]);reactExports.useEffect(()=>{G()},[G]);const K=async xe=>{if(!(!n||!xe))try{const Ce={Authorization:`Bearer ${localStorage.getItem("token")}`};await axios.put(`${API_URL$v}/crm/leads/${e}/stage`,{stageId:xe.id},{headers:Ce}),await G()}catch(ge){console.error("Failed to update lead stage:",ge),alert(`Error: ${ge.response?.data?.message||"Failed to update lead stage."}`)}},J=async xe=>{if(n)try{const Ce={Authorization:`Bearer ${localStorage.getItem("token")}`};await axios.put(`${API_URL$v}/crm/leads/${e}/status`,{status:xe},{headers:Ce}),await G()}catch(ge){console.error("Failed to update lead status:",ge),alert(`Error: ${ge.response?.data?.message||"Failed to update lead status."}`)}},ne=()=>{T(null),C(!0)},H=xe=>{T(xe),C(!0)},te=async xe=>{F(!0);const ge=!!A?.id,Ce=ge?`${API_URL$v}/crm/tasks/${A.id}`:`${API_URL$v}/crm/tasks`,Ae=ge?"put":"post";try{const Le=localStorage.getItem("token");await axios[Ae](Ce,xe,{headers:{Authorization:`Bearer ${Le}`}}),C(!1)}catch(Le){alert(`Error: ${Le.response?.data?.message||"Failed to save task."}`)}finally{F(!1)}},Y=()=>{_(null),I(!0)},le=xe=>{_(xe),I(!0)},je=async xe=>{F(!0);const ge=!!L?.id,Ce=ge?`${API_URL$v}/crm/events/${L.id}`:`${API_URL$v}/crm/events`,Ae=ge?"put":"post";try{const Le=localStorage.getItem("token");await axios[Ae](Ce,xe,{headers:{Authorization:`Bearer ${Le}`}}),I(!1)}catch(Le){alert(`Error: ${Le.response?.data?.message||"Failed to save event."}`)}finally{F(!1)}},ae=()=>{V(null),q(!0)},Z=xe=>{V(xe),q(!0)},ce=async xe=>{F(!0);const ge=!!z?.id,Ce=ge?`${API_URL$v}/crm/call-logs/${z.id}`:`${API_URL$v}/crm/call-logs`,Ae=ge?"put":"post";try{const Le=localStorage.getItem("token");await axios[Ae](Ce,xe,{headers:{Authorization:`Bearer ${Le}`}}),q(!1)}catch(Le){alert(`Error: ${Le.response?.data?.message||"Failed to save call log."}`)}finally{F(!1)}},oe=()=>{ee(!0)},me=async xe=>{F(!0);try{const ge=localStorage.getItem("token");await axios.post(`${API_URL$v}/crm/emails/send`,xe,{headers:{Authorization:`Bearer ${ge}`}}),ee(!1),alert("Email sent successfully!")}catch(ge){alert(`Error: ${ge.response?.data?.message||"Failed to send email. Check SMTP settings."}`)}finally{F(!1)}};if(m)return jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-full",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary"})});if(j)return jsxRuntimeExports.jsx("div",{className:"text-center text-red-500 p-4",children:j});if(!n)return jsxRuntimeExports.jsx("div",{className:"text-center p-4",children:"Lead not found."});const fe=`${n.firstName?n.firstName.charAt(0):""}${n.lastName?n.lastName.charAt(0):""}`;return jsxRuntimeExports.jsxs("div",{className:"bg-background text-foreground flex flex-col h-full",children:[jsxRuntimeExports.jsxs("header",{className:`bg-card text-card-foreground border-b border-border flex-shrink-0 transition-all duration-300 ${g?"h-auto":"h-24"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:["                        ",jsxRuntimeExports.jsx("button",{onClick:()=>t("/crm-dashboard/leads"),className:"p-1.5 rounded-full hover:bg-background-muted",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"h-5 w-5 text-foreground"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"h-10 w-10 rounded-full bg-primary flex items-center justify-center text-primary-foreground font-semibold text-lg",children:fe}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h2",{className:"text-lg font-bold text-foreground",children:[n.firstName," ",n.lastName]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-foreground-muted",children:["Lead No: ",n.leadNo||"N/A"]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"hidden md:flex flex-col text-sm text-right",children:[jsxRuntimeExports.jsxs("p",{className:"text-foreground-muted",children:["Phone: ",n.phone||"N/A"]}),jsxRuntimeExports.jsxs("p",{className:"text-foreground-muted",children:["Email: ",n.email||"N/A"]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>v(!0),className:"btn-secondary p-2",title:"View All Details",children:jsxRuntimeExports.jsx(Users,{className:"h-5 w-5"})}),jsxRuntimeExports.jsx("button",{onClick:()=>alert("Edit functionality to be implemented here."),className:"btn-secondary p-2",title:"Edit Lead",children:jsxRuntimeExports.jsx(SquarePen,{className:"h-5 w-5"})}),jsxRuntimeExports.jsx("button",{onClick:()=>b(!g),className:"btn-secondary p-2",title:g?"Collapse Details":"Expand Details",children:g?jsxRuntimeExports.jsx(ChevronUp,{className:"h-5 w-5"}):jsxRuntimeExports.jsx(ChevronDown,{className:"h-5 w-5"})})]})]}),g&&jsxRuntimeExports.jsxs("div",{className:"p-4 pt-0 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[jsxRuntimeExports.jsx(InfoDisplay,{icon:Building,label:"Company",value:n.companyName}),jsxRuntimeExports.jsx(InfoDisplay,{icon:Briefcase,label:"Industry",value:n.industryName}),jsxRuntimeExports.jsx(InfoDisplay,{icon:Globe,label:"Website",value:n.website}),jsxRuntimeExports.jsx(InfoDisplay,{icon:MapPin,label:"Location",value:n.locationName}),jsxRuntimeExports.jsx(InfoDisplay,{icon:Tag,label:"Status",value:n.status}),jsxRuntimeExports.jsx(InfoDisplay,{icon:User,label:"Owner",value:n.ownerName}),jsxRuntimeExports.jsx(InfoDisplay,{icon:Calendar,label:"Created At",value:n.createdAt?new Date(n.createdAt).toLocaleString():"N/A"}),jsxRuntimeExports.jsx(InfoDisplay,{icon:Calendar,label:"Last Updated At",value:n.updatedAt?new Date(n.updatedAt).toLocaleString():"N/A"}),n.notes&&jsxRuntimeExports.jsx(InfoDisplay,{icon:StickyNote,label:"Notes",value:n.notes})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"border-b border-border flex-shrink-0",children:jsxRuntimeExports.jsxs("nav",{className:"flex items-center space-x-2 px-4",children:[jsxRuntimeExports.jsx(ContentTab,{icon:Activity,label:"Activity",isActive:N==="Activity",onClick:()=>S("Activity")}),jsxRuntimeExports.jsx(ContentTab,{icon:ListFilter,label:"Lead Stages",isActive:N==="Lead Stages",onClick:()=>S("Lead Stages")}),jsxRuntimeExports.jsx(ContentTab,{icon:LayoutGrid,label:"Details Grid",isActive:N==="Details Grid",onClick:()=>S("Details Grid")}),jsxRuntimeExports.jsx(ContentTab,{icon:SquareCheckBig,label:"Tasks",isActive:N==="Tasks",onClick:()=>S("Tasks")}),jsxRuntimeExports.jsx(ContentTab,{icon:Calendar,label:"Events",isActive:N==="Events",onClick:()=>S("Events")}),jsxRuntimeExports.jsx(ContentTab,{icon:Phone,label:"Call Logs",isActive:N==="Call Logs",onClick:()=>S("Call Logs")}),jsxRuntimeExports.jsx(ContentTab,{icon:Mail,label:"Emails",isActive:N==="Emails",onClick:()=>S("Emails")}),jsxRuntimeExports.jsx(ContentTab,{icon:StickyNote,label:"Notes",isActive:N==="Notes",onClick:()=>S("Notes")})]})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto",children:[N==="Activity"&&jsxRuntimeExports.jsx(ActivityFeed,{lead:n}),N==="Lead Stages"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(LeadStages,{allStages:l,currentStageName:n.currentStageName,onStatusChange:J,onStageChange:K}),jsxRuntimeExports.jsx(ActionGrid,{onNewTaskClick:ne,onNewEventClick:Y,onLogCallClick:ae,onEmailClick:oe})]}),N==="Details Grid"&&jsxRuntimeExports.jsx(LeadDetailsGrid,{lead:n}),N==="Tasks"&&jsxRuntimeExports.jsx(TasksTab,{leadId:e,onAddTask:ne,onEditTask:H}),N==="Events"&&jsxRuntimeExports.jsx(EventsTab,{leadId:e,onAddEvent:Y,onEditEvent:le}),N==="Call Logs"&&jsxRuntimeExports.jsx(CallLogsTab,{leadId:e,onAddCallLog:ae,onEditCallLog:Z}),N==="Emails"&&jsxRuntimeExports.jsx(EmailsTab,{leadId:e,onComposeEmail:oe}),N==="Notes"&&jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Notes"}),jsxRuntimeExports.jsx("div",{className:"p-3 bg-background-muted rounded-lg text-sm whitespace-pre-wrap",children:n.notes||"No notes for this lead."})]})]})]}),jsxRuntimeExports.jsx(LeadFullDetailsModal,{isOpen:R,onClose:()=>v(!1),lead:n}),jsxRuntimeExports.jsx(AnimatePresence,{children:$&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black/50 z-40",onClick:()=>C(!1)}),jsxRuntimeExports.jsx(motion.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 right-0 h-full w-full max-w-lg bg-card text-card-foreground shadow-lg z-50",children:jsxRuntimeExports.jsx(CrmTaskForm,{item:A,onSave:te,onCancel:()=>C(!1),loading:M,leadId:e})})]})}),jsxRuntimeExports.jsx(AnimatePresence,{children:D&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black/50 z-40",onClick:()=>I(!1)}),jsxRuntimeExports.jsx(motion.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 right-0 h-full w-full max-w-lg bg-card text-card-foreground shadow-lg z-50",children:jsxRuntimeExports.jsx(CrmEventForm,{item:L,onSave:je,onCancel:()=>I(!1),loading:M,leadId:e})})]})}),jsxRuntimeExports.jsx(AnimatePresence,{children:B&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black/50 z-40",onClick:()=>q(!1)}),jsxRuntimeExports.jsx(motion.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 right-0 h-full w-full max-w-lg bg-card text-card-foreground shadow-lg z-50",children:jsxRuntimeExports.jsx(CrmCallLogForm,{item:z,onSave:ce,onCancel:()=>q(!1),loading:M,leadId:e})})]})}),jsxRuntimeExports.jsx(AnimatePresence,{children:Q&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black/50 z-40",onClick:()=>ee(!1)}),jsxRuntimeExports.jsx(motion.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 right-0 h-full w-full max-w-lg bg-card text-card-foreground shadow-lg z-50",children:jsxRuntimeExports.jsx(CrmEmailForm,{lead:n,onSave:me,onCancel:()=>ee(!1),loading:M})})]})})]})},API_URL$u="https://javapaas-202946-0.cloudclusters.net/api",PurchaseOrderPage=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(!1),[l,u]=reactExports.useState(""),[m,p]=reactExports.useState(""),j=useNavigate(),[f,g]=reactExports.useState(!1),[b,R]=reactExports.useState([]),[v,N]=reactExports.useState(!1),[S,$]=reactExports.useState(null),C=async()=>{o(!0),u("");try{const L=localStorage.getItem("token"),_=await axios.get(`${API_URL$u}/purchase/orders`,{headers:{Authorization:`Bearer ${L}`},params:{page:0,size:200,sort:"date,desc"}});t(_.data.content??_.data??[])}catch(L){console.error("Failed to fetch purchase orders:",L),u("Failed to fetch purchase orders.")}finally{o(!1)}};reactExports.useEffect(()=>{C()},[]);const A=async L=>{if(window.confirm("Delete this PO?"))try{const _=localStorage.getItem("token");await axios.delete(`${API_URL$u}/purchase/orders/${L}`,{headers:{Authorization:`Bearer ${_}`}}),t(M=>M.filter(F=>F.id!==L))}catch(_){console.error("Failed to delete PO",_),u("Failed to delete purchase order.")}},T=async L=>{$(L),g(!0),N(!0);try{const _=localStorage.getItem("token"),M=await axios.get(`${API_URL$u}/purchase/grns/by-order/${L.id}`,{headers:{Authorization:`Bearer ${_}`}});R(M.data||[])}catch(_){console.error("Failed to load GRN history",_),u("Failed to load GRN history for the selected order.")}finally{N(!1)}},D=e.filter(L=>L.poNumber&&L.poNumber.toLowerCase().includes(m.toLowerCase())||L.supplierName&&L.supplierName.toLowerCase().includes(m.toLowerCase())||L.reference&&L.reference.toLowerCase().includes(m.toLowerCase())),I=L=>{if(!L)return"bg-slate-100 text-slate-800";switch(L.toLowerCase()){case"confirmed":return"bg-green-100 text-green-800";case"draft":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-slate-100 text-slate-800"}};return jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold",children:"Purchase Orders"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by PO# / Supplier / Reference...",value:m,onChange:L=>p(L.target.value),className:"input w-full sm:w-72 pr-10 bg-background-muted border-border"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-foreground-muted"})]}),jsxRuntimeExports.jsxs(Link$1,{to:"/purchase-dashboard/purchase-orders/new",className:"btn-primary flex items-center gap-2",children:[jsxRuntimeExports.jsx(CirclePlus,{size:18})," New PO"]})]})]}),l&&jsxRuntimeExports.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:l}),jsxRuntimeExports.jsx("div",{className:"bg-card rounded-xl shadow-sm overflow-hidden",children:n?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-80",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-primary"})}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"PO Number"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Supplier"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Reference"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Location"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Project"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"th-cell text-right",children:"Total Amount"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Goods Receipt Note"})]})}),jsxRuntimeExports.jsx("tbody",{className:"text-foreground-muted",children:D.length>0?D.map(L=>jsxRuntimeExports.jsxs("tr",{className:"border-b hover:bg-background-muted",children:[jsxRuntimeExports.jsx("td",{className:"td-cell",children:L.date?new Date(L.date).toLocaleDateString():""}),jsxRuntimeExports.jsx("td",{className:"td-cell font-medium text-foreground",children:jsxRuntimeExports.jsx("button",{onClick:()=>j(`/purchase-dashboard/purchase-orders/view/${L.id}`),className:"text-primary underline hover:text-primary/80",title:`View PO ${L.poNumber||L.id}`,children:L.poNumber||`PO-${L.id}`})}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:L.supplierName||"-"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:L.reference||"-"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:L.locationName||"-"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:L.projectNumber||"-"}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full ${I(L.status)}`,children:L.status||"N/A"})}),jsxRuntimeExports.jsxs("td",{className:"td-cell text-right font-mono",children:[(L.totalAmount||0).toFixed(2)," ",L.currency||""]}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>j(`/purchase-dashboard/purchase-orders/edit/${L.id}`),className:"p-2 hover:text-primary hover:bg-background-muted rounded-full",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>A(L.id),className:"p-2 hover:text-red-600 hover:bg-background-muted rounded-full",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-stretch gap-2",children:[jsxRuntimeExports.jsx(Link$1,{to:`/purchase-dashboard/purchase-orders/${L.id}/grn/new`,className:"btn-primary-sm text-center bg-green-600 hover:bg-green-700 text-white",children:"Add GRN"}),jsxRuntimeExports.jsx("button",{onClick:()=>T(L),className:"btn-secondary-sm text-center",children:"View History"})]})})]},L.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"10",className:"text-center py-10 text-foreground-muted",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium",children:"No purchase orders found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"Create a new PO to get started."})]})})})]})})}),f&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-card rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[jsxRuntimeExports.jsxs("h3",{className:"text-xl font-semibold",children:["GRN History for PO: ",S?.poNumber]}),jsxRuntimeExports.jsx("button",{onClick:()=>g(!1),className:"p-2 rounded-full hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsx("div",{className:"p-6 overflow-y-auto",children:v?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-40",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary"})}):b.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-10 text-foreground-muted",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium",children:"No GRNs found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"No Goods Receipt Notes have been recorded for this Purchase Order."})]}):jsxRuntimeExports.jsxs("table",{className:"min-w-full",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"GRN #"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Items Received"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{children:b.map(L=>jsxRuntimeExports.jsxs("tr",{className:"border-b",children:[jsxRuntimeExports.jsx("td",{className:"td-cell font-medium",children:L.grnNumber}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:L.grnDate?new Date(L.grnDate).toLocaleDateString():""}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:(L.items||[]).map(_=>jsxRuntimeExports.jsxs("div",{className:"text-sm",children:[_.itemName||_.description||"--","  Qty: ",_.receivedQuantity]},_.id))}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsx("button",{onClick:()=>j(`/purchase-dashboard/grns/${L.id}`),className:"btn-secondary-sm",children:"View"})})]},L.id))})]})})]})})]})},API_URL$t="https://javapaas-202946-0.cloudclusters.net/api",Input$1=({label:e,...t})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:e}),jsxRuntimeExports.jsx("input",{...t,className:"w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),Select$1=({label:e,children:t,...n})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:e}),jsxRuntimeExports.jsx("select",{...n,className:"w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",children:t})]}),TextArea=({label:e,...t})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:e}),jsxRuntimeExports.jsx("textarea",{...t,className:"w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),PurchaseOrderForm=()=>{const e=useNavigate(),{id:t}=useParams(),n=!!t,o=reactExports.useRef(null),[l,u]=reactExports.useState({locationId:"",orderCategory:"Domestic",supplierId:"",poNumber:"",reference:"",date:new Date().toISOString().split("T")[0],projectNumber:"",discountMode:"Without Discount",currency:"AED",remark:"",deliverToType:"Organization",deliverToId:"",deliverToAddress:"",template:"Standard",emailTo:"",status:"Draft",createdBy:"",items:[],attachments:[],termsAndConditions:"",notes:"",otherCharges:0}),[m,p]=reactExports.useState(!1),[j,f]=reactExports.useState([]),[g,b]=reactExports.useState(null),[R,v]=reactExports.useState([]),[N,S]=reactExports.useState([]),[$,C]=reactExports.useState([]),[A,T]=reactExports.useState([]),[D,I]=reactExports.useState([]),[L,_]=reactExports.useState([]),[M,F]=reactExports.useState([]),[B,q]=reactExports.useState({});reactExports.useEffect(()=>{(async()=>{p(!0),b("");try{const ce={Authorization:`Bearer ${localStorage.getItem("token")}`},[oe,me,fe,xe,ge,Ce,Ae]=await Promise.all([axios.get(`${API_URL$t}/production/raw-materials`,{headers:ce,params:{page:0,size:1e3}}),axios.get(`${API_URL$t}/production/units`,{headers:ce,params:{page:0,size:500}}),axios.get(`${API_URL$t}/production/taxes`,{headers:ce,params:{page:0,size:100}}),axios.get(`${API_URL$t}/production/categories`,{headers:ce,params:{page:0,size:500}}),axios.get(`${API_URL$t}/parties`,{headers:ce,params:{type:"SUPPLIER",page:0,size:500}}),axios.get(`${API_URL$t}/locations`,{headers:ce}),axios.get(`${API_URL$t}/parties`,{headers:ce,params:{type:"CUSTOMER",page:0,size:500}})]);if(T(oe.data.content??oe.data??[]),I(me.data.content??me.data??[]),_(fe.data.content??fe.data??[]),F(xe.data.content??xe.data??[]),v(ge.data.content??ge.data??[]),C(Array.isArray(Ce.data)?Ce.data:Ce.data.content??[]),S(Ae.data.content??Ae.data??[]),n){const De=(await axios.get(`${API_URL$t}/purchase/orders/${t}`,{headers:ce})).data,Ye=(De.attachments??[]).map(ct=>({...ct,url:ct.url||(ct.filePath?`${API_URL$t.replace(/\/$/,"")}/uploads/${ct.filePath}`:null)}));u(ct=>({...ct,locationId:De.locationId??"",orderCategory:De.orderCategory??"Domestic",supplierId:De.supplierId??"",poNumber:De.poNumber??"",reference:De.reference??"",date:De.date?new Date(De.date).toISOString().split("T")[0]:ct.date,projectNumber:De.projectNumber??"",discountMode:De.discountMode??"Without Discount",currency:De.currency??"AED",remark:De.remark??"",deliverToType:De.deliverToType??"Organization",deliverToId:De.deliverToId??"",deliverToAddress:De.deliverToAddress??"",template:De.template??"Standard",emailTo:De.emailTo??"",termsAndConditions:De.termsAndConditions??"",notes:De.notes??"",otherCharges:De.otherCharges??0,status:De.status??ct.status,createdBy:De.createdBy??"",items:(De.items??[]).map(dt=>({id:dt.id??null,lineNumber:dt.lineNumber??1,categoryId:dt.categoryId??"",subCategoryId:dt.subCategoryId??"",itemId:dt.itemId??"",description:dt.description??"",quantity:dt.quantity??0,unitId:dt.unitId??"",rate:dt.rate??0,taxId:dt.taxId??"",taxExempt:!!dt.taxExempt,taxPercent:dt.taxPercent??"",lineDiscount:dt.lineDiscount??0})),attachments:Ye}));const Lt=Array.from(new Set((De.items??[]).map(ct=>ct.categoryId).filter(Boolean)));await Promise.all(Lt.map(ct=>z(ct)))}}catch(Z){console.error("Failed to load data",Z),b("Failed to load required data. Please check your connection or permissions.")}finally{p(!1)}})()},[t,n]);const z=async ae=>{if(!ae)return[];if(B[ae])return B[ae];try{const ce={Authorization:`Bearer ${localStorage.getItem("token")}`},oe=await axios.get(`${API_URL$t}/production/sub-categories`,{headers:ce,params:{categoryId:ae}}),me=oe.data.content??oe.data??[];return q(fe=>({...fe,[ae]:me})),me}catch{return q(ce=>({...ce,[ae]:[]})),[]}},V=ae=>{const{name:Z,value:ce,type:oe}=ae.target;u(me=>({...me,[Z]:oe==="number"?ce===""?"":Number(ce):ce}))},Q=ae=>{const{value:Z}=ae.target,ce=Z?Number(Z):"";let oe="";if(l.deliverToType==="Organization"){const me=$.find(fe=>fe.id===ce);me&&(oe=[me.address,me.city,me.state,me.country].filter(Boolean).join(", "))}else{const me=N.find(fe=>fe.id===ce);me&&(oe=[me.billingAddress,me.city,me.country].filter(Boolean).join(", "))}u(me=>({...me,deliverToId:ce,deliverToAddress:oe}))},ee=ae=>{u(Z=>({...Z,deliverToType:ae,deliverToId:"",deliverToAddress:""}))},G=(ae,Z)=>{const{name:ce,value:oe,type:me,checked:fe}=Z.target;u(xe=>{const ge=[...xe.items];return ge[ae]={...ge[ae],[ce]:me==="checkbox"?fe:me==="number"?oe===""?"":Number(oe):oe},{...xe,items:ge}})},K=()=>{u(ae=>({...ae,items:[...ae.items,{lineNumber:ae.items.length+1,categoryId:"",subCategoryId:"",itemId:"",description:"",quantity:1,unitId:"",rate:0,taxId:"",taxExempt:!1,taxPercent:"",lineDiscount:0}]}))},J=ae=>{u(Z=>{const ce=Z.items.filter((oe,me)=>me!==ae).map((oe,me)=>({...oe,lineNumber:me+1}));return{...Z,items:ce}})},ne=ae=>{const Z=ae.target.files;Z&&f(ce=>[...ce,...Array.from(Z)])},H=ae=>{f(Z=>Z.filter((ce,oe)=>oe!==ae))},te=async ae=>{window.confirm("Delete this attachment permanently?")&&u(Z=>({...Z,attachments:Z.attachments.filter(ce=>ce.id!==ae)}))},Y=reactExports.useMemo(()=>{let ae=0,Z=0,ce=0;(l.items||[]).forEach(fe=>{const xe=Number(fe.quantity)||0,ge=Number(fe.rate)||0,Ce=Number(fe.lineDiscount)||0,Ae=xe*ge,Le=Math.max(0,Ae-Ce);ae+=Ae,Z+=Ce;const De=L.find(Lt=>String(Lt.id)===String(fe.taxId)),Ye=Number(fe.taxPercent!==""?fe.taxPercent:De?De.rate:0)||0;!fe.taxExempt&&Ye>0&&(ce+=Le*(Ye/100))});const oe=Number(l.otherCharges)||0,me=ae-Z+ce+oe;return{subTotal:ae,totalDiscount:Z,totalTax:ce,otherCharges:oe,totalAmount:me}},[l.items,l.otherCharges,L]),le=()=>l.locationId?l.date?l.items.length===0?"At least one item is required":null:"Date is required":"Location is required",je=async ae=>{ae.preventDefault();const Z=le();if(Z){b(Z),window.scrollTo(0,0);return}p(!0),b(null);try{const ce=localStorage.getItem("token"),oe={Authorization:`Bearer ${ce}`,"Content-Type":"application/json"},me={...l,items:l.items.map(xe=>({lineNumber:xe.lineNumber,categoryId:xe.categoryId||null,subCategoryId:xe.subCategoryId||null,itemId:xe.itemId||null,description:xe.description||null,quantity:xe.quantity||0,unitId:xe.unitId||null,rate:xe.rate||0,taxId:xe.taxId||null,taxExempt:!!xe.taxExempt,taxPercent:xe.taxPercent!==""?Number(xe.taxPercent):null,lineDiscount:Number(xe.lineDiscount)||0,discountPercent:null})),attachments:void 0,otherCharges:Number(l.otherCharges)||0};let fe;if(n?fe=(await axios.put(`${API_URL$t}/purchase/orders/${t}`,me,{headers:oe})).data:fe=(await axios.post(`${API_URL$t}/purchase/orders`,me,{headers:oe})).data,j.length>0){const xe=new FormData;j.forEach(ge=>xe.append("files",ge)),l.createdBy&&xe.append("uploadedBy",l.createdBy),await axios.post(`${API_URL$t}/purchase/orders/${fe.id}/attachments`,xe,{headers:{Authorization:`Bearer ${ce}`,"Content-Type":"multipart/form-data"}})}e("/purchase-dashboard/purchase-orders")}catch(ce){console.error(ce);const oe=ce.response?.data?.message||ce.message||"Failed to save purchase order.";b(oe),window.scrollTo(0,0)}finally{p(!1)}};return m&&!n?jsxRuntimeExports.jsx("div",{className:"flex justify-center p-12",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin text-blue-600",size:32})}):jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 bg-white rounded-lg shadow min-h-screen",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:n?`Edit PO #${l.poNumber}`:"Add New Purchase Order"}),jsxRuntimeExports.jsxs(Link$1,{to:"/purchase-dashboard/purchase-orders",className:"flex items-center gap-2 text-slate-600 hover:text-blue-600",children:[jsxRuntimeExports.jsx(ArrowLeft,{size:18})," Back to List"]})]}),g&&jsxRuntimeExports.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded mb-6 border border-red-200",children:g}),jsxRuntimeExports.jsxs("form",{onSubmit:je,className:"space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 bg-slate-50 p-4 rounded-md border",children:[jsxRuntimeExports.jsxs(Select$1,{label:"Location",name:"locationId",value:l.locationId,onChange:V,required:!0,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Location"}),$.map(ae=>jsxRuntimeExports.jsx("option",{value:ae.id,children:ae.name},ae.id))]}),jsxRuntimeExports.jsxs(Select$1,{label:"Purchase Order Type",name:"orderCategory",value:l.orderCategory,onChange:V,children:[jsxRuntimeExports.jsx("option",{value:"Domestic",children:"Domestic"}),jsxRuntimeExports.jsx("option",{value:"Imported",children:"Imported"})]}),jsxRuntimeExports.jsxs(Select$1,{label:"Supplier Name",name:"supplierId",value:l.supplierId,onChange:V,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Supplier"}),R.map(ae=>jsxRuntimeExports.jsx("option",{value:ae.id,children:ae.companyName||ae.name||`${ae.firstName} ${ae.lastName}`},ae.id))]}),jsxRuntimeExports.jsx("div",{className:"flex items-end",children:jsxRuntimeExports.jsxs("div",{className:"w-24 mr-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Currency"}),jsxRuntimeExports.jsx("div",{className:"w-full px-3 py-2 bg-blue-600 text-white text-center rounded text-sm font-bold",children:l.currency})]})}),jsxRuntimeExports.jsx(Input$1,{label:"Purchase Order NO",name:"poNumber",value:l.poNumber,onChange:V,placeholder:"Auto Generate",disabled:!n&&!l.poNumber}),jsxRuntimeExports.jsx(Input$1,{label:"Reference",name:"reference",value:l.reference,onChange:V}),jsxRuntimeExports.jsx(Input$1,{label:"Date",name:"date",type:"date",value:l.date,onChange:V,required:!0}),jsxRuntimeExports.jsx(Input$1,{label:"Remark",name:"remark",value:l.remark,onChange:V}),jsxRuntimeExports.jsx("div",{className:"md:col-span-2",children:jsxRuntimeExports.jsx(Input$1,{label:"Project Number",name:"projectNumber",value:l.projectNumber,onChange:V})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsxs(Select$1,{label:"Purchase Order Mode",name:"discountMode",value:l.discountMode,onChange:V,style:{width:"250px"},children:[jsxRuntimeExports.jsx("option",{value:"Without Discount",children:"Without Discount"}),jsxRuntimeExports.jsx("option",{value:"Item level",children:"With Discount At Item Level"}),jsxRuntimeExports.jsx("option",{value:"Order level",children:"With Discount At Order Level"})]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:K,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx(Plus,{size:16})," Add Item"]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border rounded-t-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-100 text-xs uppercase font-semibold text-slate-600",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left",children:"Item & Description"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 w-32",children:"Quantity"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 w-32",children:"Rate"}),l.discountMode==="Item level"&&jsxRuntimeExports.jsx("th",{className:"px-4 py-3 w-32",children:"Discount"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 w-32",children:"Tax"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 w-32 text-right",children:"Amount"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-3 w-12"})]})}),jsxRuntimeExports.jsxs("tbody",{className:"divide-y divide-slate-100 bg-white",children:[l.items.map((ae,Z)=>{const ce=Number(ae.quantity)||0,oe=Number(ae.rate)||0,me=Number(ae.lineDiscount)||0,fe=Math.max(0,ce*oe-me);return jsxRuntimeExports.jsxs("tr",{className:"hover:bg-slate-50",children:[jsxRuntimeExports.jsxs("td",{className:"px-4 py-2 space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("select",{name:"categoryId",value:ae.categoryId,onChange:async xe=>{G(Z,xe),await z(xe.target.value)},className:"w-1/2 p-1 border rounded text-xs bg-white",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Category"}),M.map(xe=>jsxRuntimeExports.jsx("option",{value:xe.id,children:xe.name},xe.id))]}),jsxRuntimeExports.jsxs("select",{name:"subCategoryId",value:ae.subCategoryId,onChange:xe=>G(Z,xe),className:"w-1/2 p-1 border rounded text-xs bg-white",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Subcategory"}),(B[ae.categoryId]||[]).map(xe=>jsxRuntimeExports.jsx("option",{value:xe.id,children:xe.name},xe.id))]})]}),jsxRuntimeExports.jsxs("select",{name:"itemId",value:ae.itemId,onChange:xe=>G(Z,xe),className:"w-full p-1 border rounded text-sm bg-white font-medium",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Item"}),A.map(xe=>jsxRuntimeExports.jsx("option",{value:xe.id,children:xe.name},xe.id))]}),jsxRuntimeExports.jsx("input",{name:"description",value:ae.description,onChange:xe=>G(Z,xe),placeholder:"Description",className:"w-full p-1 border rounded text-xs"})]}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-2 align-top",children:[jsxRuntimeExports.jsx("input",{type:"number",name:"quantity",value:ae.quantity,onChange:xe=>G(Z,xe),className:"w-full p-1 border rounded text-right",min:"0"}),jsxRuntimeExports.jsxs("select",{name:"unitId",value:ae.unitId,onChange:xe=>G(Z,xe),className:"w-full mt-1 p-1 border rounded text-xs bg-white",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Unit"}),D.map(xe=>jsxRuntimeExports.jsx("option",{value:xe.id,children:xe.name},xe.id))]})]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 align-top",children:jsxRuntimeExports.jsx("input",{type:"number",name:"rate",value:ae.rate,onChange:xe=>G(Z,xe),className:"w-full p-1 border rounded text-right",min:"0"})}),l.discountMode==="Item level"&&jsxRuntimeExports.jsx("td",{className:"px-4 py-2 align-top",children:jsxRuntimeExports.jsx("input",{type:"number",name:"lineDiscount",value:ae.lineDiscount,onChange:xe=>G(Z,xe),className:"w-full p-1 border rounded text-right",min:"0"})}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-2 align-top",children:[jsxRuntimeExports.jsxs("select",{name:"taxId",value:ae.taxId,onChange:xe=>G(Z,xe),className:"w-full p-1 border rounded text-xs bg-white",children:[jsxRuntimeExports.jsx("option",{value:"",children:"No Tax"}),L.map(xe=>jsxRuntimeExports.jsxs("option",{value:xe.id,children:[xe.code," (",xe.rate,"%)"]},xe.id))]}),jsxRuntimeExports.jsxs("div",{className:"mt-1 flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"taxExempt",checked:ae.taxExempt,onChange:xe=>G(Z,xe),id:`exempt-${Z}`,className:"mr-1"}),jsxRuntimeExports.jsx("label",{htmlFor:`exempt-${Z}`,className:"text-[10px] text-slate-500",children:"Exempt"})]})]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 text-right font-bold text-slate-700 align-top pt-3",children:fe.toFixed(2)}),jsxRuntimeExports.jsx("td",{className:"px-2 py-2 text-center align-top pt-3",children:jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>J(Z),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:jsxRuntimeExports.jsx(Trash2,{size:16})})})]},Z)}),l.items.length===0&&jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"7",className:"p-8 text-center text-slate-400",children:'No items added yet. Click "Add Item" to start.'})})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row justify-between mt-4",children:[jsxRuntimeExports.jsx("div",{className:"w-full md:w-1/2"}),jsxRuntimeExports.jsxs("div",{className:"w-full md:w-1/3 bg-slate-50 p-4 rounded border space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:"Sub Total"}),jsxRuntimeExports.jsx("span",{children:Y.subTotal.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm text-slate-500",children:[jsxRuntimeExports.jsx("span",{children:"Total Discount"}),jsxRuntimeExports.jsx("span",{children:Y.totalDiscount.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm text-slate-500",children:[jsxRuntimeExports.jsx("span",{children:"Total Tax"}),jsxRuntimeExports.jsx("span",{children:Y.totalTax.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center text-sm",children:[jsxRuntimeExports.jsx("span",{children:"Other Charges"}),jsxRuntimeExports.jsx("input",{type:"number",name:"otherCharges",value:l.otherCharges,onChange:V,className:"w-24 p-1 border rounded text-right text-sm"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between font-bold text-lg border-t pt-2 mt-2",children:[jsxRuntimeExports.jsx("span",{children:"Total"}),jsxRuntimeExports.jsxs("span",{children:[Y.totalAmount.toFixed(2)," ",l.currency]})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"border bg-slate-50 p-4 rounded-md",children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold text-slate-700 mb-2 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Paperclip,{size:18})," Attach File(s)"]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 items-center",children:[jsxRuntimeExports.jsx("input",{ref:o,type:"file",multiple:!0,onChange:ne,className:"hidden",id:"file-upload"}),jsxRuntimeExports.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer bg-white border px-3 py-2 rounded text-sm hover:bg-slate-100 flex items-center gap-2 shadow-sm",children:[jsxRuntimeExports.jsx(Upload,{size:14})," Browse..."]}),jsxRuntimeExports.jsx("span",{className:"text-sm text-slate-500",children:j.length>0?`${j.length} file(s) ready to upload`:"No file selected."})]}),jsxRuntimeExports.jsxs("div",{className:"mt-3 space-y-2",children:[l.attachments.map(ae=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center bg-white p-2 border rounded text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-blue-600 truncate underline cursor-pointer",onClick:()=>ae.url&&window.open(ae.url,"_blank"),children:ae.fileName}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>te(ae.id),className:"text-red-500 hover:text-red-700 px-2",children:"Remove"})]},ae.id)),j.map((ae,Z)=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center bg-blue-50 p-2 border border-blue-100 rounded text-sm",children:[jsxRuntimeExports.jsxs("span",{className:"text-slate-700 truncate",children:[ae.name," (New)"]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>H(Z),className:"text-red-500 hover:text-red-700 px-2",children:"Cancel"})]},`new-${Z}`))]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 bg-slate-50 p-4 rounded-md border",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Deliver To"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 mb-2",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"deliverToType",checked:l.deliverToType==="Organization",onChange:()=>ee("Organization")}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Organization"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"deliverToType",checked:l.deliverToType==="Customer",onChange:()=>ee("Customer")}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Customer"})]})]}),l.deliverToType==="Organization"?jsxRuntimeExports.jsxs(Select$1,{value:l.deliverToId,onChange:Q,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Location"}),$.map(ae=>jsxRuntimeExports.jsx("option",{value:ae.id,children:ae.name},ae.id))]}):jsxRuntimeExports.jsxs(Select$1,{value:l.deliverToId,onChange:Q,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Customer"}),N.map(ae=>jsxRuntimeExports.jsx("option",{value:ae.id,children:ae.companyName||`${ae.firstName} ${ae.lastName}`},ae.id))]}),jsxRuntimeExports.jsxs("div",{className:"mt-2",children:[jsxRuntimeExports.jsx("textarea",{placeholder:"Address",className:"w-full px-3 py-2 border rounded text-sm",rows:3,value:l.deliverToAddress,onChange:ae=>u(Z=>({...Z,deliverToAddress:ae.target.value}))}),jsxRuntimeExports.jsx("button",{type:"button",className:"text-xs text-blue-600 mt-1 hover:underline",children:"Change destination to deliver"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Template:"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-bold text-blue-600",children:"Standard"}),jsxRuntimeExports.jsx("button",{type:"button",className:"text-xs text-slate-400 hover:text-blue-500",children:jsxRuntimeExports.jsx(Loader,{size:12})})]}),jsxRuntimeExports.jsx(Input$1,{label:"Email To",name:"emailTo",value:l.emailTo,onChange:V,placeholder:"email@example.com"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(TextArea,{label:"Terms & Conditions",name:"termsAndConditions",value:l.termsAndConditions,onChange:V,rows:4,placeholder:"Mention your company's Terms and Conditions."}),jsxRuntimeExports.jsx(TextArea,{label:"Notes",name:"notes",value:l.notes,onChange:V,rows:2,placeholder:"Will be displayed on purchase order"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>e("/purchase-dashboard/purchase-orders"),className:"px-6 py-2 border rounded-md hover:bg-slate-50 text-slate-600",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center gap-2",disabled:m,children:[m?jsxRuntimeExports.jsx(Loader,{className:"animate-spin",size:18}):jsxRuntimeExports.jsx(Save,{size:18}),n?"Update":"Save"]})]})]})]})},API_URL$s="https://javapaas-202946-0.cloudclusters.net/api",PurchaseInvoicePage=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState(""),[m,p]=reactExports.useState(""),j=useNavigate(),f=async()=>{o(!0),u("");try{const R=localStorage.getItem("token"),v=await axios.get(`${API_URL$s}/purchases/invoices`,{headers:{Authorization:`Bearer ${R}`},params:{page:0,size:100,sort:"createdAt,desc"}});t(v.data.content||[])}catch(R){console.error("Failed to fetch purchase invoices:",R),u("Failed to fetch purchase invoices. Please try again later.")}finally{o(!1)}};reactExports.useEffect(()=>{f()},[]);const g=async R=>{if(window.confirm("Are you sure you want to delete this purchase invoice?"))try{const v=localStorage.getItem("token");await axios.delete(`${API_URL$s}/purchases/invoices/${R}`,{headers:{Authorization:`Bearer ${v}`}}),t(N=>N.filter(S=>S.id!==R))}catch(v){console.error("Failed to delete purchase invoice:",v),u("Failed to delete purchase invoice.")}},b=e.filter(R=>R.billNumber&&R.billNumber.toLowerCase().includes(m.toLowerCase())||R.supplierName&&R.supplierName.toLowerCase().includes(m.toLowerCase()));return jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-8 font-sans",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Purchase Invoices (Bills)"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by Bill# or Supplier...",value:m,onChange:R=>p(R.target.value),className:"w-full sm:w-64 pl-4 pr-10 py-2 border rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"})]}),jsxRuntimeExports.jsxs(Link$1,{to:"/purchase-dashboard/bills/new",className:"bg-blue-600 text-white px-4 py-2 rounded-full flex items-center gap-2 hover:bg-blue-700 transition font-medium",children:[jsxRuntimeExports.jsx(CirclePlus,{size:18})," New Bill"]})]})]}),l&&jsxRuntimeExports.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded relative mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleAlert,{size:18}),jsxRuntimeExports.jsx("span",{className:"block sm:inline",children:l})]}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:n?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-80",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-blue-500"})}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full text-sm text-left",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50 text-slate-600 font-semibold border-b",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-4",children:"Bill Date"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-4",children:"Bill Number"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-4",children:"Supplier"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-4",children:"Due Date"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-4 text-right",children:"Net Total"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-4 text-center",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-slate-100",children:b.length>0?b.map(R=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-slate-600",children:R.billDate?new Date(R.billDate).toLocaleDateString():"-"}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 font-medium text-slate-800",children:jsxRuntimeExports.jsx(Link$1,{to:`/purchase-dashboard/bills/view/${R.id}`,className:"hover:text-blue-600 hover:underline",children:R.billNumber})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-slate-600",children:R.supplierName}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-slate-600",children:R.dueDate?new Date(R.dueDate).toLocaleDateString():"N/A"}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-right font-mono text-slate-700",children:(R.netTotal??0).toFixed(2)}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-center",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>j(`/purchase-dashboard/bills/edit/${R.id}`),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-50 rounded-full transition",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>g(R.id),className:"p-2 text-slate-500 hover:text-red-600 hover:bg-red-50 rounded-full transition",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},R.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"6",className:"text-center py-12",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center text-slate-400",children:[jsxRuntimeExports.jsx(CircleAlert,{size:48,className:"mb-3 opacity-20"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-slate-600",children:"No invoices found"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:"Get started by creating a new bill."})]})})})})]})})})]})},API_URL$r="https://javapaas-202946-0.cloudclusters.net/api",PurchaseInvoiceForm=()=>{const{id:e}=useParams(),t=useNavigate(),n=!!e,[o,l]=reactExports.useState(!1),[u,m]=reactExports.useState(!1),[p,j]=reactExports.useState(""),[f,g]=reactExports.useState([]),[b,R]=reactExports.useState([]),[v,N]=reactExports.useState([]),[S,$]=reactExports.useState({}),[C,A]=reactExports.useState([]),[T,D]=reactExports.useState([]),[I,L]=reactExports.useState({billLedger:"Purchase",supplierId:"",billNumber:"",orderNumber:"",billDate:new Date().toISOString().slice(0,10),dueDate:new Date().toISOString().slice(0,10),billType:"Without Discount",grossNetEnabled:!1,notes:"",otherCharges:0,template:"Standard"}),[_,M]=reactExports.useState([{lineNumber:1,categoryId:"",subCategoryId:"",itemId:"",description:"",quantityGross:0,quantityNet:0,unitId:"",rate:0,amount:0,taxId:"",taxPercent:0,lineDiscount:0,discountPercent:0}]),[F,B]=reactExports.useState([]),[q,z]=reactExports.useState([]),[V,Q]=reactExports.useState({subTotal:0,totalDiscount:0,grossTotal:0,totalTax:0,netTotal:0});reactExports.useEffect(()=>{ee(),n&&K()},[e]),reactExports.useEffect(()=>{te()},[_,I.otherCharges,I.grossNetEnabled]);const ee=async()=>{try{const ce={Authorization:`Bearer ${localStorage.getItem("token")}`},[oe,me,fe,xe,ge]=await Promise.all([axios.get(`${API_URL$r}/parties`,{headers:ce,params:{type:"SUPPLIER",page:0,size:500}}),axios.get(`${API_URL$r}/production/raw-materials`,{headers:ce,params:{page:0,size:1e3}}),axios.get(`${API_URL$r}/production/categories`,{headers:ce,params:{page:0,size:500}}),axios.get(`${API_URL$r}/production/units`,{headers:ce,params:{page:0,size:500}}),axios.get(`${API_URL$r}/production/taxes`,{headers:ce,params:{page:0,size:100}})]);g(oe.data.content||oe.data||[]),R(me.data.content||me.data||[]),N(fe.data.content||fe.data||[]),A(xe.data.content||xe.data||[]),D(ge.data.content||ge.data||[])}catch(Z){console.error("Failed to load master data",Z)}},G=async Z=>{if(Z&&!S[Z])try{const oe={Authorization:`Bearer ${localStorage.getItem("token")}`},me=await axios.get(`${API_URL$r}/production/sub-categories`,{headers:oe,params:{categoryId:Z,page:0,size:500}});$(fe=>({...fe,[Z]:me.data.content||me.data||[]}))}catch(ce){console.error(ce)}},K=async()=>{l(!0);try{const Z=localStorage.getItem("token"),oe=(await axios.get(`${API_URL$r}/purchases/invoices/${e}`,{headers:{Authorization:`Bearer ${Z}`}})).data;L({billLedger:oe.billLedger||"Purchase",supplierId:oe.supplierId||"",billNumber:oe.billNumber||"",orderNumber:oe.orderNumber||"",billDate:oe.billDate,dueDate:oe.dueDate,billType:oe.billType||"Without Discount",grossNetEnabled:oe.grossNetEnabled||!1,notes:oe.notes||"",otherCharges:oe.otherCharges||0,template:oe.template||"Standard"}),oe.lines&&(M(oe.lines.map(fe=>({...fe,quantityGross:fe.quantityGross||0,quantityNet:fe.quantityNet||0,rate:fe.rate||0,amount:fe.amount||0,taxPercent:fe.taxPercent||0,lineDiscount:fe.lineDiscount||0}))),Array.from(new Set(oe.lines.map(fe=>fe.categoryId).filter(Boolean))).forEach(fe=>G(fe))),oe.attachments&&z(oe.attachments)}catch(Z){console.error("Failed to load invoice",Z),j("Could not load invoice details.")}finally{l(!1)}},J=(Z,ce,oe)=>{const me=[..._],fe={...me[Z]};if(fe[ce]=oe,ce==="categoryId"&&(G(oe),fe.subCategoryId=""),ce==="itemId"){const Le=b.find(De=>De.id==oe);Le&&(fe.description=Le.name,fe.rate=Le.price||0,fe.unitId=Le.unit?.id||"",fe.categoryId=Le.category?.id||Le.categoryId||"",fe.subCategoryId=Le.subCategory?.id||Le.subCategoryId||"")}if(ce==="taxId"){const Le=T.find(De=>De.id==oe);fe.taxPercent=Le?Le.rate:0}I.grossNetEnabled?Number(fe.quantityNet)||Number(fe.quantityGross):Number(fe.quantityGross);const xe=I.grossNetEnabled&&fe.quantityNet>0?Number(fe.quantityNet):Number(fe.quantityGross),ge=Number(fe.rate)||0,Ce=Number(fe.lineDiscount)||0;let Ae=xe*ge-Ce;Ae<0&&(Ae=0),fe.amount=Ae,me[Z]=fe,M(me)},ne=()=>{M([..._,{lineNumber:_.length+1,categoryId:"",subCategoryId:"",itemId:"",description:"",quantityGross:0,quantityNet:0,unitId:"",rate:0,amount:0,taxId:"",taxPercent:0,lineDiscount:0,discountPercent:0}])},H=Z=>{if(_.length>1){const ce=_.filter((oe,me)=>me!==Z);ce.forEach((oe,me)=>oe.lineNumber=me+1),M(ce)}},te=()=>{let Z=0,ce=0,oe=0;_.forEach(xe=>{Z+=Number(xe.amount)||0,ce+=Number(xe.lineDiscount)||0;const ge=Number(xe.taxPercent)||0,Ce=(Number(xe.amount)||0)*(ge/100);oe+=Ce});const me=Number(I.otherCharges)||0;let fe=0;_.forEach(xe=>{const ge=I.grossNetEnabled&&xe.quantityNet>0?Number(xe.quantityNet):Number(xe.quantityGross),Ce=Number(xe.rate)||0;fe+=ge*Ce}),Z=fe,Q({subTotal:Z,totalDiscount:ce,totalTax:oe,grossTotal:Z-ce+oe,netTotal:Z-ce+oe+me})},Y=Z=>{Z.target.files&&B([...F,...Array.from(Z.target.files)])},le=Z=>{B(F.filter((ce,oe)=>oe!==Z))},je=Z=>{z(q.filter(ce=>ce.id!==Z))},ae=async Z=>{Z.preventDefault(),m(!0),j("");try{const ce=localStorage.getItem("token"),oe={...I,lines:_.map(fe=>({...fe,quantityGross:Number(fe.quantityGross),quantityNet:Number(fe.quantityNet),rate:Number(fe.rate),amount:(I.grossNetEnabled&&fe.quantityNet>0?fe.quantityNet:fe.quantityGross)*fe.rate,lineDiscount:Number(fe.lineDiscount),taxPercent:Number(fe.taxPercent)})),attachments:q.map(fe=>({fileName:fe.fileName,filePath:fe.filePath,uploadedAt:fe.uploadedAt,uploadedBy:fe.uploadedBy}))},me=new FormData;me.append("request",new Blob([JSON.stringify(oe)],{type:"application/json"})),F.forEach(fe=>{me.append("attachments",fe)}),n?await axios.put(`${API_URL$r}/purchases/invoices/${e}`,me,{headers:{Authorization:`Bearer ${ce}`,"Content-Type":"multipart/form-data"}}):await axios.post(`${API_URL$r}/purchases/invoices`,me,{headers:{Authorization:`Bearer ${ce}`,"Content-Type":"multipart/form-data"}}),t("/purchase-dashboard/bills")}catch(ce){console.error("Submit failed",ce),j("Failed to save invoice. "+(ce.response?.data?.message||ce.message))}finally{m(!1)}};return o?jsxRuntimeExports.jsx("div",{className:"flex justify-center p-10",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin text-blue-500"})}):jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-[1600px] mx-auto bg-slate-50 min-h-screen font-sans text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 mb-4",children:[jsxRuntimeExports.jsx(Link$1,{to:"/",className:"hover:text-blue-600",children:"Home"})," >",jsxRuntimeExports.jsx(Link$1,{to:"/purchase-dashboard/bills",className:"hover:text-blue-600",children:"Purchase"})," >",jsxRuntimeExports.jsx("span",{className:"text-slate-800 font-semibold",children:n?"Edit Bill":"Add New Bill"})]}),jsxRuntimeExports.jsx("div",{className:"bg-sky-500 text-white px-4 py-3 text-lg font-medium shadow-sm mb-6 rounded-t",children:n?"Edit Bill":"Add New Bill"}),jsxRuntimeExports.jsxs("form",{onSubmit:ae,className:"bg-white shadow-sm border rounded-b p-6 space-y-6",children:[p&&jsxRuntimeExports.jsx("div",{className:"p-3 bg-red-100 text-red-700 rounded text-sm",children:p}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"col-span-2 md:col-span-4 lg:col-span-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-slate-700 mb-1",children:"Bill Ledgers"}),jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsxs("select",{className:"w-full border border-gray-300 rounded px-3 py-2 bg-gray-50 focus:outline-none focus:border-sky-500",value:I.billLedger,onChange:Z=>L({...I,billLedger:Z.target.value}),children:[jsxRuntimeExports.jsx("option",{value:"Purchase",children:"Purchase"}),jsxRuntimeExports.jsx("option",{value:"Purchase Import",children:"Purchase (Import)"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-2 md:col-span-4 lg:col-span-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-slate-700 mb-1",children:"Supplier Name"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("select",{className:"flex-1 border border-gray-300 rounded px-3 py-2 bg-white focus:outline-none focus:border-sky-500",value:I.supplierId,onChange:Z=>L({...I,supplierId:Z.target.value}),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Type Here..."}),f.map(Z=>jsxRuntimeExports.jsx("option",{value:Z.id,children:Z.name||Z.companyName},Z.id))]}),jsxRuntimeExports.jsx("div",{className:"px-3 py-2 bg-sky-500 text-white font-bold rounded",children:"AED"})]})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-slate-700 mb-1",children:"Bill"}),jsxRuntimeExports.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-sky-500",value:I.billNumber,onChange:Z=>L({...I,billNumber:Z.target.value})})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-slate-700 mb-1",children:"Order Number"}),jsxRuntimeExports.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-sky-500",value:I.orderNumber,onChange:Z=>L({...I,orderNumber:Z.target.value})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-slate-700 mb-1",children:"Bill Date"}),jsxRuntimeExports.jsx("input",{type:"date",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-sky-500",value:I.billDate,onChange:Z=>L({...I,billDate:Z.target.value})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-slate-700 mb-1",children:"Due Date"}),jsxRuntimeExports.jsx("input",{type:"date",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-sky-500",value:I.dueDate,onChange:Z=>L({...I,dueDate:Z.target.value})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 py-2 border-t border-b bg-gray-50 px-4 -mx-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-bold text-slate-700",children:"Bill Type"}),jsxRuntimeExports.jsxs("select",{className:"border border-gray-300 rounded px-2 py-1 text-xs focus:outline-none",value:I.billType,onChange:Z=>L({...I,billType:Z.target.value}),children:[jsxRuntimeExports.jsx("option",{value:"Without Discount",children:"Without Discount"}),jsxRuntimeExports.jsx("option",{value:"With Discount At Item Level",children:"With Discount At Item Level"}),jsxRuntimeExports.jsx("option",{value:"With Discount At Bill Order Level",children:"With Discount At Bill Order Level"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",id:"grossNet",checked:I.grossNetEnabled,onChange:Z=>L({...I,grossNetEnabled:Z.target.checked}),className:"w-4 h-4 text-sky-500 focus:ring-sky-500 border-gray-300 rounded"}),jsxRuntimeExports.jsx("label",{htmlFor:"grossNet",className:"text-xs font-bold text-slate-700",children:"Would you like to enable Gross Weight and Net Weight?"})]})]}),jsxRuntimeExports.jsxs("div",{className:"overflow-x-auto",children:[jsxRuntimeExports.jsxs("table",{className:"w-full min-w-[1000px] border-collapse",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-gray-100 text-xs font-bold text-slate-700 text-left border-b",children:[jsxRuntimeExports.jsx("th",{className:"p-2 w-40",children:"Item Details"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Item"}),I.grossNetEnabled&&jsxRuntimeExports.jsx("th",{className:"p-2 w-24",children:"Quantity(Gross)"}),jsxRuntimeExports.jsx("th",{className:"p-2 w-24",children:I.grossNetEnabled?"Quantity(Net)":"Quantity"}),jsxRuntimeExports.jsx("th",{className:"p-2 w-24",children:"Rate"}),I.billType==="With Discount At Item Level"&&jsxRuntimeExports.jsx("th",{className:"p-2 w-24",children:"Discount"}),jsxRuntimeExports.jsx("th",{className:"p-2 w-28",children:"Amount"}),jsxRuntimeExports.jsx("th",{className:"p-2 w-20",children:"Tax Value"}),jsxRuntimeExports.jsx("th",{className:"p-2 w-10 text-center",children:"Action"})]})}),jsxRuntimeExports.jsx("tbody",{className:"text-sm",children:_.map((Z,ce)=>jsxRuntimeExports.jsxs("tr",{className:"border-b last:border-0 hover:bg-gray-50 relative group",children:[jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[jsxRuntimeExports.jsxs("select",{className:"w-1/2 border rounded px-1 py-1 text-xs text-gray-600",value:Z.categoryId||"",onChange:oe=>J(ce,"categoryId",oe.target.value),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Category"}),v.map(oe=>jsxRuntimeExports.jsx("option",{value:oe.id,children:oe.name},oe.id))]}),jsxRuntimeExports.jsxs("select",{className:"w-1/2 border rounded px-1 py-1 text-xs text-gray-600",value:Z.subCategoryId||"",onChange:oe=>J(ce,"subCategoryId",oe.target.value),children:[jsxRuntimeExports.jsx("option",{value:"",children:"SubCat"}),(S[Z.categoryId]||[]).map(oe=>jsxRuntimeExports.jsx("option",{value:oe.id,children:oe.name},oe.id))]})]})}),jsxRuntimeExports.jsxs("td",{className:"p-2",children:[jsxRuntimeExports.jsxs("select",{className:"w-full border rounded px-2 py-1",value:Z.itemId||"",onChange:oe=>J(ce,"itemId",oe.target.value),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Item"}),b.filter(oe=>{const me=oe.category?.id||oe.categoryId,fe=oe.subCategory?.id||oe.subCategoryId;return(!Z.categoryId||me==Z.categoryId)&&(!Z.subCategoryId||fe==Z.subCategoryId)}).map(oe=>jsxRuntimeExports.jsx("option",{value:oe.id,children:oe.name},oe.id))]}),jsxRuntimeExports.jsx("textarea",{className:"w-full mt-1 border rounded px-2 py-1 text-xs resize-none h-8 focus:h-16 transition-all",placeholder:"Description",value:Z.description||"",onChange:oe=>J(ce,"description",oe.target.value)})]}),I.grossNetEnabled&&jsxRuntimeExports.jsx("td",{className:"p-2 align-top",children:jsxRuntimeExports.jsx("input",{type:"number",className:"w-full border rounded px-2 py-1",value:Z.quantityGross,onChange:oe=>J(ce,"quantityGross",oe.target.value)})}),jsxRuntimeExports.jsxs("td",{className:"p-2 align-top",children:[jsxRuntimeExports.jsx("input",{type:"number",className:"w-full border rounded px-2 py-1 bg-gray-50 font-medium",value:I.grossNetEnabled?Z.quantityNet:Z.quantityGross,onChange:oe=>J(ce,I.grossNetEnabled?"quantityNet":"quantityGross",oe.target.value),placeholder:"Qty"}),jsxRuntimeExports.jsx("div",{className:"mt-1 text-xs text-slate-500",children:C.find(oe=>oe.id==Z.unitId)?.name||"Unit"})]}),jsxRuntimeExports.jsx("td",{className:"p-2 align-top",children:jsxRuntimeExports.jsx("input",{type:"number",className:"w-full border rounded px-2 py-1",value:Z.rate,onChange:oe=>J(ce,"rate",oe.target.value)})}),I.billType==="With Discount At Item Level"&&jsxRuntimeExports.jsx("td",{className:"p-2 align-top",children:jsxRuntimeExports.jsx("input",{type:"number",className:"w-full border rounded px-2 py-1",value:Z.lineDiscount,onChange:oe=>J(ce,"lineDiscount",oe.target.value)})}),jsxRuntimeExports.jsx("td",{className:"p-2 align-top",children:jsxRuntimeExports.jsx("div",{className:"w-full border rounded px-2 py-1 bg-gray-100 text-right",children:Number(Z.amount).toFixed(2)})}),jsxRuntimeExports.jsx("td",{className:"p-2 align-top",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsxs("select",{className:"w-16 border rounded px-1 py-1 text-xs",value:Z.taxId||"",onChange:oe=>J(ce,"taxId",oe.target.value),children:[jsxRuntimeExports.jsx("option",{value:"",children:"0%"}),T.map(oe=>jsxRuntimeExports.jsxs("option",{value:oe.id,children:[oe.rate,"%"]},oe.id))]}),jsxRuntimeExports.jsx("span",{className:"text-xs",children:"%"})]})}),jsxRuntimeExports.jsx("td",{className:"p-2 text-center align-top",children:jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>H(ce),className:"bg-blue-500 text-white rounded p-1 hover:bg-blue-600 shadow-sm",children:jsxRuntimeExports.jsx(Trash2,{size:14})})})]},ce))})]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:ne,className:"mt-2 flex items-center gap-1 text-blue-500 text-sm font-medium hover:text-blue-600 transition",children:[jsxRuntimeExports.jsx(Plus,{size:16})," Add another line"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row gap-8 border-t pt-6 bg-gray-50 -mx-6 px-6 -mb-6 pb-6 rounded-b",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Attach File(s)"}),jsxRuntimeExports.jsxs("div",{className:"border border-dashed border-gray-300 bg-white p-4 rounded flex flex-col items-center justify-center gap-2 cursor-pointer hover:bg-gray-50 transition",children:[jsxRuntimeExports.jsx(Upload,{size:24,className:"text-gray-400"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:"Choose File"}),jsxRuntimeExports.jsx("input",{type:"file",multiple:!0,className:"opacity-0 absolute w-full h-full cursor-pointer",onChange:Y})]}),jsxRuntimeExports.jsxs("div",{className:"mt-2 space-y-1",children:[q.map(Z=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center text-xs bg-white border px-2 py-1 rounded",children:[jsxRuntimeExports.jsxs("a",{href:Z.url,target:"_blank",rel:"noreferrer",className:"flex items-center gap-1 text-blue-600 hover:underline",children:[jsxRuntimeExports.jsx(Paperclip,{size:12})," ",Z.fileName]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>je(Z.id),className:"text-red-500 hover:text-red-700",children:jsxRuntimeExports.jsx(X,{size:12})})]},Z.id)),F.map((Z,ce)=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center text-xs bg-blue-50 border border-blue-100 px-2 py-1 rounded",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1 text-slate-700",children:[jsxRuntimeExports.jsx(FileText,{size:12})," ",Z.name]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>le(ce),className:"text-red-500 hover:text-red-700",children:jsxRuntimeExports.jsx(X,{size:12})})]},ce))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Notes"}),jsxRuntimeExports.jsx("textarea",{className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:border-sky-500",rows:3,placeholder:"Will be displayed on purchase order",value:I.notes,onChange:Z=>L({...I,notes:Z.target.value})})]})]}),jsxRuntimeExports.jsxs("div",{className:"w-full md:w-1/3 lg:w-1/4 space-y-2 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-200",children:[jsxRuntimeExports.jsx("span",{className:"text-slate-600",children:"Sub Total"}),jsxRuntimeExports.jsx("span",{className:"font-semibold",children:V.subTotal.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-200",children:[jsxRuntimeExports.jsx("span",{className:"text-slate-600",children:"Total Discount"}),jsxRuntimeExports.jsx("span",{className:"font-semibold",children:V.totalDiscount.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-200",children:[jsxRuntimeExports.jsx("span",{className:"text-slate-600",children:"Gross Total"}),jsxRuntimeExports.jsx("span",{className:"font-semibold",children:V.grossTotal.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-200",children:[jsxRuntimeExports.jsx("span",{className:"text-slate-600",children:"Total Tax"}),jsxRuntimeExports.jsx("span",{className:"font-semibold",children:V.totalTax.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-gray-200",children:[jsxRuntimeExports.jsx("span",{className:"text-slate-600",children:"Other Charges"}),jsxRuntimeExports.jsx("input",{type:"number",className:"w-24 text-right border rounded px-1 text-xs",value:I.otherCharges,onChange:Z=>L({...I,otherCharges:parseFloat(Z.target.value)||0})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-2 border-t font-bold text-base text-slate-800 mt-2",children:[jsxRuntimeExports.jsx("span",{children:"Net Total"}),jsxRuntimeExports.jsx("span",{children:V.netTotal.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"pt-4 flex gap-2",children:[jsxRuntimeExports.jsxs("button",{type:"submit",disabled:u,className:"flex-1 bg-green-500 text-white py-2 rounded font-medium hover:bg-green-600 transition shadow-sm flex justify-center items-center gap-2",children:[u?jsxRuntimeExports.jsx(Loader,{className:"animate-spin",size:16}):jsxRuntimeExports.jsx(Save,{size:16}),"Save"]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>t("/purchase-dashboard/bills"),className:"flex-1 bg-white border border-gray-300 text-slate-700 py-2 rounded font-medium hover:bg-gray-50 transition",children:"Cancel"})]})]})]})]})]})},API_URL$q="https://javapaas-202946-0.cloudclusters.net/api",PurchasePaymentPage=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState(""),[m,p]=reactExports.useState(""),j=useNavigate(),f=async()=>{o(!0),u("");try{const R=localStorage.getItem("token"),v=await axios.get(`${API_URL$q}/purchases/payments`,{headers:{Authorization:`Bearer ${R}`},params:{page:0,size:200,sort:"createdAt,desc"}});t(v.data.content||v.data||[])}catch(R){console.error("Failed to fetch purchase payments:",R),u("Failed to load payments.")}finally{o(!1)}};reactExports.useEffect(()=>{f()},[]);const g=async R=>{if(window.confirm("Delete this payment?"))try{const v=localStorage.getItem("token");await axios.delete(`${API_URL$q}/purchases/payments/${R}`,{headers:{Authorization:`Bearer ${v}`}}),f()}catch(v){console.error("Failed to delete payment",v),u("Failed to delete payment.")}},b=e.filter(R=>R.supplierName&&R.supplierName.toLowerCase().includes(m.toLowerCase())||R.reference&&R.reference.toLowerCase().includes(m.toLowerCase())||R.paymentMode&&R.paymentMode.toLowerCase().includes(m.toLowerCase()));return jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Purchase Payments"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",value:m,onChange:R=>p(R.target.value),className:"input w-full sm:w-64 pr-10 bg-background-muted border-border px-3 py-2 rounded border"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-foreground-muted"})]}),jsxRuntimeExports.jsxs(Link$1,{to:"/purchase-dashboard/payments/new",className:"btn-primary flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:[jsxRuntimeExports.jsx(CirclePlus,{size:18})," New Payment"]})]})]}),l&&jsxRuntimeExports.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:l}),jsxRuntimeExports.jsx("div",{className:"bg-card text-card-foreground rounded-xl shadow-sm overflow-hidden bg-white border",children:n?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-80",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-primary"})}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full text-sm",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-50 border-b",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"p-3 text-left font-medium text-gray-600",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"p-3 text-left font-medium text-gray-600",children:"Supplier"}),jsxRuntimeExports.jsx("th",{className:"p-3 text-left font-medium text-gray-600",children:"Reference"}),jsxRuntimeExports.jsx("th",{className:"p-3 text-left font-medium text-gray-600",children:"Mode"}),jsxRuntimeExports.jsx("th",{className:"p-3 text-right font-medium text-gray-600",children:"Amount"}),jsxRuntimeExports.jsx("th",{className:"p-3 text-right font-medium text-gray-600",children:"Used"}),jsxRuntimeExports.jsx("th",{className:"p-3 text-right font-medium text-gray-600",children:"Excess"}),jsxRuntimeExports.jsx("th",{className:"p-3 text-right font-medium text-gray-600 w-24",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y",children:b.length>0?b.map(R=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-slate-50",children:[jsxRuntimeExports.jsx("td",{className:"p-3",children:R.paymentDate?new Date(R.paymentDate).toLocaleDateString():""}),jsxRuntimeExports.jsx("td",{className:"p-3 font-medium text-gray-900",children:R.supplierName||""}),jsxRuntimeExports.jsx("td",{className:"p-3",children:jsxRuntimeExports.jsx(Link$1,{to:`/purchase-dashboard/payments/view/${R.id}`,className:"text-blue-600 hover:underline",children:R.reference||`#${R.id}`})}),jsxRuntimeExports.jsx("td",{className:"p-3 text-gray-500",children:R.paymentMode||""}),jsxRuntimeExports.jsx("td",{className:"p-3 text-right font-mono font-medium",children:(R.amount??0).toFixed(2)}),jsxRuntimeExports.jsx("td",{className:"p-3 text-right text-gray-500",children:(R.amountPaid??0).toFixed(2)}),jsxRuntimeExports.jsx("td",{className:"p-3 text-right text-green-600",children:(R.amountInExcess??0).toFixed(2)}),jsxRuntimeExports.jsx("td",{className:"p-3 text-right",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-end items-center gap-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>j(`/purchase-dashboard/payments/edit/${R.id}`),className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-full",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>g(R.id),className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-full",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})})]},R.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"8",className:"text-center py-10 text-gray-500",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"mx-auto h-12 w-12 text-gray-300"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium",children:"No payments found"})]})})})]})})})]})},API_URL$p="https://javapaas-202946-0.cloudclusters.net/api",Input=({label:e,...t})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-foreground-muted",children:e}),jsxRuntimeExports.jsx("input",{...t,className:"input mt-1 bg-background-muted border-border w-full rounded border px-3 py-2 text-sm"})]}),Select=({label:e,children:t,...n})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-foreground-muted",children:e}),jsxRuntimeExports.jsx("select",{...n,className:"input mt-1 bg-background-muted border-border w-full rounded border px-3 py-2 text-sm",children:t})]}),PurchasePaymentForm=()=>{const{id:e}=useParams(),t=useNavigate(),n=useLocation(),o=!!e,l=reactExports.useRef(null),[u,m]=reactExports.useState({supplierId:"",amount:"",payFullAmount:!1,taxDeducted:!1,tdsAmount:0,tdsSection:"",paymentDate:new Date().toISOString().split("T")[0],paymentMode:"",paidThrough:"",reference:"",chequeNumber:"",notes:"",createdBy:"Admin",allocations:[],attachments:[]}),[p,j]=reactExports.useState([]),[f,g]=reactExports.useState([]),[b,R]=reactExports.useState(!1),[v,N]=reactExports.useState(!1),[S,$]=reactExports.useState([]),[C,A]=reactExports.useState("");reactExports.useEffect(()=>{(async()=>{try{const Q=localStorage.getItem("token"),ee=Q?{Authorization:`Bearer ${Q}`}:{},G=await axios.get(`${API_URL$p}/parties`,{headers:ee,params:{type:"SUPPLIER",page:0,size:500}});j(G.data.content||G.data||[]),!o&&n.state?.supplierId&&(m(K=>({...K,supplierId:n.state.supplierId})),T(n.state.supplierId))}catch(Q){console.error("Failed to load suppliers",Q)}})()},[n.state,o]),reactExports.useEffect(()=>{if(!o)return;(async()=>{R(!0);try{const Q=localStorage.getItem("token"),ee=Q?{Authorization:`Bearer ${Q}`}:{},K=(await axios.get(`${API_URL$p}/purchases/payments/${e}`,{headers:ee})).data;m({supplierId:K.supplierId||"",amount:K.amount??"",payFullAmount:!!K.payFullAmount,taxDeducted:!!K.taxDeducted,tdsAmount:K.tdsAmount??0,tdsSection:K.tdsSection||"",paymentDate:K.paymentDate?new Date(K.paymentDate).toISOString().split("T")[0]:"",paymentMode:K.paymentMode||"",paidThrough:K.paidThrough||"",reference:K.reference||"",chequeNumber:K.chequeNumber||"",notes:K.notes||"",createdBy:K.createdBy||"",allocations:(K.allocations||[]).map(J=>({id:J.id||null,invoiceId:J.invoiceId,allocatedAmount:J.allocatedAmount||0,allocationNote:J.allocationNote||""})),attachments:(K.attachments||[]).map(J=>({id:J.id,fileName:J.fileName,filePath:J.filePath,uploadedBy:J.uploadedBy,uploadedAt:J.uploadedAt,url:J.url}))}),K.supplierId&&T(K.supplierId)}catch(Q){console.error("Failed to load payment",Q),A("Failed to load payment details.")}finally{R(!1)}})()},[e,o]);const T=async V=>{if(!V){g([]);return}N(!0);try{const Q=localStorage.getItem("token"),ee=Q?{Authorization:`Bearer ${Q}`}:{},G=await axios.get(`${API_URL$p}/purchases/payments/unpaid-invoices`,{headers:ee,params:{supplierId:V}});g(G.data||[])}catch(Q){console.error("Failed to load unpaid invoices",Q)}finally{N(!1)}};reactExports.useEffect(()=>{if(!o&&n.state?.invoiceId&&f.length>0&&!u.allocations.some(Q=>Q.invoiceId===n.state.invoiceId)){const Q=f.find(ee=>ee.id===n.state.invoiceId);if(Q){const ee=Q.netTotal-(Q.paidAmount||0);m(G=>({...G,amount:ee,allocations:[{invoiceId:Q.id,allocatedAmount:ee,allocationNote:""}]}))}}},[f,n.state,o]);const D=V=>{const{name:Q,value:ee,type:G,checked:K}=V.target;m(J=>({...J,[Q]:G==="checkbox"?K:ee}))},I=V=>{const Q=V.target.value;m(ee=>({...ee,supplierId:Q,allocations:[]})),T(Q)},L=V=>{$(Array.from(V.target.files))},_=(V,Q,ee)=>{const G=[...u.allocations];G[V][Q]=ee,m(K=>({...K,allocations:G}))},M=()=>{m(V=>({...V,allocations:[...V.allocations,{invoiceId:"",allocatedAmount:0,allocationNote:""}]}))},F=V=>{const Q=[...u.allocations];Q.splice(V,1),m(ee=>({...ee,allocations:Q}))},B=u.allocations.reduce((V,Q)=>V+Number(Q.allocatedAmount||0),0),q=Number(u.amount||0)-B,z=async V=>{if(V.preventDefault(),!u.supplierId){alert("Please select a supplier");return}if(Number(u.amount)<=0){alert("Amount must be greater than zero");return}R(!0);try{const ee={Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"multipart/form-data"},G=new FormData;Object.keys(u).forEach(K=>{K!=="allocations"&&K!=="attachments"&&G.append(K,u[K])}),u.allocations.forEach((K,J)=>{G.append(`allocations[${J}].invoiceId`,K.invoiceId),K.id&&G.append(`allocations[${J}].id`,K.id),G.append(`allocations[${J}].allocatedAmount`,K.allocatedAmount),G.append(`allocations[${J}].allocationNote`,K.allocationNote||"")}),S.forEach(K=>{G.append("files",K)}),o?(await axios.put(`${API_URL$p}/purchases/payments/${e}`,G,{headers:ee}),alert("Payment updated successfully")):(await axios.post(`${API_URL$p}/purchases/payments`,G,{headers:ee}),alert("Payment created successfully")),t("/purchase-dashboard/payments")}catch(Q){console.error("Submit error",Q),alert("Failed to save payment. "+(Q.response?.data?.message||Q.message))}finally{R(!1)}};return b&&o?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-screen",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin text-blue-600"})}):jsxRuntimeExports.jsxs("div",{className:"bg-slate-50 min-h-screen pb-12",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white border-b px-6 py-4 flex justify-between items-center sticky top-0 z-10 shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx(Link$1,{to:"/purchase-dashboard/payments",className:"p-2 hover:bg-slate-100 rounded-full text-slate-600 transition",children:jsxRuntimeExports.jsx(ArrowLeft,{size:20})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold text-slate-800",children:o?"Edit Payment":"Record Payment"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-500",children:"Record a payment made to a supplier"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>t("/purchase-dashboard/payments"),className:"px-4 py-2 border rounded text-slate-600 hover:bg-slate-50 text-sm font-medium",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{onClick:z,disabled:b,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm font-medium flex items-center gap-2 shadow-sm transition-all hover:shadow-md",children:[b?jsxRuntimeExports.jsx(Loader,{size:16,className:"animate-spin"}):jsxRuntimeExports.jsx(Save,{size:16})," Save Payment"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"max-w-5xl mx-auto mt-8 px-6 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-slate-200",children:[jsxRuntimeExports.jsx("h2",{className:"text-sm font-bold text-slate-800 uppercase tracking-wide mb-4 pb-2 border-b",children:"Payment Details"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs(Select,{label:"Supplier *",name:"supplierId",value:u.supplierId,onChange:I,disabled:o||n.state?.supplierId&&!o,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Supplier"}),p.map(V=>jsxRuntimeExports.jsxs("option",{value:V.id,children:[V.name," ",V.code?`(${V.code})`:""]},V.id))]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Input,{label:"Amount Paid *",type:"number",step:"0.01",name:"amount",value:u.amount,onChange:D,placeholder:"0.00",className:"pl-8 font-bold text-lg"}),jsxRuntimeExports.jsx("span",{className:"absolute left-3 top-9 text-slate-400 font-bold",children:"AED"})]}),jsxRuntimeExports.jsx(Input,{label:"Payment Date *",type:"date",name:"paymentDate",value:u.paymentDate,onChange:D}),jsxRuntimeExports.jsxs(Select,{label:"Payment Mode",name:"paymentMode",value:u.paymentMode,onChange:D,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Mode"}),jsxRuntimeExports.jsx("option",{value:"Cash",children:"Cash"}),jsxRuntimeExports.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),jsxRuntimeExports.jsx("option",{value:"Cheque",children:"Cheque"}),jsxRuntimeExports.jsx("option",{value:"Credit Card",children:"Credit Card"})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs(Select,{label:"Paid Through",name:"paidThrough",value:u.paidThrough,onChange:D,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Account"}),jsxRuntimeExports.jsx("option",{value:"Petty Cash",children:"Petty Cash"}),jsxRuntimeExports.jsx("option",{value:"Main Bank Account",children:"Main Bank Account"})]}),jsxRuntimeExports.jsx(Input,{label:"Reference #",name:"reference",value:u.reference,onChange:D,placeholder:"e.g. TRN-10293"})]}),u.paymentMode==="Cheque"&&jsxRuntimeExports.jsx("div",{className:"mt-6",children:jsxRuntimeExports.jsx(Input,{label:"Cheque Number",name:"chequeNumber",value:u.chequeNumber,onChange:D})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-slate-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4 pb-2 border-b",children:[jsxRuntimeExports.jsx("h2",{className:"text-sm font-bold text-slate-800 uppercase tracking-wide",children:"Bill Allocation"}),jsxRuntimeExports.jsxs("div",{className:"text-xs font-medium bg-slate-100 px-2 py-1 rounded text-slate-600",children:["Total Allocated: ",B.toFixed(2)," / ",Number(u.amount||0).toFixed(2)]})]}),u.supplierId?jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[u.allocations.map((V,Q)=>{const ee=f.find(K=>K.id==V.invoiceId),G=ee?ee.netTotal-(ee.paidAmount||0):0;return jsxRuntimeExports.jsxs("div",{className:"flex gap-4 items-end bg-slate-50 p-3 rounded border border-slate-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-medium text-slate-500 mb-1 block",children:"Bill Number"}),jsxRuntimeExports.jsxs("select",{className:"w-full text-sm border rounded p-2",value:V.invoiceId,onChange:K=>_(Q,"invoiceId",K.target.value),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Bill"}),f.map(K=>jsxRuntimeExports.jsxs("option",{value:K.id,children:[K.billNumber," (Due: ",K.netTotal-(K.paidAmount||0),") - ",new Date(K.billDate).toLocaleDateString()]},K.id))]})]}),jsxRuntimeExports.jsxs("div",{className:"w-32",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-medium text-slate-500 mb-1 block",children:"Amount"}),jsxRuntimeExports.jsx("input",{type:"number",className:"w-full text-sm border rounded p-2 text-right",value:V.allocatedAmount,onChange:K=>_(Q,"allocatedAmount",K.target.value),max:G}),ee&&jsxRuntimeExports.jsxs("div",{className:"text-[10px] text-slate-400 text-right mt-1",children:["Max: ",G]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>F(Q),className:"p-2 text-red-500 hover:bg-red-50 rounded",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]},Q)}),jsxRuntimeExports.jsxs("button",{onClick:M,className:"text-sm text-blue-600 font-medium flex items-center gap-1 hover:underline mt-2",children:[jsxRuntimeExports.jsx(Plus,{size:16})," Add another bill"]}),q>0&&jsxRuntimeExports.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 text-yellow-800 text-sm rounded border border-yellow-200 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Calculator,{size:16}),"You have AED ",q.toFixed(2)," in excess. This will be recorded as unused credits."]}),q<0&&jsxRuntimeExports.jsx("div",{className:"mt-4 p-3 bg-red-50 text-red-800 text-sm rounded border border-red-200",children:"Error: You have allocated more than the payment amount!"})]}):jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-slate-400 text-sm italic",children:"Select a supplier to see unpaid bills."})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-slate-200",children:[jsxRuntimeExports.jsx("h2",{className:"text-sm font-bold text-slate-800 uppercase tracking-wide mb-4 pb-2 border-b",children:"Additional Info"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-700 cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"payFullAmount",checked:u.payFullAmount,onChange:D,className:"rounded border-slate-300"}),"Pay Full Amount"]}),jsxRuntimeExports.jsxs("div",{className:"border-t pt-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:"Notes / Remarks"}),jsxRuntimeExports.jsx("textarea",{name:"notes",value:u.notes,onChange:D,rows:4,className:"w-full text-sm border-slate-300 rounded resize-none p-2 bg-slate-50",placeholder:"Internal notes..."})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-slate-200",children:[jsxRuntimeExports.jsx("h2",{className:"text-sm font-bold text-slate-800 uppercase tracking-wide mb-4 pb-2 border-b",children:"Attachments"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[u.attachments.map(V=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center text-xs bg-slate-50 p-2 rounded",children:[jsxRuntimeExports.jsx("a",{href:V.url,target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:underline truncate max-w-[150px]",children:V.fileName}),jsxRuntimeExports.jsx("span",{className:"text-slate-400",children:"Existing"})]},V.id)),jsxRuntimeExports.jsx("input",{type:"file",multiple:!0,ref:l,onChange:L,className:"block w-full text-xs text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]})]})]})]})]})},API_URL$o="https://javapaas-202946-0.cloudclusters.net/api",numberToWords$1=e=>{if(!e)return"Zero";const t=["","One ","Two ","Three ","Four ","Five ","Six ","Seven ","Eight ","Nine ","Ten ","Eleven ","Twelve ","Thirteen ","Fourteen ","Fifteen ","Sixteen ","Seventeen ","Eighteen ","Nineteen "],n=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],o=("000000000"+e).substr(-9).match(/^(\d{2})(\d{2})(\d{2})(\d{1})(\d{2})$/);if(!o)return"";let l="";return l+=o[1]!=0?(t[Number(o[1])]||n[o[1][0]]+" "+t[o[1][1]])+"Crore ":"",l+=o[2]!=0?(t[Number(o[2])]||n[o[2][0]]+" "+t[o[2][1]])+"Lakh ":"",l+=o[3]!=0?(t[Number(o[3])]||n[o[3][0]]+" "+t[o[3][1]])+"Thousand ":"",l+=o[4]!=0?(t[Number(o[4])]||n[o[4][0]]+" "+t[o[4][1]])+"Hundred ":"",l+=o[5]!=0?(l!=""?"and ":"")+(t[Number(o[5])]||n[o[5][0]]+" "+t[o[5][1]]):"",l.trim()},PurchaseOrderView=()=>{const{id:e}=useParams(),t=useNavigate(),[n,o]=reactExports.useState(null),[l,u]=reactExports.useState(!1),[m,p]=reactExports.useState(!1),[j,f]=reactExports.useState(""),[g,b]=reactExports.useState(!1),[R,v]=reactExports.useState(!1),[N,S]=reactExports.useState({name:"Transcold Air conditioner spare parts trading llc",address:"Abu Dhabi",logo:"/logo.png"});reactExports.useEffect(()=>{if(!e)return;(async()=>{u(!0);try{const D=localStorage.getItem("token"),I=await axios.get(`${API_URL$o}/purchase/orders/${e}`,{headers:{Authorization:`Bearer ${D}`}});o(I.data)}catch(D){console.error("Failed to load PO",D),f("Unable to load purchase order.")}finally{u(!1)}})()},[e]);const $=()=>{window.print()},C=async()=>{if(window.confirm("Are you sure you want to convert this PO to a Bill?")){p(!0);try{const T=localStorage.getItem("token");await axios.post(`${API_URL$o}/purchase/orders/${e}/convert-to-bill`,null,{headers:{Authorization:`Bearer ${T}`}}),alert("Converted to Bill successfully!"),window.location.reload()}catch(T){alert("Failed to convert. "+(T.response?.data?.message||T.message))}finally{p(!1)}}};if(l)return jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-screen",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin text-blue-600",size:40})});if(!n)return jsxRuntimeExports.jsx("div",{className:"p-8 text-center text-red-500",children:j||"Purchase Order not found"});const A=numberToWords$1(Math.floor(n.totalAmount||0));return jsxRuntimeExports.jsxs("div",{className:"bg-slate-50 min-h-screen pb-12 print:bg-white print:pb-0",children:[jsxRuntimeExports.jsxs("div",{className:"print:hidden",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white border-b px-6 py-3 flex justify-between items-center text-sm text-slate-600",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Link$1,{to:"/",className:"hover:text-blue-600",children:"Home"})," /",jsxRuntimeExports.jsx(Link$1,{to:"/purchase-dashboard/purchase-orders",className:"hover:text-blue-600",children:"Purchase Order"})," /",jsxRuntimeExports.jsx("span",{className:"text-slate-900 font-medium",children:"View Purchase Order"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Link$1,{to:"/purchase-dashboard/purchase-orders",className:"px-3 py-1.5 bg-blue-500 text-white rounded text-xs hover:bg-blue-600 transition",children:"All Purchase Order"}),jsxRuntimeExports.jsx(Link$1,{to:"/purchase-dashboard/purchase-orders/new",className:"px-3 py-1.5 bg-blue-500 text-white rounded text-xs hover:bg-blue-600 transition",children:"+ New Purchase Order"})]})]}),jsxRuntimeExports.jsx("div",{className:"bg-sky-500 px-6 py-4 text-white text-xl font-medium shadow-sm",children:"View Purchase Order"}),jsxRuntimeExports.jsxs("div",{className:"px-6 py-4 flex flex-wrap gap-2 items-center border-b bg-white shadow-sm sticky top-0 z-10",children:[jsxRuntimeExports.jsx(Link$1,{to:`/purchase-dashboard/purchase-orders/edit/${n.id}`,className:"p-2 bg-sky-500 text-white rounded hover:bg-sky-600 transition shadow-sm",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:18})}),jsxRuntimeExports.jsx("button",{className:"p-2 bg-red-500 text-white rounded hover:bg-red-600 transition shadow-sm",title:"PDF",children:jsxRuntimeExports.jsx(FileText,{size:18})}),jsxRuntimeExports.jsx("button",{onClick:()=>{v(!1),setTimeout($,100)},className:"p-2 bg-sky-600 text-white rounded hover:bg-sky-700 transition shadow-sm",title:"Print",children:jsxRuntimeExports.jsx(Printer,{size:18})}),jsxRuntimeExports.jsxs("button",{onClick:()=>{v(!0),setTimeout($,100)},className:"px-3 py-2 bg-white border border-slate-300 text-slate-700 rounded hover:bg-slate-50 text-sm font-medium flex items-center gap-2 shadow-sm",children:[jsxRuntimeExports.jsx(Printer,{size:16})," Print On Letterhead"]}),jsxRuntimeExports.jsx("button",{className:"p-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition shadow-sm",title:"Email",children:jsxRuntimeExports.jsx(Mail,{size:18})}),jsxRuntimeExports.jsx("button",{className:"p-2 bg-green-500 text-white rounded hover:bg-green-600 transition shadow-sm",title:"Attachments",children:jsxRuntimeExports.jsx(Paperclip,{size:18})}),n.status!=="Billed"&&jsxRuntimeExports.jsx("button",{onClick:C,disabled:m,className:"px-4 py-2 bg-sky-600 text-white rounded text-sm font-medium hover:bg-sky-700 transition shadow-sm",children:m?"Converting...":"Convert to Bill"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>b(!g),className:"px-3 py-2 bg-slate-700 text-white rounded text-sm font-medium flex items-center gap-1 hover:bg-slate-800 transition shadow-sm",children:["More ",jsxRuntimeExports.jsx(ChevronDown,{size:14})]}),g&&jsxRuntimeExports.jsx("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white border rounded shadow-lg py-1 z-20 text-sm text-slate-700",onMouseLeave:()=>b(!1),children:jsxRuntimeExports.jsx("button",{onClick:()=>t(`/purchase-dashboard/purchase-orders/${e}/grn/new`),className:"block w-full text-left px-4 py-2 hover:bg-slate-100",children:"Add GRN"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"px-6 py-3 flex gap-4 text-xs text-slate-500 bg-white border-b",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[jsxRuntimeExports.jsx("span",{className:"px-2 py-0.5 bg-green-500 text-white rounded cursor-pointer",children:"+ View more"}),jsxRuntimeExports.jsx("span",{className:"px-2 py-0.5 bg-red-400 text-white rounded cursor-pointer",children:"- View less"})]}),jsxRuntimeExports.jsxs("div",{children:[n.createdAt?new Date(n.createdAt).toLocaleString():"","  Purchase Order Created. by ",n.createdBy||"System"," ."]})]})]}),jsxRuntimeExports.jsxs("div",{className:"max-w-[210mm] mx-auto mt-6 bg-white shadow-lg print:shadow-none print:mt-0 print:w-full print:max-w-none border p-8 min-h-[297mm] text-slate-800 font-sans relative",children:[!R&&jsxRuntimeExports.jsx("div",{className:"flex justify-between items-start mb-8 pb-4 border-b-2 border-slate-800",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-4 items-center",children:[jsxRuntimeExports.jsxs("div",{className:"w-16 h-16 bg-slate-100 flex items-center justify-center rounded",children:[jsxRuntimeExports.jsx("img",{src:"/logo-placeholder.png",alt:"Logo",className:"max-w-full max-h-full opacity-50",onError:T=>T.target.style.display="none"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-slate-400",children:"Logo"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold uppercase tracking-wide",children:N.name}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-slate-600",children:N.address})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-end mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"border border-slate-300 rounded p-0 overflow-hidden text-sm w-1/2",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[120px_1fr] border-b border-slate-200",children:[jsxRuntimeExports.jsx("div",{className:"bg-slate-50 px-3 py-1 font-semibold text-slate-700 border-r border-slate-200",children:"Order No."}),jsxRuntimeExports.jsxs("div",{className:"px-3 py-1 font-bold text-slate-900",children:[": ",n.poNumber]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[120px_1fr] border-b border-slate-200",children:[jsxRuntimeExports.jsx("div",{className:"bg-slate-50 px-3 py-1 font-semibold text-slate-700 border-r border-slate-200",children:"Order Date"}),jsxRuntimeExports.jsxs("div",{className:"px-3 py-1",children:[": ",n.date?new Date(n.date).toLocaleDateString():"-"]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[120px_1fr] border-b border-slate-200",children:[jsxRuntimeExports.jsx("div",{className:"bg-slate-50 px-3 py-1 font-semibold text-slate-700 border-r border-slate-200",children:"Expiry Date"}),jsxRuntimeExports.jsx("div",{className:"px-3 py-1",children:": - "})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[120px_1fr]",children:[jsxRuntimeExports.jsx("div",{className:"bg-slate-50 px-3 py-1 font-semibold text-slate-700 border-r border-slate-200",children:"Reference No."}),jsxRuntimeExports.jsxs("div",{className:"px-3 py-1",children:[": ",n.reference||"-"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-slate-900 uppercase mb-1",children:"Purchase Order"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-bold text-slate-600",children:"TRN : 123456789101111"})," "]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("div",{className:"font-bold text-slate-800 border-b border-slate-300 mb-2 pb-1",children:"Vendor Address"}),jsxRuntimeExports.jsxs("div",{className:"bg-slate-50 p-3 border rounded text-sm",children:[jsxRuntimeExports.jsx("div",{className:"font-bold text-lg",children:n.supplierName}),jsxRuntimeExports.jsx("div",{className:"text-slate-600 whitespace-pre-wrap",children:n.supplierAddress||"No Address Provided"}),jsxRuntimeExports.jsxs("div",{className:"mt-1 text-slate-500",children:["TRN: ",n.supplierTrn||"-"]})]}),n.deliverToAddress&&jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[jsxRuntimeExports.jsx("div",{className:"font-bold text-slate-800 border-b border-slate-300 mb-2 pb-1",children:"Deliver To"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-slate-600 whitespace-pre-wrap",children:n.deliverToAddress})]})]}),jsxRuntimeExports.jsxs("table",{className:"w-full border-collapse border border-slate-300 text-sm mb-6",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-100 text-slate-800 font-bold",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"border border-slate-300 px-2 py-2 w-12 text-center",children:"S.N"}),jsxRuntimeExports.jsx("th",{className:"border border-slate-300 px-3 py-2 text-left",children:"Item & Description"}),jsxRuntimeExports.jsx("th",{className:"border border-slate-300 px-2 py-2 text-center w-24",children:"Qty (Unit)"}),jsxRuntimeExports.jsx("th",{className:"border border-slate-300 px-2 py-2 text-right w-24",children:"Rate"}),jsxRuntimeExports.jsx("th",{className:"border border-slate-300 px-2 py-2 text-right w-20",children:"Discount"}),jsxRuntimeExports.jsx("th",{className:"border border-slate-300 px-2 py-2 text-center w-20",children:"VAT (%)"}),jsxRuntimeExports.jsx("th",{className:"border border-slate-300 px-2 py-2 text-right w-24",children:"VAT Amount"}),jsxRuntimeExports.jsx("th",{className:"border border-slate-300 px-2 py-2 text-right w-28",children:"Amount"})]})}),jsxRuntimeExports.jsx("tbody",{children:(n.items||[]).map((T,D)=>{const I=Number(T.quantity)||0,L=Number(T.rate)||0,_=Number(T.lineDiscount)||0,M=Number(T.taxPercent)||0,F=I*L-_,B=F*(M/100),q=F+B;return jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"border border-slate-300 px-2 py-2 text-center",children:T.lineNumber||D+1}),jsxRuntimeExports.jsxs("td",{className:"border border-slate-300 px-3 py-2",children:[jsxRuntimeExports.jsx("div",{className:"font-semibold",children:T.itemName}),jsxRuntimeExports.jsx("div",{className:"text-xs text-slate-500",children:T.description})]}),jsxRuntimeExports.jsxs("td",{className:"border border-slate-300 px-2 py-2 text-center",children:[I," (",T.unitName||"",")"]}),jsxRuntimeExports.jsx("td",{className:"border border-slate-300 px-2 py-2 text-right",children:L.toFixed(2)}),jsxRuntimeExports.jsx("td",{className:"border border-slate-300 px-2 py-2 text-right",children:_.toFixed(2)}),jsxRuntimeExports.jsxs("td",{className:"border border-slate-300 px-2 py-2 text-center",children:[M,"%"]}),jsxRuntimeExports.jsx("td",{className:"border border-slate-300 px-2 py-2 text-right",children:B.toFixed(2)}),jsxRuntimeExports.jsx("td",{className:"border border-slate-300 px-2 py-2 text-right",children:q.toFixed(2)})]},D)})})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-8 items-stretch h-full min-h-[200px]",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col justify-between border border-slate-300 p-0",children:[jsxRuntimeExports.jsxs("div",{className:"p-3 border-b border-slate-300",children:[jsxRuntimeExports.jsx("div",{className:"font-bold text-sm mb-1",children:"Amount in Words :"}),jsxRuntimeExports.jsxs("div",{className:"text-sm italic text-slate-700 capitalize",children:[A," ",n.currency," Only"]})]}),jsxRuntimeExports.jsxs("div",{className:"p-3 flex-1",children:[n.notes&&jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("div",{className:"font-bold text-sm mb-1",children:"Notes :"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-slate-600 whitespace-pre-wrap",children:n.notes})]}),n.termsAndConditions&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-bold text-sm mb-1",children:"Terms & Conditions :"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-slate-600 whitespace-pre-wrap",children:n.termsAndConditions})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"w-[300px] flex flex-col border border-slate-300 p-0",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between p-2 border-b border-slate-200",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-slate-700",children:"Total Discount"}),jsxRuntimeExports.jsx("span",{children:Number(n.totalDiscount||0).toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between p-2 border-b border-slate-200",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-slate-700",children:"Sub Total"}),jsxRuntimeExports.jsx("span",{children:Number(n.subTotal||0).toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between p-2 border-b border-slate-200",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-slate-700",children:"Total VAT"}),jsxRuntimeExports.jsx("span",{children:Number(n.totalTax||0).toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between p-2 border-b border-slate-200",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-slate-700",children:"Other Charges"}),jsxRuntimeExports.jsx("span",{children:Number(n.otherCharges||0).toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between p-2 bg-slate-100 font-bold border-b border-slate-300",children:[jsxRuntimeExports.jsx("span",{children:"Total"}),jsxRuntimeExports.jsx("span",{children:Number(n.totalAmount||0).toFixed(2)})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col justify-end items-center p-6 text-center",children:[jsxRuntimeExports.jsx("div",{className:"h-16 w-full mb-2"})," ",jsxRuntimeExports.jsx("div",{className:"border-t border-slate-800 w-full pt-2 font-bold text-sm",children:"Authorized Signature"})]})]})]})]})]})},API_URL$n="https://javapaas-202946-0.cloudclusters.net/api",numberToWords=e=>{if(!e)return"Zero";const t=["","One ","Two ","Three ","Four ","Five ","Six ","Seven ","Eight ","Nine ","Ten ","Eleven ","Twelve ","Thirteen ","Fourteen ","Fifteen ","Sixteen ","Seventeen ","Eighteen ","Nineteen "],n=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],o=("000000000"+e).substr(-9).match(/^(\d{2})(\d{2})(\d{2})(\d{1})(\d{2})$/);if(!o)return"";let l="";return l+=o[1]!=0?(t[Number(o[1])]||n[o[1][0]]+" "+t[o[1][1]])+"Crore ":"",l+=o[2]!=0?(t[Number(o[2])]||n[o[2][0]]+" "+t[o[2][1]])+"Lakh ":"",l+=o[3]!=0?(t[Number(o[3])]||n[o[3][0]]+" "+t[o[3][1]])+"Thousand ":"",l+=o[4]!=0?(t[Number(o[4])]||n[o[4][0]]+" "+t[o[4][1]])+"Hundred ":"",l+=o[5]!=0?(l!=""?"and ":"")+(t[Number(o[5])]||n[o[5][0]]+" "+t[o[5][1]]):"",l.trim()},PurchaseInvoiceView=()=>{const{id:e}=useParams(),t=useNavigate(),[n,o]=reactExports.useState(null),[l,u]=reactExports.useState(!1),[m,p]=reactExports.useState(""),[j,f]=reactExports.useState(!1),[g,b]=reactExports.useState({name:"Transcold Air conditioner spare parts trading llc",address:"Abu Dhabi",logo:"/logo.png"});reactExports.useEffect(()=>{if(!e)return;(async()=>{u(!0);try{const S=localStorage.getItem("token"),$=await axios.get(`${API_URL$n}/purchases/invoices/${e}`,{headers:{Authorization:`Bearer ${S}`}});o($.data)}catch(S){console.error("Failed to load Invoice",S),p("Unable to load purchase invoice.")}finally{u(!1)}})()},[e]);const R=()=>{window.print()};if(l)return jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-screen",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin text-blue-600",size:40})});if(!n)return jsxRuntimeExports.jsx("div",{className:"p-8 text-center text-red-500",children:m||"Invoice not found"});const v=numberToWords(Math.floor(n.netTotal||0));return jsxRuntimeExports.jsxs("div",{className:"bg-slate-50 min-h-screen pb-12 print:bg-white print:pb-0 font-sans",children:[jsxRuntimeExports.jsxs("div",{className:"print:hidden",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white border-b px-6 py-3 flex justify-between items-center text-xs text-slate-600",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Link$1,{to:"/",className:"hover:text-blue-600",children:"Home"})," /",jsxRuntimeExports.jsx(Link$1,{to:"/purchase-dashboard/bills",className:"hover:text-blue-600",children:"Purchase Bills"})," /",jsxRuntimeExports.jsx("span",{className:"text-slate-900 font-medium",children:"View Bill"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Link$1,{to:"/purchase-dashboard/bills",className:"px-3 py-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:"All Bills"}),jsxRuntimeExports.jsx(Link$1,{to:"/purchase-dashboard/bills/new",className:"px-3 py-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:"+ New Bill"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-sky-500 px-6 py-4 text-white text-xl font-medium shadow-sm",children:["View Bill # ",n.billNumber]}),jsxRuntimeExports.jsxs("div",{className:"px-6 py-4 flex flex-wrap gap-2 items-center border-b bg-white shadow-sm sticky top-0 z-10",children:[jsxRuntimeExports.jsx(Link$1,{to:`/purchase-dashboard/bills/edit/${n.id}`,className:"p-2 bg-sky-500 text-white rounded hover:bg-sky-600 transition shadow-sm",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:18})}),jsxRuntimeExports.jsx("button",{className:"p-2 bg-red-500 text-white rounded hover:bg-red-600 transition shadow-sm",title:"PDF",children:jsxRuntimeExports.jsx(FileText,{size:18})}),jsxRuntimeExports.jsx("button",{onClick:R,className:"p-2 bg-sky-600 text-white rounded hover:bg-sky-700 transition shadow-sm",title:"Print",children:jsxRuntimeExports.jsx(Printer,{size:18})}),jsxRuntimeExports.jsxs("button",{onClick:R,className:"px-3 py-2 bg-white border border-slate-300 text-slate-700 rounded hover:bg-slate-50 text-xs font-medium flex items-center gap-2 shadow-sm",children:[jsxRuntimeExports.jsx(Printer,{size:16})," Print On Letterhead"]}),jsxRuntimeExports.jsx("button",{className:"p-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition shadow-sm",title:"Email",children:jsxRuntimeExports.jsx(Mail,{size:18})}),n.attachments&&n.attachments.length>0&&jsxRuntimeExports.jsxs("div",{className:"relative group",children:[jsxRuntimeExports.jsx("button",{className:"p-2 bg-green-500 text-white rounded hover:bg-green-600 transition shadow-sm",title:"Attachments",children:jsxRuntimeExports.jsx(Paperclip,{size:18})}),jsxRuntimeExports.jsx("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white border rounded shadow-lg py-1 z-20 hidden group-hover:block",children:n.attachments.map(N=>jsxRuntimeExports.jsx("a",{href:N.url,target:"_blank",rel:"noreferrer",className:"block px-4 py-2 hover:bg-slate-100 text-xs truncate",children:N.fileName},N.id))})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>f(!j),className:"px-3 py-2 bg-slate-700 text-white rounded text-xs font-medium flex items-center gap-1 hover:bg-slate-800 transition shadow-sm",children:["More ",jsxRuntimeExports.jsx(ChevronDown,{size:14})]}),j&&jsxRuntimeExports.jsx("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white border rounded shadow-lg py-1 z-20 text-xs text-slate-700",onMouseLeave:()=>f(!1),children:jsxRuntimeExports.jsx("button",{onClick:()=>t("/purchase-dashboard/payments/new",{state:{supplierId:n.supplierId,invoiceId:n.id}}),className:"block w-full text-left px-4 py-2 hover:bg-slate-100",children:"Make Payment"})})]})]}),jsxRuntimeExports.jsx("div",{className:"px-6 py-2 flex gap-4 text-xs text-slate-500 bg-white border-b",children:jsxRuntimeExports.jsxs("div",{children:["Created: ",n.createdAt?new Date(n.createdAt).toLocaleString():""," by ",n.createdBy||"System"]})})]}),jsxRuntimeExports.jsxs("div",{className:"max-w-[210mm] mx-auto mt-6 bg-white shadow-lg print:shadow-none print:mt-0 print:w-full print:max-w-none border p-8 min-h-[297mm] text-slate-800 relative",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-start mb-8 pb-4 border-b-2 border-slate-800",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-4 items-center",children:[jsxRuntimeExports.jsxs("div",{className:"w-16 h-16 bg-slate-100 flex items-center justify-center rounded",children:[jsxRuntimeExports.jsx("img",{src:"/logo-placeholder.png",alt:"Logo",className:"max-w-full max-h-full opacity-50",onError:N=>N.target.style.display="none"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-slate-400",children:"Logo"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold uppercase tracking-wide",children:g.name}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-slate-600",children:g.address})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-end mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"border border-slate-300 rounded p-0 overflow-hidden text-sm w-1/2",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[120px_1fr] border-b border-slate-200",children:[jsxRuntimeExports.jsx("div",{className:"bg-slate-50 px-3 py-1 font-semibold text-slate-700 border-r border-slate-200",children:"Bill No."}),jsxRuntimeExports.jsxs("div",{className:"px-3 py-1 font-bold text-slate-900",children:[": ",n.billNumber]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[120px_1fr] border-b border-slate-200",children:[jsxRuntimeExports.jsx("div",{className:"bg-slate-50 px-3 py-1 font-semibold text-slate-700 border-r border-slate-200",children:"Bill Date"}),jsxRuntimeExports.jsxs("div",{className:"px-3 py-1",children:[": ",n.billDate?new Date(n.billDate).toLocaleDateString():"-"]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[120px_1fr] border-b border-slate-200",children:[jsxRuntimeExports.jsx("div",{className:"bg-slate-50 px-3 py-1 font-semibold text-slate-700 border-r border-slate-200",children:"Due Date"}),jsxRuntimeExports.jsxs("div",{className:"px-3 py-1",children:[": ",n.dueDate?new Date(n.dueDate).toLocaleDateString():"-"]})]}),n.orderNumber&&jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[120px_1fr] border-b border-slate-200",children:[jsxRuntimeExports.jsx("div",{className:"bg-slate-50 px-3 py-1 font-semibold text-slate-700 border-r border-slate-200",children:"Ref Order."}),jsxRuntimeExports.jsxs("div",{className:"px-3 py-1",children:[": ",n.orderNumber]})]}),n.template&&jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[120px_1fr]",children:[jsxRuntimeExports.jsx("div",{className:"bg-slate-50 px-3 py-1 font-semibold text-slate-700 border-r border-slate-200",children:"Template"}),jsxRuntimeExports.jsxs("div",{className:"px-3 py-1",children:[": ",n.template]})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-slate-900 uppercase mb-1",children:"Purchase Bill"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-bold text-slate-600",children:"TRN : 123456789101111"})]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("div",{className:"font-bold text-slate-800 border-b border-slate-300 mb-2 pb-1",children:"Supplier Details"}),jsxRuntimeExports.jsxs("div",{className:"bg-slate-50 p-3 border rounded text-sm",children:[jsxRuntimeExports.jsx("div",{className:"font-bold text-lg",children:n.supplierName||"Unknown Supplier"}),jsxRuntimeExports.jsx("div",{className:"text-slate-600 whitespace-pre-wrap",children:"Address information not loaded"})]})]}),jsxRuntimeExports.jsxs("table",{className:"w-full border-collapse border border-slate-300 text-sm mb-6",children:[jsxRuntimeExports.jsx("thead",{className:"bg-slate-100 text-slate-800 font-bold",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"border border-slate-300 px-2 py-2 w-12 text-center",children:"S.N"}),jsxRuntimeExports.jsx("th",{className:"border border-slate-300 px-3 py-2 text-left",children:"Item & Description"}),jsxRuntimeExports.jsx("th",{className:"border border-slate-300 px-2 py-2 text-center w-24",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"border border-slate-300 px-2 py-2 text-right w-24",children:"Rate"}),jsxRuntimeExports.jsx("th",{className:"border border-slate-300 px-2 py-2 text-right w-20",children:"Discount"}),jsxRuntimeExports.jsx("th",{className:"border border-slate-300 px-2 py-2 text-center w-20",children:"Tax (%)"}),jsxRuntimeExports.jsx("th",{className:"border border-slate-300 px-2 py-2 text-right w-28",children:"Amount"})]})}),jsxRuntimeExports.jsx("tbody",{children:(n.lines||[]).map((N,S)=>{const $=n.grossNetEnabled&&N.quantityNet>0?N.quantityNet:N.quantityGross;return jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"border border-slate-300 px-2 py-2 text-center",children:N.lineNumber||S+1}),jsxRuntimeExports.jsxs("td",{className:"border border-slate-300 px-3 py-2",children:[jsxRuntimeExports.jsx("div",{className:"font-semibold",children:N.itemName||"-"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-slate-500",children:N.description})]}),jsxRuntimeExports.jsxs("td",{className:"border border-slate-300 px-2 py-2 text-center",children:[Number($).toFixed(2)," ",N.unitName]}),jsxRuntimeExports.jsx("td",{className:"border border-slate-300 px-2 py-2 text-right",children:Number(N.rate).toFixed(2)}),jsxRuntimeExports.jsx("td",{className:"border border-slate-300 px-2 py-2 text-right",children:Number(N.lineDiscount||0).toFixed(2)}),jsxRuntimeExports.jsxs("td",{className:"border border-slate-300 px-2 py-2 text-center",children:[Number(N.taxPercent||0),"%"]}),jsxRuntimeExports.jsx("td",{className:"border border-slate-300 px-2 py-2 text-right",children:Number(N.amount).toFixed(2)})]},S)})})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-8 items-stretch h-full min-h-[200px]",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col justify-between border border-slate-300 p-0",children:[jsxRuntimeExports.jsxs("div",{className:"p-3 border-b border-slate-300",children:[jsxRuntimeExports.jsx("div",{className:"font-bold text-sm mb-1",children:"Amount in Words :"}),jsxRuntimeExports.jsxs("div",{className:"text-sm italic text-slate-700 capitalize",children:[v," AED Only"]})]}),jsxRuntimeExports.jsx("div",{className:"p-3 flex-1",children:n.notes&&jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("div",{className:"font-bold text-sm mb-1",children:"Notes :"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-slate-600 whitespace-pre-wrap",children:n.notes})]})})]}),jsxRuntimeExports.jsx("div",{className:"w-[300px] flex flex-col border border-slate-300 p-0",children:jsxRuntimeExports.jsxs("div",{className:"text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between p-2 border-b border-slate-200",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-slate-700",children:"Sub Total"}),jsxRuntimeExports.jsx("span",{children:Number(n.subTotal||0).toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between p-2 border-b border-slate-200",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-slate-700",children:"Total Discount"}),jsxRuntimeExports.jsx("span",{children:Number(n.totalDiscount||0).toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between p-2 border-b border-slate-200 bg-slate-50",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-slate-700",children:"Gross Total"}),jsxRuntimeExports.jsx("span",{children:Number(n.grossTotal||0).toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between p-2 border-b border-slate-200",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-slate-700",children:"Total Tax"}),jsxRuntimeExports.jsx("span",{children:Number(n.totalTax||0).toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between p-2 border-b border-slate-200",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-slate-700",children:"Other Charges"}),jsxRuntimeExports.jsx("span",{children:Number(n.otherCharges||0).toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between p-3 bg-slate-100 font-bold text-lg text-slate-900",children:[jsxRuntimeExports.jsx("span",{children:"Net Total"}),jsxRuntimeExports.jsxs("span",{children:["AAD ",Number(n.netTotal||0).toFixed(2)]})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"mt-12 pt-8 flex justify-end",children:jsxRuntimeExports.jsxs("div",{className:"text-center w-48",children:[jsxRuntimeExports.jsx("div",{className:"mb-4 h-16"}),jsxRuntimeExports.jsx("div",{className:"border-t border-slate-400 pt-2 font-bold text-slate-700 text-sm",children:"Authorized Signature"})]})}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 w-full text-center text-[10px] text-slate-400 p-4 border-t print:block hidden",children:"Computer generated document."})]})]})},API_URL$m="https://javapaas-202946-0.cloudclusters.net/api",PurchasePaymentView=()=>{const{id:e}=useParams(),[t,n]=reactExports.useState(null),[o,l]=reactExports.useState(!0),[u,m]=reactExports.useState(""),[p,j]=reactExports.useState(!1);reactExports.useEffect(()=>{(async()=>{l(!0);try{const b=localStorage.getItem("token"),R=await axios.get(`${API_URL$m}/purchases/payments/${e}`,{headers:{Authorization:`Bearer ${b}`}});n(R.data)}catch(b){console.error("Failed to fetch payment",b),m("Failed to load payment details.")}finally{l(!1)}})()},[e]);const f=()=>{window.print()};return o?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-screen",children:jsxRuntimeExports.jsx(Loader,{className:"h-10 w-10 animate-spin text-primary"})}):u?jsxRuntimeExports.jsx("div",{className:"p-8 text-center text-red-600",children:u}):t?jsxRuntimeExports.jsxs("div",{className:"p-4 md:p-8 bg-gray-50 min-h-screen print:bg-white print:p-0",children:[jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6 print:hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Link$1,{to:"/purchase-dashboard/payments",className:"btn-secondary p-2 rounded-full hover:bg-gray-200",children:jsxRuntimeExports.jsx(ArrowLeft,{size:20})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:["Payment Receipt",jsxRuntimeExports.jsxs("span",{className:"text-sm font-normal text-gray-500 px-2 py-0.5 bg-gray-200 rounded-full",children:["#",t.id]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>j(!p),className:"btn-secondary flex items-center gap-2",children:[jsxRuntimeExports.jsx(Ellipsis,{size:18})," More"]}),p&&jsxRuntimeExports.jsx("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white shadow-lg rounded-md border py-1 z-20",children:jsxRuntimeExports.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Mail,{size:16})," Email"]})})]}),jsxRuntimeExports.jsxs("button",{onClick:f,className:"btn-secondary flex items-center gap-2",children:[jsxRuntimeExports.jsx(Printer,{size:18})," Print"]}),jsxRuntimeExports.jsx(Link$1,{to:`/purchase-dashboard/payments/edit/${t.id}`,className:"btn-primary",children:"Edit"})]})]}),jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto bg-white shadow-lg rounded-lg border overflow-hidden print:shadow-none print:border-none print:max-w-none print:w-full",children:[jsxRuntimeExports.jsx("div",{className:"h-2 bg-green-600 w-full print:bg-green-600"}),jsxRuntimeExports.jsxs("div",{className:"p-8 md:p-12 print:p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-12",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-1",children:t.supplierName}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Abu Dhabi, UAE"})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 uppercase tracking-wider mb-2",children:"Payment Made"}),jsxRuntimeExports.jsxs("div",{className:"bg-green-50 text-green-700 px-6 py-3 rounded-lg border border-green-100 inline-block text-center min-w-[200px] print:border-none print:bg-transparent print:p-0 print:text-right",children:[jsxRuntimeExports.jsx("div",{className:"text-xs uppercase font-semibold opacity-75",children:"Amount Paid"}),jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold",children:["AED ",(t.amountPaid||t.amount||0).toFixed(2)]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-12 border-t border-b py-6 border-slate-100",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-b pb-1 border-dotted border-gray-200",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500 text-sm",children:"Payment Date"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:new Date(t.paymentDate).toLocaleDateString()})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-b pb-1 border-dotted border-gray-200",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500 text-sm",children:"Reference Number"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:t.reference||""})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-b pb-1 border-dotted border-gray-200",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500 text-sm",children:"Payment Mode"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:t.paymentMode||""})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-b pb-1 border-dotted border-gray-200",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500 text-sm",children:"Paid Through"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:t.paidThrough||""})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[t.chequeNumber&&jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-b pb-1 border-dotted border-gray-200",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500 text-sm",children:"Cheque Number"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:t.chequeNumber})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-b pb-1 border-dotted border-gray-200",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500 text-sm",children:"Created By"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:t.createdBy})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-12",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-gray-700 mb-4 border-l-4 border-green-500 pl-3",children:"Payment For"}),jsxRuntimeExports.jsxs("table",{className:"w-full text-sm border-collapse",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-gray-50 text-gray-600 border-b",children:[jsxRuntimeExports.jsx("th",{className:"py-3 px-4 text-left font-medium",children:"Bill Number"}),jsxRuntimeExports.jsx("th",{className:"py-3 px-4 text-right font-medium",children:"Amount"})]})}),jsxRuntimeExports.jsxs("tbody",{children:[t.allocations&&t.allocations.length>0?t.allocations.map((g,b)=>jsxRuntimeExports.jsxs("tr",{className:"border-b text-gray-800",children:[jsxRuntimeExports.jsxs("td",{className:"py-3 px-4 font-medium",children:[g.invoiceNumber||`Invoice #${g.invoiceId}`,jsxRuntimeExports.jsx("div",{className:"text-xs text-blue-600 cursor-pointer hover:underline print:hidden",children:jsxRuntimeExports.jsx(Link$1,{to:`/purchase-dashboard/invoices/view/${g.invoiceId}`,children:"View Bill"})})]}),jsxRuntimeExports.jsx("td",{className:"py-3 px-4 text-right",children:(g.allocatedAmount||0).toFixed(2)})]},b)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"2",className:"py-4 text-center text-gray-400 italic",children:"No specific bills allocated (Advance Payment)"})}),t.amountInExcess>0&&jsxRuntimeExports.jsxs("tr",{className:"border-b bg-green-50/50 text-green-800 print:bg-transparent print:text-black",children:[jsxRuntimeExports.jsx("td",{className:"py-3 px-4 font-medium italic",children:"Amount in Excess (Unallocated)"}),jsxRuntimeExports.jsx("td",{className:"py-3 px-4 text-right font-bold",children:t.amountInExcess.toFixed(2)})]})]})]})]}),t.attachments&&t.attachments.length>0&&jsxRuntimeExports.jsxs("div",{className:"mb-8 mt-12 bg-slate-50 p-4 rounded border border-dashed border-gray-300 print:hidden",children:[jsxRuntimeExports.jsxs("h5",{className:"flex items-center gap-2 text-sm font-semibold text-gray-600 mb-3",children:[jsxRuntimeExports.jsx(Paperclip,{size:16})," Attachments"]}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:t.attachments.map(g=>jsxRuntimeExports.jsxs("a",{href:g.url,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 px-3 py-2 bg-white border rounded text-xs hover:bg-blue-50 hover:border-blue-300 text-blue-600 transition-colors",children:[jsxRuntimeExports.jsx(FileText,{size:14}),jsxRuntimeExports.jsx("span",{className:"truncate max-w-[150px]",children:g.fileName})]},g.id))})]}),t.notes&&jsxRuntimeExports.jsxs("div",{className:"mb-4 text-sm text-gray-600 italic",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold not-italic",children:"Notes:"})," ",t.notes]})]})]})]}):null},API_URL$l="https://javapaas-202946-0.cloudclusters.net/api",PurchaseGrnView=()=>{const{id:e}=useParams(),t=useNavigate(),[n,o]=reactExports.useState(null),[l,u]=reactExports.useState(!1);reactExports.useEffect(()=>{e&&(async()=>{u(!0);try{const f={Authorization:`Bearer ${localStorage.getItem("token")}`},g=await axios.get(`${API_URL$l}/purchase/grns/${e}`,{headers:f});o(g.data)}catch(j){console.error("Failed to load GRN",j),alert("Failed to load GRN.")}finally{u(!1)}})()},[e]);const m=()=>{const p=`
      <html><head><title>GRN ${n?.grnNumber||""}</title>
      <style>body{font-family:Arial;padding:20px}table{width:100%;border-collapse:collapse}th,td{border:1px solid #ddd;padding:8px}</style>
      </head><body>
      <h2>GRN: ${n?.grnNumber||`#${n?.id}`}</h2>
      <div><strong>Date:</strong> ${n?.grnDate?new Date(n.grnDate).toLocaleDateString():""}</div>
      <div><strong>PO ID:</strong> ${n?.purchaseOrderId||""}</div>
      <table><thead><tr><th>#</th><th>Item</th><th>Received</th><th>Rate</th></tr></thead><tbody>
      ${(n?.items||[]).map((f,g)=>`<tr><td>${g+1}</td><td>${f.itemName||""}</td><td>${f.receivedQuantity}</td><td>${(f.rate??0).toFixed(2)}</td></tr>`).join("")}
      </tbody></table>
      ${n?.remark?`<div style="margin-top: 1rem;"><strong>Remark:</strong><p>${n.remark}</p></div>`:""}
      </body></html>
    `,j=window.open("","_blank");j.document.write(p),j.document.close(),setTimeout(()=>j.print(),300)};return l?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-64",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-primary"})}):n?jsxRuntimeExports.jsxs("div",{className:"p-6 bg-card rounded shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{className:"btn-secondary",onClick:()=>t(-1),children:jsxRuntimeExports.jsx(ArrowLeft,{size:16})}),jsxRuntimeExports.jsxs("h3",{className:"text-xl font-semibold",children:["GRN ",n.grnNumber||`#${n.id}`]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsxs("button",{className:"btn-secondary flex items-center gap-2",onClick:m,children:[jsxRuntimeExports.jsx(Printer,{size:16})," Print"]})})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-white border rounded",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Date:"})," ",n.grnDate?new Date(n.grnDate).toLocaleDateString():""]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"PO ID:"}),jsxRuntimeExports.jsx(Link$1,{to:`/purchase-dashboard/purchase-orders/view/${n.purchaseOrderId}`,className:"text-primary underline ml-2",children:n.purchaseOrderId})]})]}),jsxRuntimeExports.jsxs("table",{className:"min-w-full mt-4",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"#"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Item"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Received"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Rate"})]})}),jsxRuntimeExports.jsx("tbody",{children:(n.items||[]).map((p,j)=>jsxRuntimeExports.jsxs("tr",{className:"border-b",children:[jsxRuntimeExports.jsx("td",{className:"td-cell",children:j+1}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:p.itemName}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:p.receivedQuantity}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:(p.rate??0).toFixed(2)})]},p.id))})]}),n.remark&&jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[jsxRuntimeExports.jsx("strong",{children:"Remark:"}),jsxRuntimeExports.jsx("div",{children:n.remark})]})]})]}):jsxRuntimeExports.jsx("div",{className:"p-6",children:"No GRN found."})},API_URL$k="https://javapaas-202946-0.cloudclusters.net/api",PurchaseGrnForm=()=>{const{id:e}=useParams(),t=useNavigate(),[n,o]=reactExports.useState(null),[l,u]=reactExports.useState([]),[m,p]=reactExports.useState(""),[j,f]=reactExports.useState(new Date().toISOString().split("T")[0]),[g,b]=reactExports.useState(""),[R,v]=reactExports.useState(localStorage.getItem("username")||""),[N,S]=reactExports.useState(!1),[$,C]=reactExports.useState(!1),[A,T]=reactExports.useState("");reactExports.useEffect(()=>{e&&(async()=>{S(!0);try{const F={Authorization:`Bearer ${localStorage.getItem("token")}`},B=await axios.get(`${API_URL$k}/purchase/orders/${e}`,{headers:F});o(B.data);const q=(B.data.items||[]).map(z=>{const V=Number(z.receivedQuantity??0),Q=Number(z.quantity??0),ee=Math.max(0,Q-V);return{purchaseOrderItemId:z.id,itemName:z.itemName??z.description??"",orderedQuantity:Q,receivedQuantity:V,pendingQuantity:ee,receiveNow:ee>0?ee:0,rate:z.rate??0,unitId:z.unitId??null}});u(q)}catch(M){console.error("Failed to load PO for GRN",M),T("Failed to load purchase order. Refresh and try again.")}finally{S(!1)}})()},[e]);const D=(_,M)=>{u(F=>{const B=[...F];let q=Number(M||0);return q<0&&(q=0),q>B[_].pendingQuantity&&(q=B[_].pendingQuantity),B[_]={...B[_],receiveNow:q},B})},I=()=>{if(!e)return"Invalid purchase order.";if(!j)return"GRN date required.";if(!l.some(M=>Number(M.receiveNow)>0))return"Enter at least one received quantity.";for(const M of l)if(Number(M.receiveNow)>Number(M.pendingQuantity))return`Received quantity for ${M.itemName} exceeds pending.`;return null},L=async _=>{_.preventDefault(),T("");const M=I();if(M){T(M);return}const F={purchaseOrderId:Number(e),grnNumber:m||null,grnDate:j,remark:g||null,createdBy:R||null,items:l.filter(B=>Number(B.receiveNow)>0).map(B=>({purchaseOrderItemId:B.purchaseOrderItemId,receivedQuantity:Number(B.receiveNow),rate:Number(B.rate)||0,unitId:B.unitId||null}))};C(!0);try{const q={Authorization:`Bearer ${localStorage.getItem("token")}`};await axios.post(`${API_URL$k}/purchase/grns`,F,{headers:q}),t(`/purchase-dashboard/purchase-orders/view/${e}`)}catch(B){console.error("Failed to save GRN",B),T(B?.response?.data?.message||"Failed to save GRN.")}finally{C(!1)}};return N?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-64",children:jsxRuntimeExports.jsx(Loader,{className:"h-8 w-8 animate-spin text-primary"})}):n?jsxRuntimeExports.jsxs("div",{className:"bg-card p-6 rounded-xl shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsxs("h1",{className:"text-2xl font-bold",children:["Add GRN for PO ",n.poNumber||`#${n.id}`]}),jsxRuntimeExports.jsxs(Link$1,{to:`/purchase-dashboard/purchase-orders/view/${e}`,className:"btn-secondary flex items-center gap-2",children:[jsxRuntimeExports.jsx(ArrowLeft,{size:16})," Back"]})]}),A&&jsxRuntimeExports.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:A}),jsxRuntimeExports.jsxs("form",{onSubmit:L,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-foreground-muted",children:"GRN Number (optional)"}),jsxRuntimeExports.jsx("input",{className:"input mt-1",value:m,onChange:_=>p(_.target.value)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-foreground-muted",children:"GRN Date"}),jsxRuntimeExports.jsx("input",{type:"date",className:"input mt-1",value:j,onChange:_=>f(_.target.value)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-foreground-muted",children:"Created By"}),jsxRuntimeExports.jsx("input",{className:"input mt-1",value:R,onChange:_=>v(_.target.value)})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-3",children:"Items to Receive"}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Item"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Ordered"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Already Received"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Pending"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Receive Now"}),jsxRuntimeExports.jsx("th",{className:"th-cell",children:"Rate"})]})}),jsxRuntimeExports.jsxs("tbody",{children:[l.map((_,M)=>jsxRuntimeExports.jsxs("tr",{className:"border-b",children:[jsxRuntimeExports.jsx("td",{className:"td-cell",children:_.itemName}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:_.orderedQuantity}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:_.receivedQuantity}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:_.pendingQuantity}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsx("input",{type:"number",min:"0",step:"0.0001",value:_.receiveNow,onChange:F=>D(M,F.target.value),className:"input text-right",style:{width:"120px"}})}),jsxRuntimeExports.jsx("td",{className:"td-cell",children:jsxRuntimeExports.jsx("input",{type:"number",step:"0.0001",value:_.rate,onChange:F=>{const B=F.target.value;u(q=>{const z=[...q];return z[M]={...z[M],rate:B},z})},className:"input text-right",style:{width:"120px"}})})]},_.purchaseOrderItemId)),l.length===0&&jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"6",className:"text-center py-6 text-foreground-muted",children:"No items to receive"})})]})]})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-foreground-muted",children:"Remark"}),jsxRuntimeExports.jsx("textarea",{value:g,onChange:_=>b(_.target.value),rows:3,className:"input mt-1"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>t(`/purchase-dashboard/purchase-orders/view/${e}`),className:"btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn-primary flex items-center gap-2",disabled:$,children:[$?jsxRuntimeExports.jsx(Loader,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(Save,{size:16})," Save GRN"]})]})]})]}):jsxRuntimeExports.jsx("div",{className:"p-6",children:A?jsxRuntimeExports.jsx("div",{className:"text-red-600",children:A}):jsxRuntimeExports.jsx("div",{children:"Purchase order not found."})})},purchaseNavLinks=[{name:"Dashboard",icon:LayoutDashboard,href:"/purchase-dashboard/dashboard",color:"text-blue-500"},{name:"Purchase Order",icon:ShoppingCart,href:"/purchase-dashboard/purchase-orders",color:"text-green-500"},{name:"Invoice",icon:Receipt,href:"/purchase-dashboard/bills",color:"text-yellow-500"},{name:"Payments",icon:CreditCard,href:"/purchase-dashboard/payments",color:"text-purple-500"},{name:"Debit Notes",icon:FileMinus,href:"/purchase-dashboard/debit-notes",color:"text-rose-500"}],SidebarContent$2=({onLinkClick:e})=>{const t=useLocation(),n=useNavigate(),o=()=>{localStorage.clear(),n("/login")},l=({item:u})=>jsxRuntimeExports.jsxs(NavLink,{to:u.href,onClick:e,end:!0,className:({isActive:m})=>`flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors group ${m?"bg-primary text-primary-foreground shadow-sm":"text-foreground-muted hover:bg-background-muted"}`,children:[jsxRuntimeExports.jsx(u.icon,{className:`h-5 w-5 mr-3 flex-shrink-0 ${t.pathname.startsWith(u.href)?"":u.color}`}),jsxRuntimeExports.jsx("span",{children:u.name})]});return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full bg-card text-card-foreground",children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b border-border flex-shrink-0",children:jsxRuntimeExports.jsxs("button",{onClick:()=>n("/company-dashboard"),className:"flex items-center gap-3 w-full text-left",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"h-6 w-6 text-primary"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-xl text-foreground",children:"Company Hub"})]})}),jsxRuntimeExports.jsx("nav",{className:"flex-1 px-4 py-4 space-y-1 overflow-y-auto",children:purchaseNavLinks.map(u=>jsxRuntimeExports.jsx(l,{item:u},u.name))}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t border-border flex-shrink-0 space-y-2",children:[jsxRuntimeExports.jsxs(NavLink,{to:"/company-settings/purchase",onClick:e,className:({isActive:u})=>`flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors group ${u?"bg-primary text-primary-foreground shadow-sm":"text-foreground-muted hover:bg-background-muted"}`,children:[jsxRuntimeExports.jsx(Settings$1,{className:"h-5 w-5 mr-3"}),jsxRuntimeExports.jsx("span",{children:"Settings"})]}),jsxRuntimeExports.jsxs("button",{onClick:o,className:"w-full flex items-center px-4 py-2.5 text-sm font-medium rounded-lg text-foreground-muted hover:bg-background-muted group",title:"Logout",children:[jsxRuntimeExports.jsx(LogOut,{className:"h-5 w-5 mr-3 text-foreground-muted group-hover:text-red-600"}),jsxRuntimeExports.jsx("span",{children:"Logout"})]})]})]})},PurchaseLayout=({children:e})=>{const[t,n]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("div",{className:"flex h-screen bg-background text-foreground",children:[jsxRuntimeExports.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0",children:jsxRuntimeExports.jsx("div",{className:"flex flex-col w-64 border-r border-border",children:jsxRuntimeExports.jsx(SidebarContent$2,{})})}),jsxRuntimeExports.jsx(AnimatePresence,{children:t&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black/50 z-20 lg:hidden",onClick:()=>n(!1)}),jsxRuntimeExports.jsx(motion.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 left-0 h-full w-64 z-30 bg-card text-card-foreground",children:jsxRuntimeExports.jsx(SidebarContent$2,{onLinkClick:()=>n(!1)})})]})}),jsxRuntimeExports.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[jsxRuntimeExports.jsxs("header",{className:"lg:hidden sticky top-0 z-10 flex-shrink-0 flex h-16 bg-card shadow-sm items-center px-4",children:[jsxRuntimeExports.jsx("button",{type:"button",className:"text-foreground-muted",onClick:()=>n(!0),children:jsxRuntimeExports.jsx(Menu,{className:"h-6 w-6"})}),jsxRuntimeExports.jsx("div",{className:"flex-1 flex justify-center items-center",children:jsxRuntimeExports.jsx("span",{className:"font-bold text-lg text-foreground",children:"Purchases Module"})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 bg-background-muted",children:e})]})]})},PurchaseModule=()=>jsxRuntimeExports.jsx(PurchaseLayout,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"purchase-orders",element:jsxRuntimeExports.jsx(PurchaseOrderPage,{})}),jsxRuntimeExports.jsx(Route,{path:"purchase-orders/new",element:jsxRuntimeExports.jsx(PurchaseOrderForm,{})}),jsxRuntimeExports.jsx(Route,{path:"purchase-orders/view/:id",element:jsxRuntimeExports.jsx(PurchaseOrderView,{})}),jsxRuntimeExports.jsx(Route,{path:"purchase-orders/edit/:id",element:jsxRuntimeExports.jsx(PurchaseOrderForm,{})}),jsxRuntimeExports.jsx(Route,{path:"purchase-orders/:id/grn/new",element:jsxRuntimeExports.jsx(PurchaseGrnForm,{})}),jsxRuntimeExports.jsx(Route,{path:"grns/:id",element:jsxRuntimeExports.jsx(PurchaseGrnView,{})}),jsxRuntimeExports.jsx(Route,{path:"bills",element:jsxRuntimeExports.jsx(PurchaseInvoicePage,{})}),jsxRuntimeExports.jsx(Route,{path:"bills/new",element:jsxRuntimeExports.jsx(PurchaseInvoiceForm,{})}),jsxRuntimeExports.jsx(Route,{path:"bills/edit/:id",element:jsxRuntimeExports.jsx(PurchaseInvoiceForm,{})}),jsxRuntimeExports.jsx(Route,{path:"bills/view/:id",element:jsxRuntimeExports.jsx(PurchaseInvoiceView,{})}),jsxRuntimeExports.jsx(Route,{path:"payments",element:jsxRuntimeExports.jsx(PurchasePaymentPage,{})}),jsxRuntimeExports.jsx(Route,{path:"payments/new",element:jsxRuntimeExports.jsx(PurchasePaymentForm,{})}),jsxRuntimeExports.jsx(Route,{path:"payments/edit/:id",element:jsxRuntimeExports.jsx(PurchasePaymentForm,{})}),jsxRuntimeExports.jsx(Route,{path:"payments/view/:id",element:jsxRuntimeExports.jsx(PurchasePaymentView,{})})]})}),salesNavLinks=[{name:"Dashboard",icon:LayoutDashboard,href:"/sales-dashboard",color:"text-sky-500"},{name:"Quotations",icon:ClipboardList,href:"/sales/quotations",color:"text-yellow-500"},{name:"Rental Quotations",icon:Package,href:"/sales/rental-quotations",color:"text-orange-500"},{name:"Rental Sales Order",icon:ClipboardList,href:"/sales/rental-sales-orders",color:"text-teal-500"},{name:"Orders",icon:ShoppingCart,href:"/sales/orders",color:"text-blue-500"},{name:"Proforma Invoice",icon:FileText,href:"/sales/proforma-invoices",color:"text-indigo-500"},{name:"Invoices",icon:FileText,href:"/sales/invoices",color:"text-purple-500"},{name:"Settings",icon:Settings$1,href:"/sales/settings",color:"text-gray-500"}],SidebarContent$1=({onLinkClick:e})=>(useLocation(),jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full bg-card text-card-foreground",children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b border-border flex-shrink-0",children:jsxRuntimeExports.jsxs(NavLink,{to:"/company-dashboard",className:"flex items-center gap-2 text-sm text-foreground-muted hover:text-foreground",children:[jsxRuntimeExports.jsx(ArrowLeft,{size:16})," Back to Company Hub"]})}),jsxRuntimeExports.jsx("nav",{className:"flex-1 px-4 py-4 space-y-2 overflow-y-auto",children:salesNavLinks.map(t=>jsxRuntimeExports.jsx(NavLink,{to:t.href,onClick:e,end:t.href==="/sales-dashboard",className:({isActive:n})=>`flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors group ${n?"bg-primary text-primary-foreground":"text-foreground-muted hover:bg-background-muted"}`,children:({isActive:n})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(t.icon,{className:`h-5 w-5 mr-3 flex-shrink-0 ${n?"text-primary-foreground":t.color}`}),jsxRuntimeExports.jsx("span",{children:t.name})]})},t.name))})]})),SalesLayout=()=>{const[e,t]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("div",{className:"flex h-screen bg-background text-foreground print:h-auto print:overflow-visible",children:[jsxRuntimeExports.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0 print:hidden",children:jsxRuntimeExports.jsx("div",{className:"flex flex-col w-64 border-r border-border",children:jsxRuntimeExports.jsx(SidebarContent$1,{})})}),jsxRuntimeExports.jsx(AnimatePresence,{children:e&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-30 lg:hidden print:hidden",onClick:()=>t(!1)}),jsxRuntimeExports.jsx(motion.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 left-0 h-full w-64 z-40 print:hidden",children:jsxRuntimeExports.jsx(SidebarContent$1,{onLinkClick:()=>t(!1)})})]})}),jsxRuntimeExports.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden print:overflow-visible print:h-auto",children:[jsxRuntimeExports.jsxs("header",{className:"lg:hidden sticky top-0 z-10 flex-shrink-0 flex h-16 bg-card shadow-sm items-center px-4 print:hidden",children:[jsxRuntimeExports.jsx("button",{type:"button",className:"text-foreground-muted",onClick:()=>t(!0),children:jsxRuntimeExports.jsx(Menu,{className:"h-6 w-6"})}),jsxRuntimeExports.jsx("div",{className:"flex-1 flex justify-center items-center",children:jsxRuntimeExports.jsx("span",{className:"font-bold text-lg text-foreground",children:"Sales Module"})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 print:p-0 print:overflow-visible",children:jsxRuntimeExports.jsx(Outlet,{})})]})]})},revenueData=[{name:"Jan",revenue:4e3,expenses:2400},{name:"Feb",revenue:3e3,expenses:1398},{name:"Mar",revenue:2e3,expenses:9800},{name:"Apr",revenue:2780,expenses:3908},{name:"May",revenue:1890,expenses:4800},{name:"Jun",revenue:2390,expenses:3800},{name:"Jul",revenue:3490,expenses:4300}],topProductsData=[{name:"Rental Service",sales:4e3},{name:"Spare Parts",sales:3e3},{name:"Maintenance",sales:2e3},{name:"Consulting",sales:2780},{name:"Logistics",sales:1890}],categoryData=[{name:"Services",value:400},{name:"Products",value:300},{name:"Rentals",value:300},{name:"Others",value:200}],COLORS=["#0088FE","#00C49F","#FFBB28","#FF8042"],recentInvoices=[{id:"INV-001",customer:"Acme Corp",amount:1200,status:"Paid",date:"2023-10-25"},{id:"INV-002",customer:"Global Tech",amount:850,status:"Pending",date:"2023-10-26"},{id:"INV-003",customer:"Stark Ind",amount:2300,status:"Paid",date:"2023-10-27"},{id:"INV-004",customer:"Wayne Ent",amount:500,status:"Overdue",date:"2023-10-24"},{id:"INV-005",customer:"Cyberdyne",amount:1500,status:"Paid",date:"2023-10-28"}],StatCard=({title:e,value:t,icon:n,color:o,trend:l,trendValue:u,trendColor:m})=>jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 transition-all hover:shadow-md",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:t})]}),jsxRuntimeExports.jsx("div",{className:`p-3 rounded-lg ${o} bg-opacity-10`,children:jsxRuntimeExports.jsx(n,{className:`h-6 w-6 ${o.replace("bg-","text-")}`})})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[jsxRuntimeExports.jsxs("span",{className:`flex items-center font-medium ${m==="green"?"text-emerald-500":"text-rose-500"}`,children:[l==="up"?jsxRuntimeExports.jsx(ArrowUpRight,{className:"h-4 w-4 mr-1"}):jsxRuntimeExports.jsx(ArrowDownRight,{className:"h-4 w-4 mr-1"}),u]}),jsxRuntimeExports.jsx("span",{className:"text-gray-400 ml-2",children:"vs last month"})]})]}),SalesDashboard=()=>jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-6 bg-slate-50 min-h-screen",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Sales Dashboard"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"Welcome back, here's what's happening today."})]}),jsxRuntimeExports.jsx("button",{className:"bg-primary text-primary-foreground px-4 py-2 rounded-lg text-sm font-medium hover:bg-opacity-90 transition-colors shadow-sm",children:"Download Report"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsx(StatCard,{title:"Total Revenue",value:"$54,230",icon:DollarSign,color:"text-emerald-600",trend:"up",trendValue:"12.5%",trendColor:"green"}),jsxRuntimeExports.jsx(StatCard,{title:"New Orders",value:"1,250",icon:ShoppingCart,color:"text-blue-600",trend:"up",trendValue:"8.2%",trendColor:"green"}),jsxRuntimeExports.jsx(StatCard,{title:"New Customers",value:"340",icon:Users,color:"text-violet-600",trend:"down",trendValue:"2.4%",trendColor:"red"}),jsxRuntimeExports.jsx(StatCard,{title:"Conversion Rate",value:"3.8%",icon:Activity,color:"text-orange-600",trend:"up",trendValue:"4.1%",trendColor:"green"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"Revenue Overview"}),jsxRuntimeExports.jsx("div",{className:"h-80",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(AreaChart,{data:revenueData,margin:{top:10,right:30,left:0,bottom:0},children:[jsxRuntimeExports.jsxs("defs",{children:[jsxRuntimeExports.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[jsxRuntimeExports.jsx("stop",{offset:"5%",stopColor:"#0ea5e9",stopOpacity:.1}),jsxRuntimeExports.jsx("stop",{offset:"95%",stopColor:"#0ea5e9",stopOpacity:0})]}),jsxRuntimeExports.jsxs("linearGradient",{id:"colorExpenses",x1:"0",y1:"0",x2:"0",y2:"1",children:[jsxRuntimeExports.jsx("stop",{offset:"5%",stopColor:"#f43f5e",stopOpacity:.1}),jsxRuntimeExports.jsx("stop",{offset:"95%",stopColor:"#f43f5e",stopOpacity:0})]})]}),jsxRuntimeExports.jsx(XAxis,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:12},dy:10}),jsxRuntimeExports.jsx(YAxis,{axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:12}}),jsxRuntimeExports.jsx(CartesianGrid,{vertical:!1,stroke:"#f3f4f6"}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},cursor:{stroke:"#e5e7eb",strokeWidth:1}}),jsxRuntimeExports.jsx(Area,{type:"monotone",dataKey:"revenue",stroke:"#0ea5e9",strokeWidth:2,fillOpacity:1,fill:"url(#colorRevenue)"}),jsxRuntimeExports.jsx(Area,{type:"monotone",dataKey:"expenses",stroke:"#f43f5e",strokeWidth:2,fillOpacity:1,fill:"url(#colorExpenses)"})]})})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"Sales by Category"}),jsxRuntimeExports.jsx("div",{className:"h-80",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(PieChart,{children:[jsxRuntimeExports.jsx(Pie,{data:categoryData,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,fill:"#8884d8",paddingAngle:5,dataKey:"value",children:categoryData.map((e,t)=>jsxRuntimeExports.jsx(Cell,{fill:COLORS[t%COLORS.length]},`cell-${t}`))}),jsxRuntimeExports.jsx(Tooltip,{}),jsxRuntimeExports.jsx(Legend,{verticalAlign:"bottom",height:36,iconType:"circle"})]})})})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"Top Selling Products"}),jsxRuntimeExports.jsx("div",{className:"h-64",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(BarChart,{data:topProductsData,margin:{top:5,right:30,left:20,bottom:5},children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",vertical:!1,stroke:"#f3f4f6"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:12},dy:10}),jsxRuntimeExports.jsx(YAxis,{axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:12}}),jsxRuntimeExports.jsx(Tooltip,{cursor:{fill:"#f9fafb"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),jsxRuntimeExports.jsx(Bar,{dataKey:"sales",fill:"#8b5cf6",radius:[4,4,0,0],barSize:40})]})})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Recent Invoices"}),jsxRuntimeExports.jsx("button",{className:"text-sm text-primary hover:underline",children:"View All"})]}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:recentInvoices.map(e=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg transition-colors border border-transparent hover:border-gray-100",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-blue-50 rounded-full",children:jsxRuntimeExports.jsx(CreditCard,{className:"h-4 w-4 text-blue-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-800 bg-transparent",children:e.customer}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:e.date})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm font-bold text-gray-800",children:["$",e.amount]}),jsxRuntimeExports.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full ${e.status==="Paid"?"bg-emerald-100 text-emerald-700":e.status==="Pending"?"bg-amber-100 text-amber-700":"bg-rose-100 text-rose-700"}`,children:e.status})]})]},e.id))})]})]})]}),API_URL$j="https://javapaas-202946-0.cloudclusters.net/api",getStatusColor$6=e=>{switch(e){case"DRAFT":return"text-gray-600 bg-gray-100";case"OPEN":return"text-purple-600 bg-purple-100";case"PARTIALLY_INVOICED":return"text-orange-600 bg-orange-100";case"INVOICED":return"text-teal-600 bg-teal-100";case"CANCELLED":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},Orders=()=>{const e=useNavigate(),[t,n]=reactExports.useState([]),[o,l]=reactExports.useState(!0),[u,m]=reactExports.useState(null),[p,j]=reactExports.useState(""),[f,g]=reactExports.useState("2025-01-01"),[b,R]=reactExports.useState("2025-11-09"),[v,N]=reactExports.useState("Saleem Hyder"),[S,$]=reactExports.useState(0),[C,A]=reactExports.useState(10),[T,D]=reactExports.useState(0),I=reactExports.useMemo(()=>({headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),[]),L=reactExports.useCallback(async()=>{l(!0);try{const F={page:S,size:C,customerName:p,startDate:f,endDate:b,salesPerson:v},B=await axios.get(`${API_URL$j}/sales/orders`,{params:F,...I});n(B.data.content||[]),D(B.data.totalPages),m(null)}catch(F){m("Failed to fetch sales orders. Please try again."),console.error(F)}finally{l(!1)}},[S,C,I,p,f,b,v]);reactExports.useEffect(()=>{L()},[L]);const _=async F=>{if(window.confirm("Are you sure you want to delete this sales order?"))try{await axios.delete(`${API_URL$j}/sales/orders/${F}`,I),L()}catch(B){alert(`Error: ${B.response?.data?.message||"Failed to delete sales order."}`)}},M=F=>{e(`/sales/orders/${F}`)};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full bg-slate-50",children:[jsxRuntimeExports.jsxs("div",{className:"bg-primary p-4 flex justify-between items-center text-primary-foreground",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-semibold",children:"Manage Sales Orders"}),jsxRuntimeExports.jsx("div",{className:"text-sm opacity-80",children:"Home > Sales > Manage Sales Orders"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>e("/sales/orders/new"),className:"bg-white text-gray-800 border border-gray-300 px-4 py-2 rounded text-sm hover:bg-gray-50 flex items-center gap-1 font-bold shadow-sm",children:[jsxRuntimeExports.jsx(Plus,{size:16})," New Sales Order"]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow-sm border border-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4 items-end",children:[jsxRuntimeExports.jsxs("div",{className:"md:col-span-1",children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Customer Name"}),jsxRuntimeExports.jsx("input",{type:"text",className:"w-full text-sm border border-gray-300 rounded px-2 py-1.5 focus:outline-none focus:border-blue-500",placeholder:"Search Customer",value:p,onChange:F=>j(F.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-1",children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"From"}),jsxRuntimeExports.jsx("input",{type:"date",className:"w-full text-sm border border-gray-300 rounded px-2 py-1.5 focus:outline-none focus:border-blue-500",value:f,onChange:F=>g(F.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-1",children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"To"}),jsxRuntimeExports.jsx("input",{type:"date",className:"w-full text-sm border border-gray-300 rounded px-2 py-1.5 focus:outline-none focus:border-blue-500",value:b,onChange:F=>R(F.target.value)})]}),jsxRuntimeExports.jsx("div",{className:"md:col-span-1",children:jsxRuntimeExports.jsx("button",{onClick:L,className:"bg-primary text-white text-sm font-medium px-6 py-1.5 rounded hover:bg-violet-800 focus:outline-none w-full md:w-auto",children:"Search"})})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:jsxRuntimeExports.jsxs("div",{className:"md:col-span-1",children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Team Members"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("select",{className:"w-full text-sm border border-gray-300 rounded px-2 py-1.5 focus:outline-none focus:border-blue-500 appearance-none bg-white",value:v,onChange:F=>N(F.target.value),children:[jsxRuntimeExports.jsx("option",{value:"Saleem Hyder",children:"Saleem Hyder"}),jsxRuntimeExports.jsx("option",{value:"Other Member",children:"Other Member"})]}),jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:jsxRuntimeExports.jsx(X,{className:"h-3 w-3 text-gray-400 mr-1"})})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded shadow-sm border border-gray-200 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"p-2 border-b flex items-center gap-2",children:[jsxRuntimeExports.jsxs("select",{className:"border border-gray-300 rounded px-2 py-1 text-xs",value:C,onChange:F=>A(Number(F.target.value)),children:[jsxRuntimeExports.jsx("option",{value:10,children:"10"}),jsxRuntimeExports.jsx("option",{value:25,children:"25"}),jsxRuntimeExports.jsx("option",{value:50,children:"50"})]}),jsxRuntimeExports.jsx("div",{className:"flex-grow"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",className:"border border-gray-300 rounded px-2 py-1 text-xs"})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-xs text-left",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-100 text-gray-700 font-bold border-b",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r w-16",children:"S.No."}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Sales Order"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Shipment Date"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Reference#"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Customer Name"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Customer PO No."}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r text-right",children:"Sales Order Amt"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r text-right",children:"Invoiced Amt"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r text-right",children:"Balanced"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r text-center w-24",children:"Action"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-center",children:"Delivery Challan"})]})}),jsxRuntimeExports.jsx("tbody",{children:o?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"13",className:"text-center py-10",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"h-6 w-6 animate-spin mx-auto text-blue-500"})})}):u?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"13",className:"text-center py-10 text-red-500",children:u})}):t.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"13",className:"text-center py-10 font-medium text-gray-500",children:"No record available"})}):t.map((F,B)=>{const q=F.invoicedAmount||0,z=F.netTotal-q,V=F.shipmentDate?new Date(F.shipmentDate).toLocaleDateString():new Date(F.salesOrderDate).toLocaleDateString();return jsxRuntimeExports.jsxs("tr",{className:"border-b hover:bg-gray-50 text-gray-700",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r",children:S*C+B+1}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r",children:new Date(F.salesOrderDate).toLocaleDateString()}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r",children:jsxRuntimeExports.jsx("span",{onClick:()=>M(F.id),className:"text-sky-600 cursor-pointer hover:underline font-medium",children:F.salesOrderNumber})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r",children:V}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r",children:F.reference||"-"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r",children:F.customerName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r",children:F.customerPoNo||""}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r font-medium",children:jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] ${getStatusColor$6(F.status)}`,children:F.status==="PARTIALLY_INVOICED"?"Partially Invoiced":F.status==="OPEN"?"OPEN":F.status})}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-2 border-r text-right",children:["AED ",F.netTotal?.toLocaleString("en-AE",{minimumFractionDigits:2})]}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-2 border-r text-right",children:["AED ",q.toLocaleString("en-AE",{minimumFractionDigits:2})]}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-2 border-r text-right",children:["AED ",z.toLocaleString("en-AE",{minimumFractionDigits:2})]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r text-center",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>e(`/sales/orders/edit/${F.id}`),className:"p-1.5 bg-gray-700 text-white rounded hover:bg-gray-600 shadow-sm",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:12})}),jsxRuntimeExports.jsx("button",{onClick:()=>_(F.id),className:"p-1.5 bg-red-500 text-white rounded hover:bg-red-600 shadow-sm",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:12})})]})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 text-center min-w-[190px]",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1 items-center",children:[jsxRuntimeExports.jsx("button",{className:"w-full bg-blue-600 hover:bg-blue-700 text-white text-[10px] py-1 px-2 rounded shadow-sm font-medium transition-colors",children:"Add DO"}),jsxRuntimeExports.jsx("button",{className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white text-[10px] py-1 px-2 rounded shadow-sm font-medium transition-colors",children:"Add Invoice From DO"}),jsxRuntimeExports.jsx("button",{className:"w-full bg-white border border-gray-300 hover:bg-gray-50 text-gray-700 text-[10px] py-1 px-2 rounded shadow-sm font-medium transition-colors",children:"View History of DO"})]})})]},F.id)})})]})}),jsxRuntimeExports.jsxs("div",{className:"p-2 border-t flex justify-between items-center text-xs text-gray-500",children:[jsxRuntimeExports.jsxs("span",{children:["Showing ",t.length>0?1:0," to ",t.length," of ",t.length," entries"]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[jsxRuntimeExports.jsx("button",{className:"px-2 py-1 border rounded hover:bg-gray-100",disabled:!0,children:"Previous"}),jsxRuntimeExports.jsx("button",{className:"px-2 py-1 bg-purple-900 text-white rounded",children:"1"}),jsxRuntimeExports.jsx("button",{className:"px-2 py-1 border rounded hover:bg-gray-100",children:"Next"})]})]})]})]})]})},API_URL$i="https://javapaas-202946-0.cloudclusters.net/api",OrderForm=()=>{const e=useNavigate(),{id:t}=useParams(),[n]=useSearchParams(),o=n.get("quotationId"),l=!!t,[u,m]=reactExports.useState({salesOrderDate:new Date().toISOString().split("T")[0],customerId:"",reference:"",customerPoNo:"",customerPoDate:"",salespersonId:"",saleType:"With Discount At Order Level",items:[],termsAndConditions:"",notes:"",emailTo:!1,status:"DRAFT",totalDiscount:0,otherCharges:0,template:"Standard",totalDiscountPercentage:0,otherChargesPercentage:0}),[p,j]=reactExports.useState({customers:[],products:[],categories:[],employees:[]}),[f,g]=reactExports.useState(!0),[b,R]=reactExports.useState([]),[v,N]=reactExports.useState(null),S=reactExports.useCallback(async()=>{g(!0);try{const B=`Bearer ${localStorage.getItem("token")}`,[q,z,V,Q]=await Promise.all([axios.get(`${API_URL$i}/parties`,{headers:{Authorization:B}}),axios.get(`${API_URL$i}/crm/sales-products`,{headers:{Authorization:B},params:{size:1e3}}),axios.get(`${API_URL$i}/production/categories`,{headers:{Authorization:B}}),axios.get(`${API_URL$i}/employees/all`,{headers:{Authorization:B}})]);if(j({customers:q.data.content||[],products:z.data.content||[],categories:V.data||[],employees:Q.data||[]}),l){const G=(await axios.get(`${API_URL$i}/sales/orders/${t}`,{headers:{Authorization:B}})).data,K=G.subTotal||0,J=K>0?(G.totalDiscount||0)/K*100:0,ne=K>0?(G.otherCharges||0)/K*100:0;m({...G,salesOrderDate:G.salesOrderDate?new Date(G.salesOrderDate).toISOString().split("T")[0]:"",customerPoDate:G.customerPoDate?new Date(G.customerPoDate).toISOString().split("T")[0]:"",items:G.items.map(H=>({...H,taxPercentage:H.taxPercentage||0})),totalDiscountPercentage:J.toFixed(2),otherChargesPercentage:ne.toFixed(2)})}else if(o){const G=(await axios.get(`${API_URL$i}/sales/quotations/${o}`,{headers:{Authorization:B}})).data,K=G.subTotal||0,J=K>0?(G.totalDiscount||0)/K*100:0,ne=K>0?(G.otherCharges||0)/K*100:0;m(H=>({...H,customerId:G.customerId,reference:G.quotationNumber,salespersonId:G.salespersonId||"",items:G.items.map(te=>({...te,taxPercentage:te.taxPercentage||0,id:void 0})),termsAndConditions:G.termsAndConditions||"",notes:G.notes||"",totalDiscountPercentage:J.toFixed(2),otherChargesPercentage:ne.toFixed(2)}))}}catch(B){N("Failed to load data. Please try again."),console.error(B)}finally{g(!1)}},[t,l,o]);reactExports.useEffect(()=>{S()},[S]);const $=B=>{const{name:q,value:z,type:V,checked:Q}=B.target;m(ee=>({...ee,[q]:V==="checkbox"?Q:z}))},C=(B,q)=>{const{name:z,value:V,type:Q,checked:ee}=q.target,G=[...u.items];if(Q==="checkbox"?G[B][z]=ee:G[B][z]=V,z==="crmProductId"){const K=p.products.find(J=>J.id.toString()===V);K&&(G[B].itemName=K.name,G[B].itemCode=K.itemCode,G[B].rate=K.salesPrice)}if(z==="categoryId"){G[B].subcategoryId="";const K=V;if(K){const J=`Bearer ${localStorage.getItem("token")}`;axios.get(`${API_URL$i}/production/sub-categories?categoryId=${K}`,{headers:{Authorization:J}}).then(ne=>{G[B].availableSubcategories=ne.data||[]}).catch(ne=>console.error("Failed to fetch subcategories",ne))}else G[B].availableSubcategories=[]}m(K=>({...K,items:G}))},A=()=>{m(B=>({...B,items:[...B.items,{crmProductId:"",quantity:1,rate:0,taxPercentage:0,taxValue:0,isTaxExempt:!1,categoryId:"",subcategoryId:"",availableSubcategories:[]}]}))},T=B=>{m(q=>({...q,items:q.items.filter((z,V)=>V!==B)}))},D=B=>{B.target.files&&R(q=>[...q,...Array.from(B.target.files)])},I=B=>{R(q=>q.filter((z,V)=>V!==B))},L=B=>`${API_URL$i}/sales/attachments/${B}`,M=(()=>{let B=0,q=0;u.items.forEach(J=>{const ne=(J.quantity||0)*(J.rate||0);if(B+=ne,!J.isTaxExempt){const H=parseFloat(J.taxPercentage||0),te=ne*(H/100);q+=te}});const z=parseFloat(u.totalDiscountPercentage)||0,V=parseFloat(u.otherChargesPercentage)||0,Q=B*(z/100),ee=B*(V/100),G=B-Q,K=G+q+ee;return{subTotal:B,totalTax:q,discount:Q,charges:ee,grossTotal:G,netTotal:K}})(),F=async B=>{B.preventDefault(),g(!0),N(null);try{const q=`Bearer ${localStorage.getItem("token")}`,z={...u,items:u.items.map(ee=>{const G=(ee.quantity||0)*(ee.rate||0),K=ee.isTaxExempt?0:G*(parseFloat(ee.taxPercentage||0)/100);return{...ee,crmProductId:parseInt(ee.crmProductId,10)||null,categoryId:ee.categoryId?parseInt(ee.categoryId,10):null,subcategoryId:ee.subcategoryId?parseInt(ee.subcategoryId,10):null,taxValue:K.toFixed(2),taxPercentage:parseFloat(ee.taxPercentage||0)}}),totalDiscount:M.discount.toFixed(2),otherCharges:M.charges.toFixed(2),totalDiscountPercentage:void 0,otherChargesPercentage:void 0,availableSubcategories:void 0},V=new FormData;V.append("salesOrder",new Blob([JSON.stringify(z)],{type:"application/json"})),b.forEach(ee=>{V.append("attachments",ee)});const Q={headers:{"Content-Type":"multipart/form-data",Authorization:q}};l?await axios.put(`${API_URL$i}/sales/orders/${t}`,V,Q):await axios.post(`${API_URL$i}/sales/orders`,V,Q),e("/sales/orders")}catch(q){N(q.response?.data?.message||`Failed to ${l?"update":"create"} sales order.`),console.error(q)}finally{g(!1)}};return f&&!u.customerId?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-screen",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"h-8 w-8 animate-spin text-blue-500"})}):jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-screen bg-slate-50",children:[jsxRuntimeExports.jsxs("header",{className:"bg-white shadow-sm p-4 border-b flex items-center justify-between sticky top-0 z-10",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>e("/sales/orders"),className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"h-5 w-5 text-slate-600"})}),jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold text-slate-800",children:l?"Edit Sales Order":"New Sales Order"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>e("/sales/orders"),className:"btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",form:"order-form",disabled:f,className:"btn-primary flex items-center gap-2",children:[f?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(Save,{className:"h-4 w-4"}),l?"Save Changes":"Create Order"]})]})]}),jsxRuntimeExports.jsx("main",{className:"flex-grow overflow-y-auto p-6",children:jsxRuntimeExports.jsxs("form",{id:"order-form",onSubmit:F,className:"space-y-6",children:[v&&jsxRuntimeExports.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md",children:v}),jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded-lg bg-white grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Customer Name *"}),jsxRuntimeExports.jsxs("select",{name:"customerId",value:u.customerId,onChange:$,required:!0,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Customer"}),p.customers.map(B=>jsxRuntimeExports.jsx("option",{value:B.id,children:B.companyName},B.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Sales Order Date *"}),jsxRuntimeExports.jsx("input",{type:"date",name:"salesOrderDate",value:u.salesOrderDate,onChange:$,required:!0,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Reference"}),jsxRuntimeExports.jsx("input",{type:"text",name:"reference",value:u.reference,onChange:$,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Customer PO No."}),jsxRuntimeExports.jsx("input",{type:"text",name:"customerPoNo",value:u.customerPoNo,onChange:$,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Customer PO Date"}),jsxRuntimeExports.jsx("input",{type:"date",name:"customerPoDate",value:u.customerPoDate,onChange:$,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Salesperson"}),jsxRuntimeExports.jsxs("select",{name:"salespersonId",value:u.salespersonId,onChange:$,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Salesperson"}),p.employees.map(B=>jsxRuntimeExports.jsxs("option",{value:B.id,children:[B.firstName," ",B.lastName]},B.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Sale Type"}),jsxRuntimeExports.jsxs("select",{name:"saleType",value:u.saleType,onChange:$,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"With Discount At Order Level",children:"With Discount At Order Level"}),jsxRuntimeExports.jsx("option",{value:"Without Discount",children:"Without Discount"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Template"}),jsxRuntimeExports.jsx("select",{name:"template",value:u.template,onChange:$,className:"input",children:jsxRuntimeExports.jsx("option",{value:"Standard",children:"Standard"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded-lg bg-white",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-4",children:"Item & Description"}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-sm",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"border-b",children:[jsxRuntimeExports.jsx("th",{className:"py-2 px-2 text-left font-medium",children:"Product"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-2 text-left font-medium",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-2 text-left font-medium",children:"Subcategory"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-2 text-left font-medium w-24",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-2 text-left font-medium w-32",children:"Rate"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-2 text-left font-medium w-32",children:"Tax (%)"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-2 text-left font-medium w-32",children:"Amount"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-2 text-left font-medium w-12"})]})}),jsxRuntimeExports.jsx("tbody",{children:u.items.map((B,q)=>jsxRuntimeExports.jsxs("tr",{className:"border-b",children:[jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsxs("select",{name:"crmProductId",value:B.crmProductId,onChange:z=>C(q,z),className:"input text-sm",required:!0,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Product"}),p.products.map(z=>jsxRuntimeExports.jsx("option",{value:z.id,children:z.name},z.id))]})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsxs("select",{name:"categoryId",value:B.categoryId,onChange:z=>C(q,z),className:"input text-sm",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Category"}),p.categories.map(z=>jsxRuntimeExports.jsx("option",{value:z.id,children:z.name},z.id))]})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsxs("select",{name:"subcategoryId",value:B.subcategoryId,onChange:z=>C(q,z),className:"input text-sm",disabled:!B.categoryId,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Subcategory"}),(B.availableSubcategories||[]).map(z=>jsxRuntimeExports.jsx("option",{value:z.id,children:z.name},z.id))]})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"number",name:"quantity",value:B.quantity,onChange:z=>C(q,z),className:"input text-sm",min:"1"})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"number",name:"rate",value:B.rate,onChange:z=>C(q,z),className:"input text-sm"})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("input",{type:"number",name:"taxPercentage",value:B.taxPercentage||0,onChange:z=>C(q,z),className:"input text-sm",disabled:B.isTaxExempt}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-1 text-xs text-gray-500",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"isTaxExempt",checked:B.isTaxExempt,onChange:z=>C(q,z)})," Exempt"]})]})}),jsxRuntimeExports.jsxs("td",{className:"p-2 text-right font-medium",children:["AED ",((B.quantity||0)*(B.rate||0)).toFixed(2)]}),jsxRuntimeExports.jsx("td",{className:"p-2 text-center",children:jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>T(q),className:"p-1 text-red-500 hover:bg-red-100 rounded-full",children:jsxRuntimeExports.jsx(Trash2,{size:16})})})]},q))})]})}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:A,className:"mt-4 btn-secondary flex items-center gap-2",children:[jsxRuntimeExports.jsx(Plus,{size:16})," Add Item"]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded-lg bg-white",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-4",children:"Attach File"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("input",{type:"file",multiple:!0,onChange:D,className:"hidden",id:"attachment-upload"}),jsxRuntimeExports.jsxs("label",{htmlFor:"attachment-upload",className:"btn-secondary cursor-pointer flex items-center gap-2",children:[jsxRuntimeExports.jsx(Paperclip,{size:16})," Browse..."]}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500",children:b.length>0?`${b.length} file(s) selected`:"No file selected."})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"You can upload a maximum of 5 files, 5MB each"}),(b.length>0||l&&u.attachments?.length>0)&&jsxRuntimeExports.jsxs("div",{className:"mt-4 space-y-3",children:[l&&u.attachments?.map((B,q)=>jsxRuntimeExports.jsx("div",{className:"text-sm flex items-center justify-between p-2 bg-slate-100 rounded",children:jsxRuntimeExports.jsx("a",{href:L(B),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline truncate",children:B.split("/").pop()})},q)),b.map((B,q)=>jsxRuntimeExports.jsxs("div",{className:"text-sm flex items-center justify-between p-2 bg-blue-50 rounded",children:[jsxRuntimeExports.jsx("span",{className:"truncate",children:B.name}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>I(q),className:"p-1 text-red-500 hover:bg-red-100 rounded-full",children:jsxRuntimeExports.jsx(Trash2,{size:14})})]},q))]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Terms & Conditions"}),jsxRuntimeExports.jsx("textarea",{name:"termsAndConditions",value:u.termsAndConditions,onChange:$,rows:"4",className:"input",placeholder:"Mention your company's Terms and Conditions."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Notes"}),jsxRuntimeExports.jsx("textarea",{name:"notes",value:u.notes,onChange:$,rows:"3",className:"input",placeholder:"Will be displayed on Sales Order"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"emailTo",checked:u.emailTo,onChange:$,id:"emailTo"}),jsxRuntimeExports.jsx("label",{htmlFor:"emailTo",className:"label mb-0",children:"Email To"})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded-lg bg-white space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:"Sub Total"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:["AED ",M.subTotal.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-600",children:"Total Discount"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"number",name:"totalDiscountPercentage",value:u.totalDiscountPercentage,onChange:$,className:"input text-sm w-20 text-right",placeholder:"%"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"%"}),jsxRuntimeExports.jsx("span",{className:"font-medium w-24 text-right",children:M.discount.toFixed(2)})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:"Gross Total"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:["AED ",M.grossTotal.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:"Total Tax"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:["AED ",M.totalTax.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-600",children:"Other Charges"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"number",name:"otherChargesPercentage",value:u.otherChargesPercentage,onChange:$,className:"input text-sm w-20 text-right",placeholder:"%"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"%"}),jsxRuntimeExports.jsx("span",{className:"font-medium w-24 text-right",children:M.charges.toFixed(2)})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center text-lg font-bold border-t pt-2 mt-2",children:[jsxRuntimeExports.jsx("span",{className:"",children:"Net Total"}),jsxRuntimeExports.jsxs("span",{className:"",children:["AED ",M.netTotal.toLocaleString("en-AE",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]})]})})]})},API_URL$h="https://javapaas-202946-0.cloudclusters.net/api",QuotationForm=()=>{const e=useNavigate(),{id:t}=useParams(),n=!!t,[o,l]=reactExports.useState({quotationDate:new Date().toISOString().split("T")[0],customerId:"",reference:"",expiryDate:"",quotationType:"WITHOUT_DISCOUNT",items:[],termsAndConditions:"",notes:"",emailTo:"",status:"DRAFT",totalDiscountPercentage:0,otherChargesPercentage:0,salespersonId:""}),[u,m]=reactExports.useState({customers:[],products:[],employees:[]}),[p,j]=reactExports.useState(!0),[f,g]=reactExports.useState([]),[b,R]=reactExports.useState(null),v=reactExports.useCallback(async()=>{j(!0);try{const M=`Bearer ${localStorage.getItem("token")}`,[F,B,q,z]=await Promise.all([axios.get(`${API_URL$h}/parties`,{headers:{Authorization:M}}),axios.get(`${API_URL$h}/crm/sales-products`,{headers:{Authorization:M},params:{size:1e3}}),axios.get(`${API_URL$h}/production/categories`,{headers:{Authorization:M}}),axios.get(`${API_URL$h}/employees/all`,{headers:{Authorization:M}})]);if(m({customers:F.data.content||[],products:B.data.content||[],categories:q.data||[],employees:z.data||[]}),n){const Q=(await axios.get(`${API_URL$h}/sales/quotations/${t}`,{headers:{Authorization:M}})).data,ee=Q.subTotal||0,G=ee>0?(Q.totalDiscount||0)/ee*100:0,K=ee>0?(Q.otherCharges||0)/ee*100:0;l({...Q,quotationDate:Q.quotationDate?new Date(Q.quotationDate).toISOString().split("T")[0]:"",expiryDate:Q.expiryDate?new Date(Q.expiryDate).toISOString().split("T")[0]:"",items:Q.items.map(J=>({...J,taxRate:0})),totalDiscountPercentage:G.toFixed(2),otherChargesPercentage:K.toFixed(2),salespersonId:Q.salespersonId||""})}}catch(M){R("Failed to load data. Please try again."),console.error(M)}finally{j(!1)}},[t,n]);reactExports.useEffect(()=>{v()},[v]);const N=M=>{const{name:F,value:B}=M.target;l(q=>({...q,[F]:B}))},S=(M,F)=>{const{name:B,value:q}=F.target,z=[...o.items];if(z[M][B]=q,B==="crmProductId"){const V=u.products.find(Q=>Q.id.toString()===q);V&&(z[M].itemName=V.name,z[M].itemCode=V.itemCode,z[M].rate=V.salesPrice)}if(B==="categoryId"){z[M].subcategoryId="";const V=q;if(V){const Q=`Bearer ${localStorage.getItem("token")}`;axios.get(`${API_URL$h}/production/sub-categories?categoryId=${V}`,{headers:{Authorization:Q}}).then(ee=>{z[M].availableSubcategories=ee.data||[]}).catch(ee=>console.error("Failed to fetch subcategories",ee))}}l(V=>({...V,items:z}))},$=()=>{l(M=>({...M,items:[...M.items,{crmProductId:"",quantity:1,rate:0,taxRate:0,taxValue:0,isTaxExempt:!1,categoryId:"",subcategoryId:"",availableSubcategories:[]}]}))},C=M=>{l(F=>({...F,items:F.items.filter((B,q)=>q!==M)}))},A=M=>{M.target.files&&g(F=>[...F,...Array.from(M.target.files)])},T=M=>{g(F=>F.filter((B,q)=>q!==M))},D=M=>`${API_URL$h}/sales/attachments/${M}`,L=(()=>{let M=0,F=0;o.items.forEach(ee=>{const G=(ee.quantity||0)*(ee.rate||0);if(M+=G,!ee.isTaxExempt){const K=parseFloat(ee.taxRate||0),J=G*(K/100);F+=J}});const B=parseFloat(o.totalDiscountPercentage)||0,q=parseFloat(o.otherChargesPercentage)||0,z=M*(B/100),V=M*(q/100),Q=M-z+F+V;return{subTotal:M,totalTax:F,netTotal:Q}})(),_=async M=>{M.preventDefault(),j(!0),R(null);try{const F=`Bearer ${localStorage.getItem("token")}`,B=o.items.reduce((G,K)=>G+(K.quantity||0)*(K.rate||0),0),q=B*(parseFloat(o.totalDiscountPercentage)/100),z=B*(parseFloat(o.otherChargesPercentage)/100),V={...o,items:o.items.map(G=>{const J=(G.quantity||0)*(G.rate||0)*(parseFloat(G.taxRate||0)/100);return{...G,crmProductId:parseInt(G.crmProductId,10)||null,categoryId:G.categoryId?parseInt(G.categoryId,10):null,subcategoryId:G.subcategoryId?parseInt(G.subcategoryId,10):null,taxValue:J.toFixed(2)}}),totalDiscount:q.toFixed(2),otherCharges:z.toFixed(2),salespersonId:o.salespersonId?parseInt(o.salespersonId,10):null},Q=new FormData;Q.append("quotation",new Blob([JSON.stringify(V)],{type:"application/json"})),f.forEach(G=>{Q.append("attachments",G)});const ee={headers:{"Content-Type":"multipart/form-data",Authorization:F}};n?await axios.put(`${API_URL$h}/sales/quotations/${t}`,Q,ee):await axios.post(`${API_URL$h}/sales/quotations`,Q,ee),e("/sales/quotations")}catch(F){R(F.response?.data?.message||`Failed to ${n?"update":"create"} quotation.`),console.error(F)}finally{j(!1)}};return p&&!o.customerId?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-screen",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"h-8 w-8 animate-spin text-blue-500"})}):jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-screen bg-slate-50",children:[jsxRuntimeExports.jsxs("header",{className:"bg-white shadow-sm p-4 border-b flex items-center justify-between sticky top-0 z-10",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>e("/sales/quotations"),className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"h-5 w-5 text-slate-600"})}),jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold text-slate-800",children:n?"Edit Quotation":"New Quotation"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>e("/sales/quotations"),className:"btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",form:"quotation-form",disabled:p,className:"btn-primary flex items-center gap-2",children:[p?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(Save,{className:"h-4 w-4"}),n?"Save Changes":"Create Quotation"]})]})]}),jsxRuntimeExports.jsx("main",{className:"flex-grow overflow-y-auto p-6",children:jsxRuntimeExports.jsxs("form",{id:"quotation-form",onSubmit:_,className:"space-y-6",children:[b&&jsxRuntimeExports.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md",children:b}),jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded-lg bg-white grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Customer *"}),jsxRuntimeExports.jsxs("select",{name:"customerId",value:o.customerId,onChange:N,required:!0,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Customer"}),u.customers.map(M=>jsxRuntimeExports.jsx("option",{value:M.id,children:M.companyName},M.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Quotation Date *"}),jsxRuntimeExports.jsx("input",{type:"date",name:"quotationDate",value:o.quotationDate,onChange:N,required:!0,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Expiry Date"}),jsxRuntimeExports.jsx("input",{type:"date",name:"expiryDate",value:o.expiryDate,onChange:N,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Reference"}),jsxRuntimeExports.jsx("input",{type:"text",name:"reference",value:o.reference,onChange:N,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Salesperson"}),jsxRuntimeExports.jsxs("select",{name:"salespersonId",value:o.salespersonId,onChange:N,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Salesperson"}),u.employees.map(M=>jsxRuntimeExports.jsxs("option",{value:M.id,children:[M.firstName," ",M.lastName]},M.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Status"}),jsxRuntimeExports.jsxs("select",{name:"status",value:o.status,onChange:N,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"DRAFT",children:"Draft"}),jsxRuntimeExports.jsx("option",{value:"SENT",children:"Sent"}),jsxRuntimeExports.jsx("option",{value:"ACCEPTED",children:"Accepted"}),jsxRuntimeExports.jsx("option",{value:"REJECTED",children:"Rejected"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Quotation Type"}),jsxRuntimeExports.jsxs("select",{name:"quotationType",value:o.quotationType,onChange:N,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"WITHOUT_DISCOUNT",children:"Without Discount"}),jsxRuntimeExports.jsx("option",{value:"WITH_DISCOUNT",children:"With Discount"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded-lg bg-white",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-4",children:"Items"}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-sm",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"border-b",children:[jsxRuntimeExports.jsx("th",{className:"py-2 px-2 text-left font-medium",children:"Product"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-2 text-left font-medium",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-2 text-left font-medium",children:"Subcategory"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-2 text-left font-medium w-24",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-2 text-left font-medium w-32",children:"Rate"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-2 text-left font-medium w-32",children:"Tax (%)"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-2 text-left font-medium w-32",children:"Amount"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-2 text-left font-medium w-12"})]})}),jsxRuntimeExports.jsx("tbody",{children:o.items.map((M,F)=>jsxRuntimeExports.jsxs("tr",{className:"border-b",children:[jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsxs("select",{name:"crmProductId",value:M.crmProductId,onChange:B=>S(F,B),className:"input text-sm",required:!0,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Product"}),u.products.map(B=>jsxRuntimeExports.jsx("option",{value:B.id,children:B.name},B.id))]})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsxs("select",{name:"categoryId",value:M.categoryId,onChange:B=>S(F,B),className:"input text-sm",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Category"}),u.categories.map(B=>jsxRuntimeExports.jsx("option",{value:B.id,children:B.name},B.id))]})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsxs("select",{name:"subcategoryId",value:M.subcategoryId,onChange:B=>S(F,B),className:"input text-sm",disabled:!M.categoryId,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Subcategory"}),(M.availableSubcategories||[]).map(B=>jsxRuntimeExports.jsx("option",{value:B.id,children:B.name},B.id))]})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"number",name:"quantity",value:M.quantity,onChange:B=>S(F,B),className:"input text-sm",min:"1"})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"number",name:"rate",value:M.rate,onChange:B=>S(F,B),className:"input text-sm"})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"number",name:"taxRate",value:M.taxRate||0,onChange:B=>S(F,B),className:"input text-sm"})}),jsxRuntimeExports.jsxs("td",{className:"p-2 text-right font-medium",children:["AED ",((M.quantity||0)*(M.rate||0)).toFixed(2)]}),jsxRuntimeExports.jsx("td",{className:"p-2 text-center",children:jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>C(F),className:"p-1 text-red-500 hover:bg-red-100 rounded-full",children:jsxRuntimeExports.jsx(Trash2,{size:16})})})]},F))})]})}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:$,className:"mt-4 btn-secondary flex items-center gap-2",children:[jsxRuntimeExports.jsx(Plus,{size:16})," Add Item"]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded-lg bg-white",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-4",children:"Attachments"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("input",{type:"file",multiple:!0,onChange:A,className:"hidden",id:"attachment-upload"}),jsxRuntimeExports.jsxs("label",{htmlFor:"attachment-upload",className:"btn-secondary cursor-pointer flex items-center gap-2",children:[jsxRuntimeExports.jsx(Paperclip,{size:16})," Select Files"]})]}),(f.length>0||n&&o.attachments?.length>0)&&jsxRuntimeExports.jsxs("div",{className:"mt-4 space-y-3",children:[n&&o.attachments?.map((M,F)=>jsxRuntimeExports.jsx("div",{className:"text-sm flex items-center justify-between p-2 bg-slate-100 rounded",children:jsxRuntimeExports.jsx("a",{href:D(M),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline truncate",children:M.split("/").pop()})},F)),f.map((M,F)=>jsxRuntimeExports.jsxs("div",{className:"text-sm flex items-center justify-between p-2 bg-blue-50 rounded",children:[jsxRuntimeExports.jsx("span",{className:"truncate",children:M.name}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>T(F),className:"p-1 text-red-500 hover:bg-red-100 rounded-full",children:jsxRuntimeExports.jsx(Trash2,{size:14})})]},F))]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Terms & Conditions"}),jsxRuntimeExports.jsx("textarea",{name:"termsAndConditions",value:o.termsAndConditions,onChange:N,rows:"4",className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Notes"}),jsxRuntimeExports.jsx("textarea",{name:"notes",value:o.notes,onChange:N,rows:"3",className:"input"})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded-lg bg-white space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:"Sub Total:"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:["AED ",L.subTotal.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:"Total Tax:"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:["AED ",L.totalTax.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center border-t pt-2 mt-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-600",children:"Discount (%):"}),jsxRuntimeExports.jsx("input",{type:"number",name:"totalDiscountPercentage",value:o.totalDiscountPercentage,onChange:N,className:"input text-sm w-32 text-right"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-600",children:"Other Charges (%):"}),jsxRuntimeExports.jsx("input",{type:"number",name:"otherChargesPercentage",value:o.otherChargesPercentage,onChange:N,className:"input text-sm w-32 text-right"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center text-lg font-bold border-t pt-2 mt-2",children:[jsxRuntimeExports.jsx("span",{className:"",children:"Net Total:"}),jsxRuntimeExports.jsxs("span",{className:"",children:["AED ",L.netTotal.toLocaleString("en-AE",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]})]})})]})},API_URL$g="https://javapaas-202946-0.cloudclusters.net/api",getStatusColor$5=e=>{switch(e){case"DRAFT":return"text-gray-600 bg-gray-100";case"SENT":return"text-blue-600 bg-blue-100";case"ACCEPTED":return"text-green-600 bg-green-100";case"REJECTED":return"text-red-600 bg-red-100";case"INVOICED":return"text-teal-600 bg-teal-100";default:return"text-gray-600 bg-gray-100"}},Quotation=()=>{const e=useNavigate(),[t,n]=reactExports.useState([]),[o,l]=reactExports.useState([]),[u,m]=reactExports.useState(!0),[p,j]=reactExports.useState(null),[f,g]=reactExports.useState({customerName:"",fromDate:"",toDate:"",type:"All",status:"All",teamMember:""}),[b,R]=reactExports.useState(0),[v,N]=reactExports.useState(10),[S,$]=reactExports.useState(0),C=reactExports.useMemo(()=>({headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),[]),A=reactExports.useCallback(async()=>{try{const _=await axios.get(`${API_URL$g}/employees/all`,C);l(_.data||[])}catch(_){console.error("Failed to fetch employees",_)}},[C]),T=reactExports.useCallback(async()=>{m(!0);try{const _={page:b,size:v,search:f.customerName},M=await axios.get(`${API_URL$g}/sales/quotations`,{params:_,...C});let F=M.data.content||[];const B=[...new Set(F.map(q=>q.customerId).filter(q=>q))];if(B.length>0){const q=B.map(Q=>axios.get(`${API_URL$g}/parties/${Q}`,C).then(ee=>({id:Q,data:ee.data})).catch(ee=>({id:Q,data:null}))),V=(await Promise.all(q)).reduce((Q,ee)=>(ee.data&&(Q[ee.id]=ee.data),Q),{});F=F.map(Q=>({...Q,customerParty:V[Q.customerId]||Q.customerParty}))}n(F),$(M.data.totalPages),j(null)}catch(_){j("Failed to fetch quotations. Please try again."),console.error(_)}finally{m(!1)}},[b,v,f,C]);reactExports.useEffect(()=>{A()},[A]),reactExports.useEffect(()=>{const _=setTimeout(()=>{T()},300);return()=>clearTimeout(_)},[T]);const D=_=>{const{name:M,value:F}=_.target;g(B=>({...B,[M]:F})),R(0)},I=async _=>{if(window.confirm("Are you sure you want to delete this quotation?"))try{await axios.delete(`${API_URL$g}/sales/quotations/${_}`,C),T()}catch(M){alert(`Error: ${M.response?.data?.message||"Failed to delete quotation."}`)}},L=_=>{e(`/sales/quotations/${_}`)};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full bg-slate-50",children:[jsxRuntimeExports.jsxs("div",{className:"bg-primary p-4 flex justify-between items-center text-primary-foreground",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-semibold",children:"Manage Quotation"}),jsxRuntimeExports.jsx("div",{className:"text-sm opacity-80",children:"Home > Sales > Manage Quotation"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>e("/sales/quotations/new"),className:"bg-white text-gray-800 border border-gray-300 px-4 py-2 rounded text-sm hover:bg-gray-50 flex items-center gap-1 font-bold shadow-sm",children:[jsxRuntimeExports.jsx(Plus,{size:16})," New Quotation"]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow-sm border border-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4 items-end",children:[jsxRuntimeExports.jsxs("div",{className:"md:col-span-1",children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Customer Name"}),jsxRuntimeExports.jsx("input",{type:"text",name:"customerName",className:"w-full text-sm border border-gray-300 rounded px-2 py-1.5 focus:outline-none focus:border-blue-500",placeholder:"Search Customer",value:f.customerName,onChange:D})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-1",children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"From"}),jsxRuntimeExports.jsx("input",{type:"date",name:"fromDate",className:"w-full text-sm border border-gray-300 rounded px-2 py-1.5 focus:outline-none focus:border-blue-500",value:f.fromDate,onChange:D})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-1",children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"To"}),jsxRuntimeExports.jsx("input",{type:"date",name:"toDate",className:"w-full text-sm border border-gray-300 rounded px-2 py-1.5 focus:outline-none focus:border-blue-500",value:f.toDate,onChange:D})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-1",children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Type"}),jsxRuntimeExports.jsxs("select",{name:"type",className:"w-full text-sm border border-gray-300 rounded px-2 py-1.5 focus:outline-none focus:border-blue-500 appearance-none bg-white",value:f.type,onChange:D,children:[jsxRuntimeExports.jsx("option",{value:"All",children:"All"}),jsxRuntimeExports.jsx("option",{value:"WITH_DISCOUNT",children:"With Discount"}),jsxRuntimeExports.jsx("option",{value:"WITHOUT_DISCOUNT",children:"Without Discount"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[jsxRuntimeExports.jsxs("div",{className:"md:col-span-1",children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Quotation Status"}),jsxRuntimeExports.jsxs("select",{name:"status",className:"w-full text-sm border border-gray-300 rounded px-2 py-1.5 focus:outline-none focus:border-blue-500 appearance-none bg-white",value:f.status,onChange:D,children:[jsxRuntimeExports.jsx("option",{value:"All",children:"All"}),jsxRuntimeExports.jsx("option",{value:"DRAFT",children:"Draft"}),jsxRuntimeExports.jsx("option",{value:"SENT",children:"Sent"}),jsxRuntimeExports.jsx("option",{value:"ACCEPTED",children:"Accepted"}),jsxRuntimeExports.jsx("option",{value:"REJECTED",children:"Rejected"})]})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-1",children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Team Members"}),jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsxs("select",{name:"teamMember",className:"w-full text-sm border border-gray-300 rounded px-2 py-1.5 focus:outline-none focus:border-blue-500 appearance-none bg-white",value:f.teamMember,onChange:D,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Team Member"}),o.map(_=>jsxRuntimeExports.jsxs("option",{value:_.id,children:[_.firstName," ",_.lastName]},_.id))]})})]}),jsxRuntimeExports.jsx("div",{className:"md:col-span-1",children:jsxRuntimeExports.jsx("button",{onClick:T,className:"bg-primary text-white text-sm font-medium px-6 py-1.5 rounded hover:bg-violet-800 focus:outline-none w-full md:w-auto",children:"Search"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded shadow-sm border border-gray-200 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"p-2 border-b flex items-center gap-2",children:[jsxRuntimeExports.jsxs("select",{className:"border border-gray-300 rounded px-2 py-1 text-xs",value:v,onChange:_=>N(Number(_.target.value)),children:[jsxRuntimeExports.jsx("option",{value:10,children:"10"}),jsxRuntimeExports.jsx("option",{value:25,children:"25"}),jsxRuntimeExports.jsx("option",{value:50,children:"50"})]}),jsxRuntimeExports.jsx("div",{className:"flex-grow"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",className:"border border-gray-300 rounded px-2 py-1 text-xs"})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-xs text-left",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-100 text-gray-700 font-bold border-b",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r w-16",children:"S.No."}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Quotation Status"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Follow Up"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Next Followup Date"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Quotation#"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Company Name"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Customer Name"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Contact Person Name"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Contact Person Number"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r text-right",children:"Amount"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-center w-24",children:"Action"})]})}),jsxRuntimeExports.jsx("tbody",{children:u?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"13",className:"text-center py-10",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"h-6 w-6 animate-spin mx-auto text-blue-500"})})}):p?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"13",className:"text-center py-10 text-red-500",children:p})}):t.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"13",className:"text-center py-10 font-medium text-gray-500",children:"No data available in table"})}):t.map((_,M)=>jsxRuntimeExports.jsxs("tr",{className:"border-b hover:bg-gray-50 text-gray-700",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r",children:b*v+M+1}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r",children:new Date(_.quotationDate).toLocaleDateString()}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r"}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-2 border-r space-y-1",children:[jsxRuntimeExports.jsxs("button",{className:"flex items-center gap-1 bg-green-500 hover:bg-green-600 text-white px-2 py-0.5 rounded text-[10px] w-full justify-center transition-colors",children:[jsxRuntimeExports.jsx(User,{size:10})," Follow Up"]}),jsxRuntimeExports.jsxs("button",{className:"flex items-center gap-1 bg-sky-500 hover:bg-sky-600 text-white px-2 py-0.5 rounded text-[10px] w-full justify-center transition-colors",children:[jsxRuntimeExports.jsx(Monitor,{size:10})," View History"]})]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r",children:jsxRuntimeExports.jsx("span",{onClick:()=>L(_.id),className:"text-sky-600 cursor-pointer hover:underline font-medium",children:_.quotationNumber})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r",children:_.customerParty?.companyName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r",children:_.customerParty?.primaryContactPerson||_.customerName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r",children:_.customerParty?.primaryContactPerson||"N/A"}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-2 border-r",children:[jsxRuntimeExports.jsx("div",{children:_.customerParty?.mobile}),jsxRuntimeExports.jsx("div",{children:_.customerParty?.contactPhone})]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r font-medium",children:jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] ${getStatusColor$5(_.status)}`,children:_.status})}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-2 border-r text-right",children:["AED ",_.netTotal.toLocaleString("en-AE",{minimumFractionDigits:2,maximumFractionDigits:2})]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 text-center border-r",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>e(`/sales/quotations/edit/${_.id}`),className:"p-1.5 bg-gray-700 text-white rounded hover:bg-gray-600 shadow-sm",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:12})}),jsxRuntimeExports.jsx("button",{onClick:()=>I(_.id),className:"p-1.5 bg-red-500 text-white rounded hover:bg-red-600 shadow-sm",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:12})})]})})]},_.id))})]})}),!u&&S>0&&jsxRuntimeExports.jsxs("div",{className:"p-2 border-t flex justify-between items-center text-xs text-gray-500",children:[jsxRuntimeExports.jsxs("span",{children:["Showing ",b*v+1," to ",Math.min((b+1)*v,t.length+b*v)," of ",t.length," entries"]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>R(_=>Math.max(0,_-1)),disabled:b===0,className:"px-2 py-1 border rounded hover:bg-gray-100 disabled:opacity-50",children:"Previous"}),jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-purple-900 text-white rounded",children:b+1}),jsxRuntimeExports.jsx("button",{onClick:()=>R(_=>Math.min(S-1,_+1)),disabled:b>=S-1,className:"px-2 py-1 border rounded hover:bg-gray-100 disabled:opacity-50",children:"Next"})]})]})]})]})]})},API_URL$f="https://javapaas-202946-0.cloudclusters.net/api",ViewQuotation=()=>{const{id:e}=useParams(),t=useNavigate(),[n,o]=reactExports.useState(null),[l,u]=reactExports.useState(null),[m,p]=reactExports.useState(!0),[j,f]=reactExports.useState(null),[g,b]=reactExports.useState(!1),[R,v]=reactExports.useState(!1),N=reactExports.useRef(null),S=reactExports.useRef(null);reactExports.useEffect(()=>{(async()=>{p(!0);try{const I={Authorization:`Bearer ${localStorage.getItem("token")}`},[L,_]=await Promise.all([axios.get(`${API_URL$f}/sales/quotations/${e}`,{headers:I}),axios.get(`${API_URL$f}/company-info`,{headers:I}).catch(()=>({data:null}))]);let M=L.data,F=null;if(M.customerId)try{F=(await axios.get(`${API_URL$f}/parties/${M.customerId}`,{headers:I})).data}catch(B){console.error("Failed to fetch party details",B)}o({...M,customerParty:F}),u(_.data)}catch(D){console.error("Error fetching data:",D),f("Failed to load quotation details.")}finally{p(!1)}})()},[e]),reactExports.useEffect(()=>{const T=D=>{N.current&&!N.current.contains(D.target)&&b(!1),S.current&&!S.current.contains(D.target)&&v(!1)};return document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[]);const $=T=>`${T} Dirhams`,C=async()=>{try{const T=await axios.get(`${API_URL$f}/sales/quotations/${e}/pdf`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},responseType:"blob"}),D=window.URL.createObjectURL(new Blob([T.data])),I=document.createElement("a");I.href=D,I.setAttribute("download",`Quotation_${n.quotationNumber}.pdf`),document.body.appendChild(I),I.click(),I.remove()}catch(T){console.error("Failed to download PDF",T),alert("Failed to download PDF. Please try again.")}},A=T=>T?typeof T=="string"?T:[T.addressLine,T.city,T.state,T.country,T.zipCode].filter(Boolean).join(", "):"Address not available";return m?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-screen",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"animate-spin h-8 w-8 text-blue-600"})}):j?jsxRuntimeExports.jsx("div",{className:"p-8 text-center text-red-600",children:j}):n?jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-screen bg-slate-50 print:bg-white print:h-auto",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white border-b shadow-sm print:hidden",children:[jsxRuntimeExports.jsxs("div",{className:"px-6 py-2 text-xs text-gray-500 flex items-center gap-1",children:[jsxRuntimeExports.jsx("span",{className:"cursor-pointer hover:text-blue-600",onClick:()=>t("/"),children:"Home"})," >",jsxRuntimeExports.jsx("span",{className:"cursor-pointer hover:text-blue-600",onClick:()=>t("/sales"),children:"Sales"})," >",jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700",children:"View Quotation"})]}),jsxRuntimeExports.jsxs("div",{className:"px-6 py-3 bg-[#0099cc] text-white flex justify-between items-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-semibold",children:"View Quotation"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>t("/sales/quotations"),className:"px-3 py-1 bg-[#0088b5] hover:bg-[#00779e] text-sm rounded transition-colors",children:"All Quotation"}),jsxRuntimeExports.jsx("button",{onClick:()=>t("/sales/quotations/new"),className:"px-3 py-1 bg-[#0088b5] hover:bg-[#00779e] text-sm rounded transition-colors",children:"+ New Quotation"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"px-6 py-3 flex flex-wrap gap-2 items-center bg-white border-b print:hidden",children:[jsxRuntimeExports.jsx("button",{onClick:()=>t(`/sales/quotations/edit/${e}`),className:"p-2 bg-[#5bc0de] text-white rounded hover:bg-[#46b8da]",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:C,className:"p-2 bg-[#d9534f] text-white rounded hover:bg-[#d43f3a]",title:"PDF",children:jsxRuntimeExports.jsx(FileText,{size:16})}),jsxRuntimeExports.jsx("button",{className:"p-2 bg-[#5cb85c] text-white rounded hover:bg-[#4cae4c]",title:"WhatsApp",children:jsxRuntimeExports.jsx("span",{className:"font-bold text-xs",children:"WA"})}),jsxRuntimeExports.jsx("button",{onClick:()=>window.print(),className:"p-2 bg-[#0275d8] text-white rounded hover:bg-[#025aa5]",title:"Print",children:jsxRuntimeExports.jsx(Printer,{size:16})}),jsxRuntimeExports.jsxs("button",{className:"px-3 py-1.5 bg-[#0275d8] text-white rounded text-sm hover:bg-[#025aa5] flex items-center gap-1",children:[jsxRuntimeExports.jsx(Printer,{size:14})," Print On Letterhead"]}),jsxRuntimeExports.jsx("button",{className:"p-2 bg-[#f0ad4e] text-white rounded hover:bg-[#eea236]",title:"Email",children:jsxRuntimeExports.jsx(Mail,{size:16})}),jsxRuntimeExports.jsx("button",{className:"p-2 bg-[#aeb6bf] text-white rounded hover:bg-[#8e99a4]",title:"Attachments",children:jsxRuntimeExports.jsx(Paperclip,{size:16})}),jsxRuntimeExports.jsxs("div",{className:"relative",ref:N,children:[jsxRuntimeExports.jsxs("button",{onClick:()=>b(!g),className:"px-3 py-1.5 bg-[#333] text-white rounded text-sm hover:bg-[#222] flex items-center gap-1",children:["Convert ",jsxRuntimeExports.jsx(ChevronDown,{size:14})]}),g&&jsxRuntimeExports.jsxs("div",{className:"absolute top-full left-0 mt-1 w-40 bg-white border rounded shadow-lg z-10 text-sm",children:[jsxRuntimeExports.jsx("button",{className:"block w-full text-left px-4 py-2 hover:bg-gray-100 text-[#0099cc]",onClick:()=>t(`/sales/orders/new?quotationId=${e}`),children:"Convert to Sale"}),jsxRuntimeExports.jsx("button",{className:"block w-full text-left px-4 py-2 hover:bg-gray-100 text-[#0099cc]",children:"Convert to Invoice"})]})]}),jsxRuntimeExports.jsxs("div",{className:"relative",ref:S,children:[jsxRuntimeExports.jsxs("button",{onClick:()=>v(!R),className:"px-3 py-1.5 bg-[#333] text-white rounded text-sm hover:bg-[#222] flex items-center gap-1",children:["More ",jsxRuntimeExports.jsx(ChevronDown,{size:14})]}),R&&jsxRuntimeExports.jsx("div",{className:"absolute top-full left-0 mt-1 w-40 bg-white border rounded shadow-lg z-10 text-sm",children:jsxRuntimeExports.jsx("button",{className:"block w-full text-left px-4 py-2 hover:bg-gray-100 text-red-600",onClick:()=>{window.confirm("Delete this quotation?")},children:"Delete"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"px-6 py-2 bg-[#f9f9f9] border-b text-xs text-gray-500 flex flex-col gap-1 print:hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"px-2 py-0.5 bg-[#5cb85c] text-white rounded text-[10px] uppercase",children:"+ View more"}),jsxRuntimeExports.jsx("span",{className:"px-2 py-0.5 bg-[#d9534f] text-white rounded text-[10px] uppercase",children:"- View less"})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-between w-full max-w-3xl",children:n.updatedAt&&jsxRuntimeExports.jsxs("span",{children:[new Date(n.updatedAt).toLocaleString(),"  Quotation Updated by ",n.updatedBy||"System"]})}),jsxRuntimeExports.jsx("div",{className:"flex justify-between w-full max-w-3xl",children:jsxRuntimeExports.jsxs("span",{children:[n.createdAt?new Date(n.createdAt).toLocaleString():"-","  Quotation Created by ",n.createdBy||"System"]})})]}),jsxRuntimeExports.jsx("div",{className:"flex-grow overflow-y-auto p-6 bg-slate-50 print:p-0 print:bg-white print:overflow-visible",children:jsxRuntimeExports.jsxs("div",{className:"w-full bg-white border shadow-sm p-8 relative text-sm print:w-full print:border-none print:shadow-none print:p-0",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-800",children:l?.companyName||"Your Company Name"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600",children:[l?.address||"Address Line 1",", ",l?.city||"City"," ",l?.country||"Country"," ",l?.email||"email@example.com"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start border-t border-b border-gray-300 py-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx("span",{className:"w-32 font-semibold",children:"Quotation No."}),jsxRuntimeExports.jsxs("span",{children:[": ",n.quotationNumber]})]}),jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx("span",{className:"w-32 font-semibold",children:"Quotation Date"}),jsxRuntimeExports.jsxs("span",{children:[": ",new Date(n.quotationDate).toLocaleDateString()]})]}),jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx("span",{className:"w-32 font-semibold",children:"Expiry Date"}),jsxRuntimeExports.jsxs("span",{children:[": ",n.expiryDate?new Date(n.expiryDate).toLocaleDateString():"-"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx("span",{className:"w-32 font-semibold",children:"Reference No."}),jsxRuntimeExports.jsxs("span",{children:[": ",n.reference||"-"]})]}),n.salespersonName&&jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx("span",{className:"w-32 font-semibold",children:"Salesperson"}),jsxRuntimeExports.jsxs("span",{children:[": ",n.salespersonName]})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Quotation"}),jsxRuntimeExports.jsxs("p",{className:"text-xs font-semibold mt-1",children:["TRN : ",l?.pan||"104349488700003"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-6 bg-gray-100 p-2",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold mb-1",children:"Bill To"}),jsxRuntimeExports.jsxs("div",{className:"text-gray-700",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:n.customerParty?.companyName||n.customerName}),jsxRuntimeExports.jsx("p",{children:A(n.customerParty?.billingAddress)}),jsxRuntimeExports.jsxs("p",{className:"font-semibold mt-1",children:["TRN : ",n.customerParty?.vatTrnNumber||"N/A"]})]})]}),jsxRuntimeExports.jsxs("table",{className:"w-full mb-8",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"border-t border-b border-gray-300 bg-gray-50 text-xs",children:[jsxRuntimeExports.jsx("th",{className:"py-2 text-center w-12",children:"S.N"}),jsxRuntimeExports.jsx("th",{className:"py-2 text-left",children:"Item & Description"}),jsxRuntimeExports.jsx("th",{className:"py-2 text-center w-24",children:"Qty (Unit)"}),jsxRuntimeExports.jsx("th",{className:"py-2 text-right w-24",children:"Rate"}),jsxRuntimeExports.jsx("th",{className:"py-2 text-center w-20",children:"VAT (%)"}),jsxRuntimeExports.jsx("th",{className:"py-2 text-right w-24",children:"VAT Amount"}),jsxRuntimeExports.jsx("th",{className:"py-2 text-right w-24",children:"Amount"})]})}),jsxRuntimeExports.jsx("tbody",{className:"text-xs",children:n.items.map((T,D)=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-gray-200",children:[jsxRuntimeExports.jsx("td",{className:"py-3 text-center",children:D+1}),jsxRuntimeExports.jsxs("td",{className:"py-3",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:T.itemName}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:T.itemCode})]}),jsxRuntimeExports.jsx("td",{className:"py-3 text-center",children:T.quantity}),jsxRuntimeExports.jsx("td",{className:"py-3 text-right",children:T.rate.toFixed(2)}),jsxRuntimeExports.jsxs("td",{className:"py-3 text-center",children:[T.taxPercentage||"0","%"]}),jsxRuntimeExports.jsx("td",{className:"py-3 text-right",children:T.taxValue?.toFixed(2)||"0.00"}),jsxRuntimeExports.jsx("td",{className:"py-3 text-right",children:T.amount.toFixed(2)})]},T.id))})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-bold text-sm mb-1",children:"Amount in Words :"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:$(n.netTotal)})]}),n.notes&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-bold text-sm mb-1",children:"Notes"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600 whitespace-pre-wrap",children:n.notes})]}),n.termsAndConditions&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-bold text-sm mb-1",children:"Terms & Conditions"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600 whitespace-pre-wrap",children:n.termsAndConditions})]})]}),jsxRuntimeExports.jsxs("div",{className:"w-full md:w-80",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-1 text-sm border-b border-gray-100",children:[jsxRuntimeExports.jsx("span",{children:"Sub Total"}),jsxRuntimeExports.jsx("span",{children:n.subTotal.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-1 text-sm border-b border-gray-100",children:[jsxRuntimeExports.jsx("span",{children:"Total Discount"}),jsxRuntimeExports.jsx("span",{children:n.totalDiscount.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-1 text-sm border-b border-gray-100",children:[jsxRuntimeExports.jsx("span",{children:"Sub Total"}),jsxRuntimeExports.jsx("span",{children:(n.subTotal-n.totalDiscount).toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-1 text-sm border-b border-gray-100",children:[jsxRuntimeExports.jsx("span",{children:"Total VAT"}),jsxRuntimeExports.jsx("span",{children:n.totalTax.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-1 text-sm border-b border-gray-100",children:[jsxRuntimeExports.jsx("span",{children:"Other Charges"}),jsxRuntimeExports.jsx("span",{children:n.otherCharges.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-2 text-base font-bold border-t border-gray-300 mt-2",children:[jsxRuntimeExports.jsx("span",{children:"Total"}),jsxRuntimeExports.jsxs("span",{children:["AED ",n.netTotal.toLocaleString("en-AE",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]})]})})]}):jsxRuntimeExports.jsx("div",{className:"p-8 text-center",children:"Quotation not found."})},API_URL$e="https://javapaas-202946-0.cloudclusters.net/api",getStatusColor$4=e=>{switch(e){case"DRAFT":return"bg-gray-400";case"OPEN":return"bg-blue-500";case"PARTIALLY_INVOICED":return"bg-orange-500";case"INVOICED":return"bg-green-500";case"CANCELLED":return"bg-red-500";default:return"bg-gray-400"}},ViewSales=()=>{const{id:e}=useParams(),t=useNavigate(),[n,o]=reactExports.useState(null),[l,u]=reactExports.useState(!1),[m,p]=reactExports.useState(!1),[j,f]=reactExports.useState(!1),[g,b]=reactExports.useState(!1),R=reactExports.useMemo(()=>({headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),[]);return reactExports.useEffect(()=>{e&&(async()=>{u(!0);try{const N=await axios.get(`${API_URL$e}/sales/orders/${e}`,R);o(N.data)}catch(N){console.error("Failed to fetch order details",N)}finally{u(!1)}})()},[e,R]),jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full bg-slate-50",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white border-b px-6 py-2 text-sm text-gray-500 mb-4",children:[jsxRuntimeExports.jsx("span",{children:"Home"})," > ",jsxRuntimeExports.jsx("span",{children:"Sales"})," > ",jsxRuntimeExports.jsx("span",{className:"font-semibold text-gray-800",children:"View Sale Order"})]}),jsxRuntimeExports.jsx("main",{className:"flex-grow px-6 pb-6 overflow-auto",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"bg-primary text-white px-6 py-3 rounded-t-lg flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>t("/sales/orders"),className:"hover:bg-primary p-1 rounded transition-colors",title:"Back",children:jsxRuntimeExports.jsx(ArrowLeft,{size:20})}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold",children:"View Sale Order"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{className:"bg-primary hover:bg-violet-800 px-3 py-1 rounded text-sm font-medium transition-colors",children:"All Sales Orders"}),jsxRuntimeExports.jsx("button",{onClick:()=>t("/sales/orders/new"),className:"bg-primary hover:bg-violet-800 px-3 py-1 rounded text-sm font-medium transition-colors flex items-center gap-1",children:"+ New Sale Order"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 border-b p-3 flex flex-wrap gap-2 items-center relative z-10",children:[jsxRuntimeExports.jsx("button",{onClick:()=>t(`/sales/orders/edit/${e}`),className:"flex items-center gap-1 bg-blue-500 text-white px-3 py-1.5 rounded text-sm hover:bg-primary transition-colors",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>alert("PDF feature coming soon"),className:"flex items-center gap-1 bg-red-500 text-white px-3 py-1.5 rounded text-sm hover:bg-red-600 transition-colors",title:"PDF",children:jsxRuntimeExports.jsx(FileText,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>window.open(`https://wa.me/?text=SalesOrder%20${n?.salesOrderNumber}`,"_blank"),className:"flex items-center gap-1 bg-green-500 text-white px-3 py-1.5 rounded text-sm hover:bg-green-600 transition-colors",title:"WhatsApp",children:jsxRuntimeExports.jsx("span",{className:"font-bold",children:"WhatsApp"})}),jsxRuntimeExports.jsx("button",{onClick:()=>window.print(),className:"flex items-center gap-1 bg-blue-600 text-white px-3 py-1.5 rounded text-sm hover:bg-blue-700 transition-colors",title:"Print",children:jsxRuntimeExports.jsx("span",{className:"font-bold",children:"Print"})}),jsxRuntimeExports.jsx("button",{onClick:()=>window.print(),className:"flex items-center gap-1 bg-sky-600 text-white px-3 py-1.5 rounded text-sm hover:bg-sky-700 transition-colors",children:"Print On Letterhead"}),jsxRuntimeExports.jsx("button",{onClick:()=>alert("Email feature coming soon"),className:"flex items-center gap-1 bg-yellow-500 text-white px-3 py-1.5 rounded text-sm hover:bg-yellow-600 transition-colors",title:"Email",children:jsxRuntimeExports.jsx("span",{className:"font-bold",children:"Email"})}),jsxRuntimeExports.jsxs("div",{className:"ml-auto flex gap-2 relative",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>{f(!j),b(!1)},className:"bg-primary text-white px-4 py-1.5 rounded text-sm hover:bg-violet-800 flex items-center gap-1 transition-colors",children:["Convert ",jsxRuntimeExports.jsx("span",{className:"text-xs",children:""})]}),j&&jsxRuntimeExports.jsx("div",{className:"absolute right-0 mt-1 w-48 bg-white rounded-md shadow-lg border border-gray-200 py-1 z-20",children:jsxRuntimeExports.jsx("button",{className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>{f(!1),alert("Convert to Invoice clicked")},children:"Convert to Invoice"})})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>{b(!g),f(!1)},className:"bg-primary text-white px-4 py-1.5 rounded text-sm hover:bg-violet-800 flex items-center gap-1 transition-colors",children:["More ",jsxRuntimeExports.jsx("span",{className:"text-xs",children:""})]}),g&&jsxRuntimeExports.jsxs("div",{className:"absolute right-0 mt-1 w-48 bg-white rounded-md shadow-lg border border-gray-200 py-1 z-20",children:[jsxRuntimeExports.jsx("button",{className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>b(!1),children:"Clone"}),jsxRuntimeExports.jsx("button",{className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",onClick:()=>b(!1),children:"Delete"}),jsxRuntimeExports.jsx("button",{className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>b(!1),children:"Void"})]})]})]})]}),n&&jsxRuntimeExports.jsxs("div",{className:"px-6 py-2 bg-[#f9f9f9] border-b text-xs text-gray-500 flex flex-col gap-1 print:hidden",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] uppercase font-bold text-white ${getStatusColor$4(n.status)}`,children:n.status})}),jsxRuntimeExports.jsx("div",{className:"flex justify-between w-full max-w-3xl",children:n.updatedAt&&jsxRuntimeExports.jsxs("span",{children:[new Date(n.updatedAt).toLocaleString(),"  Updated by ",n.updatedBy||"System"]})}),jsxRuntimeExports.jsx("div",{className:"flex justify-between w-full max-w-3xl",children:jsxRuntimeExports.jsxs("span",{children:[n.createdAt?new Date(n.createdAt).toLocaleString():"-","  Created by ",n.createdBy||"System"]})})]}),jsxRuntimeExports.jsx("div",{className:"p-8 bg-gray-50/50 min-h-[600px] overflow-y-auto",children:l?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-64",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"h-10 w-10 animate-spin text-blue-500"})}):n?jsxRuntimeExports.jsx("div",{className:"w-full space-y-4",children:jsxRuntimeExports.jsxs("div",{id:"printable-invoice",className:"bg-white p-10 shadow-lg border border-gray-300 text-black font-sans leading-snug print:shadow-none print:border-none print:p-0 print:m-0 print:w-full",children:[jsxRuntimeExports.jsx("style",{children:`
                                            @media print {
                                                body * {
                                                    visibility: hidden;
                                                }
                                                #printable-invoice, #printable-invoice * {
                                                    visibility: visible;
                                                }
                                                #printable-invoice {
                                                    position: fixed;
                                                    left: 0;
                                                    top: 0;
                                                    width: 100%;
                                                    height: 100%;
                                                    z-index: 9999;
                                                    margin: 0;
                                                    padding: 20px; /* Optional padding for print */
                                                    overflow: visible;
                                                }
                                                @page {
                                                    margin: 0;
                                                    size: auto;
                                                }
                                            }
                                        `}),jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold uppercase tracking-wide",children:"Tact Plastic Industries LLC"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-700",children:"Modern Industrial Area, Umm Al Qaiwain UAE | saleem@tactplastic.com"})]}),jsxRuntimeExports.jsxs("div",{className:"border-t-2 border-b-2 border-gray-800 py-4 mb-6 flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm font-bold space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-2",children:[jsxRuntimeExports.jsx("span",{children:"Order No."}),jsxRuntimeExports.jsxs("span",{children:[": ",n.salesOrderNumber]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-2",children:[jsxRuntimeExports.jsx("span",{children:"Order Date"}),jsxRuntimeExports.jsxs("span",{children:[": ",new Date(n.salesOrderDate).toLocaleDateString()]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-2",children:[jsxRuntimeExports.jsx("span",{children:"Expiry Date"}),jsxRuntimeExports.jsxs("span",{children:[": ",n.expiryDate?new Date(n.expiryDate).toLocaleDateString():"N/A"]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-2",children:[jsxRuntimeExports.jsx("span",{children:"Reference No."}),jsxRuntimeExports.jsxs("span",{children:[": ",n.reference||"N/A"]})]})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold uppercase text-right",children:"Sales Order"})})]}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold mb-1 border-b border-gray-300 pb-1 w-full text-sm",children:"Bill To"}),jsxRuntimeExports.jsx("p",{className:"font-bold text-lg uppercase",children:n.customerName})]}),jsxRuntimeExports.jsx("div",{className:"mb-6",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-xs border-collapse",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"border-t-2 border-b-2 border-gray-800 font-bold bg-white",children:[jsxRuntimeExports.jsx("th",{className:"py-2 text-left w-12",children:"S.N"}),jsxRuntimeExports.jsx("th",{className:"py-2 text-left",children:"Item & Description"}),jsxRuntimeExports.jsx("th",{className:"py-2 text-right",children:"Quantity(Gross)"}),jsxRuntimeExports.jsx("th",{className:"py-2 text-right",children:"Quantity(Net)"}),jsxRuntimeExports.jsx("th",{className:"py-2 text-right",children:"Rate"}),jsxRuntimeExports.jsx("th",{className:"py-2 text-right",children:"VAT (%)"}),jsxRuntimeExports.jsx("th",{className:"py-2 text-right",children:"VAT Amount"}),jsxRuntimeExports.jsx("th",{className:"py-2 text-right",children:"Amount"})]})}),jsxRuntimeExports.jsx("tbody",{children:n.items.map((v,N)=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-gray-200",children:[jsxRuntimeExports.jsx("td",{className:"py-2",children:N+1}),jsxRuntimeExports.jsxs("td",{className:"py-2",children:[jsxRuntimeExports.jsx("div",{className:"font-bold",children:v.itemName}),jsxRuntimeExports.jsx("div",{className:"text-gray-500",children:v.description})]}),jsxRuntimeExports.jsx("td",{className:"py-2 text-right text-gray-500",children:"(kgs)"}),jsxRuntimeExports.jsxs("td",{className:"py-2 text-right",children:[v.quantity," (kgs)"]}),jsxRuntimeExports.jsx("td",{className:"py-2 text-right",children:v.rate.toLocaleString("en-AE",{minimumFractionDigits:2})}),jsxRuntimeExports.jsx("td",{className:"py-2 text-right",children:"0.05%"}),jsxRuntimeExports.jsx("td",{className:"py-2 text-right",children:(v.amount*.05).toLocaleString("en-AE",{minimumFractionDigits:2})}),jsxRuntimeExports.jsx("td",{className:"py-2 text-right",children:v.amount.toLocaleString("en-AE",{minimumFractionDigits:2})})]},N))})]})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start text-sm mt-8 border-t pt-4",children:[jsxRuntimeExports.jsxs("div",{className:"w-1/2 pr-8",children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("span",{className:"font-bold",children:"Amount in Words :"}),jsxRuntimeExports.jsx("p",{className:"mt-1 italic text-gray-700",children:"Thirty-Nine Thousand Nineteen Dirhams and Fifty fils"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-bold mb-1",children:"Notes"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600",children:n.notes||"No notes"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-bold mb-1",children:"Terms & Conditions"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600",children:n.termsAndConditions||"No specific terms."})]})]}),jsxRuntimeExports.jsx("div",{className:"w-1/2 pl-8 border-l border-gray-300",children:jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Sub Total"}),jsxRuntimeExports.jsx("span",{children:n.subTotal.toLocaleString("en-AE",{minimumFractionDigits:2})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Total Discount"}),jsxRuntimeExports.jsx("span",{children:n.totalDiscount.toLocaleString("en-AE",{minimumFractionDigits:2})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Sub Total"}),jsxRuntimeExports.jsx("span",{children:(n.subTotal-n.totalDiscount).toLocaleString("en-AE",{minimumFractionDigits:2})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Total VAT"}),jsxRuntimeExports.jsx("span",{children:n.totalTax.toLocaleString("en-AE",{minimumFractionDigits:2})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Other Charges"}),jsxRuntimeExports.jsx("span",{children:n.otherCharges.toLocaleString("en-AE",{minimumFractionDigits:2})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between font-bold text-lg mt-2 pt-2 border-t border-gray-800",children:[jsxRuntimeExports.jsx("span",{children:"Total"}),jsxRuntimeExports.jsxs("span",{children:["AED ",n.netTotal.toLocaleString("en-AE",{minimumFractionDigits:2})]})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"mt-20 flex justify-end",children:jsxRuntimeExports.jsx("div",{className:"text-center w-64",children:jsxRuntimeExports.jsx("div",{className:"border-t border-gray-400 pt-2 font-bold text-sm",children:"Authorized Signature"})})})]})}):jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Order Not Found"}),jsxRuntimeExports.jsx("p",{children:"Unable to load sales order details. Please check the ID or try again."}),jsxRuntimeExports.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Retry"})]})})]})})]})},API_URL$d="https://javapaas-202946-0.cloudclusters.net/api",getStatusColor$3=e=>{switch(e){case"DRAFT":return"text-gray-600 bg-gray-100";case"SENT":return"text-blue-600 bg-blue-100";case"ACCEPTED":return"text-green-600 bg-green-100";case"REJECTED":return"text-red-600 bg-red-100";case"INVOICED":return"text-purple-600 bg-purple-100";default:return"text-gray-600 bg-gray-100"}},RentalQuotation=()=>{const e=useNavigate(),[t,n]=reactExports.useState([]),[o,l]=reactExports.useState([]),[u,m]=reactExports.useState(!0),[p,j]=reactExports.useState(null),[f,g]=reactExports.useState({customerName:"",fromDate:new Date().toISOString().split("T")[0],toDate:new Date(new Date().setDate(new Date().getDate()+1)).toISOString().split("T")[0],type:"All",status:"All",teamMember:""}),[b,R]=reactExports.useState(0),[v,N]=reactExports.useState(10),[S,$]=reactExports.useState(0),C=reactExports.useMemo(()=>({headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),[]),A=reactExports.useCallback(async()=>{try{const L=await axios.get(`${API_URL$d}/employees/all`,C);l(L.data||[])}catch(L){console.error("Failed to fetch employees",L)}},[C]),T=reactExports.useCallback(async()=>{m(!0);try{const L={page:b,size:v,search:f.customerName},_=await axios.get(`${API_URL$d}/sales/rental-quotations`,{params:L,...C});let M=_.data.content||[];const F=[...new Set(M.map(B=>B.customerId).filter(B=>B))];if(F.length>0){const B=F.map(V=>axios.get(`${API_URL$d}/parties/${V}`,C).then(Q=>({id:V,data:Q.data})).catch(Q=>({id:V,data:null}))),z=(await Promise.all(B)).reduce((V,Q)=>(Q.data&&(V[Q.id]=Q.data),V),{});M=M.map(V=>({...V,customerParty:z[V.customerId]||V.customerParty}))}n(M),$(_.data.totalPages),j(null)}catch(L){j("Failed to fetch rental quotations. Please try again."),console.error(L)}finally{m(!1)}},[b,v,f,C]);reactExports.useEffect(()=>{A()},[A]),reactExports.useEffect(()=>{T()},[T]);const D=L=>{const{name:_,value:M}=L.target;g(F=>({...F,[_]:M})),R(0)},I=async L=>{if(window.confirm("Are you sure you want to delete this rental quotation?"))try{await axios.delete(`${API_URL$d}/sales/rental-quotations/${L}`,C),T()}catch(_){alert(`Error: ${_.response?.data?.message||"Failed to delete quotation."}`)}};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full bg-slate-50",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary p-4 flex justify-between items-center text-primary-foreground",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-semibold",children:"Manage Rental Quotation"}),jsxRuntimeExports.jsx("div",{className:"text-sm opacity-80",children:"Home > Sales > Manage Rental Quotation"})]})}),jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow-sm border border-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4 items-end",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Customer Name"}),jsxRuntimeExports.jsx("input",{type:"text",name:"customerName",value:f.customerName,onChange:D,className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",placeholder:"Search Customer"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"From"}),jsxRuntimeExports.jsx("input",{type:"date",name:"fromDate",value:f.fromDate,onChange:D,className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"To"}),jsxRuntimeExports.jsx("input",{type:"date",name:"toDate",value:f.toDate,onChange:D,className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Type"}),jsxRuntimeExports.jsxs("select",{name:"type",value:f.type,onChange:D,className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm bg-white",children:[jsxRuntimeExports.jsx("option",{value:"All",children:"All"}),jsxRuntimeExports.jsx("option",{value:"Standard",children:"Standard"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Quotation Status"}),jsxRuntimeExports.jsxs("select",{name:"status",value:f.status,onChange:D,className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm bg-white",children:[jsxRuntimeExports.jsx("option",{value:"All",children:"All"}),jsxRuntimeExports.jsx("option",{value:"DRAFT",children:"DRAFT"}),jsxRuntimeExports.jsx("option",{value:"SENT",children:"SENT"}),jsxRuntimeExports.jsx("option",{value:"ACCEPTED",children:"ACCEPTED"}),jsxRuntimeExports.jsx("option",{value:"REJECTED",children:"REJECTED"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Team Members"}),jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsxs("select",{name:"teamMember",value:f.teamMember,onChange:D,className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm bg-white",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Team Member"}),o.map(L=>jsxRuntimeExports.jsxs("option",{value:L.id,children:[L.firstName," ",L.lastName]},L.id))]})})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("button",{onClick:T,className:"bg-primary text-white px-6 py-1.5 rounded text-sm hover:bg-violet-900 font-medium",children:"Search"})}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsxs("button",{onClick:()=>e("/sales/rental-quotations/new"),className:"bg-primary text-primary-foreground px-4 py-1.5 rounded text-sm hover:bg-violet-900 flex items-center gap-1 font-medium",children:[jsxRuntimeExports.jsx(Plus,{size:14})," New Rental Quotation"]})})]})]}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded shadow-sm border border-gray-200 overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-xs text-left",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50 text-gray-700 font-bold border-b",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"S.No."}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Quotation Status"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Follow Up"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Next Followup Date"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Quotation#"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Customer Name"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Contact Person Name"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Contact Person Number"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Amount"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-center",children:"Operation"})]})}),jsxRuntimeExports.jsx("tbody",{children:u?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"12",className:"text-center py-10",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"h-6 w-6 animate-spin mx-auto text-blue-500"})})}):p?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"12",className:"text-center py-10 text-red-500",children:p})}):t.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"12",className:"text-center py-10 font-medium text-gray-500",children:"No record available"})}):t.map((L,_)=>jsxRuntimeExports.jsxs("tr",{className:"border-b hover:bg-gray-50 text-gray-700",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r",children:b*v+_+1}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r",children:L.quotationDate?new Date(L.quotationDate).toLocaleDateString():"-"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r space-y-1",children:jsxRuntimeExports.jsxs("button",{className:"flex items-center gap-1 bg-green-500 text-white px-2 py-0.5 rounded text-[10px] w-full justify-center hover:bg-green-600",children:[jsxRuntimeExports.jsx(User,{size:10})," Follow Up"]})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r text-sky-600 cursor-pointer hover:underline font-medium",onClick:()=>e(`/sales/rental-quotations/${L.id}`),children:L.quotationNumber}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r",children:L.customerParty?.companyName||L.customerName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r",children:L.customerParty?.primaryContactPerson||"-"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r",children:L.customerParty?.mobile||"-"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r font-medium",children:jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] ${getStatusColor$3(L.status)}`,children:L.status})}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-2 border-r font-medium",children:["AED ",L.netTotal?.toLocaleString("en-AE",{minimumFractionDigits:2})]}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-2 flex justify-center gap-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>e(`/sales/rental-quotations/edit/${L.id}`),className:"p-1.5 bg-sky-600 text-white rounded hover:bg-sky-700 shadow-sm",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:12})}),jsxRuntimeExports.jsx("button",{onClick:()=>e("/sales/rental-sales-orders/new",{state:{quotationId:L.id}}),className:"p-1.5 bg-green-600 text-white rounded hover:bg-green-700 shadow-sm",title:"Convert to Order",children:jsxRuntimeExports.jsx(Monitor,{size:12})}),jsxRuntimeExports.jsx("button",{onClick:()=>I(L.id),className:"p-1.5 bg-red-500 text-white rounded hover:bg-red-600 shadow-sm",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:12})})]})]},L.id))})]})})})]})]})},API_URL$c="https://javapaas-202946-0.cloudclusters.net/api",RentalQuotationForm=()=>{const{id:e}=useParams(),t=useNavigate(),n=!!e,[o,l]=reactExports.useState(!1),[u,m]=reactExports.useState(!0),[p,j]=reactExports.useState([]),[f,g]=reactExports.useState([]),[b,R]=reactExports.useState([]),[v,N]=reactExports.useState([]),[S,$]=reactExports.useState({quotationDate:new Date().toISOString().split("T")[0],customerId:"",quotationNumber:"",reference:"",expiryDate:"",deliveryLead:"",validity:"",paymentTerms:"",priceBasis:"",dearSir:"",salespersonId:"",quotationType:"WITH_DISCOUNT",rentalDurationDays:1,totalDiscount:0,otherCharges:0,termsAndConditions:"",notes:"",manufacture:"",remarks:"",emailTo:"",status:"DRAFT",template:"Standard",contactNumber:""}),[C,A]=reactExports.useState([{crmProductId:"",itemCode:"",itemName:"",description:"",quantity:1,rentalValue:0,taxPercentage:0,taxValue:0,amount:0,isTaxExempt:!1}]),[T,D]=reactExports.useState([]),[I,L]=reactExports.useState([]),[_,M]=reactExports.useState({subTotalPerDay:0,totalTaxPerDay:0,grossTotal:0,totalRentalPrice:0,totalTax:0,netTotal:0}),F=reactExports.useMemo(()=>({headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),[]);reactExports.useEffect(()=>{(async()=>{try{const J={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}},[ne,H,te,Y]=await Promise.all([axios.get(`${API_URL$c}/parties`,J),axios.get(`${API_URL$c}/crm/sales-products`,{...J,params:{size:1e3}}),axios.get(`${API_URL$c}/employees/all`,J),axios.get(`${API_URL$c}/production/categories`,J)]);j(ne.data.content||[]),g(H.data.content||[]),R(te.data||[]),N(Y.data||[])}catch(K){console.error("Failed to fetch dependencies",K)}finally{m(!1)}})()},[]),reactExports.useEffect(()=>{n&&!u&&(async()=>{try{const J=(await axios.get(`${API_URL$c}/sales/rental-quotations/${e}`,F)).data;$({quotationDate:J.quotationDate,customerId:J.customerId,quotationNumber:J.quotationNumber,reference:J.reference,expiryDate:J.expiryDate,deliveryLead:J.deliveryLead,validity:J.validity,paymentTerms:J.paymentTerms,priceBasis:J.priceBasis,dearSir:J.dearSir,salespersonId:J.salespersonId,quotationType:J.quotationType||"STANDARD",rentalDurationDays:J.rentalDurationDays||1,totalDiscount:J.totalDiscount||0,otherCharges:J.otherCharges||0,termsAndConditions:J.termsAndConditions,notes:J.notes,manufacture:J.manufacture,remarks:J.remarks,emailTo:J.emailTo,status:J.status,template:J.template});const ne=await Promise.all(J.items.map(async H=>{let te=[];if(H.categoryId)try{const Y=`Bearer ${localStorage.getItem("token")}`;te=(await axios.get(`${API_URL$c}/production/sub-categories?categoryId=${H.categoryId}`,{headers:{Authorization:Y}})).data||[]}catch(Y){console.error(`Failed to fetch subcategories for category ${H.categoryId}`,Y)}return{...H,crmProductId:H.crmProductId,categoryId:H.categoryId||"",subcategoryId:H.subcategoryId||"",availableSubcategories:te}}));A(ne),L(J.attachments||[])}catch(K){console.error("Failed to fetch quotation",K)}})()},[n,e,F,u]),reactExports.useEffect(()=>{let G=0,K=0;C.map(ae=>{const Z=parseFloat(ae.quantity)||0,ce=parseFloat(ae.rentalValue)||0,oe=Z*ce;let me=0;if(!ae.isTaxExempt){const fe=parseFloat(ae.taxPercentage)||0;me=oe*fe/100}return G+=oe,K+=me,{...ae,amount:oe,taxValue:me}});const J=parseFloat(S.totalDiscount)||0,ne=Math.max(0,G-J),H=parseFloat(S.rentalDurationDays)||1,te=ne*H,Y=K*H,le=parseFloat(S.otherCharges)||0,je=te+Y+le;M({subTotalPerDay:G,totalTaxPerDay:K,grossTotal:ne,totalRentalPrice:te,totalTax:Y,netTotal:je})},[C,S.totalDiscount,S.rentalDurationDays,S.otherCharges]);const B=G=>{const{name:K,value:J}=G.target;$(ne=>{const H={...ne,[K]:J};if(K==="customerId"){const te=p.find(Y=>Y.id===parseInt(J));te&&(H.paymentTerms=te.paymentTerms||"",H.priceBasis=te.priceCategory||"",H.dearSir=te.primaryContactPerson||te.primaryFirstName||"",H.contactNumber=te.mobile||te.contactPhone||"")}return H})},q=(G,K,J)=>{const ne=[...C];if(ne[G][K]=J,K==="crmProductId"){const H=f.find(te=>te.id===parseInt(J));H&&(ne[G].itemCode=H.itemCode||"",ne[G].itemName=H.name||"",ne[G].description=H.description||"",ne[G].rentalValue=H.salesPrice||0,ne[G].taxPercentage=5)}if(K==="categoryId"){ne[G].subcategoryId="";const H=J;if(H){const te=`Bearer ${localStorage.getItem("token")}`;axios.get(`${API_URL$c}/production/sub-categories?categoryId=${H}`,{headers:{Authorization:te}}).then(Y=>{ne[G].availableSubcategories=Y.data||[],A([...ne])}).catch(Y=>console.error("Failed to fetch subcategories",Y))}else ne[G].availableSubcategories=[]}A(ne)},z=()=>{A([...C,{crmProductId:"",itemCode:"",itemName:"",description:"",quantity:1,rentalValue:0,taxPercentage:5,taxValue:0,amount:0,isTaxExempt:!1,categoryId:"",subcategoryId:"",availableSubcategories:[]}])},V=G=>{const K=C.filter((J,ne)=>ne!==G);A(K)},Q=G=>{D([...T,...Array.from(G.target.files)])},ee=async(G,K)=>{G.preventDefault(),l(!0);const J={...S,status:K||S.status,items:C.map(Y=>{const le=parseFloat(Y.quantity)||0,je=parseFloat(Y.rentalValue)||0,ae=parseFloat(Y.taxPercentage)||0,Z=le*je,ce=Y.isTaxExempt?0:Z*ae/100;return{crmProductId:Y.crmProductId,itemCode:Y.itemCode,itemName:Y.itemName,description:Y.description,categoryId:Y.categoryId||null,subcategoryId:Y.subcategoryId||null,quantity:le,rentalValue:je,taxValue:parseFloat(ce.toFixed(2)),taxPercentage:ae,isTaxExempt:Y.isTaxExempt}}),subTotalPerDay:_.subTotalPerDay,grossTotal:_.grossTotal,totalRentalPrice:_.totalRentalPrice,totalTax:_.totalTax,netTotal:_.netTotal},ne=new FormData;ne.append("quotation",new Blob([JSON.stringify(J)],{type:"application/json"})),T.forEach(Y=>{ne.append("attachments",Y)});const te={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"multipart/form-data"}};try{n?await axios.put(`${API_URL$c}/sales/rental-quotations/${e}`,ne,te):await axios.post(`${API_URL$c}/sales/rental-quotations`,ne,te),t("/sales/rental-quotations")}catch(Y){console.error("Failed to save quotation",Y),alert("Failed to save rental quotation.")}finally{l(!1)}};return u?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-screen",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"animate-spin text-blue-500"})}):jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full bg-slate-50 overflow-y-auto",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white border-b p-4 flex justify-between items-center sticky top-0 z-10 shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>t("/sales/rental-quotations"),className:"text-gray-500 hover:text-gray-700",children:jsxRuntimeExports.jsx(ArrowLeft,{size:20})}),jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold text-gray-800",children:n?"Edit Rental Quotation":"New Rental Quotation"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:G=>ee(G,"DRAFT"),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 font-medium",children:"Save as Draft"}),jsxRuntimeExports.jsxs("button",{onClick:G=>ee(G,"SENT"),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 font-medium flex items-center gap-2",children:[o?jsxRuntimeExports.jsx(LoaderCircle,{className:"animate-spin",size:16}):jsxRuntimeExports.jsx(Save,{size:16})," Save"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 w-full space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded shadow-sm border border-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Quotation Date"}),jsxRuntimeExports.jsx("input",{type:"date",name:"quotationDate",value:S.quotationDate,onChange:B,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Customer Name"}),jsxRuntimeExports.jsxs("select",{name:"customerId",value:S.customerId,onChange:B,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Customer"}),p.map(G=>jsxRuntimeExports.jsx("option",{value:G.id,children:G.companyName||G.primaryContactPerson},G.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Contact Number"}),jsxRuntimeExports.jsx("input",{type:"text",name:"contactNumber",value:S.contactNumber,onChange:B,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter contact number"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Quotation #"}),jsxRuntimeExports.jsx("input",{type:"text",name:"quotationNumber",value:S.quotationNumber,disabled:!0,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm bg-gray-100 cursor-not-allowed",placeholder:"Auto-generated"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Reference"}),jsxRuntimeExports.jsx("input",{type:"text",name:"reference",value:S.reference,onChange:B,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter reference"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Expiry Date"}),jsxRuntimeExports.jsx("input",{type:"date",name:"expiryDate",value:S.expiryDate,onChange:B,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Delivery Lead"}),jsxRuntimeExports.jsx("input",{type:"text",name:"deliveryLead",value:S.deliveryLead,onChange:B,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter delivery lead time"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Validity"}),jsxRuntimeExports.jsx("input",{type:"text",name:"validity",value:S.validity,onChange:B,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter validity period"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Payment Terms"}),jsxRuntimeExports.jsx("input",{type:"text",name:"paymentTerms",value:S.paymentTerms,onChange:B,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter payment terms"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Price Basis"}),jsxRuntimeExports.jsx("input",{type:"text",name:"priceBasis",value:S.priceBasis,onChange:B,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter price basis"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Salesperson"}),jsxRuntimeExports.jsxs("select",{name:"salespersonId",value:S.salespersonId,onChange:B,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Salesperson"}),b.map(G=>jsxRuntimeExports.jsxs("option",{value:G.id,children:[G.firstName," ",G.lastName]},G.id))]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Dear Sir"}),jsxRuntimeExports.jsx("input",{type:"text",name:"dearSir",value:S.dearSir,onChange:B,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter salutation"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded shadow-sm border border-gray-200 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-gray-700",children:"Items & Description"}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsxs("select",{name:"quotationType",value:S.quotationType,onChange:B,className:"border border-gray-300 rounded px-2 py-1 text-sm",children:[jsxRuntimeExports.jsx("option",{value:"WITH_DISCOUNT",children:"With Discount"}),jsxRuntimeExports.jsx("option",{value:"WITHOUT_DISCOUNT",children:"Without Discount"})]})})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-sm text-left",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50 text-gray-700 font-bold border-b",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-2 py-2 w-10",children:"#"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 w-64",children:"Item Details"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 w-32",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 w-32",children:"Subcategory"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 w-24",children:"Quantity"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 w-32",children:"Rental Value"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 w-32",children:"Amount"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 w-32",children:"Tax (VAT)"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 w-16 text-center",children:"Action"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-gray-100",children:C.map((G,K)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50 align-top",children:[jsxRuntimeExports.jsx("td",{className:"px-2 py-3 text-gray-500",children:K+1}),jsxRuntimeExports.jsxs("td",{className:"px-2 py-3 space-y-2",children:[jsxRuntimeExports.jsxs("select",{value:G.crmProductId,onChange:J=>q(K,"crmProductId",J.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 focus:border-blue-500 outline-none",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Item"}),f.map(J=>jsxRuntimeExports.jsxs("option",{value:J.id,children:[J.name," (",J.itemCode,")"]},J.id))]}),jsxRuntimeExports.jsx("input",{type:"text",value:G.description,onChange:J=>q(K,"description",J.target.value),placeholder:"Description",className:"w-full border border-gray-300 rounded px-2 py-1 text-xs text-gray-600 focus:border-blue-500 outline-none"})]}),jsxRuntimeExports.jsx("td",{className:"px-2 py-3",children:jsxRuntimeExports.jsxs("select",{value:G.categoryId,onChange:J=>q(K,"categoryId",J.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 focus:border-blue-500 outline-none text-xs",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Category"}),v.map(J=>jsxRuntimeExports.jsx("option",{value:J.id,children:J.name},J.id))]})}),jsxRuntimeExports.jsx("td",{className:"px-2 py-3",children:jsxRuntimeExports.jsxs("select",{value:G.subcategoryId,onChange:J=>q(K,"subcategoryId",J.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 focus:border-blue-500 outline-none text-xs",disabled:!G.categoryId,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Sub Category"}),G.availableSubcategories?.map(J=>jsxRuntimeExports.jsx("option",{value:J.id,children:J.name},J.id))]})}),jsxRuntimeExports.jsx("td",{className:"px-2 py-3",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[jsxRuntimeExports.jsx("input",{type:"number",min:"1",value:G.quantity,onChange:J=>q(K,"quantity",J.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 text-center focus:border-blue-500 outline-none"}),jsxRuntimeExports.jsx("span",{className:"text-gray-500 text-xs self-center",children:"Piece"})]})}),jsxRuntimeExports.jsx("td",{className:"px-2 py-3",children:jsxRuntimeExports.jsx("input",{type:"number",min:"0",step:"0.01",value:G.rentalValue,onChange:J=>q(K,"rentalValue",J.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 text-right focus:border-blue-500 outline-none"})}),jsxRuntimeExports.jsx("td",{className:"px-2 py-3 text-right font-medium text-gray-700",children:((parseFloat(G.quantity)||0)*(parseFloat(G.rentalValue)||0)).toFixed(2)}),jsxRuntimeExports.jsxs("td",{className:"px-2 py-3 space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("input",{type:"number",min:"0",value:G.taxPercentage,onChange:J=>q(K,"taxPercentage",J.target.value),className:"w-12 border border-gray-300 rounded px-1 py-0.5 text-right text-xs"}),jsxRuntimeExports.jsx("span",{className:"text-xs",children:"%"})]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 text-right",children:(G.isTaxExempt?0:(parseFloat(G.quantity)||0)*(parseFloat(G.rentalValue)||0)*(parseFloat(G.taxPercentage)||0)/100).toFixed(2)}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-1 text-[10px] text-gray-500 cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:G.isTaxExempt,onChange:J=>q(K,"isTaxExempt",J.target.checked)})," Exempt"]})]}),jsxRuntimeExports.jsx("td",{className:"px-2 py-3 text-center",children:jsxRuntimeExports.jsx("button",{onClick:()=>V(K),className:"text-red-500 hover:text-red-700 p-1",children:jsxRuntimeExports.jsx(Trash2,{size:16})})})]},K))})]})}),jsxRuntimeExports.jsxs("button",{onClick:z,className:"mt-4 flex items-center gap-1 text-blue-600 hover:text-blue-700 font-medium text-sm",children:[jsxRuntimeExports.jsx(Plus,{size:16})," Add Item"]}),jsxRuntimeExports.jsx("div",{className:"mt-6 border-t pt-4 flex justify-end",children:jsxRuntimeExports.jsxs("div",{className:"w-full md:w-1/2 lg:w-1/3 space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center text-sm font-bold bg-gray-100 p-2 rounded",children:[jsxRuntimeExports.jsx("span",{children:"TOTAL NET RENTAL CHARGES PER DAY (AED)"}),jsxRuntimeExports.jsx("span",{children:_.subTotalPerDay?.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center text-sm",children:[jsxRuntimeExports.jsx("span",{children:"Total Discount"}),jsxRuntimeExports.jsx("input",{type:"number",min:"0",step:"0.01",name:"totalDiscount",value:S.totalDiscount,onChange:B,className:"w-32 border border-gray-300 rounded px-2 py-1 text-right"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center text-sm font-semibold border-t pt-2",children:[jsxRuntimeExports.jsx("span",{children:"Gross Total"}),jsxRuntimeExports.jsx("span",{children:_.grossTotal?.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center text-sm items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{children:"Total Rental Price for"}),jsxRuntimeExports.jsx("input",{type:"number",min:"1",name:"rentalDurationDays",value:S.rentalDurationDays,onChange:B,className:"w-16 border border-gray-300 rounded px-1 py-0.5 text-center font-bold"}),jsxRuntimeExports.jsx("span",{children:"Days"})]}),jsxRuntimeExports.jsx("span",{className:"font-bold",children:_.totalRentalPrice?.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center text-sm",children:[jsxRuntimeExports.jsx("span",{children:"Total Tax"}),jsxRuntimeExports.jsx("span",{children:_.totalTax?.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center text-sm",children:[jsxRuntimeExports.jsx("span",{children:"Other Charges"}),jsxRuntimeExports.jsx("input",{type:"number",min:"0",step:"0.01",name:"otherCharges",value:S.otherCharges,onChange:B,className:"w-32 border border-gray-300 rounded px-2 py-1 text-right"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center text-lg font-bold border-t pt-3 text-blue-900",children:[jsxRuntimeExports.jsx("span",{children:"Net Total"}),jsxRuntimeExports.jsxs("span",{children:["AED ",_.netTotal?.toFixed(2)]})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded shadow-sm border border-gray-200",children:[jsxRuntimeExports.jsxs("h3",{className:"font-bold text-gray-700 mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Paperclip,{size:18})," Attach File"]}),jsxRuntimeExports.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:bg-gray-50 transition-colors",children:[jsxRuntimeExports.jsx("input",{type:"file",multiple:!0,onChange:Q,className:"hidden",id:"file-upload"}),jsxRuntimeExports.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer flex flex-col items-center gap-2 text-gray-500",children:[jsxRuntimeExports.jsx(Upload,{size:32,className:"text-gray-400"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Click to browse or drag files here"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400",children:"Max 5 files, 5MB each"})]})]}),T.length>0&&jsxRuntimeExports.jsx("div",{className:"mt-4 space-y-2",children:T.map((G,K)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded text-sm",children:[jsxRuntimeExports.jsx("span",{className:"truncate max-w-[200px]",children:G.name}),jsxRuntimeExports.jsx("button",{onClick:()=>D(T.filter((J,ne)=>ne!==K)),className:"text-red-500 hover:text-red-700",children:jsxRuntimeExports.jsx(X,{size:14})})]},K))}),I.length>0&&jsxRuntimeExports.jsxs("div",{className:"mt-4 border-t pt-2",children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-bold text-gray-500 mb-2",children:"Existing Attachments"}),I.map((G,K)=>{const J=G.startsWith("http")?G:`${API_URL$c}/sales/attachments/${G.startsWith("/")?G.slice(1):G}`;return jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between text-sm py-1",children:jsxRuntimeExports.jsx("a",{href:J,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline truncate max-w-[250px]",children:G.split("/").pop()})},K)})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded shadow-sm border border-gray-200 space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-gray-700 mb-2",children:"Terms & Conditions"}),jsxRuntimeExports.jsx("textarea",{name:"termsAndConditions",rows:"3",value:S.termsAndConditions,onChange:B,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Delivery, Lead Time, Payment Terms..."}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Notes"}),jsxRuntimeExports.jsx("textarea",{name:"notes",rows:"2",value:S.notes,onChange:B,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Will be displayed on Quotation"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Manufacture"}),jsxRuntimeExports.jsx("textarea",{name:"manufacture",rows:"2",value:S.manufacture,onChange:B,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Will be displayed on Quotation"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Remarks"}),jsxRuntimeExports.jsx("textarea",{name:"remarks",rows:"2",value:S.remarks,onChange:B,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Internal remarks"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-100 p-4 rounded flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Email To"}),jsxRuntimeExports.jsx("input",{type:"text",name:"emailTo",value:S.emailTo,onChange:B,className:"border border-gray-300 rounded px-3 py-1.5 text-sm w-64",placeholder:"client@example.com"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>t("/sales/rental-quotations"),className:"px-6 py-2 bg-white border border-gray-300 text-gray-700 rounded hover:bg-gray-50 font-medium",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:G=>ee(G,"DRAFT"),className:"px-6 py-2 bg-gray-500 text-white rounded hover:bg-gray-600 font-medium",children:"Save as Draft"}),jsxRuntimeExports.jsx("button",{onClick:G=>ee(G,"SENT"),className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 font-medium",children:"Save"})]})]})]})]})},API_URL$b="https://javapaas-202946-0.cloudclusters.net/api",getStatusColor$2=e=>{switch(e){case"DRAFT":return"text-gray-600 bg-gray-100";case"SENT":return"text-blue-600 bg-blue-100";case"ACCEPTED":return"text-green-600 bg-green-100";case"REJECTED":return"text-red-600 bg-red-100";case"INVOICED":return"text-purple-600 bg-purple-100";default:return"text-gray-600 bg-gray-100"}},RentalSalesOrder=()=>{const e=useNavigate(),[t,n]=reactExports.useState([]),[o,l]=reactExports.useState([]),[u,m]=reactExports.useState(!0),[p,j]=reactExports.useState(null),[f,g]=reactExports.useState({customerName:"",fromDate:"",toDate:"",status:"All",teamMember:""}),[b,R]=reactExports.useState(0),[v,N]=reactExports.useState(10),[S,$]=reactExports.useState(0),C=reactExports.useMemo(()=>({headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),[]),A=reactExports.useCallback(async()=>{try{const I=await axios.get(`${API_URL$b}/employees/all`,C);l(I.data||[])}catch(I){console.error("Failed to fetch employees",I)}},[C]),T=reactExports.useCallback(async()=>{m(!0);try{const I={page:b,size:v,search:f.customerName,fromDate:f.fromDate,toDate:f.toDate,status:f.status!=="All"?f.status:null,salespersonId:f.teamMember},L=await axios.get(`${API_URL$b}/sales/rental-sales-orders`,{params:I,...C});let _=L.data.content||[];const M=[...new Set(_.map(F=>F.customerId).filter(F=>F))];if(M.length>0){const F=M.map(z=>axios.get(`${API_URL$b}/parties/${z}`,C).then(V=>({id:z,data:V.data})).catch(V=>({id:z,data:null}))),q=(await Promise.all(F)).reduce((z,V)=>(V.data&&(z[V.id]=V.data),z),{});_=_.map(z=>({...z,customerParty:q[z.customerId]||z.customerParty}))}n(_),$(L.data.totalPages),j(null)}catch(I){j("Failed to fetch rental sales orders. Please try again."),console.error(I)}finally{m(!1)}},[b,v,f,C]);reactExports.useEffect(()=>{A()},[A]),reactExports.useEffect(()=>{T()},[T]);const D=I=>{const{name:L,value:_}=I.target;g(M=>({...M,[L]:_})),R(0)};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full bg-slate-50",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary p-4 flex justify-between items-center text-primary-foreground",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-semibold",children:"Manage Rental Sales Order"}),jsxRuntimeExports.jsx("div",{className:"text-sm opacity-80",children:"Home > Sales > Manage Rental Sales Order"})]})}),jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow-sm border border-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4 items-end",children:[jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Customer Name"}),jsxRuntimeExports.jsx("input",{type:"text",name:"customerName",value:f.customerName,onChange:D,className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",placeholder:"Search Customer"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"From"}),jsxRuntimeExports.jsx("input",{type:"date",name:"fromDate",value:f.fromDate,onChange:D,className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"To"}),jsxRuntimeExports.jsx("input",{type:"date",name:"toDate",value:f.toDate,onChange:D,className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Team Members"}),jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsxs("select",{name:"teamMember",value:f.teamMember,onChange:D,className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm bg-white",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Team Member"}),o.map(I=>jsxRuntimeExports.jsxs("option",{value:I.id,children:[I.firstName," ",I.lastName]},I.id))]})})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("button",{onClick:T,className:"bg-primary text-white px-6 py-1.5 rounded text-sm hover:bg-violet-900 font-medium",children:"Search"})}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsxs("button",{onClick:()=>e("/sales/rental-sales-orders/new"),className:"bg-primary text-primary-foreground px-4 py-1.5 rounded text-sm hover:bg-violet-900 flex items-center gap-1 font-medium",children:[jsxRuntimeExports.jsx(Plus,{size:14})," New Rental Sales Order"]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded shadow-sm border border-gray-200 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"p-2 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-bold text-gray-700",children:"Page Size"}),jsxRuntimeExports.jsxs("select",{value:v,onChange:I=>N(Number(I.target.value)),className:"border border-gray-300 rounded px-2 py-1 text-xs",children:[jsxRuntimeExports.jsx("option",{value:"10",children:"10"}),jsxRuntimeExports.jsx("option",{value:"25",children:"25"}),jsxRuntimeExports.jsx("option",{value:"50",children:"50"})]}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-500",children:["Total Records ",t.length]})]}),jsxRuntimeExports.jsx("div",{className:"flex-grow"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",className:"border border-gray-300 rounded px-2 py-1 text-xs w-48"})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-xs text-left",children:[jsxRuntimeExports.jsx("thead",{className:"bg-[#E0E0E0] text-gray-700 font-bold border-b",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"S.No."}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Rental Sales Order"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Shipment Date"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Reference#"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Customer Name"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r text-right",children:"Sales order amount"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r text-right",children:"Invoiced amount"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r text-right",children:"Balanced"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-center",children:"Operation"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-center",children:"Delivery Challan"})]})}),jsxRuntimeExports.jsx("tbody",{children:u?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"12",className:"text-center py-10",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"h-6 w-6 animate-spin mx-auto text-blue-500"})})}):p?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"12",className:"text-center py-10 text-red-500",children:p})}):t.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"12",className:"text-center py-10 font-medium text-gray-500",children:"No record available"})}):t.map((I,L)=>jsxRuntimeExports.jsxs("tr",{className:"border-b hover:bg-gray-50 text-gray-700",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r",children:b*v+L+1}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r",children:I.orderDate?new Date(I.orderDate).toLocaleDateString():"-"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r text-sky-600 cursor-pointer hover:underline font-medium",onClick:()=>e(`/sales/rental-sales-orders/edit/${I.id}`),children:I.orderNumber}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r",children:I.shipmentDate?new Date(I.shipmentDate).toLocaleDateString():"-"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r",children:I.reference||"-"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r",children:I.customerParty?.companyName||I.customerName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r font-medium",children:jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] ${getStatusColor$2(I.status)}`,children:I.status})}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-2 border-r font-medium text-right",children:["AED ",I.netTotal?.toLocaleString("en-AE",{minimumFractionDigits:2})||"0.00"]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r text-right",children:"AED 0.00"})," ",jsxRuntimeExports.jsxs("td",{className:"px-4 py-2 border-r text-right",children:["AED ",I.netTotal?.toLocaleString("en-AE",{minimumFractionDigits:2})||"0.00"]})," ",jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r text-center",children:jsxRuntimeExports.jsx("button",{className:"border border-gray-300 bg-white px-2 py-1 text-[10px] rounded hover:bg-gray-50",children:"Payment Schedule"})}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-2 text-center space-y-1",children:[jsxRuntimeExports.jsx("button",{className:"w-full bg-gray-800 text-white px-2 py-1 text-[10px] rounded hover:bg-gray-700",children:"Add DO"}),jsxRuntimeExports.jsx("button",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-[10px] rounded hover:bg-gray-50",children:"View History of DO"})]})]},I.id))})]})})]})]})]})},API_URL$a="https://javapaas-202946-0.cloudclusters.net/api",RentalSalesOrderForm=()=>{const{id:e}=useParams(),[t]=useSearchParams(),n=t.get("quotationId"),o=useNavigate(),l=!!e,[u,m]=reactExports.useState(!1),[p,j]=reactExports.useState(!0),[f,g]=reactExports.useState([]),[b,R]=reactExports.useState([]),[v,N]=reactExports.useState([]),[S,$]=reactExports.useState([]),[C,A]=reactExports.useState([{crmProductId:"",itemCode:"",itemName:"",description:"",categoryId:"",subcategoryId:"",availableSubcategories:[],quantity:1,rentalValue:0,amount:0,taxPercentage:0,taxValue:0,isTaxExempt:!1}]),[T,D]=reactExports.useState([]),[I,L]=reactExports.useState([]),[_,M]=reactExports.useState({orderDate:new Date().toISOString().split("T")[0],customerId:"",salespersonId:"",reference:"",shipmentDate:"",fromDate:"",toDate:"",deliveryLead:"",validity:"",paymentTerms:"",priceBasis:"",dearSir:"",rentalDurationDays:1,subTotalPerDay:0,totalRentalPrice:0,totalDiscount:0,otherCharges:0,grossTotal:0,totalTax:0,netTotal:0,termsAndConditions:"",notes:"",manufacture:"",remarks:"",emailTo:"",status:"DRAFT",template:"Standard"});reactExports.useEffect(()=>{(async()=>{j(!0);try{const ne={Authorization:`Bearer ${localStorage.getItem("token")}`},[H,te,Y,le]=await Promise.all([axios.get(`${API_URL$a}/parties`,{headers:ne}),axios.get(`${API_URL$a}/crm/sales-products`,{headers:ne}),axios.get(`${API_URL$a}/employees/all`,{headers:ne}),axios.get(`${API_URL$a}/production/categories`,{headers:ne})]);if(g(H.data.content||H.data||[]),R(te.data.content||te.data||[]),N(Y.data||[]),$(le.data||[]),l){const ae=(await axios.get(`${API_URL$a}/sales/rental-sales-orders/${e}`,{headers:ne})).data;if(M({...ae,customerId:ae.customerId||"",salespersonId:ae.salespersonId||"",orderDate:ae.orderDate||"",shipmentDate:ae.shipmentDate||"",fromDate:ae.fromDate||"",toDate:ae.toDate||""}),ae.items&&ae.items.length>0){const Z=await Promise.all(ae.items.map(async ce=>{let oe=[];if(ce.categoryId)try{oe=(await axios.get(`${API_URL$a}/production/sub-categories?categoryId=${ce.categoryId}`,{headers:ne})).data}catch(me){console.error("Failed to load subcats for item",me)}return{...ce,crmProductId:ce.crmProductId||"",categoryId:ce.categoryId||"",subcategoryId:ce.subcategoryId||"",availableSubcategories:oe}}));A(Z)}else A([]);L(ae.attachments||[])}else if(n){const ae=(await axios.get(`${API_URL$a}/sales/rental-quotations/${n}`,{headers:ne})).data;if(M(Z=>({...Z,customerId:ae.customerId||"",salespersonId:ae.salespersonId||"",reference:ae.quotationNumber,fromDate:ae.fromDate||"",toDate:ae.toDate||"",rentalDurationDays:ae.rentalDurationDays||1,termsAndConditions:ae.termsAndConditions||"",notes:ae.notes||"",dearSir:ae.dearSir||""})),ae.items&&ae.items.length>0){const Z=await Promise.all(ae.items.map(async ce=>{let oe=[];if(ce.categoryId)try{oe=(await axios.get(`${API_URL$a}/production/sub-categories?categoryId=${ce.categoryId}`,{headers:ne})).data}catch(me){console.error("Failed to load subcats for item",me)}return{...ce,id:void 0,quantity:Number(ce.quantity)||1,rentalValue:Number(ce.rentalValue)||0,amount:Number(ce.amount)||0,taxPercentage:Number(ce.taxPercentage)||0,taxValue:Number(ce.taxValue)||0,availableSubcategories:oe,isTaxExempt:!1}}));A(Z)}}}catch(J){console.error("Failed to load data",J),alert("Failed to load initial data")}finally{j(!1)}})()},[e,l,n]),reactExports.useEffect(()=>{if(_.fromDate&&_.toDate){const K=new Date(_.fromDate),J=new Date(_.toDate),ne=Math.abs(J-K),H=Math.ceil(ne/(1e3*60*60*24))+1;H>0&&M(te=>({...te,rentalDurationDays:H}))}},[_.fromDate,_.toDate]),reactExports.useEffect(()=>{const K=_.rentalDurationDays||1;let J=0,ne=0;C.map(le=>{const je=Number(le.quantity)||0,ae=Number(le.rentalValue)||0,Z=je*ae*K;let ce=0;return!le.isTaxExempt&&le.taxPercentage>0&&(ce=Z*le.taxPercentage/100),J+=je*ae,ne+=ce,{...le,amount:Z,taxValue:ce}});const H=J*K,te=H-(Number(_.totalDiscount)||0),Y=te+ne+(Number(_.otherCharges)||0);M(le=>({...le,subTotalPerDay:J,totalRentalPrice:H,totalTax:ne,grossTotal:te,netTotal:Y}))},[C,_.rentalDurationDays,_.totalDiscount,_.otherCharges]);const F=K=>{const{name:J,value:ne}=K.target;M(H=>({...H,[J]:ne}))},B=K=>{const J=K.target.value,ne=f.find(H=>H.id==J);M(H=>({...H,customerId:J,paymentTerms:ne?.paymentTerms||"",priceBasis:ne?.priceCategory||"",dearSir:ne?.primaryContactPerson||ne?.primaryFirstName||""}))},q=(K,J,ne)=>{const H=[...C];if(H[K][J]=ne,J==="crmProductId"){const te=b.find(Y=>Y.id==ne);te&&(H[K].itemCode=te.productCode||"",H[K].itemName=te.productName||"",H[K].description=te.description||"",H[K].rentalValue=te.salesPrice||0)}if(J==="categoryId"){const te=ne;if(H[K].subcategoryId="",H[K].availableSubcategories=[],te){const Y=localStorage.getItem("token");axios.get(`${API_URL$a}/production/sub-categories?categoryId=${te}`,{headers:{Authorization:`Bearer ${Y}`}}).then(le=>{const je=[...C];je[K].availableSubcategories=le.data,H[K].availableSubcategories=le.data,A([...H])})}}A(H)},z=()=>{A([...C,{crmProductId:"",itemCode:"",itemName:"",description:"",categoryId:"",subcategoryId:"",availableSubcategories:[],quantity:1,rentalValue:0,amount:0,taxPercentage:0,taxValue:0,isTaxExempt:!1}])},V=K=>{A(C.filter((J,ne)=>ne!==K))},Q=K=>{D([...T,...Array.from(K.target.files)])},ee=K=>{D(T.filter((J,ne)=>ne!==K))},G=async K=>{K.preventDefault(),m(!0);try{const J=new FormData,ne={..._,items:C.map(Y=>({crmProductId:Y.crmProductId||null,itemCode:Y.itemCode,itemName:Y.itemName,description:Y.description,categoryId:Y.categoryId||null,subcategoryId:Y.subcategoryId||null,quantity:Number(Y.quantity),rentalValue:Number(Y.rentalValue),taxValue:Number(Y.taxValue),taxPercentage:Number(Y.taxPercentage),isTaxExempt:Y.isTaxExempt}))};J.append("order",new Blob([JSON.stringify(ne)],{type:"application/json"})),T.forEach(Y=>{J.append("attachments",Y)});const te={Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"multipart/form-data"};l?await axios.put(`${API_URL$a}/sales/rental-sales-orders/${e}`,J,{headers:te}):await axios.post(`${API_URL$a}/sales/rental-sales-orders`,J,{headers:te}),o("/sales/rental-sales-orders")}catch(J){console.error("Submission failed",J),alert(`Error: ${J.response?.data?.message||J.message||"Failed to save order"}`)}finally{m(!1)}};return p?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-screen",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"animate-spin text-primary lg:w-12 lg:h-12"})}):jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full bg-slate-50",children:[jsxRuntimeExports.jsxs("div",{className:"bg-primary p-4 flex justify-between items-center text-primary-foreground sticky top-0 z-10 shadow-md",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>o("/sales/rental-sales-orders"),className:"p-1 hover:bg-white/20 rounded-full",children:jsxRuntimeExports.jsx(ArrowLeft,{size:20})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-semibold",children:l?"Edit Rental Sales Order":"New Rental Sales Order"}),jsxRuntimeExports.jsxs("div",{className:"text-sm opacity-80",children:["Sales > Rental Sales Orders > ",l?"Edit":"New"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>o("/sales/rental-sales-orders"),className:"bg-white/10 hover:bg-white/20 text-white px-4 py-2 rounded text-sm transition-colors",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{form:"order-form",type:"submit",disabled:u,className:"bg-white text-primary px-4 py-2 rounded text-sm font-bold hover:bg-gray-100 flex items-center gap-2 transition-colors shadow-sm",children:[u&&jsxRuntimeExports.jsx(LoaderCircle,{size:16,className:"animate-spin"})," ",jsxRuntimeExports.jsx(Save,{size:16})," Save"]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:jsxRuntimeExports.jsxs("form",{id:"order-form",onSubmit:G,className:"p-6 max-w-full mx-auto w-full space-y-6 bg-white rounded-lg shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:["Customer Name",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("select",{name:"customerId",required:!0,value:_.customerId,onChange:B,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-primary outline-none bg-slate-50 hover:bg-white transition-colors",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Customer"}),f.map(K=>jsxRuntimeExports.jsx("option",{value:K.id,children:K.companyName},K.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Sales Person"}),jsxRuntimeExports.jsxs("select",{name:"salespersonId",value:_.salespersonId,onChange:F,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-primary outline-none",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Salesperson"}),v.map(K=>jsxRuntimeExports.jsxs("option",{value:K.id,children:[K.firstName," ",K.lastName]},K.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:["Order Date ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{type:"date",name:"orderDate",required:!0,value:_.orderDate,onChange:F,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-primary outline-none"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Shipment Date"}),jsxRuntimeExports.jsx("input",{type:"date",name:"shipmentDate",value:_.shipmentDate,onChange:F,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-primary outline-none"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"From Date"}),jsxRuntimeExports.jsx("input",{type:"date",name:"fromDate",value:_.fromDate,onChange:F,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-primary outline-none"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"To Date"}),jsxRuntimeExports.jsx("input",{type:"date",name:"toDate",value:_.toDate,onChange:F,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-primary outline-none"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Reference"}),jsxRuntimeExports.jsx("input",{type:"text",name:"reference",value:_.reference,onChange:F,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-primary outline-none"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Dear Sir"}),jsxRuntimeExports.jsx("input",{type:"text",name:"dearSir",value:_.dearSir,onChange:F,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-primary outline-none",placeholder:"Contact Person"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Delivery Lead"}),jsxRuntimeExports.jsx("input",{type:"text",name:"deliveryLead",value:_.deliveryLead,onChange:F,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-primary outline-none"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Validity"}),jsxRuntimeExports.jsx("input",{type:"text",name:"validity",value:_.validity,onChange:F,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-primary outline-none"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Payment Terms"}),jsxRuntimeExports.jsx("input",{type:"text",name:"paymentTerms",value:_.paymentTerms,onChange:F,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-primary outline-none"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Price Basis"}),jsxRuntimeExports.jsx("input",{type:"text",name:"priceBasis",value:_.priceBasis,onChange:F,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-primary outline-none"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Manufacture"}),jsxRuntimeExports.jsx("input",{type:"text",name:"manufacture",value:_.manufacture,onChange:F,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-primary outline-none"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Remarks"}),jsxRuntimeExports.jsx("textarea",{name:"remarks",rows:"1",value:_.remarks,onChange:F,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-primary outline-none"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Email To"}),jsxRuntimeExports.jsx("input",{type:"email",name:"emailTo",value:_.emailTo,onChange:F,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-primary outline-none",placeholder:"email@example.com"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2 mt-8 border-b pb-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Item Details"}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:z,className:"bg-primary/10 text-primary px-3 py-1.5 rounded-full text-sm hover:bg-primary/20 flex items-center gap-1 font-medium transition-colors",children:[jsxRuntimeExports.jsx(Plus,{size:16})," Add Item"]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border rounded-lg bg-gray-50/50",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-xs",children:[jsxRuntimeExports.jsx("thead",{className:"bg-[#E0E0E0] text-gray-700 font-bold",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"p-3 border-r min-w-[200px]",children:"Item"}),jsxRuntimeExports.jsx("th",{className:"p-3 border-r min-w-[150px]",children:"Description"}),jsxRuntimeExports.jsx("th",{className:"p-3 border-r w-32",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"p-3 border-r w-32",children:"Subcategory"}),jsxRuntimeExports.jsx("th",{className:"p-3 border-r w-24",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"p-3 border-r w-32",children:"Rental Value"}),jsxRuntimeExports.jsx("th",{className:"p-3 border-r w-24",children:"Tax %"}),jsxRuntimeExports.jsx("th",{className:"p-3 border-r w-24 text-right",children:"Amount"}),jsxRuntimeExports.jsx("th",{className:"p-3 w-16 text-center",children:"Action"})]})}),jsxRuntimeExports.jsx("tbody",{children:C.map((K,J)=>jsxRuntimeExports.jsxs("tr",{className:"border-b bg-white hover:bg-gray-50",children:[jsxRuntimeExports.jsxs("td",{className:"p-2 border-r",children:[jsxRuntimeExports.jsxs("select",{value:K.crmProductId,onChange:ne=>q(J,"crmProductId",ne.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 mb-1",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Item"}),b.map(ne=>jsxRuntimeExports.jsx("option",{value:ne.id,children:ne.productName},ne.id))]}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Item Code",value:K.itemCode,onChange:ne=>q(J,"itemCode",ne.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 mb-1"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Item Name",value:K.itemName,onChange:ne=>q(J,"itemName",ne.target.value),className:"w-full border border-gray-300 rounded px-2 py-1"})]}),jsxRuntimeExports.jsx("td",{className:"p-2 border-r align-top",children:jsxRuntimeExports.jsx("textarea",{rows:"3",value:K.description,onChange:ne=>q(J,"description",ne.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 resize-none"})}),jsxRuntimeExports.jsx("td",{className:"p-2 border-r align-top",children:jsxRuntimeExports.jsxs("select",{value:K.categoryId,onChange:ne=>q(J,"categoryId",ne.target.value),className:"w-full border border-gray-300 rounded px-2 py-1",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select"}),S.map(ne=>jsxRuntimeExports.jsx("option",{value:ne.id,children:ne.name},ne.id))]})}),jsxRuntimeExports.jsx("td",{className:"p-2 border-r align-top",children:jsxRuntimeExports.jsxs("select",{value:K.subcategoryId,onChange:ne=>q(J,"subcategoryId",ne.target.value),className:"w-full border border-gray-300 rounded px-2 py-1",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select"}),K.availableSubcategories?.map(ne=>jsxRuntimeExports.jsx("option",{value:ne.id,children:ne.name},ne.id))]})}),jsxRuntimeExports.jsx("td",{className:"p-2 border-r align-top",children:jsxRuntimeExports.jsx("input",{type:"number",min:"1",value:K.quantity,onChange:ne=>q(J,"quantity",ne.target.value),className:"w-full border border-gray-300 rounded px-2 py-1"})}),jsxRuntimeExports.jsx("td",{className:"p-2 border-r align-top",children:jsxRuntimeExports.jsx("input",{type:"number",step:"0.01",value:K.rentalValue,onChange:ne=>q(J,"rentalValue",ne.target.value),className:"w-full border border-gray-300 rounded px-2 py-1"})}),jsxRuntimeExports.jsx("td",{className:"p-2 border-r align-top",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("input",{type:"number",step:"0.01",value:K.taxPercentage,onChange:ne=>q(J,"taxPercentage",ne.target.value),className:"w-full border border-gray-300 rounded px-2 py-1",placeholder:"%"}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-1 text-[10px] text-gray-500",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:K.isTaxExempt,onChange:ne=>q(J,"isTaxExempt",ne.target.checked)})," Exempt"]})]})}),jsxRuntimeExports.jsx("td",{className:"p-2 border-r font-medium text-right align-top",children:K.amount?.toFixed(2)}),jsxRuntimeExports.jsx("td",{className:"p-2 text-center align-top",children:jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>V(J),className:"text-red-500 hover:text-red-700 p-1 hover:bg-red-50 rounded-full",children:jsxRuntimeExports.jsx(Trash2,{size:16})})})]},J))})]})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mt-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-bold text-gray-700 mb-2",children:"Attachments"}),jsxRuntimeExports.jsxs("div",{className:"border border-dashed border-gray-300 rounded-lg p-4 text-center hover:bg-gray-50 transition-colors",children:[jsxRuntimeExports.jsx("input",{type:"file",multiple:!0,onChange:Q,className:"hidden",id:"file-upload"}),jsxRuntimeExports.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer flex flex-col items-center gap-2 text-gray-500",children:[jsxRuntimeExports.jsx(Upload,{size:24}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Click to upload files"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 mt-2",children:[T.map((K,J)=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center bg-gray-100 px-3 py-1.5 rounded text-sm",children:[jsxRuntimeExports.jsx("span",{className:"truncate max-w-[200px]",children:K.name}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>ee(J),className:"text-red-500 hover:text-red-700",children:jsxRuntimeExports.jsx(Trash2,{size:14})})]},J)),I.map((K,J)=>{const ne=K.startsWith("http")?K:`${API_URL$a}/sales/attachments/view?file=${encodeURIComponent(K.startsWith("/")?K.slice(1):K)}`;return jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center bg-blue-50 px-3 py-1.5 rounded text-sm",children:jsxRuntimeExports.jsxs("a",{href:ne,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:underline truncate max-w-[200px]",children:[jsxRuntimeExports.jsx(Link,{size:14})," ",K.split("/").pop()]})},J)})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Terms & Conditions"}),jsxRuntimeExports.jsx("textarea",{name:"termsAndConditions",rows:"3",value:_.termsAndConditions,onChange:F,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-primary outline-none"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Notes"}),jsxRuntimeExports.jsx("textarea",{name:"notes",rows:"2",value:_.notes,onChange:F,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-primary outline-none"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg border border-gray-200",children:[jsxRuntimeExports.jsx("h4",{className:"font-bold text-gray-800 border-b pb-2 mb-4",children:"Order Summary"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Rental Duration"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[_.rentalDurationDays," Days"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Total Net Rental per day"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:["AED ",_.subTotalPerDay?.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between font-medium",children:[jsxRuntimeExports.jsxs("span",{className:"text-gray-700",children:["Total Rental Price (for ",_.rentalDurationDays," days)"]}),jsxRuntimeExports.jsxs("span",{children:["AED ",_.totalRentalPrice?.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center gap-4",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Discount"}),jsxRuntimeExports.jsx("input",{type:"number",name:"totalDiscount",value:_.totalDiscount,onChange:F,className:"w-24 text-right border border-gray-300 rounded px-2 py-1 text-sm bg-white",placeholder:"0.00"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-t pt-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700",children:"Gross Total"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:["AED ",_.grossTotal?.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Total Tax"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:["AED ",_.totalTax?.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center gap-4",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Other Charges"}),jsxRuntimeExports.jsx("input",{type:"number",name:"otherCharges",value:_.otherCharges,onChange:F,className:"w-24 text-right border border-gray-300 rounded px-2 py-1 text-sm bg-white",placeholder:"0.00"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-t border-gray-300 pt-3 mt-2",children:[jsxRuntimeExports.jsx("span",{className:"text-lg font-bold text-primary",children:"Net Total"}),jsxRuntimeExports.jsxs("span",{className:"text-lg font-bold text-primary",children:["AED ",_.netTotal?.toFixed(2)]})]})]})]})]})]})})]})},API_URL$9="https://javapaas-202946-0.cloudclusters.net/api",RentalQuotationView=()=>{const{id:e}=useParams(),t=useNavigate(),[n,o]=reactExports.useState(null),[l,u]=reactExports.useState(null),[m,p]=reactExports.useState(!0),[j,f]=reactExports.useState(null),[g,b]=reactExports.useState(!1),[R,v]=reactExports.useState(!1),N=reactExports.useRef(null),S=reactExports.useRef(null);reactExports.useEffect(()=>{(async()=>{p(!0);try{const I={Authorization:`Bearer ${localStorage.getItem("token")}`},[L,_]=await Promise.all([axios.get(`${API_URL$9}/sales/rental-quotations/${e}`,{headers:I}),axios.get(`${API_URL$9}/company-info`,{headers:I}).catch(()=>({data:null}))]);let M=L.data,F=null;if(M.customerId)try{F=(await axios.get(`${API_URL$9}/parties/${M.customerId}`,{headers:I})).data}catch(B){console.error("Failed to fetch party details",B)}o({...M,customerParty:F}),u(_.data)}catch(D){console.error("Error fetching data:",D),f("Failed to load quotation details.")}finally{p(!1)}})()},[e]),reactExports.useEffect(()=>{const T=D=>{N.current&&!N.current.contains(D.target)&&b(!1),S.current&&!S.current.contains(D.target)&&v(!1)};return document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[]);const $=T=>`${T} Dirhams`,C=async()=>{try{const T=await axios.get(`${API_URL$9}/sales/rental-quotations/${e}/pdf`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},responseType:"blob"}),D=window.URL.createObjectURL(new Blob([T.data])),I=document.createElement("a");I.href=D,I.setAttribute("download",`Rental_Quotation_${n.quotationNumber}.pdf`),document.body.appendChild(I),I.click(),I.remove()}catch(T){console.error("Failed to download PDF",T),alert("Failed to download PDF. Please try again.")}},A=T=>T?typeof T=="string"?T:[T.addressLine,T.city,T.state,T.country,T.zipCode].filter(Boolean).join(", "):"Address not available";return m?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-screen",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"animate-spin h-8 w-8 text-blue-600"})}):j?jsxRuntimeExports.jsx("div",{className:"p-8 text-center text-red-600",children:j}):n?jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-screen bg-slate-50 print:bg-white print:h-auto",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white border-b shadow-sm print:hidden",children:[jsxRuntimeExports.jsxs("div",{className:"px-6 py-2 text-xs text-gray-500 flex items-center gap-1",children:[jsxRuntimeExports.jsx("span",{className:"cursor-pointer hover:text-blue-600",onClick:()=>t("/"),children:"Home"})," >",jsxRuntimeExports.jsx("span",{className:"cursor-pointer hover:text-blue-600",onClick:()=>t("/sales"),children:"Sales"})," >",jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700",children:"View Rental Quotation"})]}),jsxRuntimeExports.jsxs("div",{className:"px-6 py-3 bg-primary text-white flex justify-between items-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-semibold",children:"View Rental Quotation"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>t("/sales/rental-quotations"),className:"px-3 py-1 bg-primary hover:bg-violet-800 text-sm rounded transition-colors",children:"All Quotations"}),jsxRuntimeExports.jsx("button",{onClick:()=>t("/sales/rental-quotations/new"),className:"px-3 py-1 bg-primary hover:bg-violet-800 text-sm rounded transition-colors",children:"+ New Quotation"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"px-6 py-3 flex flex-wrap gap-2 items-center bg-white border-b print:hidden",children:[jsxRuntimeExports.jsx("button",{onClick:()=>t(`/sales/rental-quotations/edit/${e}`),className:"p-2 bg-[#5bc0de] text-white rounded hover:bg-[#46b8da]",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:C,className:"p-2 bg-[#d9534f] text-white rounded hover:bg-[#d43f3a]",title:"PDF",children:jsxRuntimeExports.jsx(FileText,{size:16})}),jsxRuntimeExports.jsx("button",{className:"p-2 bg-[#5cb85c] text-white rounded hover:bg-[#4cae4c]",title:"WhatsApp",children:jsxRuntimeExports.jsx("span",{className:"font-bold text-xs",children:"WA"})}),jsxRuntimeExports.jsx("button",{onClick:()=>window.print(),className:"p-2 bg-[#0275d8] text-white rounded hover:bg-[#025aa5]",title:"Print",children:jsxRuntimeExports.jsx(Printer,{size:16})}),jsxRuntimeExports.jsxs("button",{className:"px-3 py-1.5 bg-[#0275d8] text-white rounded text-sm hover:bg-[#025aa5] flex items-center gap-1",children:[jsxRuntimeExports.jsx(Printer,{size:14})," Print On Letterhead"]}),jsxRuntimeExports.jsx("button",{className:"p-2 bg-[#f0ad4e] text-white rounded hover:bg-[#eea236]",title:"Email",children:jsxRuntimeExports.jsx(Mail,{size:16})}),jsxRuntimeExports.jsx("button",{className:"p-2 bg-[#aeb6bf] text-white rounded hover:bg-[#8e99a4]",title:"Attachments",children:jsxRuntimeExports.jsx(Paperclip,{size:16})}),jsxRuntimeExports.jsxs("div",{className:"relative",ref:N,children:[jsxRuntimeExports.jsxs("button",{onClick:()=>b(!g),className:"px-3 py-1.5 bg-primary text-white rounded text-sm hover:bg-violet-800 flex items-center gap-1",children:["Convert ",jsxRuntimeExports.jsx(ChevronDown,{size:14})]}),g&&jsxRuntimeExports.jsxs("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white border rounded shadow-lg z-10 text-sm",children:[jsxRuntimeExports.jsx("button",{className:"block w-full text-left px-4 py-2 hover:bg-gray-100 text-[#0099cc]",onClick:()=>t(`/sales/rental-sales-orders/new?quotationId=${e}`),children:"Convert to Rental Order"}),jsxRuntimeExports.jsx("button",{className:"block w-full text-left px-4 py-2 hover:bg-gray-100 text-[#0099cc]",onClick:()=>alert("Convert to Rental Invoice feature coming soon"),children:"Convert to Rental Invoice"})]})]}),jsxRuntimeExports.jsxs("div",{className:"relative",ref:S,children:[jsxRuntimeExports.jsxs("button",{onClick:()=>v(!R),className:"px-3 py-1.5 bg-primary text-white rounded text-sm hover:bg-violet-800 flex items-center gap-1",children:["More ",jsxRuntimeExports.jsx(ChevronDown,{size:14})]}),R&&jsxRuntimeExports.jsx("div",{className:"absolute top-full left-0 mt-1 w-40 bg-white border rounded shadow-lg z-10 text-sm",children:jsxRuntimeExports.jsx("button",{className:"block w-full text-left px-4 py-2 hover:bg-gray-100 text-red-600",onClick:()=>{window.confirm("Delete this quotation?")&&axios.delete(`${API_URL$9}/sales/rental-quotations/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(()=>t("/sales/rental-quotations")).catch(T=>alert("Failed to delete"))},children:"Delete"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"px-6 py-2 bg-[#f9f9f9] border-b text-xs text-gray-500 flex flex-col gap-1 print:hidden",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] uppercase font-bold text-white ${n.status==="SENT"?"bg-blue-500":n.status==="ACCEPTED"?"bg-green-500":"bg-gray-400"}`,children:n.status})}),jsxRuntimeExports.jsx("div",{className:"flex justify-between w-full max-w-3xl",children:n.updatedAt&&jsxRuntimeExports.jsxs("span",{children:[new Date(n.updatedAt).toLocaleString(),"  Updated by ",n.updatedBy||"System"]})}),jsxRuntimeExports.jsx("div",{className:"flex justify-between w-full max-w-3xl",children:jsxRuntimeExports.jsxs("span",{children:[n.createdAt?new Date(n.createdAt).toLocaleString():"-","  Created by ",n.createdBy||"System"]})})]}),jsxRuntimeExports.jsx("div",{className:"flex-grow overflow-y-auto p-6 bg-slate-50 print:p-0 print:bg-white print:overflow-visible",children:jsxRuntimeExports.jsxs("div",{className:"w-full bg-white border shadow-sm p-8 relative text-sm print:w-full print:border-none print:shadow-none print:p-0",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-800",children:l?.companyName||"Your Company Name"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600",children:[l?.address||"Address Line 1",", ",l?.city||"City"," ",l?.country||"Country"," ",l?.email||"email@example.com"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start border-t border-b border-gray-300 py-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx("span",{className:"w-32 font-semibold",children:"Quotation No."}),jsxRuntimeExports.jsxs("span",{children:[": ",n.quotationNumber]})]}),jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx("span",{className:"w-32 font-semibold",children:"Quotation Date"}),jsxRuntimeExports.jsxs("span",{children:[": ",new Date(n.quotationDate).toLocaleDateString()]})]}),jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx("span",{className:"w-32 font-semibold",children:"Expiry Date"}),jsxRuntimeExports.jsxs("span",{children:[": ",n.expiryDate?new Date(n.expiryDate).toLocaleDateString():"-"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx("span",{className:"w-32 font-semibold",children:"Reference No."}),jsxRuntimeExports.jsxs("span",{children:[": ",n.reference||"-"]})]}),n.salespersonName&&jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx("span",{className:"w-32 font-semibold",children:"Salesperson"}),jsxRuntimeExports.jsxs("span",{children:[": ",n.salespersonName]})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Rental Quotation"}),jsxRuntimeExports.jsxs("p",{className:"text-xs font-semibold mt-1",children:["TRN : ",l?.pan||"104349488700003"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-6 bg-gray-100 p-2",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold mb-1",children:"Bill To"}),jsxRuntimeExports.jsxs("div",{className:"text-gray-700",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:n.customerParty?.companyName||n.customerName}),jsxRuntimeExports.jsx("p",{children:A(n.customerParty?.billingAddress)}),jsxRuntimeExports.jsxs("p",{className:"font-semibold mt-1",children:["TRN : ",n.customerParty?.vatTrnNumber||"N/A"]}),n.dearSir&&jsxRuntimeExports.jsxs("p",{className:"mt-1",children:["Attn: ",n.dearSir]})]})]}),jsxRuntimeExports.jsxs("table",{className:"w-full mb-8",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"border-t border-b border-gray-300 bg-gray-50 text-xs",children:[jsxRuntimeExports.jsx("th",{className:"py-2 text-center w-12",children:"S.N"}),jsxRuntimeExports.jsx("th",{className:"py-2 text-left",children:"Item & Description"}),jsxRuntimeExports.jsx("th",{className:"py-2 text-center w-24",children:"Qty (Unit)"}),jsxRuntimeExports.jsx("th",{className:"py-2 text-right w-24",children:"Rent/Unit"}),jsxRuntimeExports.jsx("th",{className:"py-2 text-center w-20",children:"Days"}),jsxRuntimeExports.jsx("th",{className:"py-2 text-center w-20",children:"VAT (%)"}),jsxRuntimeExports.jsx("th",{className:"py-2 text-right w-24",children:"VAT Amount"}),jsxRuntimeExports.jsx("th",{className:"py-2 text-right w-24",children:"Amount"})]})}),jsxRuntimeExports.jsx("tbody",{className:"text-xs",children:n.items.map((T,D)=>{const I=Number(T.quantity)||0,L=Number(T.rentalValue)||0,_=Number(n.rentalDurationDays)||1,M=I*L*_,F=T.taxValue||M*(T.taxPercentage||0)/100;return jsxRuntimeExports.jsxs("tr",{className:"border-b border-gray-200",children:[jsxRuntimeExports.jsx("td",{className:"py-3 text-center",children:D+1}),jsxRuntimeExports.jsxs("td",{className:"py-3",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:T.itemName}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:T.itemCode}),T.description&&jsxRuntimeExports.jsx("p",{className:"text-gray-400 italic text-[10px]",children:T.description})]}),jsxRuntimeExports.jsx("td",{className:"py-3 text-center",children:I}),jsxRuntimeExports.jsx("td",{className:"py-3 text-right",children:L.toFixed(2)}),jsxRuntimeExports.jsx("td",{className:"py-3 text-center",children:_}),jsxRuntimeExports.jsxs("td",{className:"py-3 text-center",children:[T.taxPercentage||"0","%"]}),jsxRuntimeExports.jsx("td",{className:"py-3 text-right",children:F.toFixed(2)}),jsxRuntimeExports.jsx("td",{className:"py-3 text-right",children:M.toFixed(2)})]},T.id||D)})})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-bold text-sm mb-1",children:"Amount in Words :"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:$(n.netTotal)})]}),n.notes&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-bold text-sm mb-1",children:"Notes"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600 whitespace-pre-wrap",children:n.notes})]}),n.termsAndConditions&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-bold text-sm mb-1",children:"Terms & Conditions"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600 whitespace-pre-wrap",children:n.termsAndConditions})]})]}),jsxRuntimeExports.jsxs("div",{className:"w-full md:w-80",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-1 text-sm border-b border-gray-100",children:[jsxRuntimeExports.jsx("span",{children:"Total Net Rental / Day"}),jsxRuntimeExports.jsx("span",{children:n.subTotalPerDay?.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-1 text-sm border-b border-gray-100",children:[jsxRuntimeExports.jsx("span",{children:"Rental Duration"}),jsxRuntimeExports.jsxs("span",{children:[n.rentalDurationDays," Days"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-1 text-sm border-b border-gray-100 font-medium",children:[jsxRuntimeExports.jsx("span",{children:"Total Rental Price"}),jsxRuntimeExports.jsx("span",{children:n.totalRentalPrice?.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-1 text-sm border-b border-gray-100",children:[jsxRuntimeExports.jsx("span",{children:"Total Discount"}),jsxRuntimeExports.jsx("span",{children:n.totalDiscount?.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-1 text-sm border-b border-gray-100",children:[jsxRuntimeExports.jsx("span",{children:"Gross Total"}),jsxRuntimeExports.jsx("span",{children:n.grossTotal?.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-1 text-sm border-b border-gray-100",children:[jsxRuntimeExports.jsx("span",{children:"Total VAT"}),jsxRuntimeExports.jsx("span",{children:n.totalTax?.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-1 text-sm border-b border-gray-100",children:[jsxRuntimeExports.jsx("span",{children:"Other Charges"}),jsxRuntimeExports.jsx("span",{children:n.otherCharges?.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-2 text-base font-bold border-t border-gray-300 mt-2",children:[jsxRuntimeExports.jsx("span",{children:"Net Total"}),jsxRuntimeExports.jsxs("span",{children:["AED ",n.netTotal?.toLocaleString("en-AE",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]})]})})]}):jsxRuntimeExports.jsx("div",{className:"p-8 text-center",children:"Quotation not found."})},API_URL$8="https://javapaas-202946-0.cloudclusters.net/api",getStatusColor$1=e=>{switch(e){case"DRAFT":return"text-gray-600 bg-gray-100";case"SENT":return"text-blue-600 bg-blue-100";case"ACCEPTED":return"text-green-600 bg-green-100";case"REJECTED":return"text-red-600 bg-red-100";case"INVOICED":return"text-purple-600 bg-purple-100";case"OPEN":return"text-purple-600 bg-purple-100";default:return"text-gray-600 bg-gray-100"}},ProformaInvoice=()=>{const e=useNavigate(),[t,n]=reactExports.useState([]),[o,l]=reactExports.useState([]),[u,m]=reactExports.useState(!0),[p,j]=reactExports.useState(null),[f,g]=reactExports.useState({customerName:"",fromDate:new Date().toISOString().split("T")[0],toDate:new Date(new Date().setDate(new Date().getDate()+30)).toISOString().split("T")[0],status:"All",teamMember:""}),[b,R]=reactExports.useState(0),[v,N]=reactExports.useState(10),[S,$]=reactExports.useState(0),C=reactExports.useMemo(()=>({headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),[]),A=reactExports.useCallback(async()=>{try{const L=await axios.get(`${API_URL$8}/employees/all`,C);l(L.data||[])}catch(L){console.error("Failed to fetch employees",L)}},[C]),T=reactExports.useCallback(async()=>{m(!0);try{const L={page:b,size:v,search:f.customerName,fromDate:f.fromDate,toDate:f.toDate,salespersonId:f.teamMember||void 0},_=await axios.get(`${API_URL$8}/sales/proforma-invoices`,{params:L,...C});n(_.data.content||[]),$(_.data.totalPages),j(null)}catch(L){j("Failed to fetch proforma invoices. Please try again."),console.error(L)}finally{m(!1)}},[b,v,f,C]);reactExports.useEffect(()=>{A()},[A]),reactExports.useEffect(()=>{T()},[T]);const D=L=>{const{name:_,value:M}=L.target;g(F=>({...F,[_]:M})),R(0)},I=async L=>{if(window.confirm("Are you sure you want to delete this proforma invoice?"))try{await axios.delete(`${API_URL$8}/sales/proforma-invoices/${L}`,C),T()}catch(_){alert(`Error: ${_.response?.data?.message||"Failed to delete invoice."}`)}};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full bg-slate-50",children:[jsxRuntimeExports.jsxs("div",{className:"bg-primary p-4 flex justify-between items-center text-primary-foreground",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-semibold",children:"Manage Proforma Invoices"}),jsxRuntimeExports.jsx("div",{className:"text-sm opacity-80",children:"Home > Sales > Manage Proforma Invoices"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>e("/sales/proforma-invoices/new"),className:"bg-white text-gray-800 border border-gray-300 px-4 py-2 rounded text-sm hover:bg-gray-50 flex items-center gap-1 font-bold shadow-sm",children:[jsxRuntimeExports.jsx(Plus,{size:16})," New Invoices"]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow-sm border border-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4 items-end",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Customer Name"}),jsxRuntimeExports.jsx("input",{type:"text",name:"customerName",value:f.customerName,onChange:D,className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",placeholder:"Search Customer"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"From"}),jsxRuntimeExports.jsx("input",{type:"date",name:"fromDate",value:f.fromDate,onChange:D,className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"To"}),jsxRuntimeExports.jsx("input",{type:"date",name:"toDate",value:f.toDate,onChange:D,className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm"})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("button",{onClick:T,className:"bg-primary text-white px-6 py-1.5 rounded text-sm hover:bg-violet-800 font-medium",children:"Search"})})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:jsxRuntimeExports.jsxs("div",{className:"md:col-span-1",children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Team Members"}),jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsxs("select",{name:"teamMember",value:f.teamMember,onChange:D,className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm bg-white",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Team Member"}),o.map(L=>jsxRuntimeExports.jsxs("option",{value:L.id,children:[L.firstName," ",L.lastName]},L.id))]})})]})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded shadow-sm border border-gray-200 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"p-2 border-b flex items-center gap-2",children:[jsxRuntimeExports.jsxs("select",{className:"border border-gray-300 rounded px-2 py-1 text-xs",value:v,onChange:L=>N(Number(L.target.value)),children:[jsxRuntimeExports.jsx("option",{value:"10",children:"10"}),jsxRuntimeExports.jsx("option",{value:"25",children:"25"}),jsxRuntimeExports.jsx("option",{value:"50",children:"50"})]}),jsxRuntimeExports.jsx("div",{className:"flex-grow"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",className:"border border-gray-300 rounded px-2 py-1 text-xs"})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-xs text-left",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-100 text-gray-700 font-bold border-b",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r w-16",children:"S.No."}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Due Date"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Invoices#"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Reference#"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Customer Name"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 border-r text-right",children:"Amount"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-center w-24",children:"Action"})]})}),jsxRuntimeExports.jsx("tbody",{children:u?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"9",className:"text-center py-10",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"h-6 w-6 animate-spin mx-auto text-blue-500"})})}):p?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"9",className:"text-center py-10 text-red-500",children:p})}):t.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"9",className:"text-center py-10 font-medium text-gray-500",children:"No record available"})}):t.map((L,_)=>jsxRuntimeExports.jsxs("tr",{className:"border-b hover:bg-gray-50 text-gray-700",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r",children:b*v+_+1}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r",children:L.invoiceDate?new Date(L.invoiceDate).toLocaleDateString():"-"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r",children:L.dueDate?new Date(L.dueDate).toLocaleDateString():"-"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r text-sky-600 cursor-pointer hover:underline font-medium",onClick:()=>e(`/sales/proforma-invoices/${L.id}`),children:L.invoiceNumber}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r",children:L.reference||"-"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r",children:L.customerName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2 border-r font-medium",children:jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] ${getStatusColor$1(L.status)}`,children:L.status||"OPEN"})}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-2 border-r font-medium text-right",children:["AED ",L.netTotal?.toLocaleString("en-AE",{minimumFractionDigits:2})]}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-2 flex justify-center gap-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>e(`/sales/proforma-invoices/edit/${L.id}`),className:"p-1.5 bg-gray-700 text-white rounded hover:bg-gray-600 shadow-sm",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:12})}),jsxRuntimeExports.jsx("button",{onClick:()=>I(L.id),className:"p-1.5 bg-red-500 text-white rounded hover:bg-red-600 shadow-sm",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:12})})]})]},L.id))})]})}),jsxRuntimeExports.jsxs("div",{className:"p-2 border-t flex justify-between items-center text-xs text-gray-500",children:[jsxRuntimeExports.jsxs("span",{children:["Showing ",t.length>0?1:0," to ",t.length," of ",t.length," entries"]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[jsxRuntimeExports.jsx("button",{className:"px-2 py-1 border rounded hover:bg-gray-100",disabled:!0,children:"Previous"}),jsxRuntimeExports.jsx("button",{className:"px-2 py-1 bg-purple-900 text-white rounded",children:"1"}),jsxRuntimeExports.jsx("button",{className:"px-2 py-1 border rounded hover:bg-gray-100",children:"Next"})]})]})]})]})]})},API_URL$7="https://javapaas-202946-0.cloudclusters.net/api",ProformaInvoiceForm=()=>{const{id:e}=useParams(),t=useNavigate(),n=!!e,[o,l]=reactExports.useState(!1),[u,m]=reactExports.useState(!0),[p,j]=reactExports.useState([]),[f,g]=reactExports.useState([]),[b,R]=reactExports.useState([]),[v,N]=reactExports.useState([]),[S,$]=reactExports.useState(null),[C,A]=reactExports.useState([{crmProductId:"",itemCode:"",itemName:"",description:"",categoryId:"",subcategoryId:"",availableSubcategories:[],quantity:1,rate:0,amount:0,taxPercentage:0,taxValue:0,isTaxExempt:!1}]),[T,D]=reactExports.useState([]),[I,L]=reactExports.useState([]),[_,M]=reactExports.useState({invoiceLedger:"Sales",invoiceDate:new Date().toISOString().split("T")[0],customerId:"",invoiceNumber:"",reference:"",dueDate:"",dateOfSupply:"",salespersonId:"",poNumber:"",subTotal:0,totalDiscount:0,grossTotal:0,totalTax:0,otherCharges:0,netTotal:0,termsAndConditions:"",notes:"",bankDetails:"",template:"Standard",emailTo:"",status:"DRAFT"}),[F,B]=reactExports.useState(""),[q,z]=reactExports.useState("");reactExports.useEffect(()=>{(async()=>{m(!0);try{const Y={Authorization:`Bearer ${localStorage.getItem("token")}`},[le,je,ae,Z]=await Promise.all([axios.get(`${API_URL$7}/parties`,{headers:Y}),axios.get(`${API_URL$7}/crm/sales-products`,{headers:Y}),axios.get(`${API_URL$7}/employees/all`,{headers:Y}),axios.get(`${API_URL$7}/production/categories`,{headers:Y})]);if(j(le.data.content||le.data||[]),g(je.data.content||je.data||[]),R(ae.data||[]),N(Z.data||[]),n){const oe=(await axios.get(`${API_URL$7}/sales/proforma-invoices/${e}`,{headers:Y})).data;M({...oe,invoiceLedger:oe.invoiceLedger||"Sales",invoiceDate:oe.invoiceDate||"",customerId:oe.customerId||"",reference:oe.reference||"",dueDate:oe.dueDate||"",dateOfSupply:oe.dateOfSupply||"",salespersonId:oe.salespersonId||"",poNumber:oe.poNumber||"",termsAndConditions:oe.termsAndConditions||"",notes:oe.notes||"",bankDetails:oe.bankDetails||"",template:oe.template||"Standard",emailTo:oe.emailTo||"",status:oe.status||"DRAFT"});const me=(le.data.content||le.data||[]).find(fe=>fe.id===oe.customerId);if(me&&(B(V(me.billingAddress)),z(V(me.shippingAddress))),oe.items&&oe.items.length>0){const fe=await Promise.all(oe.items.map(async xe=>{let ge=[];if(xe.categoryId)try{ge=(await axios.get(`${API_URL$7}/production/sub-categories?categoryId=${xe.categoryId}`,{headers:Y})).data}catch(Ce){console.error("Failed to load subcats",Ce)}return{...xe,crmProductId:xe.crmProductId||"",categoryId:xe.categoryId||"",subcategoryId:xe.subcategoryId||"",availableSubcategories:ge,isTaxExempt:xe.isTaxExempt||!1}}));A(fe)}else A([]);L(oe.attachments||[])}}catch(te){console.error("Failed to load data",te),$("Failed to load initial data")}finally{m(!1)}})()},[e,n]);const V=H=>H?typeof H=="string"?H:[H.addressLine,H.city,H.country].filter(Boolean).join(", "):"",Q=H=>{const{name:te,value:Y}=H.target;if(M(le=>({...le,[te]:Y})),te==="customerId"){const le=p.find(je=>je.id.toString()===Y);le?(B(V(le.billingAddress)),z(V(le.shippingAddress))):(B(""),z(""))}},ee=(H,te)=>{const{name:Y,value:le,type:je,checked:ae}=te.target,Z=[...C];if(je==="checkbox"?Z[H][Y]=ae:Z[H][Y]=le,Y==="crmProductId"){const xe=f.find(ge=>ge.id.toString()===le);xe&&(Z[H].itemName=xe.name,Z[H].itemCode=xe.itemCode,Z[H].rate=xe.salesPrice,Z[H].description=xe.description||"")}if(Y==="categoryId"){Z[H].subcategoryId="";const xe=le;if(xe){const ge=localStorage.getItem("token");axios.get(`${API_URL$7}/production/sub-categories?categoryId=${xe}`,{headers:{Authorization:`Bearer ${ge}`}}).then(Ce=>{Z[H].availableSubcategories=Ce.data||[]})}else Z[H].availableSubcategories=[]}const ce=Number(Z[H].quantity)||0,oe=Number(Z[H].rate)||0,me=ce*oe;Z[H].amount=me,Z[H].isTaxExempt;let fe=0;if(Z[H].isTaxExempt)Z[H].taxPercentage=0;else{const xe=Number(Z[H].taxPercentage)||5;fe=me*xe/100,Z[H].taxPercentage=xe}Z[H].taxValue=fe,A(Z)},G=()=>{A([...C,{crmProductId:"",itemCode:"",itemName:"",description:"",categoryId:"",subcategoryId:"",availableSubcategories:[],quantity:1,rate:0,amount:0,taxPercentage:5,taxValue:0,isTaxExempt:!1}])},K=H=>{A(C.filter((te,Y)=>Y!==H))},J=H=>{H.target.files&&D([...T,...Array.from(H.target.files)])};reactExports.useEffect(()=>{let H=0,te=0;C.forEach(Z=>{H+=Number(Z.amount)||0,te+=Number(Z.taxValue)||0});const Y=Number(_.totalDiscount)||0,le=Number(_.otherCharges)||0,je=H-Y,ae=je+te+le;M(Z=>({...Z,subTotal:H,totalTax:te,grossTotal:je,netTotal:ae}))},[C,_.totalDiscount,_.otherCharges]);const ne=async H=>{H.preventDefault(),l(!0);try{const te=localStorage.getItem("token"),Y={..._,items:C.map(ae=>({crmProductId:ae.crmProductId?Number(ae.crmProductId):null,itemCode:ae.itemCode,itemName:ae.itemName,description:ae.description,categoryId:ae.categoryId?Number(ae.categoryId):null,subcategoryId:ae.subcategoryId?Number(ae.subcategoryId):null,quantity:Number(ae.quantity),rate:Number(ae.rate),taxValue:Number(ae.taxValue),isTaxExempt:ae.isTaxExempt,taxPercentage:Number(ae.taxPercentage)}))},le=new FormData;le.append("proformaInvoice",new Blob([JSON.stringify(Y)],{type:"application/json"})),T.forEach(ae=>le.append("files",ae));const je={headers:{Authorization:`Bearer ${te}`,"Content-Type":"multipart/form-data"}};n?await axios.put(`${API_URL$7}/sales/proforma-invoices/${e}`,le,je):await axios.post(`${API_URL$7}/sales/proforma-invoices`,le,je),t("/sales/proforma-invoices")}catch(te){console.error("Submit error",te),alert("Failed to save proforma invoice")}finally{l(!1)}};return u?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-screen",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"animate-spin text-blue-500"})}):jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-screen bg-slate-50",children:[jsxRuntimeExports.jsxs("header",{className:"bg-primary text-white shadow-sm p-4 flex items-center justify-between sticky top-0 z-10",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>t("/sales/proforma-invoices"),className:"text-gray-300 hover:text-white",children:jsxRuntimeExports.jsx(ArrowLeft,{})}),jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold",children:n?"Edit Proforma Invoice":"Add New Proforma Invoice"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>t("/sales/proforma-invoices"),className:"px-4 py-2 bg-gray-600 rounded hover:bg-gray-700",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",form:"pf-form",disabled:o,className:"px-4 py-2 bg-green-600 rounded hover:bg-green-700 flex items-center gap-2",children:[o?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(Save,{className:"h-4 w-4"}),n?"Update":"Save"]})]})]}),jsxRuntimeExports.jsx("main",{className:"flex-grow overflow-y-auto p-6",children:jsxRuntimeExports.jsxs("form",{id:"pf-form",onSubmit:ne,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow-sm border border-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Invoice Ledgers*"}),jsxRuntimeExports.jsx("select",{name:"invoiceLedger",value:_.invoiceLedger,onChange:Q,className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm bg-gray-50",children:jsxRuntimeExports.jsx("option",{value:"Sales",children:"Sales"})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Customer Name *"}),jsxRuntimeExports.jsxs("select",{name:"customerId",value:_.customerId,onChange:Q,required:!0,className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Customer"}),p.map(H=>jsxRuntimeExports.jsx("option",{value:H.id,children:H.companyName},H.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Billing Address"}),jsxRuntimeExports.jsx("textarea",{readOnly:!0,value:F,rows:"3",className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm bg-gray-100"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Invoice Date"}),jsxRuntimeExports.jsx("input",{type:"date",name:"invoiceDate",value:_.invoiceDate,onChange:Q,className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm"})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end pt-6",children:jsxRuntimeExports.jsx("div",{className:"bg-primary text-white px-3 py-1 text-sm font-bold rounded",children:"AED"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Shipping Address"}),jsxRuntimeExports.jsx("textarea",{readOnly:!0,value:q,rows:"3",className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm bg-gray-100"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mt-6 pt-4 border-t",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Invoice"}),jsxRuntimeExports.jsx("input",{type:"text",value:_.invoiceNumber||"Auto-generated",readOnly:!0,className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm bg-gray-100 text-gray-500"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Order Number (Reference)"}),jsxRuntimeExports.jsx("input",{type:"text",name:"reference",value:_.reference,onChange:Q,className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Due Date"}),jsxRuntimeExports.jsx("input",{type:"date",name:"dueDate",value:_.dueDate,onChange:Q,className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Date Of Supply"}),jsxRuntimeExports.jsx("input",{type:"date",name:"dateOfSupply",value:_.dateOfSupply,onChange:Q,className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Salesperson"}),jsxRuntimeExports.jsxs("select",{name:"salespersonId",value:_.salespersonId,onChange:Q,className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Salesperson"}),b.map(H=>jsxRuntimeExports.jsxs("option",{value:H.id,children:[H.firstName," ",H.lastName]},H.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"PO #"}),jsxRuntimeExports.jsx("input",{type:"text",name:"poNumber",value:_.poNumber,onChange:Q,className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow-sm border border-gray-200 overflow-x-auto",children:[jsxRuntimeExports.jsx("div",{className:"mb-2 p-2 bg-gray-100 text-sm font-semibold flex justify-between",children:jsxRuntimeExports.jsx("span",{children:"Item & Description"})}),jsxRuntimeExports.jsxs("table",{className:"w-full text-xs min-w-[900px]",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-gray-50 border-b",children:[jsxRuntimeExports.jsx("th",{className:"p-2 w-48 text-left",children:"Item Details"}),jsxRuntimeExports.jsx("th",{className:"p-2 w-24 text-left",children:"Quantity"}),jsxRuntimeExports.jsx("th",{className:"p-2 w-24 text-left",children:"Rate"}),jsxRuntimeExports.jsx("th",{className:"p-2 w-24 text-left",children:"Amount"}),jsxRuntimeExports.jsx("th",{className:"p-2 w-32 text-left",children:"Tax Value"}),jsxRuntimeExports.jsx("th",{className:"p-2 w-16 text-center",children:"Action"})]})}),jsxRuntimeExports.jsx("tbody",{children:C.map((H,te)=>jsxRuntimeExports.jsxs("tr",{className:"border-b align-top",children:[jsxRuntimeExports.jsxs("td",{className:"p-2 space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[jsxRuntimeExports.jsxs("select",{name:"categoryId",value:H.categoryId,onChange:Y=>ee(te,Y),className:"border border-gray-300 rounded px-2 py-1 w-full",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Category"}),v.map(Y=>jsxRuntimeExports.jsx("option",{value:Y.id,children:Y.name},Y.id))]}),jsxRuntimeExports.jsxs("select",{name:"subcategoryId",value:H.subcategoryId,onChange:Y=>ee(te,Y),className:"border border-gray-300 rounded px-2 py-1 w-full",disabled:!H.categoryId,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Sub Category"}),H.availableSubcategories?.map(Y=>jsxRuntimeExports.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]}),jsxRuntimeExports.jsxs("select",{name:"crmProductId",value:H.crmProductId,onChange:Y=>ee(te,Y),className:"border border-gray-300 rounded px-2 py-1 w-full",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Item"}),f.map(Y=>jsxRuntimeExports.jsx("option",{value:Y.id,children:Y.name},Y.id))]}),jsxRuntimeExports.jsx("textarea",{name:"description",value:H.description,onChange:Y=>ee(te,Y),placeholder:"Description",rows:"2",className:"border border-gray-300 rounded px-2 py-1 w-full"})]}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"number",name:"quantity",value:H.quantity,onChange:Y=>ee(te,Y),className:"border border-gray-300 rounded px-2 py-1 w-full",min:"1"})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"number",name:"rate",value:H.rate,onChange:Y=>ee(te,Y),className:"border border-gray-300 rounded px-2 py-1 w-full"})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"number",value:H.amount,readOnly:!0,className:"border border-gray-300 rounded px-2 py-1 w-full bg-gray-50"})}),jsxRuntimeExports.jsxs("td",{className:"p-2 space-y-1",children:[jsxRuntimeExports.jsx("input",{type:"number",value:H.taxValue,readOnly:!0,className:"border border-gray-300 rounded px-2 py-1 w-full bg-gray-50"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"isTaxExempt",checked:H.isTaxExempt,onChange:Y=>ee(te,Y),className:"rounded"}),jsxRuntimeExports.jsx("span",{className:"text-[10px] text-gray-500",children:"Is Tax Exempt"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("input",{type:"number",name:"taxPercentage",value:H.taxPercentage||0,onChange:Y=>ee(te,Y),className:"border border-gray-300 rounded px-1 py-0.5 w-10 text-[10px]",disabled:H.isTaxExempt}),jsxRuntimeExports.jsx("span",{className:"text-[10px] text-gray-500",children:"%"})]})]}),jsxRuntimeExports.jsx("td",{className:"p-2 text-center",children:jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>K(te),className:"p-1 bg-red-500 text-white rounded hover:bg-red-600",children:jsxRuntimeExports.jsx(Trash2,{size:14})})})]},te))})]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:G,className:`mt-4 px-3 py-1 bg-primary
                         text-white text-xs rounded hover:bg-violet-800 flex items-center gap-1`,children:[jsxRuntimeExports.jsx(Plus,{size:12})," Add"]})]}),jsxRuntimeExports.jsx("div",{className:"bg-white p-4 rounded shadow-sm border border-gray-200",children:jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsxs("div",{className:"w-full md:w-1/3 space-y-2 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-b pb-1",children:[jsxRuntimeExports.jsx("span",{children:"Sub Total"}),jsxRuntimeExports.jsx("span",{children:_.subTotal?.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-b pb-1 items-center",children:[jsxRuntimeExports.jsx("span",{children:"Total Discount"}),jsxRuntimeExports.jsx("input",{type:"number",name:"totalDiscount",value:_.totalDiscount,onChange:Q,className:"w-24 border border-gray-300 rounded px-2 py-0.5 text-right",placeholder:"0.00"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-b pb-1",children:[jsxRuntimeExports.jsx("span",{children:"Gross Total"}),jsxRuntimeExports.jsx("span",{children:_.grossTotal?.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-b pb-1",children:[jsxRuntimeExports.jsx("span",{children:"Total Tax"}),jsxRuntimeExports.jsx("span",{children:_.totalTax?.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-b pb-1 items-center",children:[jsxRuntimeExports.jsx("span",{children:"Other Charges"}),jsxRuntimeExports.jsx("input",{type:"number",name:"otherCharges",value:_.otherCharges,onChange:Q,className:"w-24 border border-gray-300 rounded px-2 py-0.5 text-right",placeholder:"0.00"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between pt-2 font-bold text-base",children:[jsxRuntimeExports.jsx("span",{children:"Net Total"}),jsxRuntimeExports.jsx("span",{children:_.netTotal?.toFixed(2)})]})]})})}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow-sm border border-gray-200 grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsx("div",{className:"space-y-4",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Attach File"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-center",children:[jsxRuntimeExports.jsxs("label",{className:"cursor-pointer bg-white border border-gray-300 px-3 py-1.5 rounded text-sm hover:bg-gray-50 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Paperclip,{size:14})," Browse... ",jsxRuntimeExports.jsx("input",{type:"file",multiple:!0,onChange:J,className:"hidden"})]}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-500",children:[T.length," file(s) selected"]})]}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Max 5 files, 5MB each"})]})}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Terms & Conditions"}),jsxRuntimeExports.jsx("textarea",{name:"termsAndConditions",value:_.termsAndConditions,onChange:Q,rows:"3",className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",placeholder:"Delivery, Lead Time, Payment Terms, Validity etc."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Notes"}),jsxRuntimeExports.jsx("textarea",{name:"notes",value:_.notes,onChange:Q,rows:"2",className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",placeholder:"Will be displayed on Invoice"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Bank Details"}),jsxRuntimeExports.jsx("textarea",{name:"bankDetails",value:_.bankDetails,onChange:Q,rows:"2",className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm",placeholder:"Will be displayed on Invoice"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow-sm border border-gray-200",children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Email To"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:!!_.emailTo,onChange:H=>M({..._,emailTo:H.target.checked?"sajid@alghassangroup.com":""})}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"sajid@alghassangroup.com (Demo)"})]})]})]})})]})},API_URL$6="https://javapaas-202946-0.cloudclusters.net/api",ProformaInvoiceView=()=>{const{id:e}=useParams(),t=useNavigate(),[n,o]=reactExports.useState(null),[l,u]=reactExports.useState(null),[m,p]=reactExports.useState(!0),[j,f]=reactExports.useState(null),[g,b]=reactExports.useState(!1),[R,v]=reactExports.useState(!1),N=reactExports.useRef(null),S=reactExports.useRef(null);reactExports.useEffect(()=>{(async()=>{p(!0);try{const _={Authorization:`Bearer ${localStorage.getItem("token")}`},[M,F]=await Promise.all([axios.get(`${API_URL$6}/sales/proforma-invoices/${e}`,{headers:_}),axios.get(`${API_URL$6}/company-info`,{headers:_}).catch(()=>({data:null}))]);o(M.data),u(F.data)}catch(L){console.error("Error fetching data",L),f("Failed to load proforma invoice details.")}finally{p(!1)}})()},[e]),reactExports.useEffect(()=>{const I=L=>{N.current&&!N.current.contains(L.target)&&b(!1),S.current&&!S.current.contains(L.target)&&v(!1)};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[]);const $=I=>{const L=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],_=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],M=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],F=["","Thousand","Million","Billion","Trillion"],B=ee=>{let G="";return ee>=100&&(G+=L[Math.floor(ee/100)]+" Hundred ",ee%=100),ee>=20&&(G+=M[Math.floor(ee/10)]+" ",ee%=10),ee>=10&&(G+=_[ee-10]+" ",ee=0),ee>0&&(G+=L[ee]+" "),G};if(I===0)return"Zero Dirhams";let q=Math.floor(I),z=Math.round((I-q)*100),V="",Q=0;do{let ee=q%1e3;ee!==0&&(V=B(ee)+F[Q]+" "+V),q=Math.floor(q/1e3),Q++}while(q>0);return V=V.trim(),V&&(V+=" Dirhams"),z>0&&(V+=` and ${z}/100 Fils`),V},C=()=>{window.print()},A=async()=>{try{const I=localStorage.getItem("token"),L=await axios.get(`${API_URL$6}/sales/proforma-invoices/pdf/${e}`,{headers:{Authorization:`Bearer ${I}`},responseType:"blob"}),_=window.URL.createObjectURL(new Blob([L.data])),M=document.createElement("a");M.href=_,M.setAttribute("download",`ProformaInvoice_${n.invoiceNumber}.pdf`),document.body.appendChild(M),M.click(),M.remove()}catch(I){console.error("PDF Download failed",I),alert("Failed to download PDF.")}},T=async()=>{if(window.confirm("Are you sure you want to delete this proforma invoice?"))try{const I=localStorage.getItem("token");await axios.delete(`${API_URL$6}/sales/proforma-invoices/${e}`,{headers:{Authorization:`Bearer ${I}`}}),t("/sales/proforma-invoices")}catch{alert("Failed to delete invoice")}},D=I=>I?typeof I=="string"?I:[I.addressLine,I.city,I.state,I.country,I.zipCode].filter(Boolean).join(", "):"Address not available";return m?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-screen",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"animate-spin h-8 w-8 text-blue-600"})}):j?jsxRuntimeExports.jsx("div",{className:"p-8 text-center text-red-600",children:j}):n?jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-screen bg-slate-50 print:bg-white print:h-auto",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white border-b shadow-sm print:hidden",children:[jsxRuntimeExports.jsxs("div",{className:"px-6 py-2 text-xs text-gray-500 flex items-center gap-1",children:[jsxRuntimeExports.jsx("span",{className:"cursor-pointer hover:text-blue-600",onClick:()=>t("/"),children:"Home"})," >",jsxRuntimeExports.jsx("span",{className:"cursor-pointer hover:text-blue-600",onClick:()=>t("/sales"),children:"Sales"})," >",jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-700",children:"View Proforma Invoice"})]}),jsxRuntimeExports.jsxs("div",{className:"px-6 py-3 bg-primary text-white flex justify-between items-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-semibold",children:"View Proforma Invoice"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>t("/sales/proforma-invoices"),className:"px-3 py-1 bg-primary hover:bg-violet-800 text-sm rounded transition-colors",children:"All Invoices"}),jsxRuntimeExports.jsx("button",{onClick:()=>t("/sales/proforma-invoices/new"),className:"px-3 py-1 bg-primary hover:bg-violet-800 text-sm rounded transition-colors",children:"+ New Invoice"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"px-6 py-3 flex flex-wrap gap-2 items-center bg-white border-b print:hidden",children:[jsxRuntimeExports.jsx("button",{onClick:()=>t(`/sales/proforma-invoices/edit/${e}`),className:"p-2 bg-[#5bc0de] text-white rounded hover:bg-[#46b8da]",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:A,className:"p-2 bg-[#d9534f] text-white rounded hover:bg-[#d43f3a]",title:"PDF",children:jsxRuntimeExports.jsx(FileText,{size:16})}),jsxRuntimeExports.jsx("button",{className:"p-2 bg-[#5cb85c] text-white rounded hover:bg-[#4cae4c]",title:"WhatsApp",children:jsxRuntimeExports.jsx("span",{className:"font-bold text-xs",children:"WA"})}),jsxRuntimeExports.jsx("button",{onClick:C,className:"p-2 bg-[#0275d8] text-white rounded hover:bg-[#025aa5]",title:"Print",children:jsxRuntimeExports.jsx(Printer,{size:16})}),jsxRuntimeExports.jsxs("button",{className:"px-3 py-1.5 bg-[#0275d8] text-white rounded text-sm hover:bg-[#025aa5] flex items-center gap-1",children:[jsxRuntimeExports.jsx(Printer,{size:14})," Print On Letterhead"]}),jsxRuntimeExports.jsx("button",{className:"p-2 bg-[#f0ad4e] text-white rounded hover:bg-[#eea236]",title:"Email",children:jsxRuntimeExports.jsx(Mail,{size:16})}),jsxRuntimeExports.jsx("button",{className:"p-2 bg-[#aeb6bf] text-white rounded hover:bg-[#8e99a4]",title:"Attachments",children:jsxRuntimeExports.jsx(Paperclip,{size:16})}),jsxRuntimeExports.jsxs("div",{className:"relative",ref:N,children:[jsxRuntimeExports.jsxs("button",{onClick:()=>b(!g),className:"px-3 py-1.5 bg-primary text-white rounded text-sm hover:bg-violet-800 flex items-center gap-1",children:["Convert ",jsxRuntimeExports.jsx(ChevronDown,{size:14})]}),g&&jsxRuntimeExports.jsx("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white border rounded shadow-lg z-10 text-sm",children:jsxRuntimeExports.jsx("button",{className:"block w-full text-left px-4 py-2 hover:bg-gray-100 text-[#0099cc]",onClick:()=>alert("Convert feature coming soon"),children:"Convert to Invoice"})})]}),jsxRuntimeExports.jsxs("div",{className:"relative",ref:S,children:[jsxRuntimeExports.jsxs("button",{onClick:()=>v(!R),className:"px-3 py-1.5 bg-primary text-white rounded text-sm hover:bg-violet-800 flex items-center gap-1",children:["More ",jsxRuntimeExports.jsx(ChevronDown,{size:14})]}),R&&jsxRuntimeExports.jsx("div",{className:"absolute top-full left-0 mt-1 w-40 bg-white border rounded shadow-lg z-10 text-sm",children:jsxRuntimeExports.jsxs("button",{className:"block w-full text-left px-4 py-2 hover:bg-gray-100 text-red-600 flex items-center gap-2",onClick:T,children:[jsxRuntimeExports.jsx(Trash2,{size:14})," Delete"]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"px-6 py-2 bg-[#f9f9f9] border-b text-xs text-gray-500 flex flex-col gap-1 print:hidden",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] uppercase font-bold text-white ${n.status==="SENT"?"bg-blue-500":n.status==="ACCEPTED"?"bg-green-500":"bg-gray-400"}`,children:n.status})}),jsxRuntimeExports.jsx("div",{className:"flex justify-between w-full max-w-3xl",children:n.updatedAt&&jsxRuntimeExports.jsxs("span",{children:[new Date(n.updatedAt).toLocaleString(),"  Updated by ",n.updatedBy||"System"]})}),jsxRuntimeExports.jsx("div",{className:"flex justify-between w-full max-w-3xl",children:jsxRuntimeExports.jsxs("span",{children:[n.createdAt?new Date(n.createdAt).toLocaleString():"-","  Created by ",n.createdBy||"System"]})})]}),jsxRuntimeExports.jsx("div",{className:"flex-grow overflow-y-auto p-6 bg-slate-50 print:p-0 print:bg-white print:overflow-visible",children:jsxRuntimeExports.jsxs("div",{className:"w-full bg-white border shadow-sm p-8 relative text-sm print:w-full print:border-none print:shadow-none print:p-0 min-h-[1000px]",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-800",children:l?.companyName||"Your Company Name"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600",children:[l?.address||"Address Line 1",", ",l?.city||"City"," ",l?.country||"Country"," ",l?.email||"email@example.com"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start border-t border-b border-gray-300 py-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx("span",{className:"w-32 font-semibold",children:"Invoice No."}),jsxRuntimeExports.jsxs("span",{children:[": ",n.invoiceNumber]})]}),jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx("span",{className:"w-32 font-semibold",children:"Invoice Date"}),jsxRuntimeExports.jsxs("span",{children:[": ",new Date(n.invoiceDate).toLocaleDateString()]})]}),jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx("span",{className:"w-32 font-semibold",children:"Due Date"}),jsxRuntimeExports.jsxs("span",{children:[": ",n.dueDate?new Date(n.dueDate).toLocaleDateString():"-"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx("span",{className:"w-32 font-semibold",children:"Reference No."}),jsxRuntimeExports.jsxs("span",{children:[": ",n.reference||"-"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx("span",{className:"w-32 font-semibold",children:"PO Number"}),jsxRuntimeExports.jsxs("span",{children:[": ",n.poNumber||"-"]})]}),n.salespersonName&&jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx("span",{className:"w-32 font-semibold",children:"Salesperson"}),jsxRuntimeExports.jsxs("span",{children:[": ",n.salespersonName]})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"PROFORMA INVOICE"}),jsxRuntimeExports.jsxs("p",{className:"text-xs font-semibold mt-1",children:["TRN : ",l?.pan||"104349488700003"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-6 bg-gray-100 p-2",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold mb-1",children:"Bill To"}),jsxRuntimeExports.jsxs("div",{className:"text-gray-700",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:n.customerName}),jsxRuntimeExports.jsx("p",{children:D(n.billingAddress)}),jsxRuntimeExports.jsxs("p",{className:"font-semibold mt-1",children:["TRN : ",n.customerTrn||"N/A"]})]})]}),jsxRuntimeExports.jsxs("table",{className:"w-full mb-8",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"border-t border-b border-gray-300 bg-gray-50 text-xs text-black",children:[jsxRuntimeExports.jsx("th",{className:"py-2 text-center w-12",children:"S.N"}),jsxRuntimeExports.jsx("th",{className:"py-2 text-left",children:"Item & Description"}),jsxRuntimeExports.jsx("th",{className:"py-2 text-center w-24",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"py-2 text-right w-24",children:"Rate"}),jsxRuntimeExports.jsx("th",{className:"py-2 text-center w-20",children:"Tax %"}),jsxRuntimeExports.jsx("th",{className:"py-2 text-right w-24",children:"Tax Amt"}),jsxRuntimeExports.jsx("th",{className:"py-2 text-right w-24",children:"Amount"})]})}),jsxRuntimeExports.jsx("tbody",{className:"text-xs",children:n.items?.map((I,L)=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-gray-200",children:[jsxRuntimeExports.jsx("td",{className:"py-3 text-center",children:L+1}),jsxRuntimeExports.jsxs("td",{className:"py-3",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:I.itemName}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:I.itemCode}),I.description&&jsxRuntimeExports.jsx("p",{className:"text-gray-400 italic text-[10px]",children:I.description})]}),jsxRuntimeExports.jsx("td",{className:"py-3 text-center",children:I.quantity}),jsxRuntimeExports.jsx("td",{className:"py-3 text-right",children:I.rate?.toFixed(2)}),jsxRuntimeExports.jsxs("td",{className:"py-3 text-center",children:[I.taxPercentage||0,"%"]}),jsxRuntimeExports.jsx("td",{className:"py-3 text-right",children:I.taxValue?.toFixed(2)}),jsxRuntimeExports.jsx("td",{className:"py-3 text-right",children:I.amount?.toFixed(2)})]},L))})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-bold text-sm mb-1",children:"Amount in Words :"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:$(n.netTotal)})]}),n.notes&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-bold text-sm mb-1",children:"Notes"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600 whitespace-pre-wrap",children:n.notes})]}),n.termsAndConditions&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-bold text-sm mb-1",children:"Terms & Conditions"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600 whitespace-pre-wrap",children:n.termsAndConditions})]}),n.bankDetails&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-bold text-sm mb-1",children:"Bank Details"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600 whitespace-pre-wrap",children:n.bankDetails})]})]}),jsxRuntimeExports.jsxs("div",{className:"w-full md:w-80",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-1 text-sm border-b border-gray-100",children:[jsxRuntimeExports.jsx("span",{children:"Sub Total"}),jsxRuntimeExports.jsx("span",{children:n.subTotal?.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-1 text-sm border-b border-gray-100",children:[jsxRuntimeExports.jsx("span",{children:"Total Discount"}),jsxRuntimeExports.jsx("span",{children:n.totalDiscount?.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-1 text-sm border-b border-gray-100",children:[jsxRuntimeExports.jsx("span",{children:"Total Tax"}),jsxRuntimeExports.jsx("span",{children:n.totalTax?.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-1 text-sm border-b border-gray-100",children:[jsxRuntimeExports.jsx("span",{children:"Other Charges"}),jsxRuntimeExports.jsx("span",{children:n.otherCharges?.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-2 text-base font-bold border-t border-gray-300 mt-2",children:[jsxRuntimeExports.jsx("span",{children:"Net Total"}),jsxRuntimeExports.jsxs("span",{children:["AED ",n.netTotal?.toLocaleString("en-AE",{minimumFractionDigits:2})]})]})]})]})]})})]}):jsxRuntimeExports.jsx("div",{className:"p-8 text-center",children:"Invoice not found"})},API_URL$5="https://javapaas-202946-0.cloudclusters.net/api",getStatusColor=e=>{switch(e){case"DRAFT":return"text-gray-600 bg-gray-100";case"SENT":return"text-blue-600 bg-blue-100";case"ACCEPTED":return"text-green-600 bg-green-100";case"REJECTED":return"text-red-600 bg-red-100";case"PAID":return"text-emerald-600 bg-emerald-100";case"PARTIAL":return"text-amber-600 bg-amber-100";case"OVERDUE":return"text-rose-600 bg-rose-100";case"OPEN":return"text-purple-600 bg-purple-100";default:return"text-gray-600 bg-gray-100"}},Invoice=()=>{const e=useNavigate(),[t,n]=reactExports.useState([]),[o,l]=reactExports.useState([]),[u,m]=reactExports.useState(!0),[p,j]=reactExports.useState(null),[f,g]=reactExports.useState({customerName:"",fromDate:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],toDate:new Date(new Date().getFullYear(),new Date().getMonth()+1,0).toISOString().split("T")[0],status:"All",teamMember:""}),[b,R]=reactExports.useState(0),[v,N]=reactExports.useState(10),[S,$]=reactExports.useState(0),C=reactExports.useMemo(()=>({headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),[]),A=reactExports.useCallback(async()=>{try{const L=await axios.get(`${API_URL$5}/employees/all`,C);l(L.data||[])}catch(L){console.error("Failed to fetch employees",L)}},[C]),T=reactExports.useCallback(async()=>{m(!0);try{const L={page:b,size:v,search:f.customerName||null,fromDate:f.fromDate||null,toDate:f.toDate||null,salespersonId:f.teamMember||null},_=await axios.get(`${API_URL$5}/sales/sales-invoices`,{...C,params:L});n(_.data.content||[]),$(_.data.totalPages||0),j(null)}catch(L){console.error("Failed to fetch invoices",L),j("Failed to load invoices."),n([])}finally{m(!1)}},[b,v,f,C]);reactExports.useEffect(()=>{A()},[A]),reactExports.useEffect(()=>{T()},[T]);const D=L=>{const{name:_,value:M}=L.target;g(F=>({...F,[_]:M})),R(0)},I=async L=>{if(window.confirm("Are you sure you want to delete this invoice?"))try{await axios.delete(`${API_URL$5}/sales/sales-invoices/${L}`,C),T()}catch(_){console.error("Failed to delete invoice",_),alert("Failed to delete invoice")}};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full bg-slate-50",children:[jsxRuntimeExports.jsxs("div",{className:"bg-primary p-4 flex justify-between items-center text-primary-foreground shadow-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold",children:"Manage Sales Invoices"}),jsxRuntimeExports.jsxs("div",{className:"text-xs opacity-80 mt-1 flex items-center gap-1",children:["Home ",jsxRuntimeExports.jsx("span",{children:">"})," Sales ",jsxRuntimeExports.jsx("span",{children:">"})," Manage Sales Invoices"]})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>e("/sales/invoices/new"),className:"bg-white text-primary px-4 py-2 rounded-md font-bold text-sm hover:bg-opacity-90 transition-colors flex items-center gap-2 shadow-sm",children:[jsxRuntimeExports.jsx(Plus,{size:16})," New Invoice"]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-4 flex-grow overflow-auto",children:[jsxRuntimeExports.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Customer Name"}),jsxRuntimeExports.jsx("input",{type:"text",name:"customerName",value:f.customerName,onChange:D,placeholder:"Search Customer...",className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-primary"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"From Date"}),jsxRuntimeExports.jsx("input",{type:"date",name:"fromDate",value:f.fromDate,onChange:D,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-primary"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"To Date"}),jsxRuntimeExports.jsx("input",{type:"date",name:"toDate",value:f.toDate,onChange:D,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-primary"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Team Member"}),jsxRuntimeExports.jsxs("select",{name:"teamMember",value:f.teamMember,onChange:D,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-primary",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Members"}),o.map(L=>jsxRuntimeExports.jsxs("option",{value:L.id,children:[L.firstName," ",L.lastName]},L.id))]})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("button",{onClick:T,className:"w-full bg-primary text-white py-2 rounded font-bold text-sm hover:bg-opacity-90 transition-colors flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx(Search,{size:16})," Search"]})})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:u?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-8",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"animate-spin text-primary h-8 w-8"})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-sm text-left",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-100 text-gray-700 font-bold border-b",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 w-16 text-center",children:"S.No."}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3",children:"Due Date"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3",children:"Invoices#"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3",children:"Reference#"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3",children:"Customer Name"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-center",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-right",children:"Amount"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-right",children:"Amount Received"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-right",children:"Balance Due"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-center w-24",children:"Action"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-gray-100",children:t.length>0?t.map((L,_)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-3 text-center text-gray-500",children:b*v+_+1}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 text-gray-600",children:L.invoiceDate}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 text-gray-600",children:L.dueDate}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3",children:jsxRuntimeExports.jsx("span",{onClick:()=>e(`/sales/invoices/${L.id}`),className:"text-primary font-medium cursor-pointer hover:underline",children:L.invoiceNumber})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 text-gray-600",children:L.reference||"-"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 font-medium text-gray-800",children:L.customerName}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 text-center",children:jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-medium uppercase tracking-wide border ${getStatusColor(L.status)} border-opacity-20`,children:L.status})}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-3 text-right font-medium text-gray-700",children:["AED ",L.netTotal?.toFixed(2)]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:L.amountReceived?`AED ${L.amountReceived.toFixed(2)}`:"-"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 text-right font-medium text-red-600",children:L.balanceDue?`AED ${L.balanceDue.toFixed(2)}`:"-"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 text-center",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>e(`/sales/invoices/${L.id}`),className:"p-1.5 bg-sky-500 text-white rounded hover:bg-sky-600 shadow-sm transition-colors",title:"View",children:jsxRuntimeExports.jsx(Eye,{size:14})}),jsxRuntimeExports.jsx("button",{onClick:()=>e(`/sales/invoices/edit/${L.id}`),className:"p-1.5 bg-gray-700 text-white rounded hover:bg-gray-600 shadow-sm transition-colors",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:14})}),jsxRuntimeExports.jsx("button",{onClick:()=>I(L.id),className:"p-1.5 bg-red-500 text-white rounded hover:bg-red-600 shadow-sm transition-colors",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:14})})]})})]},L.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"11",className:"px-4 py-8 text-center text-gray-500",children:"No invoices found. Try adjusting filters or create a new one."})})})]})}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t flex justify-between items-center text-xs text-gray-500 bg-gray-50",children:[jsxRuntimeExports.jsxs("span",{children:["Showing ",t.length," of ",S*v," entries"]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>R(L=>Math.max(0,L-1)),disabled:b===0,className:"px-3 py-1 bg-white border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[jsxRuntimeExports.jsx(ChevronLeft,{size:14,className:"mr-1"})," Previous"]}),jsxRuntimeExports.jsx("div",{className:"flex gap-1",children:[...Array(Math.min(5,S))].map((L,_)=>jsxRuntimeExports.jsx("button",{onClick:()=>R(_),className:`w-8 h-8 flex items-center justify-center rounded border ${b===_?"bg-primary text-white border-primary":"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"}`,children:_+1},_))}),jsxRuntimeExports.jsxs("button",{onClick:()=>R(L=>Math.min(S-1,L+1)),disabled:b>=S-1,className:"px-3 py-1 bg-white border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:["Next ",jsxRuntimeExports.jsx(ChevronRight,{size:14,className:"ml-1"})]})]})]})]})})]})]})},API_URL$4="https://javapaas-202946-0.cloudclusters.net/api",InvoiceForm=()=>{const{id:e}=useParams(),t=useNavigate(),n=!!e,[o,l]=reactExports.useState(!1),[u,m]=reactExports.useState(!0),[p,j]=reactExports.useState([]),[f,g]=reactExports.useState([]),[b,R]=reactExports.useState([]),[v,N]=reactExports.useState([]),[S,$]=reactExports.useState(null),[C,A]=reactExports.useState([{crmProductId:"",itemCode:"",itemName:"",description:"",categoryId:"",subcategoryId:"",availableSubcategories:[],quantityGross:0,quantityNet:0,sendQuantity:0,invoiceQuantity:1,packingType:"",rate:0,amount:0,taxPercentage:5,taxValue:0,isTaxExempt:!1}]),[T,D]=reactExports.useState([]),[I,L]=reactExports.useState([]),[_,M]=reactExports.useState({invoiceLedger:"Sales",invoiceDate:new Date().toISOString().split("T")[0],customerId:"",invoiceNumber:"",reference:"",orderNumber:"",dueDate:"",dateOfSupply:"",salespersonId:"",enableGrossNetWeight:!1,delayReason:"",amountReceived:0,balanceDue:0,subTotal:0,totalDiscount:0,grossTotal:0,totalTax:0,otherCharges:0,netTotal:0,termsAndConditions:"",notes:"",template:"Standard",emailTo:"",status:"DRAFT"}),[F,B]=reactExports.useState(""),[q,z]=reactExports.useState("");reactExports.useEffect(()=>{(async()=>{m(!0);try{const Y={Authorization:`Bearer ${localStorage.getItem("token")}`},[le,je,ae,Z]=await Promise.all([axios.get(`${API_URL$4}/parties`,{headers:Y}),axios.get(`${API_URL$4}/crm/sales-products`,{headers:Y}),axios.get(`${API_URL$4}/employees/all`,{headers:Y}),axios.get(`${API_URL$4}/production/categories`,{headers:Y})]);if(j(le.data.content||le.data||[]),g(je.data.content||je.data||[]),R(ae.data||[]),N(Z.data||[]),n){const oe=(await axios.get(`${API_URL$4}/sales/sales-invoices/${e}`,{headers:Y})).data;M({...oe,invoiceLedger:oe.invoiceLedger||"Sales",invoiceDate:oe.invoiceDate||"",customerId:oe.customerId||"",reference:oe.reference||"",orderNumber:oe.orderNumber||"",dueDate:oe.dueDate||"",dateOfSupply:oe.dateOfSupply||"",salespersonId:oe.salespersonId||"",enableGrossNetWeight:oe.enableGrossNetWeight||!1,delayReason:oe.delayReason||"",amountReceived:oe.amountReceived||0,balanceDue:oe.balanceDue||0,termsAndConditions:oe.termsAndConditions||"",notes:oe.notes||"",template:oe.template||"Standard",emailTo:oe.emailTo||"",status:oe.status||"DRAFT"});const me=(le.data.content||le.data||[]).find(fe=>fe.id===oe.customerId);if(me&&(B(V(me.billingAddress)),z(V(me.shippingAddress))),oe.items&&oe.items.length>0){const fe=await Promise.all(oe.items.map(async xe=>{let ge=[];return xe.categoryId,{...xe,crmProductId:xe.crmProductId||"",description:xe.description||"",quantityGross:xe.quantityGross||0,quantityNet:xe.quantityNet||0,sendQuantity:xe.sendQuantity||0,invoiceQuantity:xe.invoiceQuantity||0,packingType:xe.packingType||"",isTaxExempt:xe.isTaxExempt||!1}}));A(fe)}else A([]);L(oe.attachments||[])}}catch(te){console.error("Failed to load data",te),$("Failed to load initial data")}finally{m(!1)}})()},[e,n]);const V=H=>H?typeof H=="string"?H:[H.addressLine,H.city,H.country].filter(Boolean).join(", "):"",Q=H=>{const{name:te,value:Y,type:le,checked:je}=H.target,ae=le==="checkbox"?je:Y;if(M(Z=>({...Z,[te]:ae})),te==="customerId"){const Z=p.find(ce=>ce.id.toString()===Y);Z?(B(V(Z.billingAddress)),z(V(Z.shippingAddress))):(B(""),z(""))}},ee=(H,te)=>{const{name:Y,value:le,type:je,checked:ae}=te.target,Z=[...C];if(je==="checkbox"?Z[H][Y]=ae:Z[H][Y]=le,Y==="crmProductId"){const xe=f.find(ge=>ge.id.toString()===le);xe&&(Z[H].itemName=xe.name,Z[H].itemCode=xe.itemCode,Z[H].rate=xe.salesPrice,Z[H].description=xe.description||"")}if(Y==="categoryId"){Z[H].subcategoryId="";const xe=le;if(xe){const ge=localStorage.getItem("token");axios.get(`${API_URL$4}/production/sub-categories?categoryId=${xe}`,{headers:{Authorization:`Bearer ${ge}`}}).then(Ce=>{Z[H].availableSubcategories=Ce.data||[]})}else Z[H].availableSubcategories=[]}const ce=Number(Z[H].invoiceQuantity)||0,oe=Number(Z[H].rate)||0,me=ce*oe;Z[H].amount=me;let fe=0;if(Z[H].isTaxExempt)Z[H].taxPercentage=0;else{const xe=Number(Z[H].taxPercentage)||5;fe=me*xe/100,Z[H].taxPercentage=xe}Z[H].taxValue=fe,A(Z)},G=()=>{A([...C,{crmProductId:"",itemCode:"",itemName:"",description:"",categoryId:"",subcategoryId:"",availableSubcategories:[],quantityGross:0,quantityNet:0,sendQuantity:0,invoiceQuantity:1,packingType:"",rate:0,amount:0,taxPercentage:5,taxValue:0,isTaxExempt:!1}])},K=H=>{A(C.filter((te,Y)=>Y!==H))},J=H=>{H.target.files&&D([...T,...Array.from(H.target.files)])};reactExports.useEffect(()=>{let H=0,te=0;C.forEach(oe=>{H+=Number(oe.amount)||0,te+=Number(oe.taxValue)||0});const Y=Number(_.totalDiscount)||0,le=Number(_.otherCharges)||0,je=H-Y,ae=je+te+le,Z=Number(_.amountReceived)||0,ce=ae-Z;M(oe=>({...oe,subTotal:H,totalTax:te,grossTotal:je,netTotal:ae,balanceDue:ce}))},[C,_.totalDiscount,_.otherCharges,_.amountReceived]);const ne=async H=>{H.preventDefault(),l(!0);try{const te=localStorage.getItem("token"),Y={..._,items:C.map(ae=>({crmProductId:ae.crmProductId?Number(ae.crmProductId):null,itemCode:ae.itemCode,itemName:ae.itemName,description:ae.description,quantityGross:Number(ae.quantityGross),quantityNet:Number(ae.quantityNet),sendQuantity:Number(ae.sendQuantity),invoiceQuantity:Number(ae.invoiceQuantity),packingType:ae.packingType,rate:Number(ae.rate),taxValue:Number(ae.taxValue),isTaxExempt:ae.isTaxExempt,taxPercentage:Number(ae.taxPercentage)}))},le=new FormData;le.append("data",new Blob([JSON.stringify(Y)],{type:"application/json"})),T.forEach(ae=>le.append("files",ae));const je={headers:{Authorization:`Bearer ${te}`,"Content-Type":"multipart/form-data"}};n?await axios.put(`${API_URL$4}/sales/sales-invoices/${e}`,le,je):await axios.post(`${API_URL$4}/sales/sales-invoices`,le,je),t("/sales/invoices")}catch(te){console.error("Submit error",te),alert("Failed to save invoices")}finally{l(!1)}};return u?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-screen",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"animate-spin text-primary"})}):jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-screen bg-slate-50",children:[jsxRuntimeExports.jsxs("header",{className:"bg-primary text-white shadow-sm p-4 flex items-center justify-between sticky top-0 z-10",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>t("/sales/invoices"),className:"text-gray-300 hover:text-white",children:jsxRuntimeExports.jsx(ArrowLeft,{})}),jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold",children:n?"Edit Sales Invoice":"Add New Sales Invoice"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>t("/sales/invoices"),className:"px-4 py-2 bg-gray-600 rounded hover:bg-gray-700 font-medium text-sm",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",form:"inv-form",disabled:o,className:"px-4 py-2 bg-green-600 rounded hover:bg-green-700 flex items-center gap-2 font-medium text-sm",children:[o?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(Save,{className:"h-4 w-4"}),n?"Update":"Save"]})]})]}),jsxRuntimeExports.jsx("main",{className:"flex-grow overflow-y-auto p-6",children:jsxRuntimeExports.jsxs("form",{id:"inv-form",onSubmit:ne,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Invoice Ledgers*"}),jsxRuntimeExports.jsx("select",{name:"invoiceLedger",value:_.invoiceLedger,onChange:Q,className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm bg-gray-50",children:jsxRuntimeExports.jsx("option",{value:"Sales",children:"Sales"})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Customer Name *"}),jsxRuntimeExports.jsxs("select",{name:"customerId",value:_.customerId,onChange:Q,required:!0,className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm focus:outline-none focus:border-primary",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Customer"}),p.map(H=>jsxRuntimeExports.jsx("option",{value:H.id,children:H.companyName},H.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Billing Address"}),jsxRuntimeExports.jsx("textarea",{readOnly:!0,value:F,rows:"3",className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm bg-gray-100"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Invoice Date"}),jsxRuntimeExports.jsx("input",{type:"date",name:"invoiceDate",value:_.invoiceDate,onChange:Q,className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm focus:outline-none focus:border-primary"})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end pt-6",children:jsxRuntimeExports.jsx("div",{className:"bg-primary text-white px-3 py-1 text-sm font-bold rounded",children:"AED"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Shipping Address"}),jsxRuntimeExports.jsx("textarea",{readOnly:!0,value:q,rows:"3",className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm bg-gray-100"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mt-6 pt-4 border-t border-gray-100",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Invoice#"}),jsxRuntimeExports.jsx("input",{type:"text",value:_.invoiceNumber||"Auto-generated",readOnly:!0,className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm bg-gray-100 text-gray-500"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Order Number"}),jsxRuntimeExports.jsx("input",{type:"text",name:"orderNumber",value:_.orderNumber,onChange:Q,className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm focus:outline-none focus:border-primary"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Due Date"}),jsxRuntimeExports.jsx("input",{type:"date",name:"dueDate",value:_.dueDate,onChange:Q,className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm focus:outline-none focus:border-primary"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Date Of Supply"}),jsxRuntimeExports.jsx("input",{type:"date",name:"dateOfSupply",value:_.dateOfSupply,onChange:Q,className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm focus:outline-none focus:border-primary"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Salesperson"}),jsxRuntimeExports.jsxs("select",{name:"salespersonId",value:_.salespersonId,onChange:Q,className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm focus:outline-none focus:border-primary",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Salesperson"}),b.map(H=>jsxRuntimeExports.jsxs("option",{value:H.id,children:[H.firstName," ",H.lastName]},H.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Reference#"}),jsxRuntimeExports.jsx("input",{type:"text",name:"reference",value:_.reference,onChange:Q,className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm focus:outline-none focus:border-primary"})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"enableGrossNetWeight",checked:_.enableGrossNetWeight,onChange:Q,className:"rounded text-primary focus:ring-primary",id:"grossNetCheck"}),jsxRuntimeExports.jsx("label",{htmlFor:"grossNetCheck",className:"text-xs font-bold text-gray-700 cursor-pointer",children:"Would you like to enable Gross Weight and Net Weight?"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 overflow-x-auto",children:[jsxRuntimeExports.jsx("div",{className:"mb-2 p-2 bg-gray-100 text-sm font-semibold flex justify-between rounded",children:jsxRuntimeExports.jsx("span",{children:"Item & Description"})}),jsxRuntimeExports.jsxs("table",{className:"w-full text-xs min-w-[1000px] border-collapse",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-gray-50 border-b",children:[jsxRuntimeExports.jsx("th",{className:"p-2 w-48 text-left font-bold text-gray-700",children:"Item Details"}),_.enableGrossNetWeight&&jsxRuntimeExports.jsx("th",{className:"p-2 w-20 text-left font-bold text-gray-700",children:"Qty(Gross)"}),_.enableGrossNetWeight&&jsxRuntimeExports.jsx("th",{className:"p-2 w-20 text-left font-bold text-gray-700",children:"Qty(Net)"}),jsxRuntimeExports.jsx("th",{className:"p-2 w-20 text-left font-bold text-gray-700",children:"Send Qty"}),jsxRuntimeExports.jsx("th",{className:"p-2 w-20 text-left font-bold text-gray-700",children:"Inv Qty"}),jsxRuntimeExports.jsx("th",{className:"p-2 w-24 text-left font-bold text-gray-700",children:"Rate"}),jsxRuntimeExports.jsx("th",{className:"p-2 w-24 text-left font-bold text-gray-700",children:"Amount"}),jsxRuntimeExports.jsx("th",{className:"p-2 w-32 text-left font-bold text-gray-700",children:"Tax Value"}),jsxRuntimeExports.jsx("th",{className:"p-2 w-24 text-left font-bold text-gray-700",children:"Packing Type"}),jsxRuntimeExports.jsx("th",{className:"p-2 w-10 text-center font-bold text-gray-700",children:"Action"})]})}),jsxRuntimeExports.jsx("tbody",{children:C.map((H,te)=>jsxRuntimeExports.jsxs("tr",{className:"border-b align-top hover:bg-gray-50",children:[jsxRuntimeExports.jsxs("td",{className:"p-2 space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[jsxRuntimeExports.jsxs("select",{name:"categoryId",value:H.categoryId,onChange:Y=>ee(te,Y),className:"border border-gray-300 rounded px-2 py-1 w-full bg-white",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Category"}),v.map(Y=>jsxRuntimeExports.jsx("option",{value:Y.id,children:Y.name},Y.id))]}),jsxRuntimeExports.jsxs("select",{name:"subcategoryId",value:H.subcategoryId,onChange:Y=>ee(te,Y),className:"border border-gray-300 rounded px-2 py-1 w-full bg-white",disabled:!H.categoryId,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Sub Category"}),H.availableSubcategories?.map(Y=>jsxRuntimeExports.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]}),jsxRuntimeExports.jsxs("select",{name:"crmProductId",value:H.crmProductId,onChange:Y=>ee(te,Y),className:"border border-gray-300 rounded px-2 py-1 w-full bg-white",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Item"}),f.map(Y=>jsxRuntimeExports.jsx("option",{value:Y.id,children:Y.name},Y.id))]}),jsxRuntimeExports.jsx("textarea",{name:"description",value:H.description,onChange:Y=>ee(te,Y),placeholder:"Description",rows:"2",className:"border border-gray-300 rounded px-2 py-1 w-full"})]}),_.enableGrossNetWeight&&jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"number",name:"quantityGross",value:H.quantityGross,onChange:Y=>ee(te,Y),className:"border border-gray-300 rounded px-2 py-1 w-full"})}),_.enableGrossNetWeight&&jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"number",name:"quantityNet",value:H.quantityNet,onChange:Y=>ee(te,Y),className:"border border-gray-300 rounded px-2 py-1 w-full"})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"number",name:"sendQuantity",value:H.sendQuantity,onChange:Y=>ee(te,Y),className:"border border-gray-300 rounded px-2 py-1 w-full"})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"number",name:"invoiceQuantity",value:H.invoiceQuantity,onChange:Y=>ee(te,Y),className:"border border-gray-300 rounded px-2 py-1 w-full",min:"1"})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"number",name:"rate",value:H.rate,onChange:Y=>ee(te,Y),className:"border border-gray-300 rounded px-2 py-1 w-full"})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"number",value:H.amount,readOnly:!0,className:"border border-gray-300 rounded px-2 py-1 w-full bg-gray-50"})}),jsxRuntimeExports.jsxs("td",{className:"p-2 space-y-1",children:[jsxRuntimeExports.jsx("input",{type:"number",value:H.taxValue,readOnly:!0,className:"border border-gray-300 rounded px-2 py-1 w-full bg-gray-50"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"isTaxExempt",checked:H.isTaxExempt,onChange:Y=>ee(te,Y),className:"rounded text-primary focus:ring-primary"}),jsxRuntimeExports.jsx("span",{className:"text-[10px] text-gray-500",children:"Is Tax Exempt"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("input",{type:"number",name:"taxPercentage",value:H.taxPercentage||0,onChange:Y=>ee(te,Y),className:"border border-gray-300 rounded px-1 py-0.5 w-10 text-[10px]",disabled:H.isTaxExempt}),jsxRuntimeExports.jsx("span",{className:"text-[10px] text-gray-500",children:"%"})]})]}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"text",name:"packingType",value:H.packingType,onChange:Y=>ee(te,Y),className:"border border-gray-300 rounded px-2 py-1 w-full"})}),jsxRuntimeExports.jsx("td",{className:"p-2 text-center",children:jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>K(te),className:"p-1.5 bg-red-50 text-red-500 rounded hover:bg-red-100 transition-colors",children:jsxRuntimeExports.jsx(Trash2,{size:14})})})]},te))})]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:G,className:"mt-4 px-3 py-1.5 bg-primary text-white text-xs font-bold rounded hover:bg-opacity-90 flex items-center gap-1 transition-colors",children:[jsxRuntimeExports.jsx(Plus,{size:12})," Add Item"]})]}),jsxRuntimeExports.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row justify-end gap-12",children:[jsxRuntimeExports.jsx("div",{className:"w-full md:w-1/3"}),jsxRuntimeExports.jsxs("div",{className:"w-full md:w-1/3 space-y-2 text-sm bg-gray-50 p-4 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-b border-gray-200 pb-2",children:[jsxRuntimeExports.jsx("span",{children:"Sub Total"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:_.subTotal?.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-b border-gray-200 pb-2 items-center",children:[jsxRuntimeExports.jsx("span",{children:"Total Discount"}),jsxRuntimeExports.jsx("input",{type:"number",name:"totalDiscount",value:_.totalDiscount,onChange:Q,className:"w-24 border border-gray-300 rounded px-2 py-1 text-right focus:outline-none focus:border-primary",placeholder:"0.00"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-b border-gray-200 pb-2",children:[jsxRuntimeExports.jsx("span",{children:"Gross Total"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:_.grossTotal?.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-b border-gray-200 pb-2",children:[jsxRuntimeExports.jsx("span",{children:"Total Tax"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:_.totalTax?.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-b border-gray-200 pb-2 items-center",children:[jsxRuntimeExports.jsx("span",{children:"Other Charges"}),jsxRuntimeExports.jsx("input",{type:"number",name:"otherCharges",value:_.otherCharges,onChange:Q,className:"w-24 border border-gray-300 rounded px-2 py-1 text-right focus:outline-none focus:border-primary",placeholder:"0.00"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between pt-2 text-base font-bold text-gray-800",children:[jsxRuntimeExports.jsx("span",{children:"Net Total"}),jsxRuntimeExports.jsx("span",{children:_.netTotal?.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-b border-gray-200 pb-2 items-center",children:[jsxRuntimeExports.jsx("span",{className:"font-bold text-gray-700",children:"Amount Received"}),jsxRuntimeExports.jsx("input",{type:"number",name:"amountReceived",value:_.amountReceived,onChange:Q,className:"w-24 border border-gray-300 rounded px-2 py-1 text-right focus:outline-none focus:border-primary",placeholder:"0.00"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between pt-2 text-base font-bold text-red-600",children:[jsxRuntimeExports.jsx("span",{children:"Balance Due"}),jsxRuntimeExports.jsx("span",{children:_.balanceDue?.toFixed(2)})]})]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Attach File"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-center border border-dashed border-gray-300 rounded-lg p-4 bg-gray-50",children:[jsxRuntimeExports.jsxs("label",{className:"cursor-pointer bg-white border border-gray-300 px-3 py-1.5 rounded text-sm hover:bg-gray-50 flex items-center gap-1 shadow-sm transition-colors font-medium",children:[jsxRuntimeExports.jsx(Paperclip,{size:14})," Browse... ",jsxRuntimeExports.jsx("input",{type:"file",multiple:!0,onChange:J,className:"hidden"})]}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-500",children:[T.length," file(s) selected"]})]}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Max 5 files, 5MB each"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Delay Reason"}),jsxRuntimeExports.jsx("textarea",{name:"delayReason",value:_.delayReason,onChange:Q,rows:"2",className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm focus:outline-none focus:border-primary",placeholder:"Reason for any delay"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Terms & Conditions"}),jsxRuntimeExports.jsx("textarea",{name:"termsAndConditions",value:_.termsAndConditions,onChange:Q,rows:"3",className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm focus:outline-none focus:border-primary",placeholder:"Delivery, Lead Time, Payment Terms, Validity etc."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Notes"}),jsxRuntimeExports.jsx("textarea",{name:"notes",value:_.notes,onChange:Q,rows:"2",className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm focus:outline-none focus:border-primary",placeholder:"Will be displayed on Invoice"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Email To"}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsx("input",{type:"text",name:"emailTo",value:_.emailTo,onChange:Q,className:"w-full md:w-1/2 border border-gray-300 rounded px-2 py-1.5 text-sm focus:outline-none focus:border-primary",placeholder:"Email address"})})]})]})})]})},API_URL$3="https://javapaas-202946-0.cloudclusters.net/api",InvoiceView=()=>{const{id:e}=useParams(),t=useNavigate(),[n,o]=reactExports.useState(null),[l,u]=reactExports.useState(!0),[m,p]=reactExports.useState(null);reactExports.useEffect(()=>{(async()=>{try{const g=localStorage.getItem("token"),b=await axios.get(`${API_URL$3}/sales/sales-invoices/${e}`,{headers:{Authorization:`Bearer ${g}`}});o(b.data)}catch(g){console.error("Error fetching invoice",g),p("Failed to load invoice details")}finally{u(!1)}})()},[e]);const j=async()=>{try{const f=localStorage.getItem("token"),g=await axios.get(`${API_URL$3}/sales/sales-invoices/pdf/${e}`,{headers:{Authorization:`Bearer ${f}`},responseType:"blob"}),b=window.URL.createObjectURL(new Blob([g.data])),R=document.createElement("a");R.href=b,R.setAttribute("download",`sales_invoice_${e}.pdf`),document.body.appendChild(R),R.click(),R.remove()}catch(f){console.error("Error downloading PDF",f),alert("Failed to download PDF")}};return l?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-screen",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"animate-spin text-primary"})}):m?jsxRuntimeExports.jsx("div",{className:"p-8 text-center text-red-500",children:m}):n?jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-screen bg-slate-50",children:[jsxRuntimeExports.jsxs("header",{className:"bg-primary text-white shadow-sm p-4 flex items-center justify-between sticky top-0 z-10",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>t("/sales/invoices"),className:"text-gray-300 hover:text-white",children:jsxRuntimeExports.jsx(ArrowLeft,{})}),jsxRuntimeExports.jsxs("h1",{className:"text-xl font-bold",children:["Sales Invoice ",n.invoiceNumber]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>t(`/sales/invoices/edit/${e}`),className:"px-4 py-2 bg-gray-600 rounded hover:bg-gray-700 font-medium text-sm",children:"Edit"}),jsxRuntimeExports.jsxs("button",{onClick:j,className:"px-4 py-2 bg-white text-primary rounded hover:bg-gray-100 flex items-center gap-2 font-bold text-sm shadow-sm",children:[jsxRuntimeExports.jsx(Printer,{size:16})," Print PDF"]})]})]}),jsxRuntimeExports.jsx("main",{className:"flex-grow overflow-y-auto p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto bg-white shadow-lg rounded-lg overflow-hidden border border-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"p-8 border-b border-gray-200 bg-gray-50 flex justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"INVOICE"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["#",n.invoiceNumber]}),jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsx("span",{className:"px-2 py-1 rounded text-xs font-bold uppercase tracking-wide bg-primary bg-opacity-10 text-primary",children:n.status})})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-gray-700",children:"Balance Due"}),jsxRuntimeExports.jsxs("p",{className:"text-3xl font-bold text-gray-800",children:["AED ",n.balanceDue?.toFixed(2)]})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-8 grid grid-cols-2 gap-12",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase mb-2",children:"Bill To"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-semibold text-gray-800",children:n.customerName})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Invoice Date"}),jsxRuntimeExports.jsx("p",{className:"font-semibold",children:n.invoiceDate})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Due Date"}),jsxRuntimeExports.jsx("p",{className:"font-semibold",children:n.dueDate})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Reference#"}),jsxRuntimeExports.jsx("p",{className:"font-semibold",children:n.reference||"-"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Order#"}),jsxRuntimeExports.jsx("p",{className:"font-semibold",children:n.orderNumber||"-"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Salesperson"}),jsxRuntimeExports.jsx("p",{className:"font-semibold",children:n.salespersonName||"-"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"px-8 pb-8",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-sm",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-gray-100 text-gray-700 border-b border-gray-200",children:[jsxRuntimeExports.jsx("th",{className:"py-3 px-4 text-left font-bold rounded-tl-lg",children:"Item"}),jsxRuntimeExports.jsx("th",{className:"py-3 px-4 text-left font-bold",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"py-3 px-4 text-right font-bold transition-colors",children:"Rate"}),jsxRuntimeExports.jsx("th",{className:"py-3 px-4 text-right font-bold transition-colors",children:"Tax"}),jsxRuntimeExports.jsx("th",{className:"py-3 px-4 text-right font-bold transition-colors rounded-tr-lg",children:"Amount"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-gray-100",children:n.items?.map((f,g)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsxs("td",{className:"py-3 px-4",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-gray-800",children:f.itemName}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:f.description})]}),jsxRuntimeExports.jsx("td",{className:"py-3 px-4",children:f.invoiceQuantity}),jsxRuntimeExports.jsx("td",{className:"py-3 px-4 text-right",children:f.rate?.toFixed(2)}),jsxRuntimeExports.jsxs("td",{className:"py-3 px-4 text-right",children:[f.taxValue?.toFixed(2)," (",f.taxPercentage||0,"%)"]}),jsxRuntimeExports.jsx("td",{className:"py-3 px-4 text-right font-medium",children:f.amount?.toFixed(2)})]},g))})]})}),jsxRuntimeExports.jsx("div",{className:"px-8 pb-8 flex justify-end",children:jsxRuntimeExports.jsxs("div",{className:"w-1/2 space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[jsxRuntimeExports.jsx("span",{children:"Sub Total"}),jsxRuntimeExports.jsxs("span",{children:["AED ",n.subTotal?.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[jsxRuntimeExports.jsx("span",{children:"Total Discount"}),jsxRuntimeExports.jsxs("span",{children:["(-) AED ",n.totalDiscount?.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[jsxRuntimeExports.jsx("span",{children:"Gross Total"}),jsxRuntimeExports.jsxs("span",{children:["AED ",n.grossTotal?.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[jsxRuntimeExports.jsx("span",{children:"Total Tax"}),jsxRuntimeExports.jsxs("span",{children:["(+) AED ",n.totalTax?.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[jsxRuntimeExports.jsx("span",{children:"Other Charges"}),jsxRuntimeExports.jsxs("span",{children:["(+) AED ",n.otherCharges?.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"border-t pt-3 flex justify-between font-bold text-lg text-gray-800",children:[jsxRuntimeExports.jsx("span",{children:"Total"}),jsxRuntimeExports.jsxs("span",{children:["AED ",n.netTotal?.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"border-t pt-3 flex justify-between font-semibold text-gray-700",children:[jsxRuntimeExports.jsx("span",{children:"Amount Received"}),jsxRuntimeExports.jsxs("span",{children:["(-) AED ",n.amountReceived?.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-100 p-2 rounded flex justify-between font-bold text-red-600",children:[jsxRuntimeExports.jsx("span",{children:"Balance Due"}),jsxRuntimeExports.jsxs("span",{children:["AED ",n.balanceDue?.toFixed(2)]})]})]})}),(n.notes||n.termsAndConditions)&&jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 p-8 border-t border-gray-200",children:[n.notes&&jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("h5",{className:"font-bold text-xs text-gray-500 uppercase mb-1",children:"Notes"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:n.notes})]}),n.termsAndConditions&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h5",{className:"font-bold text-xs text-gray-500 uppercase mb-1",children:"Terms & Conditions"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:n.termsAndConditions})]})]})]})})]}):jsxRuntimeExports.jsx("div",{className:"p-8 text-center",children:"Invoice not found"})},SalesSetting=()=>jsxRuntimeExports.jsx("div",{}),PartyCard=({party:e,onEdit:t,onDelete:n,onView:o})=>jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-5 flex flex-col justify-between transition-all hover:shadow-lg hover:-translate-y-1",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-start mb-3",children:jsxRuntimeExports.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[jsxRuntimeExports.jsx(Building,{className:"w-5 h-5 mr-2 text-blue-500"}),e.companyName]})}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-300",children:[jsxRuntimeExports.jsxs("p",{className:"flex items-center",children:[jsxRuntimeExports.jsx(User,{className:"w-4 h-4 mr-2 text-gray-400"})," ",e.primaryContactPerson||"N/A"]}),jsxRuntimeExports.jsxs("p",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4 mr-2 text-gray-400"})," ",e.contactEmail||"N/A"]}),jsxRuntimeExports.jsxs("p",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Phone,{className:"w-4 h-4 mr-2 text-gray-400"})," ",e.contactPhone||"N/A"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end items-center mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsx("button",{onClick:()=>o(e),className:"p-2 rounded-full text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",children:jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>t(e.id),className:"p-2 rounded-full text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",children:jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>n(e.id),className:"p-2 rounded-full text-red-500 hover:bg-red-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})]}),ToggleSection$1=({title:e,icon:t,children:n,defaultOpen:o=!1})=>{const[l,u]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>u(!l),className:"w-full flex justify-between items-center p-4 text-left text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[t,jsxRuntimeExports.jsx("span",{className:"font-semibold ml-3",children:e})]}),jsxRuntimeExports.jsx(ChevronDown,{className:`w-5 h-5 transition-transform ${l?"rotate-180":""}`})]}),l&&jsxRuntimeExports.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-900",children:n})]})},PartyViewModal=({party:e,onClose:t,onEdit:n,onDelete:o,isLoadingDetails:l})=>{if(!e)return null;const u=({icon:j,label:f,value:g})=>jsxRuntimeExports.jsxs("div",{className:"flex items-start text-sm mb-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400 mr-3 mt-0.5",children:j}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:f}),jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:g||"N/A"})]})]}),m=j=>{const f=[j.primaryContactTitle,j.primaryFirstName,j.primaryLastName].filter(Boolean);return f.length>0?f.join(" "):j.primaryContactPerson||"N/A"},p=j=>{if(!j)return"N/A";if(typeof j!="object")return j;const f=[j.addressLine,j.city,j.state,j.zipCode,j.country].filter(Boolean);return f.length>0?f.join(", "):"N/A"};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",onClick:t,children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-6xl max-h-[90vh] flex flex-col",onClick:j=>j.stopPropagation(),children:[jsxRuntimeExports.jsxs("header",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Building,{className:"w-6 h-6 mr-3 text-blue-500"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:e.companyName}),jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${e.partyType==="CUSTOMER"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:e.partyType})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>n(e),className:"p-2 rounded-full text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none",children:jsxRuntimeExports.jsx(SquarePen,{className:"h-5 w-5"})}),jsxRuntimeExports.jsx("button",{onClick:()=>o(e.id),className:"p-2 rounded-full text-red-500 hover:bg-red-50 dark:hover:bg-gray-700 focus:outline-none",children:jsxRuntimeExports.jsx(Trash2,{className:"h-5 w-5"})}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-1 rounded-full text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700",children:jsxRuntimeExports.jsx(X,{className:"h-6 w-6"})})]})]}),jsxRuntimeExports.jsx("main",{className:"overflow-y-auto",children:l?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center p-10",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"h-8 w-8 animate-spin text-blue-500"})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ToggleSection$1,{title:"Primary Information",icon:jsxRuntimeExports.jsx(Info,{className:"w-5 h-5"}),defaultOpen:!0,children:jsxRuntimeExports.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-x-6 gap-y-4",children:[jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(UserCheck,{className:"w-4 h-4"}),label:"Primary Contact",value:m(e)}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4"}),label:"Email",value:e.contactEmail}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(Phone,{className:"w-4 h-4"}),label:"Contact Phone",value:e.contactPhone}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(Phone,{className:"w-4 h-4"}),label:"Mobile",value:e.mobile}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(Briefcase,{className:"w-4 h-4"}),label:"Designation",value:e.designation}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(Users,{className:"w-4 h-4"}),label:"Department",value:e.department}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(Hash,{className:"w-4 h-4"}),label:"Customer Code",value:e.customerCode}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(Hash,{className:"w-4 h-4"}),label:"Vendor/Customer Code",value:e.vendorCustomerCode}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(Globe,{className:"w-4 h-4"}),label:"Website",value:e.website}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(User,{className:"w-4 h-4"}),label:"Owner/CEO Name",value:e.ownerCeoName}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(Phone,{className:"w-4 h-4"}),label:"Owner/CEO Contact",value:e.ownerCeoContact}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4"}),label:"Owner/CEO Email",value:e.ownerCeoEmail}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(MapPin,{className:"w-4 h-4"}),label:"City",value:e.city}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(MapPin,{className:"w-4 h-4"}),label:"Region",value:e.region}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(Briefcase,{className:"w-4 h-4"}),label:"Status",value:jsxRuntimeExports.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${e.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.active?"Active":"Inactive"})})]})}),jsxRuntimeExports.jsx(ToggleSection$1,{title:"Address Details",icon:jsxRuntimeExports.jsx(MapPin,{className:"w-5 h-5"}),children:jsxRuntimeExports.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold mb-2 text-gray-800 dark:text-gray-200",children:"Billing Address"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:p(e.billingAddress)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold mb-2 text-gray-800 dark:text-gray-200",children:"Shipping Address"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.shippingSameAsBilling?"Same as Billing Address":p(e.shippingAddress)})]})]})}),jsxRuntimeExports.jsx(ToggleSection$1,{title:"Tax & Financials",icon:jsxRuntimeExports.jsx(Percent,{className:"w-5 h-5"}),children:jsxRuntimeExports.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-x-6 gap-y-4",children:[jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(CreditCard,{className:"w-4 h-4"}),label:"PAN Number",value:e.panNumber}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(CreditCard,{className:"w-4 h-4"}),label:"TAN Number",value:e.tanNumber}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(CreditCard,{className:"w-4 h-4"}),label:"CIN Number",value:e.cinNo}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(ShieldCheck,{className:"w-4 h-4"}),label:"VAT Treatment",value:e.vatTreatment}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(Hash,{className:"w-4 h-4"}),label:"VAT Number",value:e.vatNumber}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(Hash,{className:"w-4 h-4"}),label:"VAT TRN Number",value:e.vatTrnNumber}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(CircleDollarSign,{className:"w-4 h-4"}),label:"Opening Balance",value:`${e.openingBalanceType||""} ${e.openingBalance?`${e.openingBalance}`:"N/A"}`}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(CircleDollarSign,{className:"w-4 h-4"}),label:"Credit Limit",value:e.creditLimitAllowed?`${e.creditLimitAllowed}`:"N/A"}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(CalendarDays,{className:"w-4 h-4"}),label:"Credit Period",value:e.creditPeriodAllowed?`${e.creditPeriodAllowed} days`:"N/A"}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(TrendingUp,{className:"w-4 h-4"}),label:"Sales (Prev. Year)",value:e.salesValuePreviousYear?`${e.salesValuePreviousYear}`:"N/A"}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(CircleDollarSign,{className:"w-4 h-4"}),label:"Currency",value:e.currency}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(Briefcase,{className:"w-4 h-4"}),label:"Price Category",value:e.priceCategory})]})}),jsxRuntimeExports.jsx(ToggleSection$1,{title:"Terms & Delivery",icon:jsxRuntimeExports.jsx(Truck,{className:"w-5 h-5"}),children:jsxRuntimeExports.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-4",children:[jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"}),label:"Mode of Payment",value:e.modeOfPayment}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"}),label:"Payment Terms",value:e.paymentTerms}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(Truck,{className:"w-4 h-4"}),label:"Delivery Type",value:e.deliveryType}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(Truck,{className:"w-4 h-4"}),label:"Dispatch Through",value:e.transportDispatchThrough}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(Truck,{className:"w-4 h-4"}),label:"Freight Terms",value:e.freightTerms}),jsxRuntimeExports.jsx("div",{className:"md:col-span-2 lg:col-span-3",children:jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"}),label:"Internal T&C",value:e.termsAndConditionsInternal})}),jsxRuntimeExports.jsx("div",{className:"md:col-span-2 lg:col-span-3",children:jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"}),label:"Display T&C",value:e.termsAndConditionsDisplay})}),jsxRuntimeExports.jsx("div",{className:"md:col-span-2 lg:col-span-3",children:jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(MessageSquare,{className:"w-4 h-4"}),label:"Special Instructions",value:e.splInstruction})})]})}),jsxRuntimeExports.jsx(ToggleSection$1,{title:"Bank Details",icon:jsxRuntimeExports.jsx(Banknote,{className:"w-5 h-5"}),children:e.bankDetails&&e.bankDetails.length>0?jsxRuntimeExports.jsx("div",{className:"space-y-4",children:e.bankDetails.map((j,f)=>jsxRuntimeExports.jsxs("div",{className:"p-3 bg-gray-100 dark:bg-gray-800 rounded-md grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(Landmark,{className:"w-4 h-4"}),label:"Bank Name",value:j.bankName}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(Hash,{className:"w-4 h-4"}),label:"Account Number",value:j.accountNumber}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(Code,{className:"w-4 h-4"}),label:"IFSC Code",value:j.ifsCode}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(Code,{className:"w-4 h-4"}),label:"IBAN Code",value:j.ibanCode}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(Hash,{className:"w-4 h-4"}),label:"Corporate ID",value:j.corporateId}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(MapPin,{className:"w-4 h-4"}),label:"Branch",value:j.locationBranch}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4"}),label:"Beneficiary Email",value:j.beneficiaryMailId}),jsxRuntimeExports.jsx("div",{className:"sm:col-span-2 lg:col-span-4",children:jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(MapPin,{className:"w-4 h-4"}),label:"Branch Address",value:j.branchAddress})})]},f))}):jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Bank details are not available for this party."})}),jsxRuntimeExports.jsx(ToggleSection$1,{title:"Other Person Details",icon:jsxRuntimeExports.jsx(BookUser,{className:"w-5 h-5"}),children:e.otherPersons&&e.otherPersons.length>0?jsxRuntimeExports.jsx("div",{className:"space-y-4",children:e.otherPersons.map((j,f)=>jsxRuntimeExports.jsxs("div",{className:"p-3 bg-gray-100 dark:bg-gray-800 rounded-md grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(User,{className:"w-4 h-4"}),label:"Name",value:[j.salutation,j.firstName,j.lastName].filter(Boolean).join(" ")}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4"}),label:"Email",value:j.emailAddress}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(Phone,{className:"w-4 h-4"}),label:"Work Phone",value:j.workPhone}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(Phone,{className:"w-4 h-4"}),label:"Mobile",value:j.mobile}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(Briefcase,{className:"w-4 h-4"}),label:"Designation",value:j.designation}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(Users,{className:"w-4 h-4"}),label:"Department",value:j.department})]},f))}):jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No other person details found."})}),jsxRuntimeExports.jsxs(ToggleSection$1,{title:"Custom & Social Fields",icon:jsxRuntimeExports.jsx(Share2,{className:"w-5 h-5"}),children:[e.customFields&&e.customFields.length>0?jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:e.customFields.map((j,f)=>jsxRuntimeExports.jsxs("div",{className:"p-3 bg-gray-100 dark:bg-gray-800 rounded-md",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:j.fieldName}),jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:j.fieldValue})]},f))}):jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 px-4 pt-4",children:"No custom fields defined."}),jsxRuntimeExports.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 border-t border-gray-200 dark:border-gray-700 mt-4",children:[jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(Link,{className:"w-4 h-4"}),label:"Facebook",value:e.facebook}),jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(Link,{className:"w-4 h-4"}),label:"Twitter",value:e.twitter}),jsxRuntimeExports.jsx("div",{className:"md:col-span-2",children:jsxRuntimeExports.jsx(u,{icon:jsxRuntimeExports.jsx(MessageSquare,{className:"w-4 h-4"}),label:"Remarks",value:e.remarks})})]})]})]})})]})})},PartyType=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState(null),[m,p]=reactExports.useState("table"),[j,f]=reactExports.useState(!1),[g,b]=reactExports.useState(null),[R,v]=reactExports.useState(!1),[N,S]=reactExports.useState([]),[$,C]=reactExports.useState(""),[A,T]=reactExports.useState(!1),[D,I]=reactExports.useState(""),[L,_]=reactExports.useState("ALL"),[M,F]=reactExports.useState(0),[B,q]=reactExports.useState(10),[z,V]=reactExports.useState(0),Q=reactExports.useRef(null);useLocation();const ee=useNavigate(),G=["ALL","CUSTOMER","SUPPLIER"],K="https://javapaas-202946-0.cloudclusters.net/api",J=()=>({headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),ne=async()=>{try{o(!0);const Z=new URLSearchParams({page:M,size:B});L!=="ALL"&&Z.append("type",L);const ce=await axios.get(`${K}/parties?${Z.toString()}`,J());t(ce.data.content||[]),V(ce.data.totalPages),u(null)}catch(Z){u("Failed to fetch parties. Please try again."),console.error(Z)}finally{o(!1)}};reactExports.useEffect(()=>{ne()},[M,B,L,D]),reactExports.useEffect(()=>{F(0)},[L,D]);const H=async Z=>{try{b(Z),T(!0);const ce=await axios.get(`${K}/parties/${Z.id}`,J());b(ce.data)}catch(ce){u("Failed to fetch party details. Please try again."),console.error(ce)}finally{T(!1)}},te=async()=>{try{const Z=await axios.get(`${K}/parties/bulk-template`,{...J(),responseType:"blob"}),ce=window.URL.createObjectURL(new Blob([Z.data])),oe=document.createElement("a");oe.href=ce,oe.setAttribute("download","party_bulk_import_template.xlsx"),document.body.appendChild(oe),oe.click(),oe.remove()}catch(Z){u("Failed to download template."),console.error(Z)}},Y=async()=>{try{const Z=await axios.get(`${K}/parties/export`,{...J(),responseType:"blob"}),ce=window.URL.createObjectURL(new Blob([Z.data])),oe=document.createElement("a");oe.href=ce,oe.setAttribute("download","parties_export.xlsx"),document.body.appendChild(oe),oe.click(),oe.remove()}catch(Z){u("Failed to export parties."),console.error(Z)}},le=async Z=>{const ce=Z.target.files[0];if(!ce)return;v(!0),S([]),C("");const oe=new FormData;oe.append("file",ce);try{await axios.post(`${K}/parties/bulk-import`,oe,J()),C("Parties imported successfully! The list will now refresh."),ne()}catch(me){S(me.response?.data||["An unknown error occurred during import."])}finally{v(!1),Q.current.value=null}},je=async Z=>{if(window.confirm("Are you sure you want to delete this party?"))try{await axios.delete(`${K}/parties/${Z}`,J()),b(null),ne()}catch(ce){u("Failed to delete party. Please try again."),console.error(ce)}},ae=()=>{const me=encodeURI(`data:text/csv;charset=utf-8,companyName,partyType,primaryContactPerson
Innovate Inc.,CUSTOMER,Jane Doe`),fe=document.createElement("a");fe.setAttribute("href",me),fe.setAttribute("download","sample_customer_import.csv"),document.body.appendChild(fe),fe.click(),fe.remove()};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full bg-slate-50 relative",children:[jsxRuntimeExports.jsx("header",{className:"bg-white shadow-sm p-4 border-b border-slate-200",children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between gap-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>ee(-1),className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"h-5 w-5 text-slate-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold text-slate-800",children:"Manage Parties"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-500",children:"Add, edit, or remove customer and vendor information."})]})]})})}),jsxRuntimeExports.jsxs("div",{className:"flex-grow p-4 sm:p-6 flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"file",ref:Q,onChange:le,className:"hidden",accept:".xlsx, .xls"}),jsxRuntimeExports.jsxs("button",{onClick:()=>Q.current.click(),disabled:R,className:"flex items-center justify-center px-3 py-2 text-sm font-medium text-gray-700 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50",children:[R?jsxRuntimeExports.jsx(LoaderCircle,{className:"mr-2 h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(Upload,{className:"mr-2 h-4 w-4"}),"Import"]}),jsxRuntimeExports.jsxs("button",{onClick:te,className:"flex items-center justify-center px-3 py-2 text-sm font-medium text-gray-700 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[jsxRuntimeExports.jsx(Download,{className:"mr-2 h-4 w-4"}),"Template"]}),jsxRuntimeExports.jsxs("button",{onClick:Y,className:"flex items-center justify-center px-3 py-2 text-sm font-medium text-gray-700 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[jsxRuntimeExports.jsx(FileSpreadsheet,{className:"mr-2 h-4 w-4"}),"Export"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 p-1 bg-gray-200 dark:bg-gray-700 rounded-lg",children:[jsxRuntimeExports.jsx("button",{onClick:()=>p("table"),className:`p-2 rounded-md ${m==="table"?"bg-white dark:bg-gray-800 shadow-sm":"text-gray-500 dark:text-gray-400"}`,children:jsxRuntimeExports.jsx(List,{className:"h-5 w-5"})}),jsxRuntimeExports.jsx("button",{onClick:()=>p("card"),className:`p-2 rounded-md ${m==="card"?"bg-white dark:bg-gray-800 shadow-sm":"text-gray-500 dark:text-gray-400"}`,children:jsxRuntimeExports.jsx(LayoutGrid,{className:"h-5 w-5"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>f(!0),className:"p-2 text-gray-500 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:[jsxRuntimeExports.jsx(CircleQuestionMark,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Import Guide"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>ee("/company-settings/party-type/new"),className:"w-full sm:w-auto flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75 transition-colors shrink-0",children:[jsxRuntimeExports.jsx(Plus,{className:"mr-2 h-4 w-4"})," Add Party"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-grow",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by company name...",value:D,onChange:Z=>I(Z.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsx("select",{value:L,onChange:Z=>_(Z.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:border-gray-600 dark:text-white",children:G.map(Z=>jsxRuntimeExports.jsx("option",{value:Z,children:Z==="ALL"?"All Types":Z},Z))})]}),l&&jsxRuntimeExports.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md relative mb-4",role:"alert",children:l}),$&&jsxRuntimeExports.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-md relative mb-4",role:"alert",children:$}),N.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md relative mb-4",role:"alert",children:[jsxRuntimeExports.jsx("strong",{className:"font-bold",children:"Import Failed!"}),jsxRuntimeExports.jsx("ul",{className:"mt-2 list-disc list-inside",children:N.map((Z,ce)=>jsxRuntimeExports.jsx("li",{children:Z},ce))}),jsxRuntimeExports.jsx("button",{onClick:()=>S([]),className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsx("main",{className:"flex-grow overflow-auto",children:n?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-full",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"h-8 w-8 animate-spin text-blue-500"})}):e.length>0?m==="card"?jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map(Z=>jsxRuntimeExports.jsx(PartyCard,{party:Z,onEdit:()=>ee(`/company-settings/party-type/edit/${Z.id}`),onDelete:je,onView:H},Z.id))}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 dark:border-gray-700",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400 divide-y divide-gray-200 dark:divide-gray-700",children:[jsxRuntimeExports.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{scope:"col",className:"px-6 py-3 border-r dark:border-gray-600",children:"S.No."}),jsxRuntimeExports.jsx("th",{scope:"col",className:"px-6 py-3 border-r dark:border-gray-600",children:"Company Name"}),jsxRuntimeExports.jsx("th",{scope:"col",className:"px-6 py-3 border-r dark:border-gray-600",children:"Code"}),jsxRuntimeExports.jsx("th",{scope:"col",className:"px-6 py-3 border-r dark:border-gray-600",children:"Contact Person"}),jsxRuntimeExports.jsx("th",{scope:"col",className:"px-6 py-3 border-r dark:border-gray-600",children:"Email"}),jsxRuntimeExports.jsx("th",{scope:"col",className:"px-6 py-3 border-r dark:border-gray-600",children:"City"}),jsxRuntimeExports.jsx("th",{scope:"col",className:"px-6 py-3 border-r dark:border-gray-600",children:"Type"}),jsxRuntimeExports.jsx("th",{scope:"col",className:"px-6 py-3 border-r dark:border-gray-600",children:"Status"}),jsxRuntimeExports.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{children:e.map((Z,ce)=>jsxRuntimeExports.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 border-r dark:border-gray-600",children:M*B+ce+1}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white border-r dark:border-gray-600",children:Z.companyName}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 border-r dark:border-gray-600",children:Z.customerCode||Z.vendorCustomerCode||"N/A"}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 border-r dark:border-gray-600",children:Z.primaryContactPerson||"N/A"}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 border-r dark:border-gray-600",children:Z.contactEmail||"N/A"}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 border-r dark:border-gray-600",children:Z.city||"N/A"}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 border-r dark:border-gray-600",children:jsxRuntimeExports.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Z.partyType==="CUSTOMER"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:Z.partyType})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 border-r dark:border-gray-600",children:jsxRuntimeExports.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Z.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:Z.active?"Active":"Inactive"})}),jsxRuntimeExports.jsxs("td",{className:"px-6 py-4 text-right",children:[jsxRuntimeExports.jsx("button",{onClick:()=>H(Z),className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4 text-gray-600 dark:text-gray-300"})}),jsxRuntimeExports.jsx("button",{onClick:()=>ee(`/company-settings/party-type/edit/${Z.id}`),className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4 text-gray-600 dark:text-gray-300"})}),jsxRuntimeExports.jsx("button",{onClick:()=>je(Z.id),className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4 text-red-500"})})]})]},Z.id))})]})}):jsxRuntimeExports.jsxs("div",{className:"text-center text-gray-500 py-16 flex flex-col items-center",children:[jsxRuntimeExports.jsx(Search,{className:"mx-auto h-12 w-12 text-gray-400"}),jsxRuntimeExports.jsx("h3",{className:"mt-4 text-lg font-semibold text-gray-900 dark:text-white",children:"No Parties Found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Get started by adding a new party."})]})}),!n&&e.length>0&&jsxRuntimeExports.jsxs("footer",{className:"flex flex-col sm:flex-row justify-between items-center pt-4 mt-4 border-t border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400 mb-4 sm:mb-0",children:[jsxRuntimeExports.jsx("span",{children:"Rows per page:"}),jsxRuntimeExports.jsx("select",{value:B,onChange:Z=>{q(Number(Z.target.value)),F(0)},className:"px-2 py-1 border border-gray-300 rounded-md dark:bg-gray-800 dark:border-gray-600",children:[10,20,50,100].map(Z=>jsxRuntimeExports.jsx("option",{value:Z,children:Z},Z))})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Page ",z>0?M+1:0," of ",z]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>F(Z=>Math.max(0,Z-1)),disabled:M===0,className:"p-2 rounded-md border dark:border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:jsxRuntimeExports.jsx(ChevronLeft,{className:"h-5 w-5"})}),jsxRuntimeExports.jsx("button",{onClick:()=>F(Z=>Math.min(z-1,Z+1)),disabled:M>=z-1,className:"p-2 rounded-md border dark:border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:jsxRuntimeExports.jsx(ChevronRight,{className:"h-5 w-5"})})]})]})]}),j&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",onClick:()=>f(!1),children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl",onClick:Z=>Z.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 dark:border-gray-700 p-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Customer Import Guide"}),jsxRuntimeExports.jsx("button",{onClick:()=>f(!1),className:"p-1 rounded-full text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700",children:jsxRuntimeExports.jsx(X,{className:"h-6 w-6"})})]}),jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:"To bulk import customers, prepare a CSV file with the following columns. The 'Field Name' should be the header in your file."}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 dark:border-gray-700",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[jsxRuntimeExports.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{scope:"col",className:"px-6 py-3",children:"Field Name"}),jsxRuntimeExports.jsx("th",{scope:"col",className:"px-6 py-3",children:"Required"}),jsxRuntimeExports.jsx("th",{scope:"col",className:"px-6 py-3",children:"Description"}),jsxRuntimeExports.jsx("th",{scope:"col",className:"px-6 py-3",children:"Example"})]})}),jsxRuntimeExports.jsxs("tbody",{children:[jsxRuntimeExports.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 font-mono",children:"companyName"}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsx("span",{className:"text-red-500 font-semibold",children:"Yes"})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:"The legal name of the company."}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:"Innovate Inc."})]}),jsxRuntimeExports.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 font-mono",children:"partyType"}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsx("span",{className:"text-red-500 font-semibold",children:"Yes"})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:"Must be 'CUSTOMER' or 'VENDOR'."}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:"CUSTOMER"})]}),jsxRuntimeExports.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 font-mono",children:"primaryContactPerson"}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:"No"}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:"Full name of the main contact person."}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:"Jane Doe"})]})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end p-4 border-t border-gray-200 dark:border-gray-700",children:jsxRuntimeExports.jsxs("button",{onClick:ae,className:"flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-lg shadow-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-75",children:[jsxRuntimeExports.jsx(Download,{className:"mr-2 h-4 w-4"}),"Download Sample CSV"]})})]})}),g&&jsxRuntimeExports.jsx(PartyViewModal,{party:g,onClose:()=>b(null),onEdit:Z=>ee(`/company-settings/party-type/edit/${Z.id}`),onDelete:je,isLoadingDetails:A})]})]})},TabButton=({label:e,isActive:t,onClick:n})=>jsxRuntimeExports.jsx("button",{type:"button",onClick:n,className:`px-4 py-2 text-sm font-medium rounded-md ${t?"bg-blue-600 text-white shadow-sm":"text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:e}),ToggleSection=({title:e,icon:t,children:n,defaultOpen:o=!1})=>{const[l,u]=reactExports.useState(o);return jsxRuntimeExports.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-600",children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>u(!l),className:"w-full flex justify-between items-center py-4 text-lg font-semibold text-gray-900 dark:text-white",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center",children:[t," ",e]}),jsxRuntimeExports.jsx(ChevronDown,{className:`w-5 h-5 transition-transform ${l?"rotate-180":""}`})]}),l&&jsxRuntimeExports.jsx("div",{className:"pb-6 space-y-6",children:n})]})},emptyAddress=()=>({attention:"",addressLine:"",city:"",state:"",zipCode:"",country:"",phone:"",fax:""}),PartyForm=()=>{const{id:e}=useParams(),t=useNavigate(),n=!!e,[o,l]=reactExports.useState({partyType:"CUSTOMER",companyName:"",primaryContactPerson:"",contactEmail:"",contactPhone:"",active:!0,under:"",priceCategory:"",vendorCustomerCode:"",customerCode:"",primaryContactTitle:"",primaryFirstName:"",primaryLastName:"",mobile:"",workPhone:"",skypeNameOrNumber:"",designation:"",department:"",website:"",panNumber:"",city:"",region:"",currency:"",billingAddress:emptyAddress(),shippingAddress:emptyAddress(),vatTreatment:"VAT_UNREGISTERED",vatNumber:"",tanNumber:"",cinNo:"",taxDeducted:!1,openingBalance:0,openingBalanceType:"DR",creditLimitAllowed:0,creditPeriodAllowed:0,shippingSameAsBilling:!1,ownerCeoName:"",ownerCeoContact:"",ownerCeoEmail:"",vatTrnNumber:"",termsAndConditionsInternal:"",termsAndConditionsDisplay:"",modeOfPayment:"",deliveryType:"",paymentTerms:"",transportDispatchThrough:"",freightTerms:"",splInstruction:"",salesValuePreviousYear:0,facebook:"",twitter:"",remarks:"",otherPersons:[],customFields:[],bankDetails:[]}),[u,m]=reactExports.useState("companyDetails"),[p,j]=reactExports.useState(!1),[f,g]=reactExports.useState(!1),[b,R]=reactExports.useState(null),v="https://javapaas-202946-0.cloudclusters.net/api";reactExports.useEffect(()=>{if(!n)return;(async()=>{j(!0),R(null);try{const D=localStorage.getItem("token"),L=(await axios.get(`${v}/parties/${e}`,{headers:{Authorization:`Bearer ${D}`}})).data||{};L.billingAddress=L.billingAddress||emptyAddress(),L.shippingAddress=L.shippingAddress||emptyAddress(),L.openingBalance=Number(L.openingBalance||0),L.creditLimitAllowed=Number(L.creditLimitAllowed||0),L.creditPeriodAllowed=Number(L.creditPeriodAllowed||0),L.active=typeof L.active=="boolean"?L.active:!!L.active,L.shippingSameAsBilling=!!L.shippingSameAsBilling,l(_=>({..._,...L}))}catch(D){console.error("Failed to fetch party:",D),R("Failed to load party data.")}finally{j(!1)}})()},[e,n,v]),reactExports.useEffect(()=>{o.shippingSameAsBilling&&l(T=>({...T,shippingAddress:{...T.billingAddress}}))},[o.shippingSameAsBilling]);const N=T=>{const{name:D,value:I,type:L,checked:_,dataset:M}=T.target;let F;if(L==="checkbox"?F=_:L==="number"?F=I===""?"":Number(I):T.target.tagName==="SELECT"&&D==="active"?F=I==="true"||I===!0:F=I,M.list&&M.index){const{list:B,index:q}=M,z=[...o[B]];z[q]={...z[q],[D]:F},l(V=>({...V,[B]:z}))}else if(D.includes(".")){const[B,q]=D.split(".");l(z=>({...z,[B]:{...z[B],[q]:F}}))}else l(B=>({...B,[D]:F}))},S=T=>{l(D=>({...D,partyType:T.target.value}))},$=async T=>{T.preventDefault(),j(!0),R(null);const D={...o,billingAddress:o.billingAddress||emptyAddress(),shippingAddress:o.shippingSameAsBilling?o.billingAddress||emptyAddress():o.shippingAddress||emptyAddress(),openingBalance:Number(o.openingBalance||0),creditLimitAllowed:Number(o.creditLimitAllowed||0),creditPeriodAllowed:Number(o.creditPeriodAllowed||0),active:!!o.active,shippingSameAsBilling:!!o.shippingSameAsBilling},I=n?`${v}/parties/${e}`:`${v}/parties`,L=n?"put":"post";try{const _=localStorage.getItem("token");await axios[L](I,D,{headers:{Authorization:`Bearer ${_}`,"Content-Type":"application/json"}}),t("/company-settings/party-type")}catch(_){console.error("Failed to save party:",_);const M=_?.response?.data?.message||_?.response?.data?.error||"Failed to save party. Please check the details and try again.";R(M)}finally{j(!1)}},C=(T,D)=>{l(I=>({...I,[T]:[...I[T]||[],D]}))},A=(T,D)=>{l(I=>({...I,[T]:I[T].filter((L,_)=>_!==D)}))};return p&&n?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-full",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"h-8 w-8 animate-spin text-blue-500"})}):jsxRuntimeExports.jsxs("form",{onSubmit:$,className:"p-4 sm:p-6 h-full flex flex-col bg-gray-50 dark:bg-gray-900",children:[jsxRuntimeExports.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4 border-b border-gray-200 dark:border-gray-700 pb-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n?"Edit Party":"Create New Party"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"partyType",value:"CUSTOMER",checked:o.partyType==="CUSTOMER",onChange:S,className:"form-radio text-blue-600"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Customer"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"partyType",value:"SUPPLIER",checked:o.partyType==="SUPPLIER",onChange:S,className:"form-radio text-purple-600"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Supplier"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>t("/company-settings/party-type"),className:"flex items-center justify-center px-4 py-2 text-sm font-medium text-gray-700 bg-white dark:bg-gray-700 dark:text-gray-200 border border-gray-300 dark:border-gray-500 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600",children:[jsxRuntimeExports.jsx(X,{className:"mr-2 h-4 w-4"})," Cancel"]}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:p,className:"flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed",children:[p?jsxRuntimeExports.jsx(LoaderCircle,{className:"mr-2 h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(Save,{className:"mr-2 h-4 w-4"}),"Save"]})]})]}),b&&jsxRuntimeExports.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md mb-4",role:"alert",children:b}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-6 border-b border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsx(TabButton,{label:"Company Details",isActive:u==="companyDetails",onClick:()=>m("companyDetails")}),jsxRuntimeExports.jsx(TabButton,{label:"Other Person",isActive:u==="otherPerson",onClick:()=>m("otherPerson")}),jsxRuntimeExports.jsx(TabButton,{label:"Custom Field",isActive:u==="customField",onClick:()=>m("customField")}),jsxRuntimeExports.jsx(TabButton,{label:"Bank Details",isActive:u==="bankDetails",onClick:()=>m("bankDetails")})]}),jsxRuntimeExports.jsxs("main",{className:"flex-grow overflow-auto",children:[u==="companyDetails"&&jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 space-y-8",children:[jsxRuntimeExports.jsx(ToggleSection,{title:"Company Info",icon:jsxRuntimeExports.jsx(Building,{className:"w-5 h-5 mr-3 text-blue-500"}),defaultOpen:!0,children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2",children:[jsxRuntimeExports.jsx("label",{htmlFor:"companyName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Company Name"}),jsxRuntimeExports.jsx("input",{id:"companyName",name:"companyName",value:o.companyName,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"customerCode",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Customer Code"}),jsxRuntimeExports.jsx("input",{id:"customerCode",name:"customerCode",value:o.customerCode,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"vendorCustomerCode",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Vendor/Customer Code"}),jsxRuntimeExports.jsx("input",{id:"vendorCustomerCode",name:"vendorCustomerCode",value:o.vendorCustomerCode,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2",children:[jsxRuntimeExports.jsx("label",{htmlFor:"website",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Website"}),jsxRuntimeExports.jsx("input",{id:"website",name:"website",value:o.website,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"panNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"PAN Number"}),jsxRuntimeExports.jsx("input",{id:"panNumber",name:"panNumber",value:o.panNumber,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"active",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),jsxRuntimeExports.jsxs("select",{id:"active",name:"active",value:String(o.active),onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[jsxRuntimeExports.jsx("option",{value:"true",children:"Active"}),jsxRuntimeExports.jsx("option",{value:"false",children:"Inactive"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"City"}),jsxRuntimeExports.jsx("input",{id:"city",name:"city",value:o.city,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm dark:bg-gray-700 dark:border-gray-600"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"region",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Region"}),jsxRuntimeExports.jsx("input",{id:"region",name:"region",value:o.region,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm dark:bg-gray-700 dark:border-gray-600"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"ownerCeoName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Owner/CEO Name"}),jsxRuntimeExports.jsx("input",{id:"ownerCeoName",name:"ownerCeoName",value:o.ownerCeoName,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm dark:bg-gray-700 dark:border-gray-600"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"ownerCeoContact",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Owner/CEO Contact"}),jsxRuntimeExports.jsx("input",{id:"ownerCeoContact",name:"ownerCeoContact",value:o.ownerCeoContact,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm dark:bg-gray-700 dark:border-gray-600"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"ownerCeoEmail",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Owner/CEO Email"}),jsxRuntimeExports.jsx("input",{id:"ownerCeoEmail",name:"ownerCeoEmail",type:"email",value:o.ownerCeoEmail,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm dark:bg-gray-700 dark:border-gray-600"})]})]})}),jsxRuntimeExports.jsx(ToggleSection,{title:"Primary Contact",icon:jsxRuntimeExports.jsx(User,{className:"w-5 h-5 mr-3 text-blue-500"}),defaultOpen:!0,children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"primaryContactTitle",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Title"}),jsxRuntimeExports.jsx("input",{id:"primaryContactTitle",name:"primaryContactTitle",value:o.primaryContactTitle,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Mr./Ms."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"primaryFirstName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"First Name"}),jsxRuntimeExports.jsx("input",{id:"primaryFirstName",name:"primaryFirstName",value:o.primaryFirstName,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"primaryLastName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Last Name"}),jsxRuntimeExports.jsx("input",{id:"primaryLastName",name:"primaryLastName",value:o.primaryLastName,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2",children:[jsxRuntimeExports.jsx("label",{htmlFor:"primaryContactPerson",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Full Name"}),jsxRuntimeExports.jsx("input",{id:"primaryContactPerson",name:"primaryContactPerson",value:o.primaryContactPerson,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"designation",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Designation"}),jsxRuntimeExports.jsx("input",{id:"designation",name:"designation",value:o.designation,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"department",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Department"}),jsxRuntimeExports.jsx("input",{id:"department",name:"department",value:o.department,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"contactEmail",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),jsxRuntimeExports.jsx("input",{id:"contactEmail",name:"contactEmail",type:"email",value:o.contactEmail,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"contactPhone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Contact Phone"}),jsxRuntimeExports.jsx("input",{id:"contactPhone",name:"contactPhone",value:o.contactPhone,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"mobile",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Mobile"}),jsxRuntimeExports.jsx("input",{id:"mobile",name:"mobile",value:o.mobile,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"workPhone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Work Phone"}),jsxRuntimeExports.jsx("input",{id:"workPhone",name:"workPhone",value:o.workPhone,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})]})}),jsxRuntimeExports.jsx(ToggleSection,{title:"Tax & Financials",icon:jsxRuntimeExports.jsx(Percent,{className:"w-5 h-5 mr-3 text-blue-500"}),children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"vatTreatment",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"VAT Treatment"}),jsxRuntimeExports.jsxs("select",{id:"vatTreatment",name:"vatTreatment",value:o.vatTreatment,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[jsxRuntimeExports.jsx("option",{value:"VAT_REGISTERED",children:"VAT Registered"}),jsxRuntimeExports.jsx("option",{value:"VAT_UNREGISTERED",children:"VAT Unregistered"}),jsxRuntimeExports.jsx("option",{value:"VAT_EXEMPT",children:"VAT Exempt"}),jsxRuntimeExports.jsx("option",{value:"OTHER",children:"Other"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"vatNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"VAT Number"}),jsxRuntimeExports.jsx("input",{id:"vatNumber",name:"vatNumber",value:o.vatNumber,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"vatTrnNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"VAT TRN Number"}),jsxRuntimeExports.jsx("input",{id:"vatTrnNumber",name:"vatTrnNumber",value:o.vatTrnNumber,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm dark:bg-gray-700 dark:border-gray-600"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"tanNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"TAN Number"}),jsxRuntimeExports.jsx("input",{id:"tanNumber",name:"tanNumber",value:o.tanNumber,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"cinNo",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"CIN Number"}),jsxRuntimeExports.jsx("input",{id:"cinNo",name:"cinNo",value:o.cinNo,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"openingBalance",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Opening Balance"}),jsxRuntimeExports.jsx("input",{id:"openingBalance",name:"openingBalance",type:"number",value:o.openingBalance,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"openingBalanceType",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Balance Type"}),jsxRuntimeExports.jsxs("select",{id:"openingBalanceType",name:"openingBalanceType",value:o.openingBalanceType,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[jsxRuntimeExports.jsx("option",{value:"DR",children:"DR (Debit)"}),jsxRuntimeExports.jsx("option",{value:"CR",children:"CR (Credit)"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"creditLimitAllowed",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Credit Limit"}),jsxRuntimeExports.jsx("input",{id:"creditLimitAllowed",name:"creditLimitAllowed",type:"number",value:o.creditLimitAllowed,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"creditPeriodAllowed",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Credit Period (Days)"}),jsxRuntimeExports.jsx("input",{id:"creditPeriodAllowed",name:"creditPeriodAllowed",type:"number",value:o.creditPeriodAllowed,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})]})}),jsxRuntimeExports.jsxs(ToggleSection,{title:"Address Details",icon:jsxRuntimeExports.jsx(Mail,{className:"w-5 h-5 mr-3 text-blue-500"}),children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-md text-gray-800 dark:text-gray-200",children:"Billing Address"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2",children:[jsxRuntimeExports.jsx("label",{htmlFor:"billingAddress.attention",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Attention"}),jsxRuntimeExports.jsx("input",{id:"billingAddress.attention",name:"billingAddress.attention",value:o.billingAddress.attention,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{className:"lg:col-span-4",children:[jsxRuntimeExports.jsx("label",{htmlFor:"billingAddress.addressLine",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Address"}),jsxRuntimeExports.jsx("textarea",{id:"billingAddress.addressLine",name:"billingAddress.addressLine",value:o.billingAddress.addressLine,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",rows:"2"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"billingAddress.city",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"City"}),jsxRuntimeExports.jsx("input",{id:"billingAddress.city",name:"billingAddress.city",value:o.billingAddress.city,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"billingAddress.state",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"State"}),jsxRuntimeExports.jsx("input",{id:"billingAddress.state",name:"billingAddress.state",value:o.billingAddress.state,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"billingAddress.zipCode",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Zip Code"}),jsxRuntimeExports.jsx("input",{id:"billingAddress.zipCode",name:"billingAddress.zipCode",value:o.billingAddress.zipCode,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"billingAddress.country",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Country"}),jsxRuntimeExports.jsx("input",{id:"billingAddress.country",name:"billingAddress.country",value:o.billingAddress.country,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"pt-4",children:jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"shippingSameAsBilling",checked:o.shippingSameAsBilling,onChange:N,className:"form-checkbox h-4 w-4 text-blue-600"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Shipping address is same as billing address"})]})}),!o.shippingSameAsBilling&&jsxRuntimeExports.jsxs("div",{className:"space-y-4 pt-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-md text-gray-800 dark:text-gray-200",children:"Shipping Address"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2",children:[jsxRuntimeExports.jsx("label",{htmlFor:"shippingAddress.attention",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Attention"}),jsxRuntimeExports.jsx("input",{id:"shippingAddress.attention",name:"shippingAddress.attention",value:o.shippingAddress.attention,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{className:"lg:col-span-4",children:[jsxRuntimeExports.jsx("label",{htmlFor:"shippingAddress.addressLine",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Address"}),jsxRuntimeExports.jsx("textarea",{id:"shippingAddress.addressLine",name:"shippingAddress.addressLine",value:o.shippingAddress.addressLine,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",rows:"2"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"shippingAddress.city",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"City"}),jsxRuntimeExports.jsx("input",{id:"shippingAddress.city",name:"shippingAddress.city",value:o.shippingAddress.city,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"shippingAddress.state",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"State"}),jsxRuntimeExports.jsx("input",{id:"shippingAddress.state",name:"shippingAddress.state",value:o.shippingAddress.state,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"shippingAddress.zipCode",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Zip Code"}),jsxRuntimeExports.jsx("input",{id:"shippingAddress.zipCode",name:"shippingAddress.zipCode",value:o.shippingAddress.zipCode,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"shippingAddress.country",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Country"}),jsxRuntimeExports.jsx("input",{id:"shippingAddress.country",name:"shippingAddress.country",value:o.shippingAddress.country,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})]})]})]}),jsxRuntimeExports.jsx(ToggleSection,{title:"Additional Details",icon:jsxRuntimeExports.jsx(Briefcase,{className:"w-5 h-5 mr-3 text-blue-500"}),children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"under",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Under Account"}),jsxRuntimeExports.jsx("input",{id:"under",name:"under",value:o.under,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"priceCategory",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Price Category"}),jsxRuntimeExports.jsx("input",{id:"priceCategory",name:"priceCategory",value:o.priceCategory,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"currency",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Currency"}),jsxRuntimeExports.jsx("input",{id:"currency",name:"currency",value:o.currency,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{className:"lg:col-span-4",children:[jsxRuntimeExports.jsx("label",{htmlFor:"remarks",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Remarks"}),jsxRuntimeExports.jsx("textarea",{id:"remarks",name:"remarks",value:o.remarks,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",rows:"3"})]})]})}),jsxRuntimeExports.jsx(ToggleSection,{title:"Terms & Delivery",icon:jsxRuntimeExports.jsx(Truck,{className:"w-5 h-5 mr-3 text-blue-500"}),children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-3",children:[jsxRuntimeExports.jsx("label",{htmlFor:"termsAndConditionsInternal",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Terms & Conditions (Internal)"}),jsxRuntimeExports.jsx("textarea",{id:"termsAndConditionsInternal",name:"termsAndConditionsInternal",value:o.termsAndConditionsInternal,onChange:N,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600",rows:"2"})]}),jsxRuntimeExports.jsxs("div",{className:"lg:col-span-3",children:[jsxRuntimeExports.jsx("label",{htmlFor:"termsAndConditionsDisplay",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Terms & Conditions (Display)"}),jsxRuntimeExports.jsx("textarea",{id:"termsAndConditionsDisplay",name:"termsAndConditionsDisplay",value:o.termsAndConditionsDisplay,onChange:N,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600",rows:"2"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"modeOfPayment",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Mode of Payment"}),jsxRuntimeExports.jsx("input",{id:"modeOfPayment",name:"modeOfPayment",value:o.modeOfPayment,onChange:N,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"deliveryType",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Delivery Type"}),jsxRuntimeExports.jsx("input",{id:"deliveryType",name:"deliveryType",value:o.deliveryType,onChange:N,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"paymentTerms",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Payment Terms"}),jsxRuntimeExports.jsx("input",{id:"paymentTerms",name:"paymentTerms",value:o.paymentTerms,onChange:N,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"transportDispatchThrough",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Dispatch Through"}),jsxRuntimeExports.jsx("input",{id:"transportDispatchThrough",name:"transportDispatchThrough",value:o.transportDispatchThrough,onChange:N,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"freightTerms",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Freight Terms"}),jsxRuntimeExports.jsx("input",{id:"freightTerms",name:"freightTerms",value:o.freightTerms,onChange:N,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600"})]}),jsxRuntimeExports.jsxs("div",{className:"lg:col-span-3",children:[jsxRuntimeExports.jsx("label",{htmlFor:"splInstruction",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Special Instructions"}),jsxRuntimeExports.jsx("input",{id:"splInstruction",name:"splInstruction",value:o.splInstruction,onChange:N,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600"})]})]})}),jsxRuntimeExports.jsx(ToggleSection,{title:"Social & Sales",icon:jsxRuntimeExports.jsx(Share2,{className:"w-5 h-5 mr-3 text-blue-500"}),children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"facebook",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Facebook URL"}),jsxRuntimeExports.jsx("input",{id:"facebook",name:"facebook",value:o.facebook,onChange:N,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"twitter",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Twitter URL"}),jsxRuntimeExports.jsx("input",{id:"twitter",name:"twitter",value:o.twitter,onChange:N,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"salesValuePreviousYear",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Sales Value (Prev. Year)"}),jsxRuntimeExports.jsx("input",{id:"salesValuePreviousYear",name:"salesValuePreviousYear",type:"number",value:o.salesValuePreviousYear,onChange:N,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600"})]})]})})]}),u==="otherPerson"&&jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border p-6 space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Additional Contacts"}),(o.otherPersons||[]).map((T,D)=>jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded-md relative",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>A("otherPersons",D),className:"absolute top-2 right-2 p-1 text-red-500 hover:bg-red-100 rounded-full",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Salutation"}),jsxRuntimeExports.jsx("input",{"data-list":"otherPersons","data-index":D,name:"salutation",value:T.salutation,onChange:N,className:"w-full px-3 py-2 border rounded-md"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"First Name"}),jsxRuntimeExports.jsx("input",{"data-list":"otherPersons","data-index":D,name:"firstName",value:T.firstName,onChange:N,className:"w-full px-3 py-2 border rounded-md"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Last Name"}),jsxRuntimeExports.jsx("input",{"data-list":"otherPersons","data-index":D,name:"lastName",value:T.lastName,onChange:N,className:"w-full px-3 py-2 border rounded-md"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),jsxRuntimeExports.jsx("input",{"data-list":"otherPersons","data-index":D,name:"emailAddress",type:"email",value:T.emailAddress,onChange:N,className:"w-full px-3 py-2 border rounded-md"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Work Phone"}),jsxRuntimeExports.jsx("input",{"data-list":"otherPersons","data-index":D,name:"workPhone",value:T.workPhone,onChange:N,className:"w-full px-3 py-2 border rounded-md"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Mobile"}),jsxRuntimeExports.jsx("input",{"data-list":"otherPersons","data-index":D,name:"mobile",value:T.mobile,onChange:N,className:"w-full px-3 py-2 border rounded-md"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Skype"}),jsxRuntimeExports.jsx("input",{"data-list":"otherPersons","data-index":D,name:"skypeNameOrNumber",value:T.skypeNameOrNumber,onChange:N,className:"w-full px-3 py-2 border rounded-md"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Designation"}),jsxRuntimeExports.jsx("input",{"data-list":"otherPersons","data-index":D,name:"designation",value:T.designation,onChange:N,className:"w-full px-3 py-2 border rounded-md"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Department"}),jsxRuntimeExports.jsx("input",{"data-list":"otherPersons","data-index":D,name:"department",value:T.department,onChange:N,className:"w-full px-3 py-2 border rounded-md"})]})]})]},D)),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>C("otherPersons",{salutation:"",firstName:"",lastName:"",emailAddress:"",workPhone:"",mobile:"",skypeNameOrNumber:"",designation:"",department:""}),className:"flex items-center justify-center px-3 py-1.5 bg-blue-600 text-white text-sm rounded-md shadow-sm hover:bg-blue-700",children:[jsxRuntimeExports.jsx(Plus,{className:"mr-2 h-4 w-4"})," Add Contact"]})]}),u==="customField"&&jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border p-6 space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Custom Fields"}),(o.customFields||[]).map((T,D)=>jsxRuntimeExports.jsxs("div",{className:"flex items-end gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Field Name"}),jsxRuntimeExports.jsx("input",{"data-list":"customFields","data-index":D,name:"fieldName",value:T.fieldName,onChange:N,className:"w-full px-3 py-2 border rounded-md"})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Field Value"}),jsxRuntimeExports.jsx("input",{"data-list":"customFields","data-index":D,name:"fieldValue",value:T.fieldValue,onChange:N,className:"w-full px-3 py-2 border rounded-md"})]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>A("customFields",D),className:"p-2 text-red-500 hover:bg-red-100 rounded-md mb-1",children:jsxRuntimeExports.jsx(Trash2,{className:"h-5 w-5"})})]},D)),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>C("customFields",{fieldName:"",fieldValue:""}),className:"flex items-center justify-center px-3 py-1.5 bg-blue-600 text-white text-sm rounded-md shadow-sm hover:bg-blue-700",children:[jsxRuntimeExports.jsx(Plus,{className:"mr-2 h-4 w-4"})," Add Field"]})]}),u==="bankDetails"&&jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border p-6 space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Bank Details"}),(o.bankDetails||[]).map((T,D)=>jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded-md relative",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>A("bankDetails",D),className:"absolute top-2 right-2 p-1 text-red-500 hover:bg-red-100 rounded-full",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bank Name"}),jsxRuntimeExports.jsx("input",{"data-list":"bankDetails","data-index":D,name:"bankName",value:T.bankName,onChange:N,className:"w-full px-3 py-2 border rounded-md"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Account Number"}),jsxRuntimeExports.jsx("input",{"data-list":"bankDetails","data-index":D,name:"accountNumber",value:T.accountNumber,onChange:N,className:"w-full px-3 py-2 border rounded-md"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"IFSC Code"}),jsxRuntimeExports.jsx("input",{"data-list":"bankDetails","data-index":D,name:"ifsCode",value:T.ifsCode,onChange:N,className:"w-full px-3 py-2 border rounded-md"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"IBAN Code"}),jsxRuntimeExports.jsx("input",{"data-list":"bankDetails","data-index":D,name:"ibanCode",value:T.ibanCode,onChange:N,className:"w-full px-3 py-2 border rounded-md"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Corporate ID"}),jsxRuntimeExports.jsx("input",{"data-list":"bankDetails","data-index":D,name:"corporateId",value:T.corporateId,onChange:N,className:"w-full px-3 py-2 border rounded-md"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Branch Location"}),jsxRuntimeExports.jsx("input",{"data-list":"bankDetails","data-index":D,name:"locationBranch",value:T.locationBranch,onChange:N,className:"w-full px-3 py-2 border rounded-md"})]}),jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Branch Address"}),jsxRuntimeExports.jsx("input",{"data-list":"bankDetails","data-index":D,name:"branchAddress",value:T.branchAddress,onChange:N,className:"w-full px-3 py-2 border rounded-md"})]}),jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Beneficiary Email"}),jsxRuntimeExports.jsx("input",{"data-list":"bankDetails","data-index":D,name:"beneficiaryMailId",type:"email",value:T.beneficiaryMailId,onChange:N,className:"w-full px-3 py-2 border rounded-md"})]})]})]},D)),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>C("bankDetails",{bankName:"",accountNumber:"",ifsCode:"",ibanCode:"",corporateId:"",locationBranch:"",branchAddress:"",beneficiaryMailId:""}),className:"flex items-center justify-center px-3 py-1.5 bg-blue-600 text-white text-sm rounded-md shadow-sm hover:bg-blue-700",children:[jsxRuntimeExports.jsx(Plus,{className:"mr-2 h-4 w-4"})," Add Account"]})]})]})]})},API_URL$2="https://javapaas-202946-0.cloudclusters.net/api",CrmContactForm=({item:e,onSave:t,onCancel:n,loading:o})=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold",children:e?"Edit Contact":"Add New Contact"}),jsxRuntimeExports.jsx("button",{onClick:n,className:"p-1 rounded-full text-foreground-muted hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 flex-grow",children:[jsxRuntimeExports.jsx("p",{className:"text-center text-foreground-muted",children:"Contact form fields will go here."}),jsxRuntimeExports.jsx("p",{className:"text-center text-foreground-muted text-sm mt-2",children:"Create a `CrmContactForm.jsx` component to implement the form logic."})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-background-muted border-t flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:n,className:"btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:()=>t({}),className:"btn-primary",disabled:o,children:o?"Saving...":"Save"})]})]}),ContactDetailsModal=({isOpen:e,onClose:t,contact:n})=>{if(!e||!n)return null;const o=({label:l,value:u})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-foreground-muted",children:l}),jsxRuntimeExports.jsx("p",{className:"font-medium text-foreground",children:u||"N/A"})]});return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/60 flex justify-center items-center z-50 p-4",onClick:t,children:jsxRuntimeExports.jsxs("div",{className:"bg-card text-card-foreground rounded-lg shadow-xl w-full max-w-lg",onClick:l=>l.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-foreground",children:"Contact Details"}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-1 rounded-full text-foreground-muted hover:bg-background-muted",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 max-h-[70vh] overflow-y-auto grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsx(o,{label:"First Name",value:n.firstName}),jsxRuntimeExports.jsx(o,{label:"Last Name",value:n.lastName}),jsxRuntimeExports.jsx(o,{label:"Email",value:n.email}),jsxRuntimeExports.jsx(o,{label:"Phone",value:n.phone}),jsxRuntimeExports.jsx(o,{label:"Associated Lead ID",value:n.leadId}),jsxRuntimeExports.jsx(o,{label:"Created At",value:new Date(n.createdAt).toLocaleString()}),jsxRuntimeExports.jsx(o,{label:"Last Updated",value:new Date(n.updatedAt).toLocaleString()})]}),jsxRuntimeExports.jsx("div",{className:"p-4 bg-background-muted border-t flex justify-end",children:jsxRuntimeExports.jsx("button",{onClick:t,className:"btn-secondary",children:"Close"})})]})})},CrmContacts=()=>{const[e,t]=reactExports.useState([]),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState(null),[m,p]=reactExports.useState(""),[j,f]=reactExports.useState(0),[g,b]=reactExports.useState(10),[R,v]=reactExports.useState(0),[N,S]=reactExports.useState(!1),[$,C]=reactExports.useState(null),[A,T]=reactExports.useState(!1),[D,I]=reactExports.useState(null),[L,_]=reactExports.useState(!1),M=reactExports.useMemo(()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),[]),F=reactExports.useCallback(async()=>{o(!0),u(null);try{const J={page:j,size:g,sort:"firstName,asc"},ne=await axios.get(`${API_URL$2}/contacts`,{params:J,headers:M});t(ne.data.content),v(ne.data.totalPages)}catch(J){u("Failed to fetch contacts. Please try again later."),console.error(J)}finally{o(!1)}},[j,g,M]);reactExports.useEffect(()=>{F()},[F]);const B=()=>{C(null),S(!0)},q=J=>{C(J),S(!0)},z=()=>{S(!1),C(null)},V=J=>{I(J),_(!0)},Q=()=>{_(!1),I(null)},ee=async J=>{T(!0),!!J.id?`${API_URL$2}${J.id}`:`${API_URL$2}`;try{await axiosmethod,await F(),z()}catch(H){alert(`Error: ${H.response?.data?.message||"Failed to save contact."}`)}finally{T(!1)}},G=async J=>{if(window.confirm("Are you sure you want to delete this contact?"))try{await axios.delete(`${API_URL$2}/contacts/${J}`,{headers:M}),await F()}catch(ne){alert(`Error: ${ne.response?.data?.message||"Failed to delete contact."}`)}},K=reactExports.useMemo(()=>{const J=m.trim().toLowerCase();return J?e.filter(ne=>ne.firstName.toLowerCase().includes(J)||ne.lastName?.toLowerCase().includes(J)||ne.email?.toLowerCase().includes(J)):e},[e,m]);return jsxRuntimeExports.jsxs("div",{className:"p-6 bg-card rounded-xl shadow-sm h-full flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-foreground",children:"Contacts"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by name, email...",value:m,onChange:J=>p(J.target.value),className:"input w-full sm:w-64 pr-10 bg-background-muted border-border"}),jsxRuntimeExports.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-foreground-muted"})]}),jsxRuntimeExports.jsxs("button",{onClick:B,className:"btn-primary flex items-center gap-2",children:[jsxRuntimeExports.jsx(CirclePlus,{size:16})," Add Contact"]})]})]}),l&&jsxRuntimeExports.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:l}),jsxRuntimeExports.jsx("div",{className:"flex-grow overflow-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full border-collapse border border-border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-background-muted sticky top-0",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"th-cell border border-border w-16",children:"S.No."}),jsxRuntimeExports.jsx("th",{className:"th-cell border border-border",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"th-cell border border-border",children:"Email"}),jsxRuntimeExports.jsx("th",{className:"th-cell border border-border",children:"Phone"}),jsxRuntimeExports.jsx("th",{className:"th-cell border border-border",children:"Created At"}),jsxRuntimeExports.jsx("th",{className:"th-cell border border-border w-32",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-card text-foreground-muted",children:n?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"6",className:"text-center py-10",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-8 w-8 text-primary mx-auto"})})}):K.length>0?K.map((J,ne)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-background-muted transition-colors border-t border-border",children:[jsxRuntimeExports.jsx("td",{className:"td-cell border border-border text-center",children:j*g+ne+1}),jsxRuntimeExports.jsxs("td",{className:"td-cell border border-border font-medium text-foreground",children:[J.firstName," ",J.lastName]}),jsxRuntimeExports.jsx("td",{className:"td-cell border border-border",children:J.email||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell border border-border",children:J.phone||"N/A"}),jsxRuntimeExports.jsx("td",{className:"td-cell border border-border",children:new Date(J.createdAt).toLocaleDateString()}),jsxRuntimeExports.jsx("td",{className:"td-cell border border-border",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>V(J),className:"text-sky-500 hover:text-sky-600",title:"View Details",children:jsxRuntimeExports.jsx(Eye,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>q(J),className:"text-primary hover:text-primary/80",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>G(J.id),className:"text-red-500 hover:text-red-600",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},J.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"6",className:"text-center py-10",children:[jsxRuntimeExports.jsx(Contact,{className:"mx-auto h-12 w-12 text-foreground-muted/50"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-foreground",children:"No contacts found"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"Get started by adding a new contact."})]})})})]})}),!n&&R>1&&jsxRuntimeExports.jsxs("footer",{className:"flex flex-col sm:flex-row justify-between items-center pt-4 mt-4 border-t border-border",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-foreground-muted mb-4 sm:mb-0",children:[jsxRuntimeExports.jsx("span",{children:"Rows per page:"}),jsxRuntimeExports.jsx("select",{value:g,onChange:J=>{b(Number(J.target.value)),f(0)},className:"input-sm bg-background-muted border-border",children:[10,20,50,100].map(J=>jsxRuntimeExports.jsx("option",{value:J,children:J},J))})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-foreground-muted",children:["Page ",R>0?j+1:0," of ",R]}),jsxRuntimeExports.jsx("button",{onClick:()=>f(J=>J-1),disabled:j===0,className:"btn-secondary p-2",children:jsxRuntimeExports.jsx(ChevronLeft,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>f(J=>J+1),disabled:j>=R-1,className:"btn-secondary p-2",children:jsxRuntimeExports.jsx(ChevronRight,{className:"h-4 w-4"})})]})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:N&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black/60 z-40",onClick:z}),jsxRuntimeExports.jsx(motion.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 right-0 h-full w-full max-w-md bg-card shadow-2xl z-50 flex flex-col",children:jsxRuntimeExports.jsx(CrmContactForm,{item:$,onSave:ee,onCancel:z,loading:A})})]})}),jsxRuntimeExports.jsx(ContactDetailsModal,{isOpen:L,onClose:Q,contact:D})]})},accountNavLinks=[{name:"Chart Of Accounts",icon:Book,href:"/account-dashboard/chart-of-accounts",color:"text-blue-500"},{name:"Add Entry",icon:SquarePlus,href:"/account-dashboard/add-entry",color:"text-green-500"},{name:"Manage Entry",icon:List,href:"/account-dashboard/manage-entry",color:"text-yellow-500"},{name:"Manage Incoming PDC",icon:ChevronsRightLeft,href:"/account-dashboard/incoming-pdc",color:"text-purple-500"},{name:"Manage Outgoing PDC",icon:ChevronsLeftRight,href:"/account-dashboard/outgoing-pdc",color:"text-rose-500"},{name:"Bank Reconciliation",icon:Scale,href:"/account-dashboard/bank-reconciliation",color:"text-teal-500"}],SidebarContent=({onLinkClick:e})=>{useLocation();const t=useNavigate(),n=()=>{localStorage.clear(),t("/login")},o=({item:l})=>jsxRuntimeExports.jsx(NavLink,{to:l.href,onClick:e,end:!0,className:({isActive:u})=>`flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors group ${u?"bg-primary text-primary-foreground shadow-sm":"text-foreground-muted hover:bg-background-muted"}`,children:({isActive:u})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(l.icon,{className:`h-5 w-5 mr-3 flex-shrink-0 ${l.color} group-hover:opacity-100 ${u?"text-primary-foreground":""}`}),jsxRuntimeExports.jsx("span",{children:l.name})]})});return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full bg-card text-card-foreground",children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b border-border flex-shrink-0",children:jsxRuntimeExports.jsxs("button",{onClick:()=>t("/company-dashboard"),className:"flex items-center gap-3 w-full text-left",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"h-6 w-6 text-primary"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-xl text-foreground",children:"Company Hub"})]})}),jsxRuntimeExports.jsx("nav",{className:"flex-1 px-4 py-4 space-y-1 overflow-y-auto",children:accountNavLinks.map(l=>jsxRuntimeExports.jsx(o,{item:l},l.name))}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t border-border flex-shrink-0 space-y-2",children:[jsxRuntimeExports.jsxs(NavLink,{to:"/company-settings/account",onClick:e,className:({isActive:l})=>`flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors group ${l?"bg-primary text-primary-foreground shadow-sm":"text-foreground-muted hover:bg-background-muted"}`,children:[jsxRuntimeExports.jsx(Settings$1,{className:"h-5 w-5 mr-3"}),jsxRuntimeExports.jsx("span",{children:"Settings"})]}),jsxRuntimeExports.jsxs("button",{onClick:n,className:"w-full flex items-center px-4 py-2.5 text-sm font-medium rounded-lg text-foreground-muted hover:bg-background-muted group",title:"Logout",children:[jsxRuntimeExports.jsx(LogOut,{className:"h-5 w-5 mr-3 text-foreground-muted group-hover:text-red-600"}),jsxRuntimeExports.jsx("span",{children:"Logout"})]})]})]})},AccountLayout=({children:e})=>{const[t,n]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("div",{className:"flex h-screen bg-background text-foreground",children:[jsxRuntimeExports.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0",children:jsxRuntimeExports.jsx("div",{className:"flex flex-col w-64 border-r border-border",children:jsxRuntimeExports.jsx(SidebarContent,{})})}),jsxRuntimeExports.jsx(AnimatePresence,{children:t&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black/50 z-20 lg:hidden",onClick:()=>n(!1)}),jsxRuntimeExports.jsx(motion.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 left-0 h-full w-64 z-30 bg-card text-card-foreground",children:jsxRuntimeExports.jsx(SidebarContent,{onLinkClick:()=>n(!1)})})]})}),jsxRuntimeExports.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[jsxRuntimeExports.jsxs("header",{className:"lg:hidden sticky top-0 z-10 flex-shrink-0 flex h-16 bg-card shadow-sm items-center px-4",children:[jsxRuntimeExports.jsx("button",{type:"button",className:"text-foreground-muted",onClick:()=>n(!0),children:jsxRuntimeExports.jsx(Menu,{className:"h-6 w-6"})}),jsxRuntimeExports.jsx("div",{className:"flex-1 flex justify-center items-center",children:jsxRuntimeExports.jsx("span",{className:"font-bold text-lg text-foreground",children:"Account Module"})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 bg-background-muted",children:e})]})]})},Account=()=>jsxRuntimeExports.jsx(AccountLayout,{children:jsxRuntimeExports.jsx(Outlet,{})}),PlaceholderComponent=({title:e})=>jsxRuntimeExports.jsxs("div",{className:"text-center py-10 border-2 border-dashed border-border rounded-lg bg-background-muted text-foreground-muted",children:[jsxRuntimeExports.jsx("h3",{className:"mt-2 text-lg font-medium text-foreground",children:e}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm",children:"This section is under development. Stay tuned for updates!"})]}),accountSettingsLinks=[{name:"General",icon:Settings$1,component:jsxRuntimeExports.jsx(PlaceholderComponent,{title:"General Settings"}),color:"text-gray-500"},{name:"Manage Groups",icon:FolderKanban,component:jsxRuntimeExports.jsx(PlaceholderComponent,{title:"Manage Groups"}),color:"text-blue-500"},{name:"Manage Ledgers",icon:BookOpen,component:jsxRuntimeExports.jsx(PlaceholderComponent,{title:"Manage Ledgers"}),color:"text-green-500"},{name:"Manage Payment modes",icon:WalletCards,component:jsxRuntimeExports.jsx(PlaceholderComponent,{title:"Manage Payment Modes"}),color:"text-purple-500"},{name:"Manage Extra Charges",icon:BadgePercent,component:jsxRuntimeExports.jsx(PlaceholderComponent,{title:"Manage Extra Charges"}),color:"text-orange-500"},{name:"Manage Prefix and Number",icon:Hash,component:jsxRuntimeExports.jsx(PlaceholderComponent,{title:"Manage Prefix and Number"}),color:"text-rose-500"},{name:"TDS Section",icon:ReceiptText,component:jsxRuntimeExports.jsx(PlaceholderComponent,{title:"TDS Section"}),color:"text-teal-500"}],AccountSetting=()=>{const e=useNavigate(),[t,n]=reactExports.useState(!1),[o,l]=reactExports.useState(accountSettingsLinks[0].name),u=accountSettingsLinks.find(j=>j.name===o)?.component,m="bg-blue-50 border-l-4 border-blue-600 text-blue-700 font-semibold",p="border-l-4 border-transparent text-slate-600 hover:bg-slate-50 hover:text-slate-800";return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full bg-slate-50",children:[jsxRuntimeExports.jsx("header",{className:"bg-white shadow-sm p-4 border-b border-slate-200 z-20",children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>e(-1),className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"h-5 w-5 text-slate-600"})}),jsxRuntimeExports.jsx("button",{onClick:()=>n(!0),className:"md:hidden p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(Menu,{className:"h-5 w-5 text-slate-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold text-slate-800",children:"Account Configuration"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-500",children:"Manage company-wide settings for the Accounting module."})]})]})})}),jsxRuntimeExports.jsxs("div",{className:"flex-grow flex",children:[t&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 md:hidden",onClick:()=>n(!1)}),jsxRuntimeExports.jsxs("aside",{className:`fixed inset-y-0 left-0 z-40 w-64 bg-white border-r border-slate-200 p-4 md:p-6 transform transition-transform duration-300 ease-in-out md:relative md:translate-x-0 ${t?"translate-x-0":"-translate-x-full"}`,children:[jsxRuntimeExports.jsx("button",{onClick:()=>n(!1),className:"md:hidden p-2 rounded-full hover:bg-slate-100 absolute top-2 right-2",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5 text-slate-600"})}),jsxRuntimeExports.jsx("nav",{className:"flex flex-col space-y-2 mt-10 md:mt-0",children:accountSettingsLinks.map(j=>jsxRuntimeExports.jsxs("button",{onClick:()=>{l(j.name),n(!1)},className:`flex items-center gap-3 px-3 py-2.5 rounded-md text-sm font-medium transition-all ${o===j.name?m:p}`,children:[jsxRuntimeExports.jsx(j.icon,{className:`h-5 w-5 ${j.color}`}),jsxRuntimeExports.jsx("span",{children:j.name})]},j.name))})]}),jsxRuntimeExports.jsx("main",{className:"flex-grow p-6 md:p-8 w-full md:w-auto",children:u||jsxRuntimeExports.jsx("p",{children:"Select a setting from the sidebar."})})]})]})},API_URL$1="https://javapaas-202946-0.cloudclusters.net/api",CrmSalesProduct=()=>{const e=useNavigate(),[t,n]=reactExports.useState([]),[o,l]=reactExports.useState(!0),[u,m]=reactExports.useState(null),[p,j]=reactExports.useState(""),[f,g]=reactExports.useState(0),[b,R]=reactExports.useState(10),[v,N]=reactExports.useState(0),[S,$]=reactExports.useState("table"),C=reactExports.useMemo(()=>({headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),[]),A=reactExports.useCallback(async()=>{l(!0);try{const L={page:f,size:b,search:p},_=await axios.get(`${API_URL$1}/crm/sales-products`,{params:L,...C});n(_.data.content||[]),N(_.data.totalPages),m(null)}catch(L){m("Failed to fetch products. Please try again."),console.error(L)}finally{l(!1)}},[f,b,p,C]);reactExports.useEffect(()=>{const L=setTimeout(()=>{A()},300);return()=>clearTimeout(L)},[A]);const T=async L=>{if(window.confirm("Are you sure you want to delete this product?"))try{await axios.delete(`${API_URL$1}/crm/sales-products/${L}`,C),A()}catch(_){alert(`Error: ${_.response?.data?.message||"Failed to delete product."}`)}},D=L=>L?`${API_URL$1}/crm/sales-products/${L}/image?t=${new Date().getTime()}`:null,I=({product:L})=>jsxRuntimeExports.jsxs("div",{className:"bg-white border rounded-lg shadow-sm overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"h-40 bg-gray-100 flex items-center justify-center",children:L.imageUrl?jsxRuntimeExports.jsx("img",{src:D(L.id),alt:L.name,className:"h-full w-full object-cover"}):jsxRuntimeExports.jsx(ImageOff,{className:"h-12 w-12 text-gray-400"})}),jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-800 truncate",children:L.name}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:L.itemCode||"No Code"}),jsxRuntimeExports.jsxs("p",{className:"text-lg font-bold text-gray-900 mt-2",children:["",L.salesPrice]})]}),jsxRuntimeExports.jsxs("div",{className:"p-2 bg-gray-50 border-t flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>e(`/crm-dashboard/products/edit/${L.id}`),className:"p-2 rounded-md hover:bg-gray-200",children:jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4 text-gray-600"})}),jsxRuntimeExports.jsx("button",{onClick:()=>T(L.id),className:"p-2 rounded-md hover:bg-gray-200",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4 text-red-500"})})]})]});return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full bg-slate-50",children:[jsxRuntimeExports.jsx("header",{className:"bg-white shadow-sm p-4 border-b border-slate-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>e(-1),className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"h-5 w-5 text-slate-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold text-slate-800",children:"CRM Products"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-500",children:"Manage your sales products and services."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center rounded-lg border bg-gray-100 p-0.5",children:[jsxRuntimeExports.jsx("button",{onClick:()=>$("table"),className:`p-1.5 rounded-md ${S==="table"?"bg-white shadow-sm":"text-gray-500"}`,children:jsxRuntimeExports.jsx(List,{size:18})}),jsxRuntimeExports.jsx("button",{onClick:()=>$("card"),className:`p-1.5 rounded-md ${S==="card"?"bg-white shadow-sm":"text-gray-500"}`,children:jsxRuntimeExports.jsx(Grid3x3,{size:18})})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>e("/crm-dashboard/products/new"),className:"flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700",children:[jsxRuntimeExports.jsx(Plus,{className:"mr-2 h-4 w-4"})," Add Product"]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex-grow p-4 sm:p-6 flex flex-col",children:[jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by name or item code...",value:p,onChange:L=>j(L.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg"})]})}),u&&jsxRuntimeExports.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md mb-4",children:u}),jsxRuntimeExports.jsx("main",{className:"flex-grow overflow-auto",children:o?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-full",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"h-8 w-8 animate-spin text-blue-500"})}):t.length>0?S==="table"?jsxRuntimeExports.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-sm text-left",children:[jsxRuntimeExports.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3",children:"Image"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3",children:"Item Code"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3",children:"Type"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3",children:"Sales Price"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{children:t.map(L=>jsxRuntimeExports.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:L.imageUrl?jsxRuntimeExports.jsx("img",{src:D(L.id),alt:L.name,className:"h-10 w-10 rounded-md object-cover"}):jsxRuntimeExports.jsx("div",{className:"h-10 w-10 rounded-md bg-gray-100 flex items-center justify-center text-gray-400",children:jsxRuntimeExports.jsx(ImageOff,{size:20})})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:L.name}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:L.itemCode}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:L.itemType}),jsxRuntimeExports.jsxs("td",{className:"px-6 py-4",children:["",L.salesPrice]}),jsxRuntimeExports.jsxs("td",{className:"px-6 py-4 text-right",children:[jsxRuntimeExports.jsx("button",{onClick:()=>e(`/crm-dashboard/products/edit/${L.id}`),className:"p-2 rounded-md hover:bg-gray-100",children:jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4 text-gray-600"})}),jsxRuntimeExports.jsx("button",{onClick:()=>T(L.id),className:"p-2 rounded-md hover:bg-gray-100",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4 text-red-500"})})]})]},L.id))})]})}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.map(L=>jsxRuntimeExports.jsx(I,{product:L},L.id))}):jsxRuntimeExports.jsx("div",{className:"text-center py-16",children:jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"No Products Found"})})}),!o&&v>1&&jsxRuntimeExports.jsxs("footer",{className:"flex justify-between items-center pt-4 mt-4 border-t",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",f+1," of ",v]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>g(L=>Math.max(0,L-1)),disabled:f===0,className:"p-2 rounded-md border disabled:opacity-50",children:jsxRuntimeExports.jsx(ChevronLeft,{className:"h-5 w-5"})}),jsxRuntimeExports.jsx("button",{onClick:()=>g(L=>Math.min(v-1,L+1)),disabled:f>=v-1,className:"p-2 rounded-md border disabled:opacity-50",children:jsxRuntimeExports.jsx(ChevronRight,{className:"h-5 w-5"})})]})]})]})]})},API_URL="https://javapaas-202946-0.cloudclusters.net/api",CrmSalesProductForm=()=>{const e=useNavigate(),{id:t}=useParams(),n=!!t,[o,l]=reactExports.useState({itemType:"PRODUCT",isPurchase:!1,isSales:!0,itemCode:"",name:"",description:"",unitOfMeasure:"",reorderLimit:"",vatClassificationCode:"",purchasePrice:"",salesPrice:"",tax:"",taxRate:""}),[u,m]=reactExports.useState(null),[p,j]=reactExports.useState(null),[f,g]=reactExports.useState(!1),[b,R]=reactExports.useState(null),v=T=>T?`${API_URL}/crm/sales-products/images/${T}`:null,N=reactExports.useCallback(async()=>{if(n){g(!0);try{const D=(await axios.get(`${API_URL}/crm/sales-products/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data;l({itemType:D.itemType||"PRODUCT",isPurchase:D.purchase||!1,isSales:D.sales||!0,itemCode:D.itemCode||"",name:D.name||"",description:D.description||"",unitOfMeasure:D.unitOfMeasure||"",reorderLimit:D.reorderLimit||"",vatClassificationCode:D.vatClassificationCode||"",purchasePrice:D.purchasePrice||"",salesPrice:D.salesPrice||"",tax:D.tax||"",taxRate:D.taxRate||""}),D.imageUrl&&j(v(D.imageUrl))}catch(T){R("Failed to fetch product details."),console.error(T)}finally{g(!1)}}},[t,n]);reactExports.useEffect(()=>{N()},[N]);const S=T=>{const{name:D,value:I,type:L,checked:_}=T.target;l(M=>({...M,[D]:L==="checkbox"?_:I}))},$=T=>{if(T.target.files&&T.target.files[0]){const D=T.target.files[0];m(D),j(URL.createObjectURL(D))}},C=()=>{e("/crm-dashboard/products")},A=async T=>{T.preventDefault(),g(!0),R(null);const D=new FormData,I={...o};I.purchasePrice===""&&(I.purchasePrice=null),I.salesPrice===""&&(I.salesPrice=null),D.append("product",new Blob([JSON.stringify(I)],{type:"application/json"})),u&&D.append("image",u);try{const L={headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("token")}`}};n?await axios.put(`${API_URL}/crm/sales-products/${t}`,D,L):await axios.post(`${API_URL}/crm/sales-products`,D,L),e("/crm-dashboard/products")}catch(L){R(L.response?.data?.message||`Failed to ${n?"update":"create"} product.`),console.error(L)}finally{g(!1)}};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-screen bg-slate-50",children:[jsxRuntimeExports.jsxs("header",{className:"bg-white shadow-sm p-4 border-b border-slate-200 flex items-center justify-between sticky top-0 z-10",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:C,className:"p-2 rounded-full hover:bg-slate-100",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"h-5 w-5 text-slate-600"})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold text-slate-800",children:n?"Edit Product":"Add New Product"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:C,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",form:"product-form",disabled:f,className:"ml-3 inline-flex justify-center px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 disabled:bg-blue-300",children:[f?jsxRuntimeExports.jsx(LoaderCircle,{className:"mr-2 h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(Save,{className:"mr-2 h-4 w-4"}),n?"Save Changes":"Create Product"]})]})]}),jsxRuntimeExports.jsx("main",{className:"flex-grow overflow-y-auto",children:jsxRuntimeExports.jsxs("form",{id:"product-form",onSubmit:A,className:"p-6 space-y-6",children:[f&&!o.name&&n&&jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center py-16",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"h-8 w-8 animate-spin text-blue-500"})}),b&&jsxRuntimeExports.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md",children:b}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"md:col-span-1",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Image"}),jsxRuntimeExports.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:jsxRuntimeExports.jsxs("div",{className:"space-y-1 text-center",children:[p?jsxRuntimeExports.jsx("img",{src:p,alt:"Product Preview",className:"mx-auto h-24 w-24 object-cover rounded-md"}):jsxRuntimeExports.jsx(Image,{className:"mx-auto h-12 w-12 text-gray-400"}),jsxRuntimeExports.jsxs("div",{className:"flex text-sm text-gray-600",children:[jsxRuntimeExports.jsxs("label",{htmlFor:"image-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none",children:[jsxRuntimeExports.jsx("span",{children:"Upload a file"}),jsxRuntimeExports.jsx("input",{id:"image-upload",name:"image",type:"file",className:"sr-only",onChange:$,accept:"image/*"})]}),jsxRuntimeExports.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2 space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Product Name *"}),jsxRuntimeExports.jsx("input",{type:"text",name:"name",id:"name",value:o.name,onChange:S,required:!0,className:"mt-1 block w-full rounded-lg border border-slate-300 bg-slate-50 py-2 px-3 text-sm placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"itemCode",className:"block text-sm font-medium text-gray-700",children:"Item Code"}),jsxRuntimeExports.jsx("input",{type:"text",name:"itemCode",id:"itemCode",value:o.itemCode,onChange:S,className:"mt-1 block w-full rounded-lg border border-slate-300 bg-slate-50 py-2 px-3 text-sm placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"itemType",className:"block text-sm font-medium text-gray-700",children:"Item Type"}),jsxRuntimeExports.jsxs("select",{id:"itemType",name:"itemType",value:o.itemType,onChange:S,className:"mt-1 block w-full rounded-lg border border-slate-300 bg-slate-50 py-2 px-3 text-sm placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1",children:[jsxRuntimeExports.jsx("option",{value:"PRODUCT",children:"Product"}),jsxRuntimeExports.jsx("option",{value:"SERVICE",children:"Service"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),jsxRuntimeExports.jsx("textarea",{id:"description",name:"description",rows:"3",value:o.description,onChange:S,className:"mt-1 block w-full rounded-lg border border-slate-300 bg-slate-50 py-2 px-3 text-sm placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-8",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex items-start",children:[jsxRuntimeExports.jsx("div",{className:"flex h-5 items-center",children:jsxRuntimeExports.jsx("input",{id:"isPurchase",name:"isPurchase",type:"checkbox",checked:o.isPurchase,onChange:S,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),jsxRuntimeExports.jsx("div",{className:"ml-3 text-sm",children:jsxRuntimeExports.jsx("label",{htmlFor:"isPurchase",className:"font-medium text-gray-700",children:"Purchase Item"})})]}),jsxRuntimeExports.jsxs("div",{className:"relative flex items-start",children:[jsxRuntimeExports.jsx("div",{className:"flex h-5 items-center",children:jsxRuntimeExports.jsx("input",{id:"isSales",name:"isSales",type:"checkbox",checked:o.isSales,onChange:S,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),jsxRuntimeExports.jsx("div",{className:"ml-3 text-sm",children:jsxRuntimeExports.jsx("label",{htmlFor:"isSales",className:"font-medium text-gray-700",children:"Sales Item"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"purchasePrice",className:"block text-sm font-medium text-gray-700",children:"Purchase Price ()"}),jsxRuntimeExports.jsx("input",{type:"number",name:"purchasePrice",id:"purchasePrice",value:o.purchasePrice,onChange:S,className:"mt-1 block w-full rounded-lg border border-slate-300 bg-slate-50 py-2 px-3 text-sm placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"salesPrice",className:"block text-sm font-medium text-gray-700",children:"Sales Price ()"}),jsxRuntimeExports.jsx("input",{type:"number",name:"salesPrice",id:"salesPrice",value:o.salesPrice,onChange:S,className:"mt-1 block w-full rounded-lg border border-slate-300 bg-slate-50 py-2 px-3 text-sm placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"unitOfMeasure",className:"block text-sm font-medium text-gray-700",children:"Unit of Measure"}),jsxRuntimeExports.jsx("input",{type:"text",name:"unitOfMeasure",id:"unitOfMeasure",value:o.unitOfMeasure,onChange:S,className:"mt-1 block w-full rounded-lg border border-slate-300 bg-slate-50 py-2 px-3 text-sm placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1",placeholder:"e.g., pcs, kg, ltr"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"reorderLimit",className:"block text-sm font-medium text-gray-700",children:"Reorder Limit"}),jsxRuntimeExports.jsx("input",{type:"number",name:"reorderLimit",id:"reorderLimit",value:o.reorderLimit,onChange:S,className:"mt-1 block w-full rounded-lg border border-slate-300 bg-slate-50 py-2 px-3 text-sm placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"tax",className:"block text-sm font-medium text-gray-700",children:"Tax"}),jsxRuntimeExports.jsx("input",{type:"text",name:"tax",id:"tax",value:o.tax,onChange:S,className:"mt-1 block w-full rounded-lg border border-slate-300 bg-slate-50 py-2 px-3 text-sm placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1",placeholder:"e.g., GST, VAT"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"taxRate",className:"block text-sm font-medium text-gray-700",children:"Tax Rate (%)"}),jsxRuntimeExports.jsx("input",{type:"number",name:"taxRate",id:"taxRate",value:o.taxRate,onChange:S,className:"mt-1 block w-full rounded-lg border border-slate-300 bg-slate-50 py-2 px-3 text-sm placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1",placeholder:"e.g., 18"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"vatClassificationCode",className:"block text-sm font-medium text-gray-700",children:"VAT/GST Code"}),jsxRuntimeExports.jsx("input",{type:"text",name:"vatClassificationCode",id:"vatClassificationCode",value:o.vatClassificationCode,onChange:S,className:"mt-1 block w-full rounded-lg border border-slate-300 bg-slate-50 py-2 px-3 text-sm placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1",placeholder:"HSN/SAC Code"})]})]})]})})]})},CrmPlaceholder=({pageName:e})=>jsxRuntimeExports.jsxs("div",{className:"text-center py-20",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-foreground",children:e}),jsxRuntimeExports.jsx("p",{className:"text-foreground-muted mt-2",children:"This page is under construction."})]}),AccountPlaceholder=({pageName:e})=>jsxRuntimeExports.jsxs("div",{className:"text-center py-20",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-foreground",children:e}),jsxRuntimeExports.jsx("p",{className:"text-foreground-muted mt-2",children:"This page is under construction."})]}),ProductionPlaceholder=({pageName:e})=>jsxRuntimeExports.jsxs("div",{className:"text-center py-20",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-foreground",children:e}),jsxRuntimeExports.jsx("p",{className:"text-foreground-muted mt-2",children:"This page is under construction."})]});function App(){return jsxRuntimeExports.jsx(TenantProvider,{children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Home,{})}),jsxRuntimeExports.jsx(Route,{path:"/login",element:jsxRuntimeExports.jsx(Login,{})}),jsxRuntimeExports.jsx(Route,{path:"/register",element:jsxRuntimeExports.jsx(Register,{})}),jsxRuntimeExports.jsx(Route,{path:"/hrdashboard",element:jsxRuntimeExports.jsx(HrDashboard,{})}),jsxRuntimeExports.jsx(Route,{path:"/employees",element:jsxRuntimeExports.jsx(Employee,{})}),jsxRuntimeExports.jsx(Route,{path:"/master-admin",element:jsxRuntimeExports.jsx(MasterAdmin,{})}),jsxRuntimeExports.jsx(Route,{path:"/employee-dashboard",element:jsxRuntimeExports.jsx(EmployeeDashboard,{})}),jsxRuntimeExports.jsx(Route,{path:"/users-details",element:jsxRuntimeExports.jsx(UsersDetails,{})}),jsxRuntimeExports.jsx(Route,{path:"/attendance",element:jsxRuntimeExports.jsx(Attendance,{})}),jsxRuntimeExports.jsx(Route,{path:"/leave",element:jsxRuntimeExports.jsx(LeaveManagement,{})}),jsxRuntimeExports.jsx(Route,{path:"/payroll-management",element:jsxRuntimeExports.jsx(PayrollManagement,{})}),jsxRuntimeExports.jsx(Route,{path:"/pos-dashboard",element:jsxRuntimeExports.jsx(PosDashboard,{})}),jsxRuntimeExports.jsx(Route,{path:"/company-dashboard",element:jsxRuntimeExports.jsx(CompanyDashboard,{})}),jsxRuntimeExports.jsx(Route,{path:"/hrms-settings",element:jsxRuntimeExports.jsx(HrmsSettings,{})}),jsxRuntimeExports.jsx(Route,{path:"/company-settings",element:jsxRuntimeExports.jsx(Settings,{})}),jsxRuntimeExports.jsx(Route,{path:"/account-settings",element:jsxRuntimeExports.jsx(AccountSetting,{})}),jsxRuntimeExports.jsx(Route,{path:"/production-settings",element:jsxRuntimeExports.jsx(ProductionSettings,{})}),jsxRuntimeExports.jsx(Route,{path:"/crm-settings",element:jsxRuntimeExports.jsx(CrmSettings,{})}),jsxRuntimeExports.jsxs(Route,{path:"/company-settings/party-type",children:[jsxRuntimeExports.jsx(Route,{index:!0,element:jsxRuntimeExports.jsx(PartyType,{})}),jsxRuntimeExports.jsx(Route,{path:"new",element:jsxRuntimeExports.jsx(PartyForm,{})}),jsxRuntimeExports.jsx(Route,{path:"edit/:id",element:jsxRuntimeExports.jsx(PartyForm,{})})]}),jsxRuntimeExports.jsxs(Route,{path:"/crm-dashboard",element:jsxRuntimeExports.jsx(CrmModule,{}),children:[jsxRuntimeExports.jsx(Route,{index:!0,element:jsxRuntimeExports.jsx(CrmPlaceholder,{pageName:"CRM Dashboard"})}),jsxRuntimeExports.jsx(Route,{path:"home",element:jsxRuntimeExports.jsx(CrmPlaceholder,{pageName:"Home"})}),jsxRuntimeExports.jsx(Route,{path:"calling-data",element:jsxRuntimeExports.jsx(CrmPlaceholder,{pageName:"Calling Data"})}),jsxRuntimeExports.jsx(Route,{path:"leads",element:jsxRuntimeExports.jsx(CrmLead,{pageName:"Leads"})}),jsxRuntimeExports.jsx(Route,{path:"leads/:leadId",element:jsxRuntimeExports.jsx(LeadInfo,{})}),jsxRuntimeExports.jsx(Route,{path:"companies",element:jsxRuntimeExports.jsx(CrmCompanies,{pageName:"Companies"})}),jsxRuntimeExports.jsx(Route,{path:"contacts",element:jsxRuntimeExports.jsx(CrmContacts,{pageName:"Contacts"})}),jsxRuntimeExports.jsxs(Route,{path:"products",children:[jsxRuntimeExports.jsx(Route,{index:!0,element:jsxRuntimeExports.jsx(CrmSalesProduct,{pageName:"Products"})}),jsxRuntimeExports.jsx(Route,{path:"new",element:jsxRuntimeExports.jsx(CrmSalesProductForm,{})}),jsxRuntimeExports.jsx(Route,{path:"edit/:id",element:jsxRuntimeExports.jsx(CrmSalesProductForm,{})})]}),jsxRuntimeExports.jsx(Route,{path:"deals",element:jsxRuntimeExports.jsx(CrmPlaceholder,{pageName:"Deals"})}),jsxRuntimeExports.jsx(Route,{path:"tasks",element:jsxRuntimeExports.jsx(CrmPlaceholder,{pageName:"Tasks"})}),jsxRuntimeExports.jsx(Route,{path:"operations",element:jsxRuntimeExports.jsx(CrmPlaceholder,{pageName:"Operations"})})]}),jsxRuntimeExports.jsx(Route,{path:"/sales-dashboard",element:jsxRuntimeExports.jsx(SalesLayout,{}),children:jsxRuntimeExports.jsx(Route,{index:!0,element:jsxRuntimeExports.jsx(SalesDashboard,{})})}),jsxRuntimeExports.jsxs(Route,{path:"/sales",element:jsxRuntimeExports.jsx(SalesLayout,{}),children:[jsxRuntimeExports.jsxs(Route,{path:"quotations",children:[jsxRuntimeExports.jsx(Route,{index:!0,element:jsxRuntimeExports.jsx(Quotation,{})}),jsxRuntimeExports.jsx(Route,{path:"new",element:jsxRuntimeExports.jsx(QuotationForm,{})}),jsxRuntimeExports.jsx(Route,{path:"edit/:id",element:jsxRuntimeExports.jsx(QuotationForm,{})}),jsxRuntimeExports.jsx(Route,{path:":id",element:jsxRuntimeExports.jsx(ViewQuotation,{})})]}),jsxRuntimeExports.jsxs(Route,{path:"invoices",children:[jsxRuntimeExports.jsx(Route,{index:!0,element:jsxRuntimeExports.jsx(Invoice,{})}),jsxRuntimeExports.jsx(Route,{path:"new",element:jsxRuntimeExports.jsx(InvoiceForm,{})}),jsxRuntimeExports.jsx(Route,{path:"edit/:id",element:jsxRuntimeExports.jsx(InvoiceForm,{})}),jsxRuntimeExports.jsx(Route,{path:":id",element:jsxRuntimeExports.jsx(InvoiceView,{})})]}),jsxRuntimeExports.jsxs(Route,{path:"rental-quotations",children:[jsxRuntimeExports.jsx(Route,{index:!0,element:jsxRuntimeExports.jsx(RentalQuotation,{})}),jsxRuntimeExports.jsx(Route,{path:"new",element:jsxRuntimeExports.jsx(RentalQuotationForm,{})}),jsxRuntimeExports.jsx(Route,{path:"edit/:id",element:jsxRuntimeExports.jsx(RentalQuotationForm,{})}),jsxRuntimeExports.jsx(Route,{path:":id",element:jsxRuntimeExports.jsx(RentalQuotationView,{})})]}),jsxRuntimeExports.jsxs(Route,{path:"rental-sales-orders",children:[jsxRuntimeExports.jsx(Route,{index:!0,element:jsxRuntimeExports.jsx(RentalSalesOrder,{})}),jsxRuntimeExports.jsx(Route,{path:"new",element:jsxRuntimeExports.jsx(RentalSalesOrderForm,{})}),jsxRuntimeExports.jsx(Route,{path:"edit/:id",element:jsxRuntimeExports.jsx(RentalSalesOrderForm,{})})]}),jsxRuntimeExports.jsxs(Route,{path:"orders",children:[jsxRuntimeExports.jsx(Route,{index:!0,element:jsxRuntimeExports.jsx(Orders,{})}),jsxRuntimeExports.jsx(Route,{path:"new",element:jsxRuntimeExports.jsx(OrderForm,{})}),jsxRuntimeExports.jsx(Route,{path:"edit/:id",element:jsxRuntimeExports.jsx(OrderForm,{})}),jsxRuntimeExports.jsx(Route,{path:":id",element:jsxRuntimeExports.jsx(ViewSales,{})})]}),jsxRuntimeExports.jsxs(Route,{path:"proforma-invoices",children:[jsxRuntimeExports.jsx(Route,{index:!0,element:jsxRuntimeExports.jsx(ProformaInvoice,{})}),jsxRuntimeExports.jsx(Route,{path:"new",element:jsxRuntimeExports.jsx(ProformaInvoiceForm,{})}),jsxRuntimeExports.jsx(Route,{path:"edit/:id",element:jsxRuntimeExports.jsx(ProformaInvoiceForm,{})}),jsxRuntimeExports.jsx(Route,{path:":id",element:jsxRuntimeExports.jsx(ProformaInvoiceView,{})})]}),jsxRuntimeExports.jsx(Route,{path:"settings",element:jsxRuntimeExports.jsx(SalesSetting,{})})]}),jsxRuntimeExports.jsxs(Route,{path:"/account-dashboard",element:jsxRuntimeExports.jsx(Account,{}),children:[jsxRuntimeExports.jsx(Route,{index:!0,element:jsxRuntimeExports.jsx(AccountPlaceholder,{pageName:"Chart Of Accounts"})}),jsxRuntimeExports.jsx(Route,{path:"chart-of-accounts",element:jsxRuntimeExports.jsx(AccountPlaceholder,{pageName:"Chart Of Accounts"})}),jsxRuntimeExports.jsx(Route,{path:"add-entry",element:jsxRuntimeExports.jsx(AccountPlaceholder,{pageName:"Add Entry"})}),jsxRuntimeExports.jsx(Route,{path:"manage-entry",element:jsxRuntimeExports.jsx(AccountPlaceholder,{pageName:"Manage Entry"})}),jsxRuntimeExports.jsx(Route,{path:"incoming-pdc",element:jsxRuntimeExports.jsx(AccountPlaceholder,{pageName:"Manage Incoming PDC"})}),jsxRuntimeExports.jsx(Route,{path:"outgoing-pdc",element:jsxRuntimeExports.jsx(AccountPlaceholder,{pageName:"Manage Outgoing PDC"})}),jsxRuntimeExports.jsx(Route,{path:"bank-reconciliation",element:jsxRuntimeExports.jsx(AccountPlaceholder,{pageName:"Bank Reconciliation"})})]}),jsxRuntimeExports.jsxs(Route,{path:"/production-dashboard",element:jsxRuntimeExports.jsx(Production,{}),children:[jsxRuntimeExports.jsx(Route,{index:!0,element:jsxRuntimeExports.jsx(ProductionPlaceholder,{pageName:"Manage Manufacturing Order"})}),jsxRuntimeExports.jsx(Route,{path:"manage-manufacturing-order",element:jsxRuntimeExports.jsx(ProductionPlaceholder,{pageName:"Manage Manufacturing Order"})}),jsxRuntimeExports.jsx(Route,{path:"view-manufacturing-order",element:jsxRuntimeExports.jsx(ProductionPlaceholder,{pageName:"View Manufacturing Order"})}),jsxRuntimeExports.jsx(Route,{path:"production-schedule",element:jsxRuntimeExports.jsx(ProductionPlaceholder,{pageName:"Production Schedule"})}),jsxRuntimeExports.jsx(Route,{path:"production-operation",element:jsxRuntimeExports.jsx(ProductionPlaceholder,{pageName:"Production Operation"})}),jsxRuntimeExports.jsx(Route,{path:"my-production",element:jsxRuntimeExports.jsx(ProductionPlaceholder,{pageName:"My Production"})}),jsxRuntimeExports.jsx(Route,{path:"material-requisition",element:jsxRuntimeExports.jsx(ProductionPlaceholder,{pageName:"Material Requisition"})}),jsxRuntimeExports.jsx(Route,{path:"work-order-report",element:jsxRuntimeExports.jsx(ProductionPlaceholder,{pageName:"Work Order Report"})})]}),jsxRuntimeExports.jsx(Route,{path:"/purchase-dashboard/*",element:jsxRuntimeExports.jsx(PurchaseModule,{})})]})})})}clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
